"use strict";function cov_7f33e48xt(){var path="/parse-server/lib/Adapters/Auth/httpsRequest.js";var hash="17185a7351118f8e6e985c05a455457bc67f8958";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Adapters/Auth/httpsRequest.js",statementMap:{"0":{start:{line:3,column:14},end:{line:3,column:30}},"1":{start:{line:6,column:2},end:{line:25,column:4}},"2":{start:{line:7,column:15},end:{line:7,column:17}},"3":{start:{line:8,column:4},end:{line:10,column:7}},"4":{start:{line:9,column:6},end:{line:9,column:20}},"5":{start:{line:11,column:4},end:{line:23,column:7}},"6":{start:{line:12,column:6},end:{line:14,column:7}},"7":{start:{line:13,column:8},end:{line:13,column:29}},"8":{start:{line:16,column:6},end:{line:20,column:7}},"9":{start:{line:17,column:8},end:{line:17,column:32}},"10":{start:{line:19,column:8},end:{line:19,column:25}},"11":{start:{line:22,column:6},end:{line:22,column:20}},"12":{start:{line:24,column:4},end:{line:24,column:28}},"13":{start:{line:29,column:2},end:{line:31,column:5}},"14":{start:{line:30,column:4},end:{line:30,column:82}},"15":{start:{line:35,column:2},end:{line:40,column:5}},"16":{start:{line:36,column:16},end:{line:36,column:69}},"17":{start:{line:37,column:4},end:{line:37,column:28}},"18":{start:{line:38,column:4},end:{line:38,column:24}},"19":{start:{line:39,column:4},end:{line:39,column:14}},"20":{start:{line:43,column:0},end:{line:46,column:2}}},fnMap:{"0":{name:"makeCallback",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:47},end:{line:26,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:9},end:{line:6,column:10}},loc:{start:{line:6,column:24},end:{line:25,column:3}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:8,column:19},end:{line:8,column:20}},loc:{start:{line:8,column:28},end:{line:10,column:5}},line:8},"3":{name:"(anonymous_3)",decl:{start:{line:11,column:18},end:{line:11,column:19}},loc:{start:{line:11,column:24},end:{line:23,column:5}},line:11},"4":{name:"get",decl:{start:{line:28,column:9},end:{line:28,column:12}},loc:{start:{line:28,column:38},end:{line:32,column:1}},line:28},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:21},end:{line:29,column:22}},loc:{start:{line:29,column:42},end:{line:31,column:3}},line:29},"6":{name:"request",decl:{start:{line:34,column:9},end:{line:34,column:16}},loc:{start:{line:34,column:36},end:{line:41,column:1}},line:34},"7":{name:"(anonymous_7)",decl:{start:{line:35,column:21},end:{line:35,column:22}},loc:{start:{line:35,column:42},end:{line:40,column:3}},line:35}},branchMap:{"0":{loc:{start:{line:12,column:6},end:{line:14,column:7}},type:"if",locations:[{start:{line:12,column:6},end:{line:14,column:7}},{start:{line:12,column:6},end:{line:14,column:7}}],line:12},"1":{loc:{start:{line:28,column:22},end:{line:28,column:36}},type:"default-arg",locations:[{start:{line:28,column:31},end:{line:28,column:36}}],line:28}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0]},inputSourceMap:{version:3,sources:["../../../src/Adapters/Auth/httpsRequest.js"],names:["https","require","makeCallback","resolve","reject","noJSON","res","data","on","chunk","JSON","parse","e","get","options","Promise","request","postData","req","write","end","module","exports"],mappings:";;AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,SAASC,YAAT,CAAsBC,OAAtB,EAA+BC,MAA/B,EAAuCC,MAAvC,EAA+C;AAC7C,SAAO,UAAUC,GAAV,EAAe;AACpB,QAAIC,IAAI,GAAG,EAAX;AACAD,IAAAA,GAAG,CAACE,EAAJ,CAAO,MAAP,EAAeC,KAAK,IAAI;AACtBF,MAAAA,IAAI,IAAIE,KAAR;AACD,KAFD;AAGAH,IAAAA,GAAG,CAACE,EAAJ,CAAO,KAAP,EAAc,MAAM;AAClB,UAAIH,MAAJ,EAAY;AACV,eAAOF,OAAO,CAACI,IAAD,CAAd;AACD;;AACD,UAAI;AACFA,QAAAA,IAAI,GAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;AACD,OAFD,CAEE,OAAOK,CAAP,EAAU;AACV,eAAOR,MAAM,CAACQ,CAAD,CAAb;AACD;;AACDT,MAAAA,OAAO,CAACI,IAAD,CAAP;AACD,KAVD;AAWAD,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAgBJ,MAAhB;AACD,GAjBD;AAkBD;;AAED,SAASS,GAAT,CAAaC,OAAb,EAAsBT,MAAM,GAAG,KAA/B,EAAsC;AACpC,SAAO,IAAIU,OAAJ,CAAY,CAACZ,OAAD,EAAUC,MAAV,KAAqB;AACtCJ,IAAAA,KAAK,CAACa,GAAN,CAAUC,OAAV,EAAmBZ,YAAY,CAACC,OAAD,EAAUC,MAAV,EAAkBC,MAAlB,CAA/B,EAA0DG,EAA1D,CAA6D,OAA7D,EAAsEJ,MAAtE;AACD,GAFM,CAAP;AAGD;;AAED,SAASY,OAAT,CAAiBF,OAAjB,EAA0BG,QAA1B,EAAoC;AAClC,SAAO,IAAIF,OAAJ,CAAY,CAACZ,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAMc,GAAG,GAAGlB,KAAK,CAACgB,OAAN,CAAcF,OAAd,EAAuBZ,YAAY,CAACC,OAAD,EAAUC,MAAV,CAAnC,CAAZ;AACAc,IAAAA,GAAG,CAACV,EAAJ,CAAO,OAAP,EAAgBJ,MAAhB;AACAc,IAAAA,GAAG,CAACC,KAAJ,CAAUF,QAAV;AACAC,IAAAA,GAAG,CAACE,GAAJ;AACD,GALM,CAAP;AAMD;;AAEDC,MAAM,CAACC,OAAP,GAAiB;AAAET,EAAAA,GAAF;AAAOG,EAAAA;AAAP,CAAjB",sourcesContent:["const https = require('https');\n\nfunction makeCallback(resolve, reject, noJSON) {\n  return function (res) {\n    let data = '';\n    res.on('data', chunk => {\n      data += chunk;\n    });\n    res.on('end', () => {\n      if (noJSON) {\n        return resolve(data);\n      }\n      try {\n        data = JSON.parse(data);\n      } catch (e) {\n        return reject(e);\n      }\n      resolve(data);\n    });\n    res.on('error', reject);\n  };\n}\n\nfunction get(options, noJSON = false) {\n  return new Promise((resolve, reject) => {\n    https.get(options, makeCallback(resolve, reject, noJSON)).on('error', reject);\n  });\n}\n\nfunction request(options, postData) {\n  return new Promise((resolve, reject) => {\n    const req = https.request(options, makeCallback(resolve, reject));\n    req.on('error', reject);\n    req.write(postData);\n    req.end();\n  });\n}\n\nmodule.exports = { get, request };\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"17185a7351118f8e6e985c05a455457bc67f8958"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7f33e48xt=function(){return actualCoverage;};}return actualCoverage;}cov_7f33e48xt();const https=(cov_7f33e48xt().s[0]++,require('https'));function makeCallback(resolve,reject,noJSON){cov_7f33e48xt().f[0]++;cov_7f33e48xt().s[1]++;return function(res){cov_7f33e48xt().f[1]++;let data=(cov_7f33e48xt().s[2]++,'');cov_7f33e48xt().s[3]++;res.on('data',chunk=>{cov_7f33e48xt().f[2]++;cov_7f33e48xt().s[4]++;data+=chunk;});cov_7f33e48xt().s[5]++;res.on('end',()=>{cov_7f33e48xt().f[3]++;cov_7f33e48xt().s[6]++;if(noJSON){cov_7f33e48xt().b[0][0]++;cov_7f33e48xt().s[7]++;return resolve(data);}else{cov_7f33e48xt().b[0][1]++;}cov_7f33e48xt().s[8]++;try{cov_7f33e48xt().s[9]++;data=JSON.parse(data);}catch(e){cov_7f33e48xt().s[10]++;return reject(e);}cov_7f33e48xt().s[11]++;resolve(data);});cov_7f33e48xt().s[12]++;res.on('error',reject);};}function get(options,noJSON=(cov_7f33e48xt().b[1][0]++,false)){cov_7f33e48xt().f[4]++;cov_7f33e48xt().s[13]++;return new Promise((resolve,reject)=>{cov_7f33e48xt().f[5]++;cov_7f33e48xt().s[14]++;https.get(options,makeCallback(resolve,reject,noJSON)).on('error',reject);});}function request(options,postData){cov_7f33e48xt().f[6]++;cov_7f33e48xt().s[15]++;return new Promise((resolve,reject)=>{cov_7f33e48xt().f[7]++;const req=(cov_7f33e48xt().s[16]++,https.request(options,makeCallback(resolve,reject)));cov_7f33e48xt().s[17]++;req.on('error',reject);cov_7f33e48xt().s[18]++;req.write(postData);cov_7f33e48xt().s[19]++;req.end();});}cov_7f33e48xt().s[20]++;module.exports={get,request};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9BdXRoL2h0dHBzUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJodHRwcyIsInJlcXVpcmUiLCJtYWtlQ2FsbGJhY2siLCJyZXNvbHZlIiwicmVqZWN0Iiwibm9KU09OIiwicmVzIiwiZGF0YSIsIm9uIiwiY2h1bmsiLCJKU09OIiwicGFyc2UiLCJlIiwiZ2V0Iiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXF1ZXN0IiwicG9zdERhdGEiLCJyZXEiLCJ3cml0ZSIsImVuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFFQSxTQUFTQyxZQUFULENBQXNCQyxPQUF0QixFQUErQkMsTUFBL0IsRUFBdUNDLE1BQXZDLEVBQStDO0FBQzdDLFNBQU8sVUFBVUMsR0FBVixFQUFlO0FBQ3BCLFFBQUlDLElBQUksR0FBRyxFQUFYO0FBQ0FELElBQUFBLEdBQUcsQ0FBQ0UsRUFBSixDQUFPLE1BQVAsRUFBZUMsS0FBSyxJQUFJO0FBQ3RCRixNQUFBQSxJQUFJLElBQUlFLEtBQVI7QUFDRCxLQUZEO0FBR0FILElBQUFBLEdBQUcsQ0FBQ0UsRUFBSixDQUFPLEtBQVAsRUFBYyxNQUFNO0FBQ2xCLFVBQUlILE1BQUosRUFBWTtBQUNWLGVBQU9GLE9BQU8sQ0FBQ0ksSUFBRCxDQUFkO0FBQ0Q7O0FBQ0QsVUFBSTtBQUNGQSxRQUFBQSxJQUFJLEdBQUdHLElBQUksQ0FBQ0MsS0FBTCxDQUFXSixJQUFYLENBQVA7QUFDRCxPQUZELENBRUUsT0FBT0ssQ0FBUCxFQUFVO0FBQ1YsZUFBT1IsTUFBTSxDQUFDUSxDQUFELENBQWI7QUFDRDs7QUFDRFQsTUFBQUEsT0FBTyxDQUFDSSxJQUFELENBQVA7QUFDRCxLQVZEO0FBV0FELElBQUFBLEdBQUcsQ0FBQ0UsRUFBSixDQUFPLE9BQVAsRUFBZ0JKLE1BQWhCO0FBQ0QsR0FqQkQ7QUFrQkQ7O0FBRUQsU0FBU1MsR0FBVCxDQUFhQyxPQUFiLEVBQXNCVCxNQUFNLEdBQUcsS0FBL0IsRUFBc0M7QUFDcEMsU0FBTyxJQUFJVSxPQUFKLENBQVksQ0FBQ1osT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDSixJQUFBQSxLQUFLLENBQUNhLEdBQU4sQ0FBVUMsT0FBVixFQUFtQlosWUFBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBa0JDLE1BQWxCLENBQS9CLEVBQTBERyxFQUExRCxDQUE2RCxPQUE3RCxFQUFzRUosTUFBdEU7QUFDRCxHQUZNLENBQVA7QUFHRDs7QUFFRCxTQUFTWSxPQUFULENBQWlCRixPQUFqQixFQUEwQkcsUUFBMUIsRUFBb0M7QUFDbEMsU0FBTyxJQUFJRixPQUFKLENBQVksQ0FBQ1osT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3RDLFVBQU1jLEdBQUcsR0FBR2xCLEtBQUssQ0FBQ2dCLE9BQU4sQ0FBY0YsT0FBZCxFQUF1QlosWUFBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsQ0FBbkMsQ0FBWjtBQUNBYyxJQUFBQSxHQUFHLENBQUNWLEVBQUosQ0FBTyxPQUFQLEVBQWdCSixNQUFoQjtBQUNBYyxJQUFBQSxHQUFHLENBQUNDLEtBQUosQ0FBVUYsUUFBVjtBQUNBQyxJQUFBQSxHQUFHLENBQUNFLEdBQUo7QUFDRCxHQUxNLENBQVA7QUFNRDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQUVULEVBQUFBLEdBQUY7QUFBT0csRUFBQUE7QUFBUCxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTtcblxuZnVuY3Rpb24gbWFrZUNhbGxiYWNrKHJlc29sdmUsIHJlamVjdCwgbm9KU09OKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocmVzKSB7XG4gICAgbGV0IGRhdGEgPSAnJztcbiAgICByZXMub24oJ2RhdGEnLCBjaHVuayA9PiB7XG4gICAgICBkYXRhICs9IGNodW5rO1xuICAgIH0pO1xuICAgIHJlcy5vbignZW5kJywgKCkgPT4ge1xuICAgICAgaWYgKG5vSlNPTikge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICB9KTtcbiAgICByZXMub24oJ2Vycm9yJywgcmVqZWN0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0KG9wdGlvbnMsIG5vSlNPTiA9IGZhbHNlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaHR0cHMuZ2V0KG9wdGlvbnMsIG1ha2VDYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIG5vSlNPTikpLm9uKCdlcnJvcicsIHJlamVjdCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMsIHBvc3REYXRhKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVxID0gaHR0cHMucmVxdWVzdChvcHRpb25zLCBtYWtlQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgcmVxLm9uKCdlcnJvcicsIHJlamVjdCk7XG4gICAgcmVxLndyaXRlKHBvc3REYXRhKTtcbiAgICByZXEuZW5kKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0LCByZXF1ZXN0IH07XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9BdXRoL2h0dHBzUmVxdWVzdC5qcyJdLCJuYW1lcyI6WyJodHRwcyIsInJlcXVpcmUiLCJkYXRhIiwicmVzIiwiY2h1bmsiLCJyZXNvbHZlIiwiSlNPTiIsInJlamVjdCIsIm5vSlNPTiIsIm1ha2VDYWxsYmFjayIsInJlcSIsIm1vZHVsZSIsInJlcXVlc3QiXSwibWFwcGluZ3MiOiJ5ekxBWVU7eUZBWlYsS0FBTUEsQ0FBQUEsS0FBSyx5QkFBR0MsT0FBTyxDQUFyQixPQUFxQixDQUFWLENBQVgsQ0FFQSxRQUFBLENBQUEsWUFBQSxDQUFBLE9BQUEsQ0FBQSxNQUFBLENBQUEsTUFBQSxDQUErQywrQ0FDN0MsTUFBTyxVQUFBLEdBQUEsQ0FBZSx3QkFDcEIsR0FBSUMsQ0FBQUEsSUFBSSx5QkFBUixFQUFRLENBQVIsQ0FEb0IsdUJBRXBCQyxHQUFHLENBQUhBLEVBQUFBLENBQUFBLE1BQUFBLENBQWVDLEtBQUssRUFBSSwrQ0FDdEJGLElBQUksRUFBSkEsS0FBQUEsQ0FERkMsQ0FBQUEsRUFGb0IsdUJBS3BCQSxHQUFHLENBQUhBLEVBQUFBLENBQUFBLEtBQUFBLENBQWMsSUFBTSwrQ0FDbEIsR0FBQSxNQUFBLENBQVksa0RBQ1YsTUFBT0UsQ0FBQUEsT0FBTyxDQUFkLElBQWMsQ0FBZCxDQUNELENBRkQsZ0NBRGtCLHVCQUlsQixHQUFJLHdCQUNGSCxJQUFJLENBQUdJLElBQUksQ0FBSkEsS0FBQUEsQ0FBUEosSUFBT0ksQ0FBUEosQ0FERixDQUVFLE1BQUEsQ0FBQSxDQUFVLHlCQUNWLE1BQU9LLENBQUFBLE1BQU0sQ0FBYixDQUFhLENBQWIsQ0FDRCxDQVJpQix3QkFTbEJGLE9BQU8sQ0FBUEEsSUFBTyxDQUFQQSxDQVRGRixDQUFBQSxFQUxvQix3QkFnQnBCQSxHQUFHLENBQUhBLEVBQUFBLENBQUFBLE9BQUFBLENBQUFBLE1BQUFBLEVBaEJGLENBQUEsQ0FrQkQsQ0FFRCxRQUFBLENBQUEsR0FBQSxDQUFBLE9BQUEsQ0FBc0JLLE1BQU0sNEJBQTVCLEtBQTRCLENBQTVCLENBQXNDLGdEQUNwQyxNQUFPLElBQUEsQ0FBQSxPQUFBLENBQVksQ0FBQSxPQUFBLENBQUEsTUFBQSxHQUFxQixnREFDdENSLEtBQUssQ0FBTEEsR0FBQUEsQ0FBQUEsT0FBQUEsQ0FBbUJTLFlBQVksQ0FBQSxPQUFBLENBQUEsTUFBQSxDQUEvQlQsTUFBK0IsQ0FBL0JBLEVBQUFBLEVBQUFBLENBQUFBLE9BQUFBLENBQUFBLE1BQUFBLEVBREYsQ0FBTyxDQUFQLENBR0QsQ0FFRCxRQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxRQUFBLENBQW9DLGdEQUNsQyxNQUFPLElBQUEsQ0FBQSxPQUFBLENBQVksQ0FBQSxPQUFBLENBQUEsTUFBQSxHQUFxQix3QkFDdEMsS0FBTVUsQ0FBQUEsR0FBRywwQkFBR1YsS0FBSyxDQUFMQSxPQUFBQSxDQUFBQSxPQUFBQSxDQUF1QlMsWUFBWSxDQUFBLE9BQUEsQ0FBL0MsTUFBK0MsQ0FBbkNULENBQUgsQ0FBVCxDQURzQyx3QkFFdENVLEdBQUcsQ0FBSEEsRUFBQUEsQ0FBQUEsT0FBQUEsQ0FBQUEsTUFBQUEsRUFGc0Msd0JBR3RDQSxHQUFHLENBQUhBLEtBQUFBLENBQUFBLFFBQUFBLEVBSHNDLHdCQUl0Q0EsR0FBRyxDQUFIQSxHQUFBQSxHQUpGLENBQU8sQ0FBUCxDQU1ELEMsd0JBRURDLE1BQU0sQ0FBTkEsT0FBQUEsQ0FBaUIsQ0FBQSxHQUFBLENBQU9DLE9BQVAsQ0FBakJELEMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG5cbmZ1bmN0aW9uIG1ha2VDYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIG5vSlNPTikge1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcykge1xuICAgIGxldCBkYXRhID0gJyc7XG4gICAgcmVzLm9uKCdkYXRhJywgY2h1bmsgPT4ge1xuICAgICAgZGF0YSArPSBjaHVuaztcbiAgICB9KTtcbiAgICByZXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgIGlmIChub0pTT04pIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZGF0YSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgfSk7XG4gICAgcmVzLm9uKCdlcnJvcicsIHJlamVjdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldChvcHRpb25zLCBub0pTT04gPSBmYWxzZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGh0dHBzLmdldChvcHRpb25zLCBtYWtlQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBub0pTT04pKS5vbignZXJyb3InLCByZWplY3QpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVxdWVzdChvcHRpb25zLCBwb3N0RGF0YSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlcSA9IGh0dHBzLnJlcXVlc3Qob3B0aW9ucywgbWFrZUNhbGxiYWNrKHJlc29sdmUsIHJlamVjdCkpO1xuICAgIHJlcS5vbignZXJyb3InLCByZWplY3QpO1xuICAgIHJlcS53cml0ZShwb3N0RGF0YSk7XG4gICAgcmVxLmVuZCgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGdldCwgcmVxdWVzdCB9O1xuIl19