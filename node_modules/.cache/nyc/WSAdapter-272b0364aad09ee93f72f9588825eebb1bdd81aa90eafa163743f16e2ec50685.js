"use strict";function cov_267fn3y3aw(){var path="/parse-server/lib/Adapters/WebSocketServer/WSAdapter.js";var hash="2643e78293222bd15594f7498bf16a23fc2f56a1";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Adapters/WebSocketServer/WSAdapter.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:45}},"2":{start:{line:8,column:18},end:{line:8,column:41}},"3":{start:{line:11,column:24},end:{line:11,column:44}},"4":{start:{line:19,column:4},end:{line:19,column:19}},"5":{start:{line:20,column:4},end:{line:20,column:27}},"6":{start:{line:30,column:16},end:{line:32,column:6}},"7":{start:{line:33,column:4},end:{line:33,column:39}},"8":{start:{line:34,column:4},end:{line:34,column:44}},"9":{start:{line:35,column:4},end:{line:35,column:34}},"10":{start:{line:42,column:0},end:{line:42,column:30}},"11":{start:{line:43,column:15},end:{line:43,column:24}},"12":{start:{line:44,column:0},end:{line:44,column:27}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:23},end:{line:21,column:3}},line:18},"1":{name:"(anonymous_1)",decl:{start:{line:23,column:2},end:{line:23,column:3}},loc:{start:{line:23,column:13},end:{line:23,column:15}},line:23},"2":{name:"(anonymous_2)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:19},end:{line:25,column:21}},line:25},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:17},end:{line:27,column:19}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:10},end:{line:36,column:3}},line:29},"5":{name:"(anonymous_5)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:10},end:{line:38,column:12}},line:38}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{},inputSourceMap:{version:3,sources:["../../../src/Adapters/WebSocketServer/WSAdapter.js"],names:["WebSocketServer","require","Server","WSAdapter","WSSAdapter","constructor","options","onListen","onConnection","ws","onError","error","start","wss","server","on","close"],mappings:";;;;;;;AACA;;AADA;AAEA,MAAMA,eAAe,GAAGC,OAAO,CAAC,IAAD,CAAP,CAAcC,MAAtC;AAEA;AACA;AACA;;;AACO,MAAMC,SAAN,SAAwBC,sBAAxB,CAAmC;AACxCC,EAAAA,WAAW,CAACC,OAAD,EAAe;AACxB,UAAMA,OAAN;AACA,SAAKA,OAAL,GAAeA,OAAf;AACD;;AAEDC,EAAAA,QAAQ,GAAG,CAAE;;AACbC,EAAAA,YAAY,CAACC,EAAD,EAAK,CAAE;;AACnBC,EAAAA,OAAO,CAACC,KAAD,EAAQ,CAAE;;AACjBC,EAAAA,KAAK,GAAG;AACN,UAAMC,GAAG,GAAG,IAAIb,eAAJ,CAAoB;AAAEc,MAAAA,MAAM,EAAE,KAAKR,OAAL,CAAaQ;AAAvB,KAApB,CAAZ;AACAD,IAAAA,GAAG,CAACE,EAAJ,CAAO,WAAP,EAAoB,KAAKR,QAAzB;AACAM,IAAAA,GAAG,CAACE,EAAJ,CAAO,YAAP,EAAqB,KAAKP,YAA1B;AACAK,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAgB,KAAKL,OAArB;AACD;;AACDM,EAAAA,KAAK,GAAG,CAAE;;AAf8B;;;eAkB3Bb,S",sourcesContent:["/*eslint no-unused-vars: \"off\"*/\nimport { WSSAdapter } from './WSSAdapter';\nconst WebSocketServer = require('ws').Server;\n\n/**\n * Wrapper for ws node module\n */\nexport class WSAdapter extends WSSAdapter {\n  constructor(options: any) {\n    super(options);\n    this.options = options;\n  }\n\n  onListen() {}\n  onConnection(ws) {}\n  onError(error) {}\n  start() {\n    const wss = new WebSocketServer({ server: this.options.server });\n    wss.on('listening', this.onListen);\n    wss.on('connection', this.onConnection);\n    wss.on('error', this.onError);\n  }\n  close() {}\n}\n\nexport default WSAdapter;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2643e78293222bd15594f7498bf16a23fc2f56a1"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_267fn3y3aw=function(){return actualCoverage;};}return actualCoverage;}cov_267fn3y3aw();cov_267fn3y3aw().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_267fn3y3aw().s[1]++;exports.default=exports.WSAdapter=void 0;var _WSSAdapter=(cov_267fn3y3aw().s[2]++,require("./WSSAdapter"));/*eslint no-unused-vars: "off"*/const WebSocketServer=(cov_267fn3y3aw().s[3]++,require('ws').Server);/**
 * Wrapper for ws node module
 */class WSAdapter extends(_WSSAdapter.WSSAdapter){constructor(options){cov_267fn3y3aw().f[0]++;cov_267fn3y3aw().s[4]++;super(options);cov_267fn3y3aw().s[5]++;this.options=options;}onListen(){cov_267fn3y3aw().f[1]++;}onConnection(ws){cov_267fn3y3aw().f[2]++;}onError(error){cov_267fn3y3aw().f[3]++;}start(){cov_267fn3y3aw().f[4]++;const wss=(cov_267fn3y3aw().s[6]++,new WebSocketServer({server:this.options.server}));cov_267fn3y3aw().s[7]++;wss.on('listening',this.onListen);cov_267fn3y3aw().s[8]++;wss.on('connection',this.onConnection);cov_267fn3y3aw().s[9]++;wss.on('error',this.onError);}close(){cov_267fn3y3aw().f[5]++;}}cov_267fn3y3aw().s[10]++;exports.WSAdapter=WSAdapter;var _default=(cov_267fn3y3aw().s[11]++,WSAdapter);cov_267fn3y3aw().s[12]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9XZWJTb2NrZXRTZXJ2ZXIvV1NBZGFwdGVyLmpzIl0sIm5hbWVzIjpbIldlYlNvY2tldFNlcnZlciIsInJlcXVpcmUiLCJTZXJ2ZXIiLCJXU0FkYXB0ZXIiLCJXU1NBZGFwdGVyIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwib25MaXN0ZW4iLCJvbkNvbm5lY3Rpb24iLCJ3cyIsIm9uRXJyb3IiLCJlcnJvciIsInN0YXJ0Iiwid3NzIiwic2VydmVyIiwib24iLCJjbG9zZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQURBO0FBRUEsTUFBTUEsZUFBZSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFQLENBQWNDLE1BQXRDO0FBRUE7QUFDQTtBQUNBOzs7QUFDTyxNQUFNQyxTQUFOLFNBQXdCQyxzQkFBeEIsQ0FBbUM7QUFDeENDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFlO0FBQ3hCLFVBQU1BLE9BQU47QUFDQSxTQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDRDs7QUFFREMsRUFBQUEsUUFBUSxHQUFHLENBQUU7O0FBQ2JDLEVBQUFBLFlBQVksQ0FBQ0MsRUFBRCxFQUFLLENBQUU7O0FBQ25CQyxFQUFBQSxPQUFPLENBQUNDLEtBQUQsRUFBUSxDQUFFOztBQUNqQkMsRUFBQUEsS0FBSyxHQUFHO0FBQ04sVUFBTUMsR0FBRyxHQUFHLElBQUliLGVBQUosQ0FBb0I7QUFBRWMsTUFBQUEsTUFBTSxFQUFFLEtBQUtSLE9BQUwsQ0FBYVE7QUFBdkIsS0FBcEIsQ0FBWjtBQUNBRCxJQUFBQSxHQUFHLENBQUNFLEVBQUosQ0FBTyxXQUFQLEVBQW9CLEtBQUtSLFFBQXpCO0FBQ0FNLElBQUFBLEdBQUcsQ0FBQ0UsRUFBSixDQUFPLFlBQVAsRUFBcUIsS0FBS1AsWUFBMUI7QUFDQUssSUFBQUEsR0FBRyxDQUFDRSxFQUFKLENBQU8sT0FBUCxFQUFnQixLQUFLTCxPQUFyQjtBQUNEOztBQUNETSxFQUFBQSxLQUFLLEdBQUcsQ0FBRTs7QUFmOEI7OztlQWtCM0JiLFMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiovXG5pbXBvcnQgeyBXU1NBZGFwdGVyIH0gZnJvbSAnLi9XU1NBZGFwdGVyJztcbmNvbnN0IFdlYlNvY2tldFNlcnZlciA9IHJlcXVpcmUoJ3dzJykuU2VydmVyO1xuXG4vKipcbiAqIFdyYXBwZXIgZm9yIHdzIG5vZGUgbW9kdWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBXU0FkYXB0ZXIgZXh0ZW5kcyBXU1NBZGFwdGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogYW55KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIG9uTGlzdGVuKCkge31cbiAgb25Db25uZWN0aW9uKHdzKSB7fVxuICBvbkVycm9yKGVycm9yKSB7fVxuICBzdGFydCgpIHtcbiAgICBjb25zdCB3c3MgPSBuZXcgV2ViU29ja2V0U2VydmVyKHsgc2VydmVyOiB0aGlzLm9wdGlvbnMuc2VydmVyIH0pO1xuICAgIHdzcy5vbignbGlzdGVuaW5nJywgdGhpcy5vbkxpc3Rlbik7XG4gICAgd3NzLm9uKCdjb25uZWN0aW9uJywgdGhpcy5vbkNvbm5lY3Rpb24pO1xuICAgIHdzcy5vbignZXJyb3InLCB0aGlzLm9uRXJyb3IpO1xuICB9XG4gIGNsb3NlKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgV1NBZGFwdGVyO1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9XZWJTb2NrZXRTZXJ2ZXIvV1NBZGFwdGVyLmpzIl0sIm5hbWVzIjpbIldlYlNvY2tldFNlcnZlciIsInJlcXVpcmUiLCJXU1NBZGFwdGVyIiwiY29uc3RydWN0b3IiLCJvbkxpc3RlbiIsIm9uQ29ubmVjdGlvbiIsIm9uRXJyb3IiLCJzdGFydCIsIndzcyIsInNlcnZlciIsImNsb3NlIiwiV1NBZGFwdGVyIl0sIm1hcHBpbmdzIjoiOzZPQUNBLEdBQUEsQ0FBQSxXQUFBLDBCQUFBLE9BQUEsQ0FBQSxjQUFBLENBQUEsQ0FBQSxDQURBLGdDQUVBLEtBQU1BLENBQUFBLGVBQWUsMEJBQUdDLE9BQU8sQ0FBUEEsSUFBTyxDQUFQQSxDQUF4QixNQUFxQixDQUFyQixDQUVBO0FBQ0E7QUFDQSxHQUNPLEtBQUEsQ0FBQSxTQUFBLFNBQXdCQyxXQUFBQSxDQUF4QixVQUFBLENBQW1DLENBQ3hDQyxXQUFXLENBQUEsT0FBQSxDQUFlLGlEQUN4QixNQUFBLE9BQUEsRUFEd0Isd0JBRXhCLEtBQUEsT0FBQSxDQUFBLE9BQUEsQ0FDRCxDQUVEQyxRQUFRLEVBQUcseUJBQUUsQ0FDYkMsWUFBWSxDQUFBLEVBQUEsQ0FBSyx5QkFBRSxDQUNuQkMsT0FBTyxDQUFBLEtBQUEsQ0FBUSx5QkFBRSxDQUNqQkMsS0FBSyxFQUFHLHlCQUNOLEtBQU1DLENBQUFBLEdBQUcsMEJBQUcsR0FBQSxDQUFBLGVBQUEsQ0FBb0IsQ0FBRUMsTUFBTSxDQUFFLEtBQUEsT0FBQSxDQUFhQSxNQUF2QixDQUFwQixDQUFILENBQVQsQ0FETSx3QkFFTkQsR0FBRyxDQUFIQSxFQUFBQSxDQUFBQSxXQUFBQSxDQUFvQixLQUFwQkEsUUFBQUEsRUFGTSx3QkFHTkEsR0FBRyxDQUFIQSxFQUFBQSxDQUFBQSxZQUFBQSxDQUFxQixLQUFyQkEsWUFBQUEsRUFITSx3QkFJTkEsR0FBRyxDQUFIQSxFQUFBQSxDQUFBQSxPQUFBQSxDQUFnQixLQUFoQkEsT0FBQUEsRUFDRCxDQUNERSxLQUFLLEVBQUcseUJBQUUsQ0FmOEIsQyw0RkFrQjNCQyxTIiwic291cmNlc0NvbnRlbnQiOlsiLyplc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIqL1xuaW1wb3J0IHsgV1NTQWRhcHRlciB9IGZyb20gJy4vV1NTQWRhcHRlcic7XG5jb25zdCBXZWJTb2NrZXRTZXJ2ZXIgPSByZXF1aXJlKCd3cycpLlNlcnZlcjtcblxuLyoqXG4gKiBXcmFwcGVyIGZvciB3cyBub2RlIG1vZHVsZVxuICovXG5leHBvcnQgY2xhc3MgV1NBZGFwdGVyIGV4dGVuZHMgV1NTQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IGFueSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICBvbkxpc3RlbigpIHt9XG4gIG9uQ29ubmVjdGlvbih3cykge31cbiAgb25FcnJvcihlcnJvcikge31cbiAgc3RhcnQoKSB7XG4gICAgY29uc3Qgd3NzID0gbmV3IFdlYlNvY2tldFNlcnZlcih7IHNlcnZlcjogdGhpcy5vcHRpb25zLnNlcnZlciB9KTtcbiAgICB3c3Mub24oJ2xpc3RlbmluZycsIHRoaXMub25MaXN0ZW4pO1xuICAgIHdzcy5vbignY29ubmVjdGlvbicsIHRoaXMub25Db25uZWN0aW9uKTtcbiAgICB3c3Mub24oJ2Vycm9yJywgdGhpcy5vbkVycm9yKTtcbiAgfVxuICBjbG9zZSgpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdTQWRhcHRlcjtcbiJdfQ==