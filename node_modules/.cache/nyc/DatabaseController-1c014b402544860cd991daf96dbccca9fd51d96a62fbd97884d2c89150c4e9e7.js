"use strict";function cov_cxckea6v3(){var path="/parse-server/lib/Controllers/DatabaseController.js";var hash="1f28342019b52bc8105cf41fc4d046e2385205e4";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Controllers/DatabaseController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:3,column:29}},"1":{start:{line:5,column:12},end:{line:5,column:33}},"2":{start:{line:7,column:14},end:{line:7,column:55}},"3":{start:{line:9,column:17},end:{line:9,column:61}},"4":{start:{line:11,column:16},end:{line:11,column:59}},"5":{start:{line:13,column:14},end:{line:13,column:58}},"6":{start:{line:15,column:23},end:{line:15,column:77}},"7":{start:{line:17,column:22},end:{line:17,column:67}},"8":{start:{line:19,column:27},end:{line:19,column:107}},"9":{start:{line:21,column:19},end:{line:21,column:83}},"10":{start:{line:23,column:49},end:{line:23,column:96}},"11":{start:{line:23,column:84},end:{line:23,column:96}},"12":{start:{line:23,column:121},end:{line:23,column:134}},"13":{start:{line:23,column:159},end:{line:23,column:172}},"14":{start:{line:23,column:174},end:{line:23,column:309}},"15":{start:{line:23,column:234},end:{line:23,column:292}},"16":{start:{line:25,column:53},end:{line:25,column:111}},"17":{start:{line:25,column:98},end:{line:25,column:109}},"18":{start:{line:25,column:112},end:{line:25,column:214}},"19":{start:{line:25,column:188},end:{line:25,column:212}},"20":{start:{line:25,column:227},end:{line:25,column:264}},"21":{start:{line:25,column:266},end:{line:25,column:321}},"22":{start:{line:25,column:297},end:{line:25,column:319}},"23":{start:{line:25,column:335},end:{line:25,column:337}},"24":{start:{line:25,column:367},end:{line:25,column:423}},"25":{start:{line:25,column:425},end:{line:25,column:726}},"26":{start:{line:25,column:448},end:{line:25,column:724}},"27":{start:{line:25,column:534},end:{line:25,column:606}},"28":{start:{line:25,column:608},end:{line:25,column:722}},"29":{start:{line:25,column:646},end:{line:25,column:687}},"30":{start:{line:25,column:697},end:{line:25,column:720}},"31":{start:{line:25,column:727},end:{line:25,column:748}},"32":{start:{line:25,column:749},end:{line:25,column:787}},"33":{start:{line:25,column:762},end:{line:25,column:785}},"34":{start:{line:25,column:788},end:{line:25,column:802}},"35":{start:{line:27,column:39},end:{line:27,column:93}},"36":{start:{line:29,column:54},end:{line:29,column:73}},"37":{start:{line:29,column:75},end:{line:29,column:330}},"38":{start:{line:29,column:125},end:{line:29,column:161}},"39":{start:{line:29,column:163},end:{line:29,column:296}},"40":{start:{line:29,column:185},end:{line:29,column:294}},"41":{start:{line:29,column:227},end:{line:29,column:290}},"42":{start:{line:29,column:297},end:{line:29,column:328}},"43":{start:{line:29,column:331},end:{line:29,column:343}},"44":{start:{line:31,column:33},end:{line:31,column:517}},"45":{start:{line:31,column:46},end:{line:31,column:47}},"46":{start:{line:31,column:91},end:{line:31,column:131}},"47":{start:{line:31,column:133},end:{line:31,column:515}},"48":{start:{line:31,column:146},end:{line:31,column:247}},"49":{start:{line:31,column:201},end:{line:31,column:243}},"50":{start:{line:31,column:255},end:{line:31,column:515}},"51":{start:{line:31,column:295},end:{line:31,column:369}},"52":{start:{line:31,column:379},end:{line:31,column:513}},"53":{start:{line:31,column:428},end:{line:31,column:509}},"54":{start:{line:31,column:518},end:{line:31,column:532}},"55":{start:{line:33,column:44},end:{line:33,column:195}},"56":{start:{line:33,column:62},end:{line:33,column:166}},"57":{start:{line:33,column:176},end:{line:33,column:193}},"58":{start:{line:33,column:196},end:{line:33,column:207}},"59":{start:{line:35,column:54},end:{line:35,column:84}},"60":{start:{line:35,column:74},end:{line:35,column:84}},"61":{start:{line:35,column:98},end:{line:35,column:145}},"62":{start:{line:35,column:159},end:{line:35,column:475}},"63":{start:{line:35,column:218},end:{line:35,column:254}},"64":{start:{line:35,column:256},end:{line:35,column:473}},"65":{start:{line:35,column:304},end:{line:35,column:330}},"66":{start:{line:35,column:331},end:{line:35,column:372}},"67":{start:{line:35,column:363},end:{line:35,column:372}},"68":{start:{line:35,column:373},end:{line:35,column:444}},"69":{start:{line:35,column:435},end:{line:35,column:444}},"70":{start:{line:35,column:445},end:{line:35,column:471}},"71":{start:{line:35,column:476},end:{line:35,column:490}},"72":{start:{line:37,column:59},end:{line:37,column:89}},"73":{start:{line:37,column:79},end:{line:37,column:89}},"74":{start:{line:37,column:103},end:{line:37,column:105}},"75":{start:{line:37,column:124},end:{line:37,column:143}},"76":{start:{line:37,column:157},end:{line:37,column:290}},"77":{start:{line:37,column:199},end:{line:37,column:219}},"78":{start:{line:37,column:220},end:{line:37,column:261}},"79":{start:{line:37,column:252},end:{line:37,column:261}},"80":{start:{line:37,column:262},end:{line:37,column:288}},"81":{start:{line:37,column:291},end:{line:37,column:305}},"82":{start:{line:40,column:19},end:{line:40,column:51}},"83":{start:{line:43,column:2},end:{line:45,column:4}},"84":{start:{line:46,column:2},end:{line:46,column:18}},"85":{start:{line:50,column:19},end:{line:50,column:51}},"86":{start:{line:53,column:2},end:{line:55,column:4}},"87":{start:{line:56,column:2},end:{line:56,column:18}},"88":{start:{line:60,column:27},end:{line:84,column:1}},"89":{start:{line:63,column:6},end:{line:63,column:10}},"90":{start:{line:64,column:15},end:{line:64,column:54}},"91":{start:{line:66,column:2},end:{line:68,column:3}},"92":{start:{line:67,column:4},end:{line:67,column:18}},"93":{start:{line:70,column:2},end:{line:70,column:21}},"94":{start:{line:71,column:2},end:{line:71,column:21}},"95":{start:{line:73,column:2},end:{line:81,column:3}},"96":{start:{line:74,column:4},end:{line:76,column:5}},"97":{start:{line:75,column:6},end:{line:75,column:32}},"98":{start:{line:78,column:4},end:{line:80,column:5}},"99":{start:{line:79,column:6},end:{line:79,column:32}},"100":{start:{line:83,column:2},end:{line:83,column:16}},"101":{start:{line:86,column:25},end:{line:86,column:200}},"102":{start:{line:88,column:26},end:{line:90,column:1}},"103":{start:{line:89,column:2},end:{line:89,column:44}},"104":{start:{line:92,column:22},end:{line:134,column:1}},"105":{start:{line:93,column:2},end:{line:95,column:3}},"106":{start:{line:94,column:4},end:{line:94,column:89}},"107":{start:{line:97,column:2},end:{line:103,column:3}},"108":{start:{line:98,column:4},end:{line:102,column:5}},"109":{start:{line:99,column:6},end:{line:99,column:39}},"110":{start:{line:101,column:6},end:{line:101,column:107}},"111":{start:{line:105,column:2},end:{line:111,column:3}},"112":{start:{line:106,column:4},end:{line:110,column:5}},"113":{start:{line:107,column:6},end:{line:107,column:40}},"114":{start:{line:109,column:6},end:{line:109,column:108}},"115":{start:{line:113,column:2},end:{line:119,column:3}},"116":{start:{line:114,column:4},end:{line:118,column:5}},"117":{start:{line:115,column:6},end:{line:115,column:40}},"118":{start:{line:117,column:6},end:{line:117,column:122}},"119":{start:{line:121,column:2},end:{line:133,column:5}},"120":{start:{line:122,column:4},end:{line:128,column:5}},"121":{start:{line:123,column:6},end:{line:127,column:7}},"122":{start:{line:124,column:8},end:{line:126,column:9}},"123":{start:{line:125,column:10},end:{line:125,column:127}},"124":{start:{line:130,column:4},end:{line:132,column:5}},"125":{start:{line:131,column:6},end:{line:131,column:98}},"126":{start:{line:137,column:28},end:{line:235,column:1}},"127":{start:{line:138,column:15},end:{line:138,column:19}},"128":{start:{line:139,column:2},end:{line:139,column:47}},"129":{start:{line:139,column:25},end:{line:139,column:47}},"130":{start:{line:141,column:16},end:{line:141,column:58}},"131":{start:{line:143,column:2},end:{line:194,column:3}},"132":{start:{line:144,column:28},end:{line:144,column:67}},"133":{start:{line:146,column:4},end:{line:193,column:5}},"134":{start:{line:148,column:41},end:{line:153,column:8}},"135":{start:{line:148,column:90},end:{line:148,column:118}},"136":{start:{line:149,column:8},end:{line:152,column:10}},"137":{start:{line:154,column:33},end:{line:154,column:35}},"138":{start:{line:155,column:36},end:{line:155,column:41}},"139":{start:{line:157,column:6},end:{line:173,column:9}},"140":{start:{line:158,column:38},end:{line:158,column:43}},"141":{start:{line:159,column:35},end:{line:159,column:58}},"142":{start:{line:161,column:8},end:{line:167,column:9}},"143":{start:{line:162,column:10},end:{line:166,column:11}},"144":{start:{line:163,column:12},end:{line:163,column:113}},"145":{start:{line:163,column:70},end:{line:163,column:111}},"146":{start:{line:165,column:12},end:{line:165,column:108}},"147":{start:{line:169,column:8},end:{line:172,column:9}},"148":{start:{line:170,column:10},end:{line:170,column:41}},"149":{start:{line:171,column:10},end:{line:171,column:53}},"150":{start:{line:177,column:6},end:{line:179,column:7}},"151":{start:{line:178,column:8},end:{line:178,column:49}},"152":{start:{line:182,column:6},end:{line:192,column:9}},"153":{start:{line:183,column:8},end:{line:191,column:9}},"154":{start:{line:186,column:10},end:{line:190,column:11}},"155":{start:{line:187,column:12},end:{line:187,column:37}},"156":{start:{line:189,column:12},end:{line:189,column:78}},"157":{start:{line:189,column:58},end:{line:189,column:76}},"158":{start:{line:196,column:22},end:{line:196,column:43}},"159":{start:{line:200,column:2},end:{line:205,column:3}},"160":{start:{line:201,column:4},end:{line:201,column:70}},"161":{start:{line:201,column:52},end:{line:201,column:68}},"162":{start:{line:204,column:4},end:{line:204,column:135}},"163":{start:{line:204,column:117},end:{line:204,column:133}},"164":{start:{line:207,column:2},end:{line:209,column:3}},"165":{start:{line:208,column:4},end:{line:208,column:18}},"166":{start:{line:211,column:2},end:{line:211,column:44}},"167":{start:{line:212,column:2},end:{line:212,column:33}},"168":{start:{line:213,column:2},end:{line:213,column:29}},"169":{start:{line:215,column:2},end:{line:217,column:3}},"170":{start:{line:216,column:4},end:{line:216,column:18}},"171":{start:{line:219,column:2},end:{line:219,column:36}},"172":{start:{line:220,column:2},end:{line:220,column:34}},"173":{start:{line:221,column:2},end:{line:221,column:45}},"174":{start:{line:222,column:2},end:{line:222,column:27}},"175":{start:{line:223,column:2},end:{line:223,column:47}},"176":{start:{line:224,column:2},end:{line:224,column:36}},"177":{start:{line:225,column:2},end:{line:225,column:44}},"178":{start:{line:226,column:2},end:{line:226,column:37}},"179":{start:{line:227,column:2},end:{line:227,column:34}},"180":{start:{line:229,column:2},end:{line:231,column:3}},"181":{start:{line:230,column:4},end:{line:230,column:18}},"182":{start:{line:233,column:2},end:{line:233,column:25}},"183":{start:{line:234,column:2},end:{line:234,column:16}},"184":{start:{line:245,column:29},end:{line:245,column:258}},"185":{start:{line:247,column:27},end:{line:249,column:1}},"186":{start:{line:248,column:2},end:{line:248,column:48}},"187":{start:{line:252,column:2},end:{line:255,column:3}},"188":{start:{line:253,column:4},end:{line:253,column:29}},"189":{start:{line:254,column:4},end:{line:254,column:18}},"190":{start:{line:257,column:16},end:{line:257,column:49}},"191":{start:{line:258,column:2},end:{line:258,column:29}},"192":{start:{line:259,column:15},end:{line:259,column:29}},"193":{start:{line:260,column:19},end:{line:260,column:26}},"194":{start:{line:261,column:19},end:{line:261,column:42}},"195":{start:{line:262,column:2},end:{line:262,column:94}},"196":{start:{line:263,column:2},end:{line:263,column:21}},"197":{start:{line:264,column:2},end:{line:264,column:16}},"198":{start:{line:268,column:19},end:{line:268,column:21}},"199":{start:{line:270,column:2},end:{line:272,column:3}},"200":{start:{line:271,column:4},end:{line:271,column:37}},"201":{start:{line:274,column:2},end:{line:282,column:5}},"202":{start:{line:275,column:22},end:{line:275,column:41}},"203":{start:{line:277,column:4},end:{line:281,column:5}},"204":{start:{line:280,column:6},end:{line:280,column:51}},"205":{start:{line:283,column:2},end:{line:283,column:35}},"206":{start:{line:287,column:2},end:{line:287,column:37}},"207":{start:{line:290,column:40},end:{line:335,column:1}},"208":{start:{line:291,column:2},end:{line:334,column:3}},"209":{start:{line:292,column:4},end:{line:333,column:5}},"210":{start:{line:293,column:6},end:{line:332,column:7}},"211":{start:{line:295,column:10},end:{line:297,column:11}},"212":{start:{line:296,column:12},end:{line:296,column:107}},"213":{start:{line:299,column:10},end:{line:299,column:43}},"214":{start:{line:300,column:10},end:{line:300,column:16}},"215":{start:{line:303,column:10},end:{line:305,column:11}},"216":{start:{line:304,column:12},end:{line:304,column:107}},"217":{start:{line:307,column:10},end:{line:307,column:44}},"218":{start:{line:308,column:10},end:{line:308,column:16}},"219":{start:{line:311,column:10},end:{line:313,column:11}},"220":{start:{line:312,column:12},end:{line:312,column:107}},"221":{start:{line:315,column:10},end:{line:315,column:44}},"222":{start:{line:316,column:10},end:{line:316,column:16}},"223":{start:{line:319,column:10},end:{line:321,column:11}},"224":{start:{line:320,column:12},end:{line:320,column:107}},"225":{start:{line:323,column:10},end:{line:323,column:27}},"226":{start:{line:324,column:10},end:{line:324,column:16}},"227":{start:{line:327,column:10},end:{line:327,column:29}},"228":{start:{line:328,column:10},end:{line:328,column:16}},"229":{start:{line:331,column:10},end:{line:331,column:135}},"230":{start:{line:337,column:26},end:{line:356,column:1}},"231":{start:{line:338,column:2},end:{line:355,column:3}},"232":{start:{line:339,column:4},end:{line:353,column:7}},"233":{start:{line:340,column:27},end:{line:340,column:52}},"234":{start:{line:341,column:24},end:{line:341,column:48}},"235":{start:{line:343,column:6},end:{line:352,column:7}},"236":{start:{line:344,column:8},end:{line:346,column:10}},"237":{start:{line:348,column:8},end:{line:348,column:41}},"238":{start:{line:349,column:8},end:{line:351,column:10}},"239":{start:{line:354,column:4},end:{line:354,column:27}},"240":{start:{line:359,column:29},end:{line:391,column:1}},"241":{start:{line:363,column:6},end:{line:363,column:11}},"242":{start:{line:364,column:15},end:{line:364,column:68}},"243":{start:{line:366,column:2},end:{line:388,column:3}},"244":{start:{line:367,column:4},end:{line:367,column:20}},"245":{start:{line:369,column:4},end:{line:377,column:7}},"246":{start:{line:370,column:6},end:{line:376,column:7}},"247":{start:{line:371,column:8},end:{line:373,column:10}},"248":{start:{line:375,column:8},end:{line:375,column:41}},"249":{start:{line:379,column:4},end:{line:387,column:7}},"250":{start:{line:380,column:6},end:{line:386,column:7}},"251":{start:{line:381,column:8},end:{line:383,column:10}},"252":{start:{line:385,column:8},end:{line:385,column:42}},"253":{start:{line:390,column:2},end:{line:390,column:16}},"254":{start:{line:400,column:25},end:{line:402,column:1}},"255":{start:{line:401,column:2},end:{line:401,column:33}},"256":{start:{line:404,column:23},end:{line:413,column:1}},"257":{start:{line:417,column:4},end:{line:417,column:27}},"258":{start:{line:421,column:4},end:{line:421,column:30}},"259":{start:{line:422,column:4},end:{line:422,column:38}},"260":{start:{line:426,column:4},end:{line:426,column:47}},"261":{start:{line:430,column:4},end:{line:430,column:169}},"262":{start:{line:430,column:54},end:{line:430,column:94}},"263":{start:{line:430,column:111},end:{line:430,column:167}},"264":{start:{line:434,column:4},end:{line:436,column:5}},"265":{start:{line:435,column:6},end:{line:435,column:124}},"266":{start:{line:438,column:4},end:{line:438,column:29}},"267":{start:{line:445,column:4},end:{line:447,column:5}},"268":{start:{line:446,column:6},end:{line:446,column:32}},"269":{start:{line:449,column:4},end:{line:449,column:70}},"270":{start:{line:450,column:4},end:{line:450,column:94}},"271":{start:{line:450,column:34},end:{line:450,column:59}},"272":{start:{line:450,column:67},end:{line:450,column:92}},"273":{start:{line:451,column:4},end:{line:451,column:36}},"274":{start:{line:457,column:4},end:{line:457,column:91}},"275":{start:{line:464,column:4},end:{line:472,column:7}},"276":{start:{line:465,column:14},end:{line:465,column:52}},"277":{start:{line:467,column:6},end:{line:469,column:7}},"278":{start:{line:468,column:8},end:{line:468,column:29}},"279":{start:{line:471,column:6},end:{line:471,column:23}},"280":{start:{line:481,column:16},end:{line:481,column:30}},"281":{start:{line:482,column:21},end:{line:482,column:38}},"282":{start:{line:483,column:19},end:{line:483,column:28}},"283":{start:{line:484,column:4},end:{line:494,column:7}},"284":{start:{line:485,column:6},end:{line:485,column:17}},"285":{start:{line:487,column:6},end:{line:489,column:7}},"286":{start:{line:488,column:8},end:{line:488,column:33}},"287":{start:{line:491,column:6},end:{line:491,column:79}},"288":{start:{line:493,column:6},end:{line:493,column:61}},"289":{start:{line:503,column:26},end:{line:503,column:31}},"290":{start:{line:504,column:27},end:{line:504,column:33}},"291":{start:{line:506,column:4},end:{line:506,column:44}},"292":{start:{line:507,column:26},end:{line:507,column:28}},"293":{start:{line:508,column:19},end:{line:508,column:36}},"294":{start:{line:509,column:19},end:{line:509,column:28}},"295":{start:{line:510,column:4},end:{line:602,column:7}},"296":{start:{line:511,column:6},end:{line:601,column:9}},"297":{start:{line:512,column:8},end:{line:512,column:97}},"298":{start:{line:514,column:8},end:{line:522,column:9}},"299":{start:{line:515,column:10},end:{line:515,column:101}},"300":{start:{line:517,column:10},end:{line:521,column:11}},"301":{start:{line:518,column:12},end:{line:520,column:14}},"302":{start:{line:524,column:8},end:{line:526,column:9}},"303":{start:{line:525,column:10},end:{line:525,column:35}},"304":{start:{line:528,column:8},end:{line:530,column:9}},"305":{start:{line:529,column:10},end:{line:529,column:42}},"306":{start:{line:532,column:8},end:{line:532,column:29}},"307":{start:{line:533,column:8},end:{line:582,column:11}},"308":{start:{line:536,column:10},end:{line:540,column:11}},"309":{start:{line:537,column:12},end:{line:539,column:14}},"310":{start:{line:542,column:10},end:{line:542,column:22}},"311":{start:{line:544,column:10},end:{line:554,column:13}},"312":{start:{line:545,column:12},end:{line:547,column:13}},"313":{start:{line:546,column:14},end:{line:546,column:125}},"314":{start:{line:549,column:34},end:{line:549,column:61}},"315":{start:{line:551,column:12},end:{line:553,column:13}},"316":{start:{line:552,column:14},end:{line:552,column:125}},"317":{start:{line:556,column:10},end:{line:560,column:11}},"318":{start:{line:557,column:12},end:{line:559,column:13}},"319":{start:{line:557,column:144},end:{line:557,column:192}},"320":{start:{line:558,column:14},end:{line:558,column:140}},"321":{start:{line:562,column:10},end:{line:562,column:46}},"322":{start:{line:563,column:10},end:{line:563,column:55}},"323":{start:{line:565,column:10},end:{line:573,column:11}},"324":{start:{line:566,column:12},end:{line:572,column:15}},"325":{start:{line:567,column:14},end:{line:569,column:15}},"326":{start:{line:568,column:16},end:{line:568,column:101}},"327":{start:{line:571,column:14},end:{line:571,column:24}},"328":{start:{line:575,column:10},end:{line:581,column:11}},"329":{start:{line:576,column:12},end:{line:576,column:115}},"330":{start:{line:577,column:17},end:{line:581,column:11}},"331":{start:{line:578,column:12},end:{line:578,column:110}},"332":{start:{line:580,column:12},end:{line:580,column:111}},"333":{start:{line:584,column:8},end:{line:586,column:9}},"334":{start:{line:585,column:10},end:{line:585,column:95}},"335":{start:{line:588,column:8},end:{line:590,column:9}},"336":{start:{line:589,column:10},end:{line:589,column:24}},"337":{start:{line:592,column:8},end:{line:594,column:11}},"338":{start:{line:593,column:10},end:{line:593,column:24}},"339":{start:{line:596,column:8},end:{line:598,column:9}},"340":{start:{line:597,column:10},end:{line:597,column:41}},"341":{start:{line:600,column:8},end:{line:600,column:62}},"342":{start:{line:609,column:14},end:{line:609,column:16}},"343":{start:{line:610,column:19},end:{line:610,column:21}},"344":{start:{line:611,column:4},end:{line:611,column:43}},"345":{start:{line:613,column:18},end:{line:639,column:5}},"346":{start:{line:614,column:6},end:{line:616,column:7}},"347":{start:{line:615,column:8},end:{line:615,column:15}},"348":{start:{line:618,column:6},end:{line:624,column:7}},"349":{start:{line:619,column:8},end:{line:622,column:11}},"350":{start:{line:623,column:8},end:{line:623,column:27}},"351":{start:{line:626,column:6},end:{line:632,column:7}},"352":{start:{line:627,column:8},end:{line:630,column:11}},"353":{start:{line:631,column:8},end:{line:631,column:27}},"354":{start:{line:634,column:6},end:{line:638,column:7}},"355":{start:{line:635,column:8},end:{line:637,column:9}},"356":{start:{line:636,column:10},end:{line:636,column:26}},"357":{start:{line:641,column:4},end:{line:643,column:5}},"358":{start:{line:642,column:6},end:{line:642,column:32}},"359":{start:{line:645,column:4},end:{line:647,column:5}},"360":{start:{line:646,column:6},end:{line:646,column:25}},"361":{start:{line:649,column:4},end:{line:649,column:15}},"362":{start:{line:655,column:18},end:{line:655,column:20}},"363":{start:{line:656,column:4},end:{line:656,column:43}},"364":{start:{line:657,column:4},end:{line:676,column:7}},"365":{start:{line:661,column:6},end:{line:663,column:7}},"366":{start:{line:662,column:8},end:{line:662,column:15}},"367":{start:{line:665,column:6},end:{line:669,column:7}},"368":{start:{line:666,column:8},end:{line:668,column:9}},"369":{start:{line:667,column:10},end:{line:667,column:84}},"370":{start:{line:671,column:6},end:{line:675,column:7}},"371":{start:{line:672,column:8},end:{line:674,column:9}},"372":{start:{line:673,column:10},end:{line:673,column:87}},"373":{start:{line:677,column:4},end:{line:677,column:32}},"374":{start:{line:683,column:16},end:{line:686,column:5}},"375":{start:{line:687,column:4},end:{line:687,column:127}},"376":{start:{line:694,column:14},end:{line:697,column:5}},"377":{start:{line:698,column:4},end:{line:705,column:7}},"378":{start:{line:700,column:6},end:{line:702,column:7}},"379":{start:{line:701,column:8},end:{line:701,column:15}},"380":{start:{line:704,column:6},end:{line:704,column:18}},"381":{start:{line:718,column:21},end:{line:718,column:38}},"382":{start:{line:719,column:21},end:{line:719,column:30}},"383":{start:{line:720,column:4},end:{line:755,column:7}},"384":{start:{line:721,column:6},end:{line:754,column:9}},"385":{start:{line:722,column:8},end:{line:728,column:9}},"386":{start:{line:723,column:10},end:{line:723,column:101}},"387":{start:{line:725,column:10},end:{line:727,column:11}},"388":{start:{line:726,column:12},end:{line:726,column:97}},"389":{start:{line:731,column:8},end:{line:733,column:9}},"390":{start:{line:732,column:10},end:{line:732,column:42}},"391":{start:{line:735,column:8},end:{line:735,column:29}},"392":{start:{line:736,column:8},end:{line:753,column:11}},"393":{start:{line:739,column:10},end:{line:743,column:11}},"394":{start:{line:740,column:12},end:{line:742,column:14}},"395":{start:{line:745,column:10},end:{line:745,column:22}},"396":{start:{line:746,column:37},end:{line:746,column:135}},"397":{start:{line:748,column:10},end:{line:750,column:11}},"398":{start:{line:749,column:12},end:{line:749,column:39}},"399":{start:{line:752,column:10},end:{line:752,column:22}},"400":{start:{line:764,column:27},end:{line:764,column:33}},"401":{start:{line:765,column:4},end:{line:765,column:40}},"402":{start:{line:766,column:4},end:{line:769,column:6}},"403":{start:{line:770,column:4},end:{line:773,column:6}},"404":{start:{line:774,column:19},end:{line:774,column:36}},"405":{start:{line:775,column:19},end:{line:775,column:28}},"406":{start:{line:776,column:28},end:{line:776,column:80}},"407":{start:{line:777,column:4},end:{line:796,column:7}},"408":{start:{line:777,column:56},end:{line:777,column:102}},"409":{start:{line:778,column:6},end:{line:795,column:9}},"410":{start:{line:778,column:124},end:{line:778,column:170}},"411":{start:{line:778,column:183},end:{line:778,column:229}},"412":{start:{line:779,column:8},end:{line:779,column:53}},"413":{start:{line:780,column:8},end:{line:780,column:48}},"414":{start:{line:782,column:8},end:{line:784,column:9}},"415":{start:{line:783,column:10},end:{line:783,column:20}},"416":{start:{line:786,column:8},end:{line:786,column:143}},"417":{start:{line:788,column:8},end:{line:790,column:9}},"418":{start:{line:789,column:10},end:{line:789,column:32}},"419":{start:{line:792,column:8},end:{line:794,column:11}},"420":{start:{line:793,column:10},end:{line:793,column:71}},"421":{start:{line:800,column:24},end:{line:800,column:52}},"422":{start:{line:802,column:4},end:{line:804,column:5}},"423":{start:{line:803,column:6},end:{line:803,column:31}},"424":{start:{line:806,column:19},end:{line:806,column:38}},"425":{start:{line:807,column:25},end:{line:807,column:56}},"426":{start:{line:808,column:20},end:{line:815,column:6}},"427":{start:{line:810,column:6},end:{line:812,column:7}},"428":{start:{line:811,column:8},end:{line:811,column:21}},"429":{start:{line:814,column:6},end:{line:814,column:63}},"430":{start:{line:817,column:4},end:{line:822,column:5}},"431":{start:{line:819,column:6},end:{line:819,column:34}},"432":{start:{line:820,column:21},end:{line:820,column:38}},"433":{start:{line:821,column:6},end:{line:821,column:80}},"434":{start:{line:824,column:4},end:{line:824,column:29}},"435":{start:{line:836,column:4},end:{line:836,column:30}},"436":{start:{line:838,column:4},end:{line:838,column:33}},"437":{start:{line:840,column:4},end:{line:840,column:47}},"438":{start:{line:850,column:8},end:{line:850,column:20}},"439":{start:{line:851,column:24},end:{line:851,column:26}},"440":{start:{line:853,column:4},end:{line:860,column:5}},"441":{start:{line:854,column:6},end:{line:856,column:8}},"442":{start:{line:857,column:6},end:{line:857,column:32}},"443":{start:{line:858,column:6},end:{line:858,column:30}},"444":{start:{line:859,column:6},end:{line:859,column:28}},"445":{start:{line:862,column:4},end:{line:864,column:77}},"446":{start:{line:864,column:36},end:{line:864,column:75}},"447":{start:{line:864,column:58},end:{line:864,column:74}},"448":{start:{line:870,column:4},end:{line:876,column:63}},"449":{start:{line:876,column:23},end:{line:876,column:61}},"450":{start:{line:876,column:45},end:{line:876,column:60}},"451":{start:{line:885,column:4},end:{line:894,column:5}},"452":{start:{line:886,column:18},end:{line:886,column:30}},"453":{start:{line:887,column:6},end:{line:893,column:9}},"454":{start:{line:888,column:8},end:{line:890,column:11}},"455":{start:{line:889,column:10},end:{line:889,column:39}},"456":{start:{line:892,column:8},end:{line:892,column:38}},"457":{start:{line:896,column:4},end:{line:905,column:5}},"458":{start:{line:897,column:19},end:{line:897,column:32}},"459":{start:{line:898,column:6},end:{line:904,column:9}},"460":{start:{line:899,column:8},end:{line:901,column:11}},"461":{start:{line:900,column:10},end:{line:900,column:40}},"462":{start:{line:903,column:8},end:{line:903,column:38}},"463":{start:{line:907,column:21},end:{line:970,column:6}},"464":{start:{line:908,column:16},end:{line:908,column:54}},"465":{start:{line:910,column:6},end:{line:912,column:7}},"466":{start:{line:911,column:8},end:{line:911,column:38}},"467":{start:{line:914,column:20},end:{line:914,column:24}},"468":{start:{line:916,column:6},end:{line:946,column:7}},"469":{start:{line:918,column:8},end:{line:940,column:11}},"470":{start:{line:920,column:27},end:{line:920,column:32}},"471":{start:{line:922,column:10},end:{line:934,column:11}},"472":{start:{line:923,column:12},end:{line:923,column:47}},"473":{start:{line:924,column:17},end:{line:934,column:11}},"474":{start:{line:925,column:12},end:{line:925,column:64}},"475":{start:{line:925,column:52},end:{line:925,column:62}},"476":{start:{line:926,column:17},end:{line:934,column:11}},"477":{start:{line:927,column:12},end:{line:927,column:30}},"478":{start:{line:928,column:12},end:{line:928,column:65}},"479":{start:{line:928,column:53},end:{line:928,column:63}},"480":{start:{line:929,column:17},end:{line:934,column:11}},"481":{start:{line:930,column:12},end:{line:930,column:30}},"482":{start:{line:931,column:12},end:{line:931,column:54}},"483":{start:{line:933,column:12},end:{line:933,column:19}},"484":{start:{line:936,column:10},end:{line:939,column:12}},"485":{start:{line:942,column:8},end:{line:945,column:11}},"486":{start:{line:949,column:6},end:{line:949,column:24}},"487":{start:{line:952,column:23},end:{line:966,column:8}},"488":{start:{line:953,column:8},end:{line:955,column:9}},"489":{start:{line:954,column:10},end:{line:954,column:35}},"490":{start:{line:957,column:8},end:{line:965,column:11}},"491":{start:{line:958,column:10},end:{line:962,column:11}},"492":{start:{line:959,column:12},end:{line:959,column:50}},"493":{start:{line:961,column:12},end:{line:961,column:47}},"494":{start:{line:964,column:10},end:{line:964,column:35}},"495":{start:{line:967,column:6},end:{line:969,column:9}},"496":{start:{line:968,column:8},end:{line:968,column:33}},"497":{start:{line:971,column:4},end:{line:973,column:7}},"498":{start:{line:972,column:6},end:{line:972,column:36}},"499":{start:{line:979,column:4},end:{line:983,column:5}},"500":{start:{line:980,column:6},end:{line:982,column:10}},"501":{start:{line:981,column:8},end:{line:981,column:72}},"502":{start:{line:985,column:4},end:{line:989,column:5}},"503":{start:{line:986,column:6},end:{line:988,column:10}},"504":{start:{line:987,column:8},end:{line:987,column:72}},"505":{start:{line:991,column:20},end:{line:991,column:39}},"506":{start:{line:993,column:4},end:{line:999,column:5}},"507":{start:{line:994,column:6},end:{line:998,column:24}},"508":{start:{line:995,column:8},end:{line:995,column:35}},"509":{start:{line:996,column:8},end:{line:996,column:43}},"510":{start:{line:997,column:8},end:{line:997,column:71}},"511":{start:{line:1003,column:26},end:{line:1003,column:86}},"512":{start:{line:1004,column:22},end:{line:1004,column:94}},"513":{start:{line:1005,column:22},end:{line:1005,column:92}},"514":{start:{line:1007,column:19},end:{line:1007,column:91}},"515":{start:{line:1007,column:77},end:{line:1007,column:90}},"516":{start:{line:1008,column:24},end:{line:1008,column:76}},"517":{start:{line:1008,column:54},end:{line:1008,column:72}},"518":{start:{line:1009,column:26},end:{line:1009,column:28}},"519":{start:{line:1011,column:4},end:{line:1015,column:5}},"520":{start:{line:1012,column:6},end:{line:1012,column:55}},"521":{start:{line:1014,column:6},end:{line:1014,column:56}},"522":{start:{line:1018,column:4},end:{line:1027,column:5}},"523":{start:{line:1019,column:6},end:{line:1021,column:8}},"524":{start:{line:1022,column:11},end:{line:1027,column:5}},"525":{start:{line:1023,column:6},end:{line:1026,column:8}},"526":{start:{line:1029,column:4},end:{line:1029,column:44}},"527":{start:{line:1030,column:4},end:{line:1030,column:17}},"528":{start:{line:1034,column:23},end:{line:1034,column:93}},"529":{start:{line:1035,column:17},end:{line:1035,column:70}},"530":{start:{line:1035,column:56},end:{line:1035,column:69}},"531":{start:{line:1037,column:4},end:{line:1037,column:34}},"532":{start:{line:1039,column:4},end:{line:1048,column:5}},"533":{start:{line:1040,column:6},end:{line:1042,column:8}},"534":{start:{line:1043,column:11},end:{line:1048,column:5}},"535":{start:{line:1044,column:6},end:{line:1047,column:8}},"536":{start:{line:1050,column:4},end:{line:1050,column:36}},"537":{start:{line:1051,column:4},end:{line:1051,column:17}},"538":{start:{line:1084,column:21},end:{line:1084,column:38}},"539":{start:{line:1085,column:21},end:{line:1085,column:30}},"540":{start:{line:1086,column:4},end:{line:1086,column:103}},"541":{start:{line:1088,column:4},end:{line:1088,column:39}},"542":{start:{line:1089,column:22},end:{line:1089,column:26}},"543":{start:{line:1090,column:4},end:{line:1200,column:7}},"544":{start:{line:1094,column:6},end:{line:1199,column:9}},"545":{start:{line:1097,column:8},end:{line:1102,column:9}},"546":{start:{line:1098,column:10},end:{line:1098,column:30}},"547":{start:{line:1099,column:10},end:{line:1101,column:12}},"548":{start:{line:1104,column:8},end:{line:1104,column:20}},"549":{start:{line:1109,column:8},end:{line:1112,column:9}},"550":{start:{line:1110,column:10},end:{line:1110,column:44}},"551":{start:{line:1111,column:10},end:{line:1111,column:34}},"552":{start:{line:1114,column:8},end:{line:1117,column:9}},"553":{start:{line:1115,column:10},end:{line:1115,column:44}},"554":{start:{line:1116,column:10},end:{line:1116,column:34}},"555":{start:{line:1119,column:29},end:{line:1128,column:9}},"556":{start:{line:1129,column:8},end:{line:1139,column:11}},"557":{start:{line:1130,column:10},end:{line:1132,column:11}},"558":{start:{line:1131,column:12},end:{line:1131,column:107}},"559":{start:{line:1134,column:32},end:{line:1134,column:59}},"560":{start:{line:1136,column:10},end:{line:1138,column:11}},"561":{start:{line:1137,column:12},end:{line:1137,column:113}},"562":{start:{line:1140,column:8},end:{line:1198,column:11}},"563":{start:{line:1140,column:120},end:{line:1140,column:175}},"564":{start:{line:1140,column:188},end:{line:1140,column:245}},"565":{start:{line:1143,column:10},end:{line:1150,column:11}},"566":{start:{line:1144,column:12},end:{line:1144,column:97}},"567":{start:{line:1149,column:12},end:{line:1149,column:120}},"568":{start:{line:1152,column:10},end:{line:1158,column:11}},"569":{start:{line:1153,column:12},end:{line:1157,column:13}},"570":{start:{line:1154,column:14},end:{line:1154,column:99}},"571":{start:{line:1156,column:14},end:{line:1156,column:24}},"572":{start:{line:1160,column:10},end:{line:1166,column:11}},"573":{start:{line:1161,column:12},end:{line:1165,column:13}},"574":{start:{line:1162,column:14},end:{line:1162,column:51}},"575":{start:{line:1164,column:14},end:{line:1164,column:50}},"576":{start:{line:1168,column:10},end:{line:1168,column:31}},"577":{start:{line:1170,column:10},end:{line:1197,column:11}},"578":{start:{line:1171,column:12},end:{line:1175,column:13}},"579":{start:{line:1172,column:14},end:{line:1172,column:23}},"580":{start:{line:1174,column:14},end:{line:1174,column:99}},"581":{start:{line:1176,column:17},end:{line:1197,column:11}},"582":{start:{line:1177,column:12},end:{line:1181,column:13}},"583":{start:{line:1178,column:14},end:{line:1178,column:24}},"584":{start:{line:1180,column:14},end:{line:1180,column:79}},"585":{start:{line:1182,column:17},end:{line:1197,column:11}},"586":{start:{line:1183,column:12},end:{line:1187,column:13}},"587":{start:{line:1184,column:14},end:{line:1184,column:24}},"588":{start:{line:1186,column:14},end:{line:1186,column:104}},"589":{start:{line:1188,column:17},end:{line:1197,column:11}},"590":{start:{line:1189,column:12},end:{line:1189,column:77}},"591":{start:{line:1191,column:12},end:{line:1196,column:15}},"592":{start:{line:1191,column:93},end:{line:1194,column:14}},"593":{start:{line:1192,column:14},end:{line:1192,column:52}},"594":{start:{line:1193,column:14},end:{line:1193,column:125}},"595":{start:{line:1195,column:14},end:{line:1195,column:90}},"596":{start:{line:1205,column:4},end:{line:1239,column:7}},"597":{start:{line:1208,column:6},end:{line:1208,column:27}},"598":{start:{line:1209,column:6},end:{line:1209,column:60}},"599":{start:{line:1211,column:6},end:{line:1217,column:7}},"600":{start:{line:1212,column:8},end:{line:1214,column:10}},"601":{start:{line:1216,column:8},end:{line:1216,column:20}},"602":{start:{line:1219,column:6},end:{line:1238,column:9}},"603":{start:{line:1219,column:57},end:{line:1221,column:25}},"604":{start:{line:1222,column:8},end:{line:1224,column:9}},"605":{start:{line:1223,column:10},end:{line:1223,column:126}},"606":{start:{line:1226,column:8},end:{line:1226,column:51}},"607":{start:{line:1228,column:8},end:{line:1237,column:9}},"608":{start:{line:1229,column:37},end:{line:1229,column:129}},"609":{start:{line:1229,column:84},end:{line:1229,column:128}},"610":{start:{line:1230,column:10},end:{line:1234,column:13}},"611":{start:{line:1230,column:60},end:{line:1230,column:116}},"612":{start:{line:1231,column:12},end:{line:1231,column:48}},"613":{start:{line:1233,column:12},end:{line:1233,column:49}},"614":{start:{line:1236,column:10},end:{line:1236,column:35}},"615":{start:{line:1246,column:4},end:{line:1246,column:83}},"616":{start:{line:1246,column:42},end:{line:1246,column:81}},"617":{start:{line:1246,column:53},end:{line:1246,column:70}},"618":{start:{line:1251,column:4},end:{line:1253,column:5}},"619":{start:{line:1252,column:6},end:{line:1252,column:19}},"620":{start:{line:1255,column:20},end:{line:1255,column:70}},"621":{start:{line:1255,column:39},end:{line:1255,column:69}},"622":{start:{line:1256,column:17},end:{line:1256,column:22}},"623":{start:{line:1258,column:4},end:{line:1277,column:21}},"624":{start:{line:1259,column:6},end:{line:1259,column:21}},"625":{start:{line:1261,column:6},end:{line:1276,column:7}},"626":{start:{line:1261,column:19},end:{line:1261,column:20}},"627":{start:{line:1262,column:8},end:{line:1275,column:9}},"628":{start:{line:1262,column:21},end:{line:1262,column:26}},"629":{start:{line:1263,column:36},end:{line:1263,column:91}},"630":{start:{line:1264,column:31},end:{line:1264,column:122}},"631":{start:{line:1264,column:71},end:{line:1264,column:118}},"632":{start:{line:1265,column:33},end:{line:1265,column:56}},"633":{start:{line:1267,column:10},end:{line:1274,column:11}},"634":{start:{line:1270,column:12},end:{line:1270,column:40}},"635":{start:{line:1271,column:12},end:{line:1271,column:38}},"636":{start:{line:1272,column:12},end:{line:1272,column:26}},"637":{start:{line:1273,column:12},end:{line:1273,column:18}},"638":{start:{line:1279,column:4},end:{line:1282,column:5}},"639":{start:{line:1280,column:6},end:{line:1280,column:68}},"640":{start:{line:1281,column:6},end:{line:1281,column:23}},"641":{start:{line:1284,column:4},end:{line:1284,column:17}},"642":{start:{line:1289,column:4},end:{line:1291,column:5}},"643":{start:{line:1290,column:6},end:{line:1290,column:19}},"644":{start:{line:1293,column:20},end:{line:1293,column:71}},"645":{start:{line:1293,column:40},end:{line:1293,column:70}},"646":{start:{line:1294,column:17},end:{line:1294,column:22}},"647":{start:{line:1296,column:4},end:{line:1315,column:21}},"648":{start:{line:1297,column:6},end:{line:1297,column:21}},"649":{start:{line:1299,column:6},end:{line:1314,column:7}},"650":{start:{line:1299,column:19},end:{line:1299,column:20}},"651":{start:{line:1300,column:8},end:{line:1313,column:9}},"652":{start:{line:1300,column:21},end:{line:1300,column:26}},"653":{start:{line:1301,column:36},end:{line:1301,column:91}},"654":{start:{line:1302,column:31},end:{line:1302,column:122}},"655":{start:{line:1302,column:71},end:{line:1302,column:118}},"656":{start:{line:1303,column:33},end:{line:1303,column:56}},"657":{start:{line:1305,column:10},end:{line:1312,column:11}},"658":{start:{line:1308,column:12},end:{line:1308,column:42}},"659":{start:{line:1309,column:12},end:{line:1309,column:39}},"660":{start:{line:1310,column:12},end:{line:1310,column:26}},"661":{start:{line:1311,column:12},end:{line:1311,column:18}},"662":{start:{line:1317,column:4},end:{line:1320,column:5}},"663":{start:{line:1318,column:6},end:{line:1318,column:69}},"664":{start:{line:1319,column:6},end:{line:1319,column:24}},"665":{start:{line:1322,column:4},end:{line:1322,column:17}},"666":{start:{line:1333,column:4},end:{line:1335,column:5}},"667":{start:{line:1334,column:6},end:{line:1334,column:19}},"668":{start:{line:1337,column:18},end:{line:1337,column:60}},"669":{start:{line:1338,column:20},end:{line:1340,column:6}},"670":{start:{line:1339,column:6},end:{line:1339,column:53}},"671":{start:{line:1341,column:21},end:{line:1341,column:108}},"672":{start:{line:1342,column:23},end:{line:1342,column:25}},"673":{start:{line:1344,column:4},end:{line:1346,column:5}},"674":{start:{line:1345,column:6},end:{line:1345,column:57}},"675":{start:{line:1348,column:4},end:{line:1354,column:5}},"676":{start:{line:1349,column:6},end:{line:1353,column:7}},"677":{start:{line:1350,column:8},end:{line:1352,column:9}},"678":{start:{line:1351,column:10},end:{line:1351,column:33}},"679":{start:{line:1357,column:4},end:{line:1414,column:5}},"680":{start:{line:1361,column:6},end:{line:1363,column:7}},"681":{start:{line:1362,column:8},end:{line:1362,column:15}},"682":{start:{line:1365,column:21},end:{line:1365,column:31}},"683":{start:{line:1366,column:26},end:{line:1370,column:7}},"684":{start:{line:1371,column:22},end:{line:1408,column:8}},"685":{start:{line:1372,column:32},end:{line:1372,column:70}},"686":{start:{line:1373,column:26},end:{line:1373,column:175}},"687":{start:{line:1376,column:8},end:{line:1397,column:9}},"688":{start:{line:1378,column:10},end:{line:1380,column:12}},"689":{start:{line:1381,column:15},end:{line:1397,column:9}},"690":{start:{line:1383,column:10},end:{line:1387,column:12}},"691":{start:{line:1388,column:15},end:{line:1397,column:9}},"692":{start:{line:1390,column:10},end:{line:1392,column:12}},"693":{start:{line:1396,column:10},end:{line:1396,column:114}},"694":{start:{line:1400,column:8},end:{line:1404,column:9}},"695":{start:{line:1401,column:10},end:{line:1403,column:13}},"696":{start:{line:1407,column:8},end:{line:1407,column:53}},"697":{start:{line:1409,column:6},end:{line:1411,column:9}},"698":{start:{line:1413,column:6},end:{line:1413,column:19}},"699":{start:{line:1418,column:18},end:{line:1418,column:60}},"700":{start:{line:1419,column:4},end:{line:1419,column:28}},"701":{start:{line:1419,column:16},end:{line:1419,column:28}},"702":{start:{line:1420,column:28},end:{line:1420,column:49}},"703":{start:{line:1421,column:4},end:{line:1421,column:38}},"704":{start:{line:1421,column:26},end:{line:1421,column:38}},"705":{start:{line:1422,column:4},end:{line:1422,column:59}},"706":{start:{line:1422,column:47},end:{line:1422,column:59}},"707":{start:{line:1427,column:25},end:{line:1427,column:42}},"708":{start:{line:1431,column:27},end:{line:1431,column:29}},"709":{start:{line:1432,column:26},end:{line:1432,column:35}},"710":{start:{line:1434,column:18},end:{line:1437,column:10}},"711":{start:{line:1435,column:6},end:{line:1435,column:34}},"712":{start:{line:1436,column:6},end:{line:1436,column:17}},"713":{start:{line:1439,column:30},end:{line:1439,column:32}},"714":{start:{line:1441,column:4},end:{line:1476,column:5}},"715":{start:{line:1443,column:6},end:{line:1456,column:7}},"716":{start:{line:1444,column:8},end:{line:1453,column:9}},"717":{start:{line:1445,column:28},end:{line:1445,column:45}},"718":{start:{line:1447,column:10},end:{line:1452,column:11}},"719":{start:{line:1449,column:12},end:{line:1449,column:67}},"720":{start:{line:1451,column:12},end:{line:1451,column:43}},"721":{start:{line:1455,column:8},end:{line:1455,column:17}},"722":{start:{line:1459,column:6},end:{line:1462,column:7}},"723":{start:{line:1460,column:8},end:{line:1460,column:53}},"724":{start:{line:1461,column:8},end:{line:1461,column:17}},"725":{start:{line:1464,column:6},end:{line:1475,column:7}},"726":{start:{line:1465,column:8},end:{line:1469,column:9}},"727":{start:{line:1467,column:10},end:{line:1467,column:55}},"728":{start:{line:1468,column:10},end:{line:1468,column:19}},"729":{start:{line:1471,column:8},end:{line:1474,column:9}},"730":{start:{line:1473,column:10},end:{line:1473,column:45}},"731":{start:{line:1479,column:4},end:{line:1485,column:5}},"732":{start:{line:1480,column:21},end:{line:1480,column:33}},"733":{start:{line:1482,column:6},end:{line:1484,column:7}},"734":{start:{line:1483,column:8},end:{line:1483,column:62}},"735":{start:{line:1488,column:4},end:{line:1490,column:5}},"736":{start:{line:1489,column:6},end:{line:1489,column:59}},"737":{start:{line:1492,column:24},end:{line:1498,column:10}},"738":{start:{line:1493,column:6},end:{line:1495,column:7}},"739":{start:{line:1494,column:8},end:{line:1494,column:26}},"740":{start:{line:1497,column:6},end:{line:1497,column:17}},"741":{start:{line:1500,column:4},end:{line:1504,column:7}},"742":{start:{line:1501,column:6},end:{line:1503,column:7}},"743":{start:{line:1502,column:8},end:{line:1502,column:70}},"744":{start:{line:1502,column:50},end:{line:1502,column:68}},"745":{start:{line:1505,column:4},end:{line:1505,column:25}},"746":{start:{line:1509,column:4},end:{line:1511,column:7}},"747":{start:{line:1510,column:6},end:{line:1510,column:56}},"748":{start:{line:1515,column:4},end:{line:1517,column:5}},"749":{start:{line:1516,column:6},end:{line:1516,column:69}},"750":{start:{line:1519,column:4},end:{line:1521,column:7}},"751":{start:{line:1520,column:6},end:{line:1520,column:40}},"752":{start:{line:1525,column:4},end:{line:1527,column:5}},"753":{start:{line:1526,column:6},end:{line:1526,column:68}},"754":{start:{line:1529,column:4},end:{line:1531,column:7}},"755":{start:{line:1530,column:6},end:{line:1530,column:40}},"756":{start:{line:1537,column:4},end:{line:1539,column:7}},"757":{start:{line:1540,column:31},end:{line:1542,column:5}},"758":{start:{line:1543,column:31},end:{line:1545,column:5}},"759":{start:{line:1546,column:38},end:{line:1548,column:5}},"760":{start:{line:1549,column:4},end:{line:1549,column:79}},"761":{start:{line:1549,column:43},end:{line:1549,column:77}},"762":{start:{line:1550,column:4},end:{line:1550,column:79}},"763":{start:{line:1550,column:43},end:{line:1550,column:77}},"764":{start:{line:1552,column:4},end:{line:1554,column:5}},"765":{start:{line:1553,column:6},end:{line:1553,column:88}},"766":{start:{line:1553,column:45},end:{line:1553,column:86}},"767":{start:{line:1556,column:4},end:{line:1560,column:7}},"768":{start:{line:1557,column:6},end:{line:1557,column:81}},"769":{start:{line:1559,column:6},end:{line:1559,column:18}},"770":{start:{line:1561,column:4},end:{line:1565,column:7}},"771":{start:{line:1562,column:6},end:{line:1562,column:88}},"772":{start:{line:1564,column:6},end:{line:1564,column:18}},"773":{start:{line:1566,column:4},end:{line:1570,column:7}},"774":{start:{line:1567,column:6},end:{line:1567,column:88}},"775":{start:{line:1569,column:6},end:{line:1569,column:18}},"776":{start:{line:1571,column:4},end:{line:1575,column:7}},"777":{start:{line:1572,column:6},end:{line:1572,column:92}},"778":{start:{line:1574,column:6},end:{line:1574,column:18}},"779":{start:{line:1576,column:4},end:{line:1580,column:7}},"780":{start:{line:1577,column:6},end:{line:1577,column:85}},"781":{start:{line:1579,column:6},end:{line:1579,column:18}},"782":{start:{line:1581,column:4},end:{line:1585,column:7}},"783":{start:{line:1582,column:6},end:{line:1582,column:81}},"784":{start:{line:1584,column:6},end:{line:1584,column:18}},"785":{start:{line:1587,column:4},end:{line:1600,column:5}},"786":{start:{line:1588,column:6},end:{line:1592,column:9}},"787":{start:{line:1589,column:8},end:{line:1589,column:96}},"788":{start:{line:1591,column:8},end:{line:1591,column:20}},"789":{start:{line:1593,column:6},end:{line:1599,column:9}},"790":{start:{line:1596,column:8},end:{line:1596,column:96}},"791":{start:{line:1598,column:8},end:{line:1598,column:20}},"792":{start:{line:1602,column:4},end:{line:1602,column:49}},"793":{start:{line:1607,column:0},end:{line:1607,column:36}},"794":{start:{line:1609,column:0},end:{line:1609,column:46}}},fnMap:{"0":{name:"_getRequireWildcardCache",decl:{start:{line:23,column:9},end:{line:23,column:33}},loc:{start:{line:23,column:47},end:{line:23,column:311}},line:23},"1":{name:"(anonymous_1)",decl:{start:{line:23,column:209},end:{line:23,column:210}},loc:{start:{line:23,column:232},end:{line:23,column:294}},line:23},"2":{name:"_interopRequireWildcard",decl:{start:{line:25,column:9},end:{line:25,column:32}},loc:{start:{line:25,column:51},end:{line:25,column:804}},line:25},"3":{name:"_interopRequireDefault",decl:{start:{line:27,column:9},end:{line:27,column:31}},loc:{start:{line:27,column:37},end:{line:27,column:95}},line:27},"4":{name:"ownKeys",decl:{start:{line:29,column:9},end:{line:29,column:16}},loc:{start:{line:29,column:41},end:{line:29,column:345}},line:29},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:210},end:{line:29,column:211}},loc:{start:{line:29,column:225},end:{line:29,column:292}},line:29},"6":{name:"_objectSpread",decl:{start:{line:31,column:9},end:{line:31,column:22}},loc:{start:{line:31,column:31},end:{line:31,column:534}},line:31},"7":{name:"(anonymous_7)",decl:{start:{line:31,column:184},end:{line:31,column:185}},loc:{start:{line:31,column:199},end:{line:31,column:245}},line:31},"8":{name:"(anonymous_8)",decl:{start:{line:31,column:411},end:{line:31,column:412}},loc:{start:{line:31,column:426},end:{line:31,column:511}},line:31},"9":{name:"_defineProperty",decl:{start:{line:33,column:9},end:{line:33,column:24}},loc:{start:{line:33,column:42},end:{line:33,column:209}},line:33},"10":{name:"_objectWithoutProperties",decl:{start:{line:35,column:9},end:{line:35,column:33}},loc:{start:{line:35,column:52},end:{line:35,column:492}},line:35},"11":{name:"_objectWithoutPropertiesLoose",decl:{start:{line:37,column:9},end:{line:37,column:38}},loc:{start:{line:37,column:57},end:{line:37,column:307}},line:37},"12":{name:"addWriteACL",decl:{start:{line:39,column:9},end:{line:39,column:20}},loc:{start:{line:39,column:33},end:{line:47,column:1}},line:39},"13":{name:"addReadACL",decl:{start:{line:49,column:9},end:{line:49,column:19}},loc:{start:{line:49,column:32},end:{line:57,column:1}},line:49},"14":{name:"(anonymous_14)",decl:{start:{line:60,column:27},end:{line:60,column:28}},loc:{start:{line:60,column:35},end:{line:84,column:1}},line:60},"15":{name:"(anonymous_15)",decl:{start:{line:88,column:26},end:{line:88,column:27}},loc:{start:{line:88,column:33},end:{line:90,column:1}},line:88},"16":{name:"(anonymous_16)",decl:{start:{line:92,column:22},end:{line:92,column:23}},loc:{start:{line:92,column:31},end:{line:134,column:1}},line:92},"17":{name:"(anonymous_17)",decl:{start:{line:121,column:29},end:{line:121,column:30}},loc:{start:{line:121,column:36},end:{line:133,column:3}},line:121},"18":{name:"(anonymous_18)",decl:{start:{line:137,column:28},end:{line:137,column:29}},loc:{start:{line:137,column:113},end:{line:235,column:1}},line:137},"19":{name:"(anonymous_19)",decl:{start:{line:148,column:83},end:{line:148,column:84}},loc:{start:{line:148,column:90},end:{line:148,column:118}},line:148},"20":{name:"(anonymous_20)",decl:{start:{line:148,column:124},end:{line:148,column:125}},loc:{start:{line:148,column:131},end:{line:153,column:7}},line:148},"21":{name:"(anonymous_21)",decl:{start:{line:157,column:41},end:{line:157,column:42}},loc:{start:{line:157,column:56},end:{line:173,column:7}},line:157},"22":{name:"(anonymous_22)",decl:{start:{line:163,column:62},end:{line:163,column:63}},loc:{start:{line:163,column:70},end:{line:163,column:111}},line:163},"23":{name:"(anonymous_23)",decl:{start:{line:182,column:33},end:{line:182,column:34}},loc:{start:{line:182,column:43},end:{line:192,column:7}},line:182},"24":{name:"(anonymous_24)",decl:{start:{line:189,column:53},end:{line:189,column:54}},loc:{start:{line:189,column:58},end:{line:189,column:76}},line:189},"25":{name:"(anonymous_25)",decl:{start:{line:201,column:47},end:{line:201,column:48}},loc:{start:{line:201,column:52},end:{line:201,column:68}},line:201},"26":{name:"(anonymous_26)",decl:{start:{line:204,column:112},end:{line:204,column:113}},loc:{start:{line:204,column:117},end:{line:204,column:133}},line:204},"27":{name:"(anonymous_27)",decl:{start:{line:247,column:27},end:{line:247,column:28}},loc:{start:{line:247,column:34},end:{line:249,column:1}},line:247},"28":{name:"expandResultOnKeyPath",decl:{start:{line:251,column:9},end:{line:251,column:30}},loc:{start:{line:251,column:51},end:{line:265,column:1}},line:251},"29":{name:"sanitizeDatabaseResult",decl:{start:{line:267,column:9},end:{line:267,column:31}},loc:{start:{line:267,column:56},end:{line:284,column:1}},line:267},"30":{name:"(anonymous_30)",decl:{start:{line:274,column:38},end:{line:274,column:39}},loc:{start:{line:274,column:45},end:{line:282,column:3}},line:274},"31":{name:"joinTableName",decl:{start:{line:286,column:9},end:{line:286,column:22}},loc:{start:{line:286,column:39},end:{line:288,column:1}},line:286},"32":{name:"(anonymous_32)",decl:{start:{line:290,column:40},end:{line:290,column:41}},loc:{start:{line:290,column:50},end:{line:335,column:1}},line:290},"33":{name:"(anonymous_33)",decl:{start:{line:337,column:26},end:{line:337,column:27}},loc:{start:{line:337,column:57},end:{line:356,column:1}},line:337},"34":{name:"(anonymous_34)",decl:{start:{line:339,column:41},end:{line:339,column:42}},loc:{start:{line:339,column:53},end:{line:353,column:5}},line:339},"35":{name:"(anonymous_35)",decl:{start:{line:359,column:29},end:{line:359,column:30}},loc:{start:{line:359,column:38},end:{line:391,column:1}},line:359},"36":{name:"(anonymous_36)",decl:{start:{line:369,column:27},end:{line:369,column:28}},loc:{start:{line:369,column:36},end:{line:377,column:5}},line:369},"37":{name:"(anonymous_37)",decl:{start:{line:379,column:27},end:{line:379,column:28}},loc:{start:{line:379,column:36},end:{line:387,column:5}},line:379},"38":{name:"(anonymous_38)",decl:{start:{line:400,column:25},end:{line:400,column:26}},loc:{start:{line:400,column:38},end:{line:402,column:1}},line:400},"39":{name:"(anonymous_39)",decl:{start:{line:416,column:2},end:{line:416,column:3}},loc:{start:{line:416,column:23},end:{line:423,column:3}},line:416},"40":{name:"(anonymous_40)",decl:{start:{line:425,column:2},end:{line:425,column:3}},loc:{start:{line:425,column:30},end:{line:427,column:3}},line:425},"41":{name:"(anonymous_41)",decl:{start:{line:429,column:2},end:{line:429,column:3}},loc:{start:{line:429,column:29},end:{line:431,column:3}},line:429},"42":{name:"(anonymous_42)",decl:{start:{line:430,column:34},end:{line:430,column:35}},loc:{start:{line:430,column:54},end:{line:430,column:94}},line:430},"43":{name:"(anonymous_43)",decl:{start:{line:430,column:101},end:{line:430,column:102}},loc:{start:{line:430,column:111},end:{line:430,column:167}},line:430},"44":{name:"(anonymous_44)",decl:{start:{line:433,column:2},end:{line:433,column:3}},loc:{start:{line:433,column:31},end:{line:439,column:3}},line:433},"45":{name:"(anonymous_45)",decl:{start:{line:442,column:2},end:{line:442,column:3}},loc:{start:{line:444,column:5},end:{line:452,column:3}},line:444},"46":{name:"(anonymous_46)",decl:{start:{line:450,column:28},end:{line:450,column:29}},loc:{start:{line:450,column:34},end:{line:450,column:59}},line:450},"47":{name:"(anonymous_47)",decl:{start:{line:450,column:61},end:{line:450,column:62}},loc:{start:{line:450,column:67},end:{line:450,column:92}},line:450},"48":{name:"(anonymous_48)",decl:{start:{line:454,column:2},end:{line:454,column:3}},loc:{start:{line:456,column:5},end:{line:458,column:3}},line:456},"49":{name:"(anonymous_49)",decl:{start:{line:463,column:2},end:{line:463,column:3}},loc:{start:{line:463,column:42},end:{line:473,column:3}},line:463},"50":{name:"(anonymous_50)",decl:{start:{line:464,column:34},end:{line:464,column:35}},loc:{start:{line:464,column:44},end:{line:472,column:5}},line:464},"51":{name:"(anonymous_51)",decl:{start:{line:479,column:2},end:{line:479,column:3}},loc:{start:{line:479,column:55},end:{line:495,column:3}},line:479},"52":{name:"(anonymous_52)",decl:{start:{line:484,column:34},end:{line:484,column:35}},loc:{start:{line:484,column:39},end:{line:492,column:5}},line:484},"53":{name:"(anonymous_53)",decl:{start:{line:492,column:12},end:{line:492,column:13}},loc:{start:{line:492,column:18},end:{line:494,column:5}},line:492},"54":{name:"(anonymous_54)",decl:{start:{line:497,column:2},end:{line:497,column:3}},loc:{start:{line:502,column:81},end:{line:603,column:3}},line:502},"55":{name:"(anonymous_55)",decl:{start:{line:510,column:63},end:{line:510,column:64}},loc:{start:{line:510,column:83},end:{line:602,column:5}},line:510},"56":{name:"(anonymous_56)",decl:{start:{line:511,column:118},end:{line:511,column:119}},loc:{start:{line:511,column:124},end:{line:583,column:7}},line:511},"57":{name:"(anonymous_57)",decl:{start:{line:533,column:68},end:{line:533,column:69}},loc:{start:{line:533,column:77},end:{line:543,column:9}},line:533},"58":{name:"(anonymous_58)",decl:{start:{line:543,column:16},end:{line:543,column:17}},loc:{start:{line:543,column:26},end:{line:582,column:9}},line:543},"59":{name:"(anonymous_59)",decl:{start:{line:544,column:38},end:{line:544,column:39}},loc:{start:{line:544,column:51},end:{line:554,column:11}},line:544},"60":{name:"(anonymous_60)",decl:{start:{line:557,column:132},end:{line:557,column:133}},loc:{start:{line:557,column:144},end:{line:557,column:192}},line:557},"61":{name:"(anonymous_61)",decl:{start:{line:566,column:72},end:{line:566,column:73}},loc:{start:{line:566,column:82},end:{line:572,column:13}},line:566},"62":{name:"(anonymous_62)",decl:{start:{line:583,column:14},end:{line:583,column:15}},loc:{start:{line:583,column:24},end:{line:595,column:7}},line:583},"63":{name:"(anonymous_63)",decl:{start:{line:592,column:107},end:{line:592,column:108}},loc:{start:{line:592,column:113},end:{line:594,column:9}},line:592},"64":{name:"(anonymous_64)",decl:{start:{line:595,column:14},end:{line:595,column:15}},loc:{start:{line:595,column:24},end:{line:601,column:7}},line:595},"65":{name:"(anonymous_65)",decl:{start:{line:608,column:2},end:{line:608,column:3}},loc:{start:{line:608,column:54},end:{line:650,column:3}},line:608},"66":{name:"(anonymous_66)",decl:{start:{line:613,column:18},end:{line:613,column:19}},loc:{start:{line:613,column:31},end:{line:639,column:5}},line:613},"67":{name:"(anonymous_67)",decl:{start:{line:654,column:2},end:{line:654,column:3}},loc:{start:{line:654,column:58},end:{line:678,column:3}},line:654},"68":{name:"(anonymous_68)",decl:{start:{line:657,column:16},end:{line:657,column:17}},loc:{start:{line:660,column:10},end:{line:676,column:5}},line:660},"69":{name:"(anonymous_69)",decl:{start:{line:682,column:2},end:{line:682,column:3}},loc:{start:{line:682,column:48},end:{line:688,column:3}},line:682},"70":{name:"(anonymous_70)",decl:{start:{line:693,column:2},end:{line:693,column:3}},loc:{start:{line:693,column:51},end:{line:706,column:3}},line:693},"71":{name:"(anonymous_71)",decl:{start:{line:698,column:133},end:{line:698,column:134}},loc:{start:{line:698,column:142},end:{line:705,column:5}},line:698},"72":{name:"(anonymous_72)",decl:{start:{line:715,column:2},end:{line:715,column:3}},loc:{start:{line:717,column:33},end:{line:756,column:3}},line:717},"73":{name:"(anonymous_73)",decl:{start:{line:720,column:63},end:{line:720,column:64}},loc:{start:{line:720,column:83},end:{line:755,column:5}},line:720},"74":{name:"(anonymous_74)",decl:{start:{line:721,column:118},end:{line:721,column:119}},loc:{start:{line:721,column:124},end:{line:754,column:7}},line:721},"75":{name:"(anonymous_75)",decl:{start:{line:736,column:62},end:{line:736,column:63}},loc:{start:{line:736,column:71},end:{line:746,column:9}},line:736},"76":{name:"(anonymous_76)",decl:{start:{line:746,column:16},end:{line:746,column:17}},loc:{start:{line:746,column:37},end:{line:746,column:135}},line:746},"77":{name:"(anonymous_77)",decl:{start:{line:746,column:143},end:{line:746,column:144}},loc:{start:{line:746,column:152},end:{line:753,column:9}},line:746},"78":{name:"(anonymous_78)",decl:{start:{line:760,column:2},end:{line:760,column:3}},loc:{start:{line:762,column:55},end:{line:797,column:3}},line:762},"79":{name:"(anonymous_79)",decl:{start:{line:777,column:50},end:{line:777,column:51}},loc:{start:{line:777,column:56},end:{line:777,column:102}},line:777},"80":{name:"(anonymous_80)",decl:{start:{line:777,column:109},end:{line:777,column:110}},loc:{start:{line:777,column:129},end:{line:796,column:5}},line:777},"81":{name:"(anonymous_81)",decl:{start:{line:778,column:118},end:{line:778,column:119}},loc:{start:{line:778,column:124},end:{line:778,column:170}},line:778},"82":{name:"(anonymous_82)",decl:{start:{line:778,column:177},end:{line:778,column:178}},loc:{start:{line:778,column:183},end:{line:778,column:229}},line:778},"83":{name:"(anonymous_83)",decl:{start:{line:778,column:236},end:{line:778,column:237}},loc:{start:{line:778,column:246},end:{line:787,column:7}},line:778},"84":{name:"(anonymous_84)",decl:{start:{line:787,column:14},end:{line:787,column:15}},loc:{start:{line:787,column:24},end:{line:795,column:7}},line:787},"85":{name:"(anonymous_85)",decl:{start:{line:792,column:100},end:{line:792,column:101}},loc:{start:{line:792,column:106},end:{line:794,column:9}},line:792},"86":{name:"(anonymous_86)",decl:{start:{line:799,column:2},end:{line:799,column:3}},loc:{start:{line:799,column:63},end:{line:825,column:3}},line:799},"87":{name:"(anonymous_87)",decl:{start:{line:808,column:34},end:{line:808,column:35}},loc:{start:{line:808,column:43},end:{line:815,column:5}},line:808},"88":{name:"(anonymous_88)",decl:{start:{line:835,column:2},end:{line:835,column:3}},loc:{start:{line:835,column:33},end:{line:841,column:3}},line:835},"89":{name:"(anonymous_89)",decl:{start:{line:845,column:2},end:{line:845,column:3}},loc:{start:{line:845,column:53},end:{line:865,column:3}},line:845},"90":{name:"(anonymous_90)",decl:{start:{line:864,column:25},end:{line:864,column:26}},loc:{start:{line:864,column:36},end:{line:864,column:75}},line:864},"91":{name:"(anonymous_91)",decl:{start:{line:864,column:48},end:{line:864,column:49}},loc:{start:{line:864,column:58},end:{line:864,column:74}},line:864},"92":{name:"(anonymous_92)",decl:{start:{line:869,column:2},end:{line:869,column:3}},loc:{start:{line:869,column:40},end:{line:877,column:3}},line:869},"93":{name:"(anonymous_93)",decl:{start:{line:876,column:12},end:{line:876,column:13}},loc:{start:{line:876,column:23},end:{line:876,column:61}},line:876},"94":{name:"(anonymous_94)",decl:{start:{line:876,column:35},end:{line:876,column:36}},loc:{start:{line:876,column:45},end:{line:876,column:60}},line:876},"95":{name:"(anonymous_95)",decl:{start:{line:882,column:2},end:{line:882,column:3}},loc:{start:{line:882,column:45},end:{line:974,column:3}},line:882},"96":{name:"(anonymous_96)",decl:{start:{line:887,column:33},end:{line:887,column:34}},loc:{start:{line:887,column:52},end:{line:891,column:7}},line:887},"97":{name:"(anonymous_97)",decl:{start:{line:888,column:69},end:{line:888,column:70}},loc:{start:{line:888,column:79},end:{line:890,column:9}},line:888},"98":{name:"(anonymous_98)",decl:{start:{line:891,column:15},end:{line:891,column:16}},loc:{start:{line:891,column:21},end:{line:893,column:7}},line:891},"99":{name:"(anonymous_99)",decl:{start:{line:898,column:34},end:{line:898,column:35}},loc:{start:{line:898,column:53},end:{line:902,column:7}},line:898},"100":{name:"(anonymous_100)",decl:{start:{line:899,column:69},end:{line:899,column:70}},loc:{start:{line:899,column:79},end:{line:901,column:9}},line:899},"101":{name:"(anonymous_101)",decl:{start:{line:902,column:15},end:{line:902,column:16}},loc:{start:{line:902,column:21},end:{line:904,column:7}},line:902},"102":{name:"(anonymous_102)",decl:{start:{line:907,column:44},end:{line:907,column:45}},loc:{start:{line:907,column:51},end:{line:970,column:5}},line:907},"103":{name:"(anonymous_103)",decl:{start:{line:918,column:46},end:{line:918,column:47}},loc:{start:{line:918,column:63},end:{line:940,column:9}},line:918},"104":{name:"(anonymous_104)",decl:{start:{line:925,column:47},end:{line:925,column:48}},loc:{start:{line:925,column:52},end:{line:925,column:62}},line:925},"105":{name:"(anonymous_105)",decl:{start:{line:928,column:48},end:{line:928,column:49}},loc:{start:{line:928,column:53},end:{line:928,column:63}},line:928},"106":{name:"(anonymous_106)",decl:{start:{line:952,column:35},end:{line:952,column:36}},loc:{start:{line:952,column:40},end:{line:966,column:7}},line:952},"107":{name:"(anonymous_107)",decl:{start:{line:957,column:65},end:{line:957,column:66}},loc:{start:{line:957,column:72},end:{line:965,column:9}},line:957},"108":{name:"(anonymous_108)",decl:{start:{line:967,column:40},end:{line:967,column:41}},loc:{start:{line:967,column:46},end:{line:969,column:7}},line:967},"109":{name:"(anonymous_109)",decl:{start:{line:971,column:38},end:{line:971,column:39}},loc:{start:{line:971,column:44},end:{line:973,column:5}},line:971},"110":{name:"(anonymous_110)",decl:{start:{line:978,column:2},end:{line:978,column:3}},loc:{start:{line:978,column:53},end:{line:1000,column:3}},line:978},"111":{name:"(anonymous_111)",decl:{start:{line:980,column:42},end:{line:980,column:43}},loc:{start:{line:980,column:52},end:{line:982,column:7}},line:980},"112":{name:"(anonymous_112)",decl:{start:{line:986,column:43},end:{line:986,column:44}},loc:{start:{line:986,column:53},end:{line:988,column:7}},line:986},"113":{name:"(anonymous_113)",decl:{start:{line:994,column:118},end:{line:994,column:119}},loc:{start:{line:994,column:125},end:{line:998,column:7}},line:994},"114":{name:"(anonymous_114)",decl:{start:{line:998,column:14},end:{line:998,column:15}},loc:{start:{line:998,column:20},end:{line:998,column:22}},line:998},"115":{name:"(anonymous_115)",decl:{start:{line:1002,column:2},end:{line:1002,column:3}},loc:{start:{line:1002,column:39},end:{line:1031,column:3}},line:1002},"116":{name:"(anonymous_116)",decl:{start:{line:1007,column:69},end:{line:1007,column:70}},loc:{start:{line:1007,column:77},end:{line:1007,column:90}},line:1007},"117":{name:"(anonymous_117)",decl:{start:{line:1008,column:38},end:{line:1008,column:39}},loc:{start:{line:1008,column:54},end:{line:1008,column:72}},line:1008},"118":{name:"(anonymous_118)",decl:{start:{line:1033,column:2},end:{line:1033,column:3}},loc:{start:{line:1033,column:40},end:{line:1052,column:3}},line:1033},"119":{name:"(anonymous_119)",decl:{start:{line:1035,column:48},end:{line:1035,column:49}},loc:{start:{line:1035,column:56},end:{line:1035,column:69}},line:1035},"120":{name:"(anonymous_120)",decl:{start:{line:1069,column:2},end:{line:1069,column:3}},loc:{start:{line:1083,column:44},end:{line:1201,column:3}},line:1083},"121":{name:"(anonymous_121)",decl:{start:{line:1090,column:63},end:{line:1090,column:64}},loc:{start:{line:1090,column:83},end:{line:1200,column:5}},line:1090},"122":{name:"(anonymous_122)",decl:{start:{line:1094,column:70},end:{line:1094,column:71}},loc:{start:{line:1094,column:79},end:{line:1105,column:7}},line:1094},"123":{name:"(anonymous_123)",decl:{start:{line:1105,column:14},end:{line:1105,column:15}},loc:{start:{line:1105,column:24},end:{line:1199,column:7}},line:1105},"124":{name:"(anonymous_124)",decl:{start:{line:1129,column:34},end:{line:1129,column:35}},loc:{start:{line:1129,column:47},end:{line:1139,column:9}},line:1129},"125":{name:"(anonymous_125)",decl:{start:{line:1140,column:114},end:{line:1140,column:115}},loc:{start:{line:1140,column:120},end:{line:1140,column:175}},line:1140},"126":{name:"(anonymous_126)",decl:{start:{line:1140,column:182},end:{line:1140,column:183}},loc:{start:{line:1140,column:188},end:{line:1140,column:245}},line:1140},"127":{name:"(anonymous_127)",decl:{start:{line:1140,column:252},end:{line:1140,column:253}},loc:{start:{line:1140,column:258},end:{line:1198,column:9}},line:1140},"128":{name:"(anonymous_128)",decl:{start:{line:1191,column:82},end:{line:1191,column:83}},loc:{start:{line:1191,column:93},end:{line:1194,column:14}},line:1191},"129":{name:"(anonymous_129)",decl:{start:{line:1191,column:105},end:{line:1191,column:106}},loc:{start:{line:1191,column:115},end:{line:1194,column:13}},line:1191},"130":{name:"(anonymous_130)",decl:{start:{line:1194,column:22},end:{line:1194,column:23}},loc:{start:{line:1194,column:31},end:{line:1196,column:13}},line:1194},"131":{name:"(anonymous_131)",decl:{start:{line:1203,column:2},end:{line:1203,column:3}},loc:{start:{line:1203,column:26},end:{line:1240,column:3}},line:1203},"132":{name:"(anonymous_132)",decl:{start:{line:1207,column:12},end:{line:1207,column:13}},loc:{start:{line:1207,column:17},end:{line:1210,column:5}},line:1207},"133":{name:"(anonymous_133)",decl:{start:{line:1210,column:13},end:{line:1210,column:14}},loc:{start:{line:1210,column:22},end:{line:1218,column:5}},line:1210},"134":{name:"(anonymous_134)",decl:{start:{line:1218,column:12},end:{line:1218,column:13}},loc:{start:{line:1218,column:22},end:{line:1239,column:5}},line:1218},"135":{name:"(anonymous_135)",decl:{start:{line:1219,column:51},end:{line:1219,column:52}},loc:{start:{line:1219,column:57},end:{line:1221,column:25}},line:1219},"136":{name:"(anonymous_136)",decl:{start:{line:1221,column:32},end:{line:1221,column:33}},loc:{start:{line:1221,column:41},end:{line:1227,column:7}},line:1221},"137":{name:"(anonymous_137)",decl:{start:{line:1227,column:14},end:{line:1227,column:15}},loc:{start:{line:1227,column:36},end:{line:1238,column:7}},line:1227},"138":{name:"(anonymous_138)",decl:{start:{line:1229,column:71},end:{line:1229,column:72}},loc:{start:{line:1229,column:84},end:{line:1229,column:128}},line:1229},"139":{name:"(anonymous_139)",decl:{start:{line:1230,column:52},end:{line:1230,column:53}},loc:{start:{line:1230,column:60},end:{line:1230,column:116}},line:1230},"140":{name:"(anonymous_140)",decl:{start:{line:1230,column:124},end:{line:1230,column:125}},loc:{start:{line:1230,column:130},end:{line:1234,column:11}},line:1230},"141":{name:"(anonymous_141)",decl:{start:{line:1245,column:2},end:{line:1245,column:3}},loc:{start:{line:1245,column:32},end:{line:1247,column:3}},line:1245},"142":{name:"(anonymous_142)",decl:{start:{line:1246,column:37},end:{line:1246,column:38}},loc:{start:{line:1246,column:42},end:{line:1246,column:81}},line:1246},"143":{name:"(anonymous_143)",decl:{start:{line:1246,column:48},end:{line:1246,column:49}},loc:{start:{line:1246,column:53},end:{line:1246,column:70}},line:1246},"144":{name:"(anonymous_144)",decl:{start:{line:1250,column:2},end:{line:1250,column:3}},loc:{start:{line:1250,column:27},end:{line:1285,column:3}},line:1250},"145":{name:"(anonymous_145)",decl:{start:{line:1255,column:34},end:{line:1255,column:35}},loc:{start:{line:1255,column:39},end:{line:1255,column:69}},line:1255},"146":{name:"(anonymous_146)",decl:{start:{line:1264,column:55},end:{line:1264,column:56}},loc:{start:{line:1264,column:71},end:{line:1264,column:118}},line:1264},"147":{name:"(anonymous_147)",decl:{start:{line:1288,column:2},end:{line:1288,column:3}},loc:{start:{line:1288,column:28},end:{line:1323,column:3}},line:1288},"148":{name:"(anonymous_148)",decl:{start:{line:1293,column:35},end:{line:1293,column:36}},loc:{start:{line:1293,column:40},end:{line:1293,column:70}},line:1293},"149":{name:"(anonymous_149)",decl:{start:{line:1302,column:55},end:{line:1302,column:56}},loc:{start:{line:1302,column:71},end:{line:1302,column:118}},line:1302},"150":{name:"(anonymous_150)",decl:{start:{line:1330,column:2},end:{line:1330,column:3}},loc:{start:{line:1330,column:76},end:{line:1415,column:3}},line:1330},"151":{name:"(anonymous_151)",decl:{start:{line:1338,column:36},end:{line:1338,column:37}},loc:{start:{line:1338,column:43},end:{line:1340,column:5}},line:1338},"152":{name:"(anonymous_152)",decl:{start:{line:1371,column:37},end:{line:1371,column:38}},loc:{start:{line:1371,column:44},end:{line:1408,column:7}},line:1371},"153":{name:"(anonymous_153)",decl:{start:{line:1417,column:2},end:{line:1417,column:3}},loc:{start:{line:1417,column:97},end:{line:1506,column:3}},line:1417},"154":{name:"(anonymous_154)",decl:{start:{line:1434,column:48},end:{line:1434,column:49}},loc:{start:{line:1434,column:60},end:{line:1437,column:5}},line:1434},"155":{name:"(anonymous_155)",decl:{start:{line:1492,column:49},end:{line:1492,column:50}},loc:{start:{line:1492,column:64},end:{line:1498,column:5}},line:1492},"156":{name:"(anonymous_156)",decl:{start:{line:1500,column:30},end:{line:1500,column:31}},loc:{start:{line:1500,column:40},end:{line:1504,column:5}},line:1500},"157":{name:"(anonymous_157)",decl:{start:{line:1502,column:45},end:{line:1502,column:46}},loc:{start:{line:1502,column:50},end:{line:1502,column:68}},line:1502},"158":{name:"(anonymous_158)",decl:{start:{line:1508,column:2},end:{line:1508,column:3}},loc:{start:{line:1508,column:31},end:{line:1512,column:3}},line:1508},"159":{name:"(anonymous_159)",decl:{start:{line:1509,column:58},end:{line:1509,column:59}},loc:{start:{line:1509,column:82},end:{line:1511,column:5}},line:1509},"160":{name:"(anonymous_160)",decl:{start:{line:1514,column:2},end:{line:1514,column:3}},loc:{start:{line:1514,column:31},end:{line:1522,column:3}},line:1514},"161":{name:"(anonymous_161)",decl:{start:{line:1519,column:84},end:{line:1519,column:85}},loc:{start:{line:1519,column:90},end:{line:1521,column:5}},line:1519},"162":{name:"(anonymous_162)",decl:{start:{line:1524,column:2},end:{line:1524,column:3}},loc:{start:{line:1524,column:30},end:{line:1532,column:3}},line:1524},"163":{name:"(anonymous_163)",decl:{start:{line:1529,column:83},end:{line:1529,column:84}},loc:{start:{line:1529,column:89},end:{line:1531,column:5}},line:1529},"164":{name:"(anonymous_164)",decl:{start:{line:1536,column:2},end:{line:1536,column:3}},loc:{start:{line:1536,column:32},end:{line:1603,column:3}},line:1536},"165":{name:"(anonymous_165)",decl:{start:{line:1549,column:33},end:{line:1549,column:34}},loc:{start:{line:1549,column:43},end:{line:1549,column:77}},line:1549},"166":{name:"(anonymous_166)",decl:{start:{line:1550,column:33},end:{line:1550,column:34}},loc:{start:{line:1550,column:43},end:{line:1550,column:77}},line:1550},"167":{name:"(anonymous_167)",decl:{start:{line:1553,column:35},end:{line:1553,column:36}},loc:{start:{line:1553,column:45},end:{line:1553,column:86}},line:1553},"168":{name:"(anonymous_168)",decl:{start:{line:1556,column:89},end:{line:1556,column:90}},loc:{start:{line:1556,column:98},end:{line:1560,column:5}},line:1556},"169":{name:"(anonymous_169)",decl:{start:{line:1561,column:119},end:{line:1561,column:120}},loc:{start:{line:1561,column:128},end:{line:1565,column:5}},line:1561},"170":{name:"(anonymous_170)",decl:{start:{line:1566,column:119},end:{line:1566,column:120}},loc:{start:{line:1566,column:128},end:{line:1570,column:5}},line:1566},"171":{name:"(anonymous_171)",decl:{start:{line:1571,column:86},end:{line:1571,column:87}},loc:{start:{line:1571,column:95},end:{line:1575,column:5}},line:1571},"172":{name:"(anonymous_172)",decl:{start:{line:1576,column:113},end:{line:1576,column:114}},loc:{start:{line:1576,column:122},end:{line:1580,column:5}},line:1576},"173":{name:"(anonymous_173)",decl:{start:{line:1581,column:85},end:{line:1581,column:86}},loc:{start:{line:1581,column:94},end:{line:1585,column:5}},line:1581},"174":{name:"(anonymous_174)",decl:{start:{line:1588,column:102},end:{line:1588,column:103}},loc:{start:{line:1588,column:111},end:{line:1592,column:7}},line:1588},"175":{name:"(anonymous_175)",decl:{start:{line:1595,column:15},end:{line:1595,column:16}},loc:{start:{line:1595,column:24},end:{line:1599,column:7}},line:1595}},branchMap:{"0":{loc:{start:{line:23,column:49},end:{line:23,column:96}},type:"if",locations:[{start:{line:23,column:49},end:{line:23,column:96}},{start:{line:23,column:49},end:{line:23,column:96}}],line:23},"1":{loc:{start:{line:23,column:241},end:{line:23,column:291}},type:"cond-expr",locations:[{start:{line:23,column:255},end:{line:23,column:271}},{start:{line:23,column:274},end:{line:23,column:291}}],line:23},"2":{loc:{start:{line:25,column:53},end:{line:25,column:111}},type:"if",locations:[{start:{line:25,column:53},end:{line:25,column:111}},{start:{line:25,column:53},end:{line:25,column:111}}],line:25},"3":{loc:{start:{line:25,column:57},end:{line:25,column:94}},type:"binary-expr",locations:[{start:{line:25,column:57},end:{line:25,column:69}},{start:{line:25,column:73},end:{line:25,column:76}},{start:{line:25,column:80},end:{line:25,column:94}}],line:25},"4":{loc:{start:{line:25,column:112},end:{line:25,column:214}},type:"if",locations:[{start:{line:25,column:112},end:{line:25,column:214}},{start:{line:25,column:112},end:{line:25,column:214}}],line:25},"5":{loc:{start:{line:25,column:116},end:{line:25,column:184}},type:"binary-expr",locations:[{start:{line:25,column:116},end:{line:25,column:128}},{start:{line:25,column:132},end:{line:25,column:155}},{start:{line:25,column:159},end:{line:25,column:184}}],line:25},"6":{loc:{start:{line:25,column:266},end:{line:25,column:321}},type:"if",locations:[{start:{line:25,column:266},end:{line:25,column:321}},{start:{line:25,column:266},end:{line:25,column:321}}],line:25},"7":{loc:{start:{line:25,column:270},end:{line:25,column:293}},type:"binary-expr",locations:[{start:{line:25,column:270},end:{line:25,column:275}},{start:{line:25,column:279},end:{line:25,column:293}}],line:25},"8":{loc:{start:{line:25,column:367},end:{line:25,column:423}},type:"binary-expr",locations:[{start:{line:25,column:367},end:{line:25,column:388}},{start:{line:25,column:392},end:{line:25,column:423}}],line:25},"9":{loc:{start:{line:25,column:448},end:{line:25,column:724}},type:"if",locations:[{start:{line:25,column:448},end:{line:25,column:724}},{start:{line:25,column:448},end:{line:25,column:724}}],line:25},"10":{loc:{start:{line:25,column:452},end:{line:25,column:519}},type:"binary-expr",locations:[{start:{line:25,column:452},end:{line:25,column:469}},{start:{line:25,column:473},end:{line:25,column:519}}],line:25},"11":{loc:{start:{line:25,column:534},end:{line:25,column:606}},type:"cond-expr",locations:[{start:{line:25,column:558},end:{line:25,column:599}},{start:{line:25,column:602},end:{line:25,column:606}}],line:25},"12":{loc:{start:{line:25,column:608},end:{line:25,column:722}},type:"if",locations:[{start:{line:25,column:608},end:{line:25,column:722}},{start:{line:25,column:608},end:{line:25,column:722}}],line:25},"13":{loc:{start:{line:25,column:612},end:{line:25,column:642}},type:"binary-expr",locations:[{start:{line:25,column:612},end:{line:25,column:616}},{start:{line:25,column:621},end:{line:25,column:629}},{start:{line:25,column:633},end:{line:25,column:641}}],line:25},"14":{loc:{start:{line:25,column:749},end:{line:25,column:787}},type:"if",locations:[{start:{line:25,column:749},end:{line:25,column:787}},{start:{line:25,column:749},end:{line:25,column:787}}],line:25},"15":{loc:{start:{line:27,column:46},end:{line:27,column:92}},type:"cond-expr",locations:[{start:{line:27,column:70},end:{line:27,column:73}},{start:{line:27,column:76},end:{line:27,column:92}}],line:27},"16":{loc:{start:{line:27,column:46},end:{line:27,column:67}},type:"binary-expr",locations:[{start:{line:27,column:46},end:{line:27,column:49}},{start:{line:27,column:53},end:{line:27,column:67}}],line:27},"17":{loc:{start:{line:29,column:75},end:{line:29,column:330}},type:"if",locations:[{start:{line:29,column:75},end:{line:29,column:330}},{start:{line:29,column:75},end:{line:29,column:330}}],line:29},"18":{loc:{start:{line:29,column:163},end:{line:29,column:296}},type:"if",locations:[{start:{line:29,column:163},end:{line:29,column:296}},{start:{line:29,column:163},end:{line:29,column:296}}],line:29},"19":{loc:{start:{line:31,column:91},end:{line:31,column:131}},type:"cond-expr",locations:[{start:{line:31,column:114},end:{line:31,column:126}},{start:{line:31,column:129},end:{line:31,column:131}}],line:31},"20":{loc:{start:{line:31,column:133},end:{line:31,column:515}},type:"if",locations:[{start:{line:31,column:133},end:{line:31,column:515}},{start:{line:31,column:133},end:{line:31,column:515}}],line:31},"21":{loc:{start:{line:31,column:255},end:{line:31,column:515}},type:"if",locations:[{start:{line:31,column:255},end:{line:31,column:515}},{start:{line:31,column:255},end:{line:31,column:515}}],line:31},"22":{loc:{start:{line:33,column:44},end:{line:33,column:195}},type:"if",locations:[{start:{line:33,column:44},end:{line:33,column:195}},{start:{line:33,column:44},end:{line:33,column:195}}],line:33},"23":{loc:{start:{line:35,column:54},end:{line:35,column:84}},type:"if",locations:[{start:{line:35,column:54},end:{line:35,column:84}},{start:{line:35,column:54},end:{line:35,column:84}}],line:35},"24":{loc:{start:{line:35,column:159},end:{line:35,column:475}},type:"if",locations:[{start:{line:35,column:159},end:{line:35,column:475}},{start:{line:35,column:159},end:{line:35,column:475}}],line:35},"25":{loc:{start:{line:35,column:331},end:{line:35,column:372}},type:"if",locations:[{start:{line:35,column:331},end:{line:35,column:372}},{start:{line:35,column:331},end:{line:35,column:372}}],line:35},"26":{loc:{start:{line:35,column:373},end:{line:35,column:444}},type:"if",locations:[{start:{line:35,column:373},end:{line:35,column:444}},{start:{line:35,column:373},end:{line:35,column:444}}],line:35},"27":{loc:{start:{line:37,column:59},end:{line:37,column:89}},type:"if",locations:[{start:{line:37,column:59},end:{line:37,column:89}},{start:{line:37,column:59},end:{line:37,column:89}}],line:37},"28":{loc:{start:{line:37,column:220},end:{line:37,column:261}},type:"if",locations:[{start:{line:37,column:220},end:{line:37,column:261}},{start:{line:37,column:220},end:{line:37,column:261}}],line:37},"29":{loc:{start:{line:66,column:2},end:{line:68,column:3}},type:"if",locations:[{start:{line:66,column:2},end:{line:68,column:3}},{start:{line:66,column:2},end:{line:68,column:3}}],line:66},"30":{loc:{start:{line:74,column:4},end:{line:76,column:5}},type:"if",locations:[{start:{line:74,column:4},end:{line:76,column:5}},{start:{line:74,column:4},end:{line:76,column:5}}],line:74},"31":{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:78,column:4},end:{line:80,column:5}}],line:78},"32":{loc:{start:{line:93,column:2},end:{line:95,column:3}},type:"if",locations:[{start:{line:93,column:2},end:{line:95,column:3}},{start:{line:93,column:2},end:{line:95,column:3}}],line:93},"33":{loc:{start:{line:97,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:97,column:2},end:{line:103,column:3}},{start:{line:97,column:2},end:{line:103,column:3}}],line:97},"34":{loc:{start:{line:98,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:102,column:5}},{start:{line:98,column:4},end:{line:102,column:5}}],line:98},"35":{loc:{start:{line:105,column:2},end:{line:111,column:3}},type:"if",locations:[{start:{line:105,column:2},end:{line:111,column:3}},{start:{line:105,column:2},end:{line:111,column:3}}],line:105},"36":{loc:{start:{line:106,column:4},end:{line:110,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:110,column:5}},{start:{line:106,column:4},end:{line:110,column:5}}],line:106},"37":{loc:{start:{line:113,column:2},end:{line:119,column:3}},type:"if",locations:[{start:{line:113,column:2},end:{line:119,column:3}},{start:{line:113,column:2},end:{line:119,column:3}}],line:113},"38":{loc:{start:{line:114,column:4},end:{line:118,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:118,column:5}},{start:{line:114,column:4},end:{line:118,column:5}}],line:114},"39":{loc:{start:{line:114,column:8},end:{line:114,column:60}},type:"binary-expr",locations:[{start:{line:114,column:8},end:{line:114,column:35}},{start:{line:114,column:39},end:{line:114,column:60}}],line:114},"40":{loc:{start:{line:122,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:128,column:5}},{start:{line:122,column:4},end:{line:128,column:5}}],line:122},"41":{loc:{start:{line:122,column:8},end:{line:122,column:48}},type:"binary-expr",locations:[{start:{line:122,column:8},end:{line:122,column:13}},{start:{line:122,column:17},end:{line:122,column:27}},{start:{line:122,column:31},end:{line:122,column:48}}],line:122},"42":{loc:{start:{line:123,column:6},end:{line:127,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:127,column:7}},{start:{line:123,column:6},end:{line:127,column:7}}],line:123},"43":{loc:{start:{line:124,column:8},end:{line:126,column:9}},type:"if",locations:[{start:{line:124,column:8},end:{line:126,column:9}},{start:{line:124,column:8},end:{line:126,column:9}}],line:124},"44":{loc:{start:{line:130,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:130,column:4},end:{line:132,column:5}},{start:{line:130,column:4},end:{line:132,column:5}}],line:130},"45":{loc:{start:{line:130,column:8},end:{line:130,column:74}},type:"binary-expr",locations:[{start:{line:130,column:8},end:{line:130,column:31}},{start:{line:130,column:35},end:{line:130,column:74}}],line:130},"46":{loc:{start:{line:139,column:2},end:{line:139,column:47}},type:"if",locations:[{start:{line:139,column:2},end:{line:139,column:47}},{start:{line:139,column:2},end:{line:139,column:47}}],line:139},"47":{loc:{start:{line:139,column:6},end:{line:139,column:23}},type:"binary-expr",locations:[{start:{line:139,column:6},end:{line:139,column:10}},{start:{line:139,column:14},end:{line:139,column:23}}],line:139},"48":{loc:{start:{line:143,column:2},end:{line:194,column:3}},type:"if",locations:[{start:{line:143,column:2},end:{line:194,column:3}},{start:{line:143,column:2},end:{line:194,column:3}}],line:143},"49":{loc:{start:{line:146,column:4},end:{line:193,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:193,column:5}},{start:{line:146,column:4},end:{line:193,column:5}}],line:146},"50":{loc:{start:{line:146,column:8},end:{line:146,column:48}},type:"binary-expr",locations:[{start:{line:146,column:8},end:{line:146,column:23}},{start:{line:146,column:27},end:{line:146,column:48}}],line:146},"51":{loc:{start:{line:161,column:8},end:{line:167,column:9}},type:"if",locations:[{start:{line:161,column:8},end:{line:167,column:9}},{start:{line:161,column:8},end:{line:167,column:9}}],line:161},"52":{loc:{start:{line:162,column:10},end:{line:166,column:11}},type:"if",locations:[{start:{line:162,column:10},end:{line:166,column:11}},{start:{line:162,column:10},end:{line:166,column:11}}],line:162},"53":{loc:{start:{line:163,column:70},end:{line:163,column:111}},type:"binary-expr",locations:[{start:{line:163,column:70},end:{line:163,column:83}},{start:{line:163,column:87},end:{line:163,column:111}}],line:163},"54":{loc:{start:{line:165,column:38},end:{line:165,column:107}},type:"binary-expr",locations:[{start:{line:165,column:38},end:{line:165,column:65}},{start:{line:165,column:69},end:{line:165,column:107}}],line:165},"55":{loc:{start:{line:169,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:169,column:8},end:{line:172,column:9}},{start:{line:169,column:8},end:{line:172,column:9}}],line:169},"56":{loc:{start:{line:177,column:6},end:{line:179,column:7}},type:"if",locations:[{start:{line:177,column:6},end:{line:179,column:7}},{start:{line:177,column:6},end:{line:179,column:7}}],line:177},"57":{loc:{start:{line:177,column:10},end:{line:177,column:52}},type:"binary-expr",locations:[{start:{line:177,column:10},end:{line:177,column:33}},{start:{line:177,column:37},end:{line:177,column:52}}],line:177},"58":{loc:{start:{line:183,column:8},end:{line:191,column:9}},type:"if",locations:[{start:{line:183,column:8},end:{line:191,column:9}},{start:{line:183,column:8},end:{line:191,column:9}}],line:183},"59":{loc:{start:{line:186,column:10},end:{line:190,column:11}},type:"if",locations:[{start:{line:186,column:10},end:{line:190,column:11}},{start:{line:186,column:10},end:{line:190,column:11}}],line:186},"60":{loc:{start:{line:200,column:2},end:{line:205,column:3}},type:"if",locations:[{start:{line:200,column:2},end:{line:205,column:3}},{start:{line:200,column:2},end:{line:205,column:3}}],line:200},"61":{loc:{start:{line:200,column:8},end:{line:200,column:59}},type:"binary-expr",locations:[{start:{line:200,column:8},end:{line:200,column:19}},{start:{line:200,column:23},end:{line:200,column:29}},{start:{line:200,column:33},end:{line:200,column:59}}],line:200},"62":{loc:{start:{line:201,column:4},end:{line:201,column:69}},type:"binary-expr",locations:[{start:{line:201,column:4},end:{line:201,column:19}},{start:{line:201,column:23},end:{line:201,column:69}}],line:201},"63":{loc:{start:{line:204,column:4},end:{line:204,column:134}},type:"binary-expr",locations:[{start:{line:204,column:4},end:{line:204,column:25}},{start:{line:204,column:29},end:{line:204,column:64}},{start:{line:204,column:68},end:{line:204,column:134}}],line:204},"64":{loc:{start:{line:207,column:2},end:{line:209,column:3}},type:"if",locations:[{start:{line:207,column:2},end:{line:209,column:3}},{start:{line:207,column:2},end:{line:209,column:3}}],line:207},"65":{loc:{start:{line:215,column:2},end:{line:217,column:3}},type:"if",locations:[{start:{line:215,column:2},end:{line:217,column:3}},{start:{line:215,column:2},end:{line:217,column:3}}],line:215},"66":{loc:{start:{line:229,column:2},end:{line:231,column:3}},type:"if",locations:[{start:{line:229,column:2},end:{line:231,column:3}},{start:{line:229,column:2},end:{line:231,column:3}}],line:229},"67":{loc:{start:{line:252,column:2},end:{line:255,column:3}},type:"if",locations:[{start:{line:252,column:2},end:{line:255,column:3}},{start:{line:252,column:2},end:{line:255,column:3}}],line:252},"68":{loc:{start:{line:262,column:43},end:{line:262,column:65}},type:"binary-expr",locations:[{start:{line:262,column:43},end:{line:262,column:59}},{start:{line:262,column:63},end:{line:262,column:65}}],line:262},"69":{loc:{start:{line:270,column:2},end:{line:272,column:3}},type:"if",locations:[{start:{line:270,column:2},end:{line:272,column:3}},{start:{line:270,column:2},end:{line:272,column:3}}],line:270},"70":{loc:{start:{line:277,column:4},end:{line:281,column:5}},type:"if",locations:[{start:{line:277,column:4},end:{line:281,column:5}},{start:{line:277,column:4},end:{line:281,column:5}}],line:277},"71":{loc:{start:{line:277,column:8},end:{line:277,column:144}},type:"binary-expr",locations:[{start:{line:277,column:8},end:{line:277,column:17}},{start:{line:277,column:21},end:{line:277,column:50}},{start:{line:277,column:54},end:{line:277,column:68}},{start:{line:277,column:72},end:{line:277,column:144}}],line:277},"72":{loc:{start:{line:292,column:4},end:{line:333,column:5}},type:"if",locations:[{start:{line:292,column:4},end:{line:333,column:5}},{start:{line:292,column:4},end:{line:333,column:5}}],line:292},"73":{loc:{start:{line:292,column:8},end:{line:292,column:39}},type:"binary-expr",locations:[{start:{line:292,column:8},end:{line:292,column:19}},{start:{line:292,column:23},end:{line:292,column:39}}],line:292},"74":{loc:{start:{line:293,column:6},end:{line:332,column:7}},type:"switch",locations:[{start:{line:294,column:8},end:{line:300,column:16}},{start:{line:302,column:8},end:{line:308,column:16}},{start:{line:310,column:8},end:{line:316,column:16}},{start:{line:318,column:8},end:{line:324,column:16}},{start:{line:326,column:8},end:{line:328,column:16}},{start:{line:330,column:8},end:{line:331,column:135}}],line:293},"75":{loc:{start:{line:295,column:10},end:{line:297,column:11}},type:"if",locations:[{start:{line:295,column:10},end:{line:297,column:11}},{start:{line:295,column:10},end:{line:297,column:11}}],line:295},"76":{loc:{start:{line:303,column:10},end:{line:305,column:11}},type:"if",locations:[{start:{line:303,column:10},end:{line:305,column:11}},{start:{line:303,column:10},end:{line:305,column:11}}],line:303},"77":{loc:{start:{line:311,column:10},end:{line:313,column:11}},type:"if",locations:[{start:{line:311,column:10},end:{line:313,column:11}},{start:{line:311,column:10},end:{line:313,column:11}}],line:311},"78":{loc:{start:{line:319,column:10},end:{line:321,column:11}},type:"if",locations:[{start:{line:319,column:10},end:{line:321,column:11}},{start:{line:319,column:10},end:{line:321,column:11}}],line:319},"79":{loc:{start:{line:338,column:2},end:{line:355,column:3}},type:"if",locations:[{start:{line:338,column:2},end:{line:355,column:3}},{start:{line:338,column:2},end:{line:355,column:3}}],line:338},"80":{loc:{start:{line:338,column:6},end:{line:338,column:46}},type:"binary-expr",locations:[{start:{line:338,column:6},end:{line:338,column:21}},{start:{line:338,column:25},end:{line:338,column:46}}],line:338},"81":{loc:{start:{line:343,column:6},end:{line:352,column:7}},type:"if",locations:[{start:{line:343,column:6},end:{line:352,column:7}},{start:{line:343,column:6},end:{line:352,column:7}}],line:343},"82":{loc:{start:{line:366,column:2},end:{line:388,column:3}},type:"if",locations:[{start:{line:366,column:2},end:{line:388,column:3}},{start:{line:366,column:2},end:{line:388,column:3}}],line:366},"83":{loc:{start:{line:366,column:6},end:{line:366,column:22}},type:"binary-expr",locations:[{start:{line:366,column:6},end:{line:366,column:12}},{start:{line:366,column:16},end:{line:366,column:22}}],line:366},"84":{loc:{start:{line:369,column:5},end:{line:369,column:17}},type:"binary-expr",locations:[{start:{line:369,column:5},end:{line:369,column:11}},{start:{line:369,column:15},end:{line:369,column:17}}],line:369},"85":{loc:{start:{line:370,column:6},end:{line:376,column:7}},type:"if",locations:[{start:{line:370,column:6},end:{line:376,column:7}},{start:{line:370,column:6},end:{line:376,column:7}}],line:370},"86":{loc:{start:{line:379,column:5},end:{line:379,column:17}},type:"binary-expr",locations:[{start:{line:379,column:5},end:{line:379,column:11}},{start:{line:379,column:15},end:{line:379,column:17}}],line:379},"87":{loc:{start:{line:380,column:6},end:{line:386,column:7}},type:"if",locations:[{start:{line:380,column:6},end:{line:386,column:7}},{start:{line:380,column:6},end:{line:386,column:7}}],line:380},"88":{loc:{start:{line:434,column:4},end:{line:436,column:5}},type:"if",locations:[{start:{line:434,column:4},end:{line:436,column:5}},{start:{line:434,column:4},end:{line:436,column:5}}],line:434},"89":{loc:{start:{line:442,column:13},end:{line:444,column:3}},type:"default-arg",locations:[{start:{line:442,column:23},end:{line:444,column:3}}],line:442},"90":{loc:{start:{line:445,column:4},end:{line:447,column:5}},type:"if",locations:[{start:{line:445,column:4},end:{line:447,column:5}},{start:{line:445,column:4},end:{line:447,column:5}}],line:445},"91":{loc:{start:{line:454,column:39},end:{line:456,column:3}},type:"default-arg",locations:[{start:{line:454,column:49},end:{line:456,column:3}}],line:454},"92":{loc:{start:{line:457,column:11},end:{line:457,column:90}},type:"cond-expr",locations:[{start:{line:457,column:30},end:{line:457,column:63}},{start:{line:457,column:66},end:{line:457,column:90}}],line:457},"93":{loc:{start:{line:467,column:6},end:{line:469,column:7}},type:"if",locations:[{start:{line:467,column:6},end:{line:469,column:7}},{start:{line:467,column:6},end:{line:469,column:7}}],line:467},"94":{loc:{start:{line:467,column:10},end:{line:467,column:69}},type:"binary-expr",locations:[{start:{line:467,column:10},end:{line:467,column:19}},{start:{line:467,column:23},end:{line:467,column:44}},{start:{line:467,column:48},end:{line:467,column:69}}],line:467},"95":{loc:{start:{line:483,column:19},end:{line:483,column:28}},type:"binary-expr",locations:[{start:{line:483,column:19},end:{line:483,column:22}},{start:{line:483,column:26},end:{line:483,column:28}}],line:483},"96":{loc:{start:{line:487,column:6},end:{line:489,column:7}},type:"if",locations:[{start:{line:487,column:6},end:{line:489,column:7}},{start:{line:487,column:6},end:{line:489,column:7}}],line:487},"97":{loc:{start:{line:497,column:35},end:{line:502,column:8}},type:"default-arg",locations:[{start:{line:502,column:6},end:{line:502,column:8}}],line:497},"98":{loc:{start:{line:502,column:10},end:{line:502,column:34}},type:"default-arg",locations:[{start:{line:502,column:29},end:{line:502,column:34}}],line:502},"99":{loc:{start:{line:502,column:36},end:{line:502,column:56}},type:"default-arg",locations:[{start:{line:502,column:51},end:{line:502,column:56}}],line:502},"100":{loc:{start:{line:509,column:19},end:{line:509,column:28}},type:"binary-expr",locations:[{start:{line:509,column:19},end:{line:509,column:22}},{start:{line:509,column:26},end:{line:509,column:28}}],line:509},"101":{loc:{start:{line:511,column:14},end:{line:511,column:111}},type:"cond-expr",locations:[{start:{line:511,column:25},end:{line:511,column:42}},{start:{line:511,column:45},end:{line:511,column:111}}],line:511},"102":{loc:{start:{line:514,column:8},end:{line:522,column:9}},type:"if",locations:[{start:{line:514,column:8},end:{line:522,column:9}},{start:{line:514,column:8},end:{line:522,column:9}}],line:514},"103":{loc:{start:{line:517,column:10},end:{line:521,column:11}},type:"if",locations:[{start:{line:517,column:10},end:{line:521,column:11}},{start:{line:517,column:10},end:{line:521,column:11}}],line:517},"104":{loc:{start:{line:524,column:8},end:{line:526,column:9}},type:"if",locations:[{start:{line:524,column:8},end:{line:526,column:9}},{start:{line:524,column:8},end:{line:526,column:9}}],line:524},"105":{loc:{start:{line:528,column:8},end:{line:530,column:9}},type:"if",locations:[{start:{line:528,column:8},end:{line:530,column:9}},{start:{line:528,column:8},end:{line:530,column:9}}],line:528},"106":{loc:{start:{line:536,column:10},end:{line:540,column:11}},type:"if",locations:[{start:{line:536,column:10},end:{line:540,column:11}},{start:{line:536,column:10},end:{line:540,column:11}}],line:536},"107":{loc:{start:{line:545,column:12},end:{line:547,column:13}},type:"if",locations:[{start:{line:545,column:12},end:{line:547,column:13}},{start:{line:545,column:12},end:{line:547,column:13}}],line:545},"108":{loc:{start:{line:551,column:12},end:{line:553,column:13}},type:"if",locations:[{start:{line:551,column:12},end:{line:553,column:13}},{start:{line:551,column:12},end:{line:553,column:13}}],line:551},"109":{loc:{start:{line:551,column:16},end:{line:551,column:114}},type:"binary-expr",locations:[{start:{line:551,column:16},end:{line:551,column:76}},{start:{line:551,column:80},end:{line:551,column:114}}],line:551},"110":{loc:{start:{line:557,column:12},end:{line:559,column:13}},type:"if",locations:[{start:{line:557,column:12},end:{line:559,column:13}},{start:{line:557,column:12},end:{line:559,column:13}}],line:557},"111":{loc:{start:{line:557,column:16},end:{line:557,column:193}},type:"binary-expr",locations:[{start:{line:557,column:16},end:{line:557,column:39}},{start:{line:557,column:43},end:{line:557,column:86}},{start:{line:557,column:90},end:{line:557,column:193}}],line:557},"112":{loc:{start:{line:557,column:144},end:{line:557,column:192}},type:"binary-expr",locations:[{start:{line:557,column:144},end:{line:557,column:166}},{start:{line:557,column:170},end:{line:557,column:192}}],line:557},"113":{loc:{start:{line:565,column:10},end:{line:573,column:11}},type:"if",locations:[{start:{line:565,column:10},end:{line:573,column:11}},{start:{line:565,column:10},end:{line:573,column:11}}],line:565},"114":{loc:{start:{line:567,column:14},end:{line:569,column:15}},type:"if",locations:[{start:{line:567,column:14},end:{line:569,column:15}},{start:{line:567,column:14},end:{line:569,column:15}}],line:567},"115":{loc:{start:{line:567,column:18},end:{line:567,column:43}},type:"binary-expr",locations:[{start:{line:567,column:18},end:{line:567,column:25}},{start:{line:567,column:29},end:{line:567,column:43}}],line:567},"116":{loc:{start:{line:575,column:10},end:{line:581,column:11}},type:"if",locations:[{start:{line:575,column:10},end:{line:581,column:11}},{start:{line:575,column:10},end:{line:581,column:11}}],line:575},"117":{loc:{start:{line:577,column:17},end:{line:581,column:11}},type:"if",locations:[{start:{line:577,column:17},end:{line:581,column:11}},{start:{line:577,column:17},end:{line:581,column:11}}],line:577},"118":{loc:{start:{line:584,column:8},end:{line:586,column:9}},type:"if",locations:[{start:{line:584,column:8},end:{line:586,column:9}},{start:{line:584,column:8},end:{line:586,column:9}}],line:584},"119":{loc:{start:{line:588,column:8},end:{line:590,column:9}},type:"if",locations:[{start:{line:588,column:8},end:{line:590,column:9}},{start:{line:588,column:8},end:{line:590,column:9}}],line:588},"120":{loc:{start:{line:596,column:8},end:{line:598,column:9}},type:"if",locations:[{start:{line:596,column:8},end:{line:598,column:9}},{start:{line:596,column:8},end:{line:598,column:9}}],line:596},"121":{loc:{start:{line:611,column:15},end:{line:611,column:42}},type:"binary-expr",locations:[{start:{line:611,column:15},end:{line:611,column:30}},{start:{line:611,column:34},end:{line:611,column:42}}],line:611},"122":{loc:{start:{line:614,column:6},end:{line:616,column:7}},type:"if",locations:[{start:{line:614,column:6},end:{line:616,column:7}},{start:{line:614,column:6},end:{line:616,column:7}}],line:614},"123":{loc:{start:{line:618,column:6},end:{line:624,column:7}},type:"if",locations:[{start:{line:618,column:6},end:{line:624,column:7}},{start:{line:618,column:6},end:{line:624,column:7}}],line:618},"124":{loc:{start:{line:626,column:6},end:{line:632,column:7}},type:"if",locations:[{start:{line:626,column:6},end:{line:632,column:7}},{start:{line:626,column:6},end:{line:632,column:7}}],line:626},"125":{loc:{start:{line:634,column:6},end:{line:638,column:7}},type:"if",locations:[{start:{line:634,column:6},end:{line:638,column:7}},{start:{line:634,column:6},end:{line:638,column:7}}],line:634},"126":{loc:{start:{line:656,column:15},end:{line:656,column:42}},type:"binary-expr",locations:[{start:{line:656,column:15},end:{line:656,column:30}},{start:{line:656,column:34},end:{line:656,column:42}}],line:656},"127":{loc:{start:{line:661,column:6},end:{line:663,column:7}},type:"if",locations:[{start:{line:661,column:6},end:{line:663,column:7}},{start:{line:661,column:6},end:{line:663,column:7}}],line:661},"128":{loc:{start:{line:665,column:6},end:{line:669,column:7}},type:"if",locations:[{start:{line:665,column:6},end:{line:669,column:7}},{start:{line:665,column:6},end:{line:669,column:7}}],line:665},"129":{loc:{start:{line:671,column:6},end:{line:675,column:7}},type:"if",locations:[{start:{line:671,column:6},end:{line:675,column:7}},{start:{line:671,column:6},end:{line:675,column:7}}],line:671},"130":{loc:{start:{line:700,column:6},end:{line:702,column:7}},type:"if",locations:[{start:{line:700,column:6},end:{line:702,column:7}},{start:{line:700,column:6},end:{line:702,column:7}}],line:700},"131":{loc:{start:{line:715,column:28},end:{line:717,column:8}},type:"default-arg",locations:[{start:{line:717,column:6},end:{line:717,column:8}}],line:715},"132":{loc:{start:{line:719,column:21},end:{line:719,column:30}},type:"binary-expr",locations:[{start:{line:719,column:21},end:{line:719,column:24}},{start:{line:719,column:28},end:{line:719,column:30}}],line:719},"133":{loc:{start:{line:721,column:14},end:{line:721,column:111}},type:"cond-expr",locations:[{start:{line:721,column:25},end:{line:721,column:42}},{start:{line:721,column:45},end:{line:721,column:111}}],line:721},"134":{loc:{start:{line:722,column:8},end:{line:728,column:9}},type:"if",locations:[{start:{line:722,column:8},end:{line:728,column:9}},{start:{line:722,column:8},end:{line:728,column:9}}],line:722},"135":{loc:{start:{line:725,column:10},end:{line:727,column:11}},type:"if",locations:[{start:{line:725,column:10},end:{line:727,column:11}},{start:{line:725,column:10},end:{line:727,column:11}}],line:725},"136":{loc:{start:{line:731,column:8},end:{line:733,column:9}},type:"if",locations:[{start:{line:731,column:8},end:{line:733,column:9}},{start:{line:731,column:8},end:{line:733,column:9}}],line:731},"137":{loc:{start:{line:739,column:10},end:{line:743,column:11}},type:"if",locations:[{start:{line:739,column:10},end:{line:743,column:11}},{start:{line:739,column:10},end:{line:743,column:11}}],line:739},"138":{loc:{start:{line:748,column:10},end:{line:750,column:11}},type:"if",locations:[{start:{line:748,column:10},end:{line:750,column:11}},{start:{line:748,column:10},end:{line:750,column:11}}],line:748},"139":{loc:{start:{line:748,column:14},end:{line:748,column:91}},type:"binary-expr",locations:[{start:{line:748,column:14},end:{line:748,column:38}},{start:{line:748,column:42},end:{line:748,column:91}}],line:748},"140":{loc:{start:{line:760,column:28},end:{line:762,column:8}},type:"default-arg",locations:[{start:{line:762,column:6},end:{line:762,column:8}}],line:760},"141":{loc:{start:{line:762,column:10},end:{line:762,column:30}},type:"default-arg",locations:[{start:{line:762,column:25},end:{line:762,column:30}}],line:762},"142":{loc:{start:{line:775,column:19},end:{line:775,column:28}},type:"binary-expr",locations:[{start:{line:775,column:19},end:{line:775,column:22}},{start:{line:775,column:26},end:{line:775,column:28}}],line:775},"143":{loc:{start:{line:778,column:14},end:{line:778,column:111}},type:"cond-expr",locations:[{start:{line:778,column:25},end:{line:778,column:42}},{start:{line:778,column:45},end:{line:778,column:111}}],line:778},"144":{loc:{start:{line:782,column:8},end:{line:784,column:9}},type:"if",locations:[{start:{line:782,column:8},end:{line:784,column:9}},{start:{line:782,column:8},end:{line:784,column:9}}],line:782},"145":{loc:{start:{line:788,column:8},end:{line:790,column:9}},type:"if",locations:[{start:{line:788,column:8},end:{line:790,column:9}},{start:{line:788,column:8},end:{line:790,column:9}}],line:788},"146":{loc:{start:{line:802,column:4},end:{line:804,column:5}},type:"if",locations:[{start:{line:802,column:4},end:{line:804,column:5}},{start:{line:802,column:4},end:{line:804,column:5}}],line:802},"147":{loc:{start:{line:810,column:6},end:{line:812,column:7}},type:"if",locations:[{start:{line:810,column:6},end:{line:812,column:7}},{start:{line:810,column:6},end:{line:812,column:7}}],line:810},"148":{loc:{start:{line:810,column:10},end:{line:810,column:80}},type:"binary-expr",locations:[{start:{line:810,column:10},end:{line:810,column:23}},{start:{line:810,column:27},end:{line:810,column:45}},{start:{line:810,column:49},end:{line:810,column:80}}],line:810},"149":{loc:{start:{line:817,column:4},end:{line:822,column:5}},type:"if",locations:[{start:{line:817,column:4},end:{line:822,column:5}},{start:{line:817,column:4},end:{line:822,column:5}}],line:817},"150":{loc:{start:{line:835,column:19},end:{line:835,column:31}},type:"default-arg",locations:[{start:{line:835,column:26},end:{line:835,column:31}}],line:835},"151":{loc:{start:{line:853,column:4},end:{line:860,column:5}},type:"if",locations:[{start:{line:853,column:4},end:{line:860,column:5}},{start:{line:853,column:4},end:{line:860,column:5}}],line:853},"152":{loc:{start:{line:853,column:8},end:{line:853,column:66}},type:"binary-expr",locations:[{start:{line:853,column:8},end:{line:853,column:12}},{start:{line:853,column:16},end:{line:853,column:30}},{start:{line:853,column:34},end:{line:853,column:66}}],line:853},"153":{loc:{start:{line:885,column:4},end:{line:894,column:5}},type:"if",locations:[{start:{line:885,column:4},end:{line:894,column:5}},{start:{line:885,column:4},end:{line:894,column:5}}],line:885},"154":{loc:{start:{line:896,column:4},end:{line:905,column:5}},type:"if",locations:[{start:{line:896,column:4},end:{line:905,column:5}},{start:{line:896,column:4},end:{line:905,column:5}}],line:896},"155":{loc:{start:{line:910,column:6},end:{line:912,column:7}},type:"if",locations:[{start:{line:910,column:6},end:{line:912,column:7}},{start:{line:910,column:6},end:{line:912,column:7}}],line:910},"156":{loc:{start:{line:910,column:10},end:{line:910,column:37}},type:"binary-expr",locations:[{start:{line:910,column:10},end:{line:910,column:12}},{start:{line:910,column:16},end:{line:910,column:37}}],line:910},"157":{loc:{start:{line:916,column:6},end:{line:946,column:7}},type:"if",locations:[{start:{line:916,column:6},end:{line:946,column:7}},{start:{line:916,column:6},end:{line:946,column:7}}],line:916},"158":{loc:{start:{line:916,column:10},end:{line:916,column:120}},type:"binary-expr",locations:[{start:{line:916,column:10},end:{line:916,column:20}},{start:{line:916,column:25},end:{line:916,column:42}},{start:{line:916,column:46},end:{line:916,column:63}},{start:{line:916,column:67},end:{line:916,column:85}},{start:{line:916,column:89},end:{line:916,column:119}}],line:916},"159":{loc:{start:{line:922,column:10},end:{line:934,column:11}},type:"if",locations:[{start:{line:922,column:10},end:{line:934,column:11}},{start:{line:922,column:10},end:{line:934,column:11}}],line:922},"160":{loc:{start:{line:924,column:17},end:{line:934,column:11}},type:"if",locations:[{start:{line:924,column:17},end:{line:934,column:11}},{start:{line:924,column:17},end:{line:934,column:11}}],line:924},"161":{loc:{start:{line:926,column:17},end:{line:934,column:11}},type:"if",locations:[{start:{line:926,column:17},end:{line:934,column:11}},{start:{line:926,column:17},end:{line:934,column:11}}],line:926},"162":{loc:{start:{line:929,column:17},end:{line:934,column:11}},type:"if",locations:[{start:{line:929,column:17},end:{line:934,column:11}},{start:{line:929,column:17},end:{line:934,column:11}}],line:929},"163":{loc:{start:{line:953,column:8},end:{line:955,column:9}},type:"if",locations:[{start:{line:953,column:8},end:{line:955,column:9}},{start:{line:953,column:8},end:{line:955,column:9}}],line:953},"164":{loc:{start:{line:958,column:10},end:{line:962,column:11}},type:"if",locations:[{start:{line:958,column:10},end:{line:962,column:11}},{start:{line:958,column:10},end:{line:962,column:11}}],line:958},"165":{loc:{start:{line:979,column:4},end:{line:983,column:5}},type:"if",locations:[{start:{line:979,column:4},end:{line:983,column:5}},{start:{line:979,column:4},end:{line:983,column:5}}],line:979},"166":{loc:{start:{line:985,column:4},end:{line:989,column:5}},type:"if",locations:[{start:{line:985,column:4},end:{line:989,column:5}},{start:{line:985,column:4},end:{line:989,column:5}}],line:985},"167":{loc:{start:{line:993,column:4},end:{line:999,column:5}},type:"if",locations:[{start:{line:993,column:4},end:{line:999,column:5}},{start:{line:993,column:4},end:{line:999,column:5}}],line:993},"168":{loc:{start:{line:1002,column:20},end:{line:1002,column:30}},type:"default-arg",locations:[{start:{line:1002,column:26},end:{line:1002,column:30}}],line:1002},"169":{loc:{start:{line:1003,column:26},end:{line:1003,column:86}},type:"cond-expr",locations:[{start:{line:1003,column:63},end:{line:1003,column:79}},{start:{line:1003,column:82},end:{line:1003,column:86}}],line:1003},"170":{loc:{start:{line:1004,column:22},end:{line:1004,column:94}},type:"cond-expr",locations:[{start:{line:1004,column:64},end:{line:1004,column:87}},{start:{line:1004,column:90},end:{line:1004,column:94}}],line:1004},"171":{loc:{start:{line:1004,column:22},end:{line:1004,column:61}},type:"binary-expr",locations:[{start:{line:1004,column:22},end:{line:1004,column:36}},{start:{line:1004,column:40},end:{line:1004,column:61}}],line:1004},"172":{loc:{start:{line:1005,column:22},end:{line:1005,column:92}},type:"cond-expr",locations:[{start:{line:1005,column:64},end:{line:1005,column:85}},{start:{line:1005,column:88},end:{line:1005,column:92}}],line:1005},"173":{loc:{start:{line:1005,column:22},end:{line:1005,column:61}},type:"binary-expr",locations:[{start:{line:1005,column:22},end:{line:1005,column:36}},{start:{line:1005,column:40},end:{line:1005,column:61}}],line:1005},"174":{loc:{start:{line:1011,column:4},end:{line:1015,column:5}},type:"if",locations:[{start:{line:1011,column:4},end:{line:1015,column:5}},{start:{line:1011,column:4},end:{line:1015,column:5}}],line:1011},"175":{loc:{start:{line:1018,column:4},end:{line:1027,column:5}},type:"if",locations:[{start:{line:1018,column:4},end:{line:1027,column:5}},{start:{line:1018,column:4},end:{line:1027,column:5}}],line:1018},"176":{loc:{start:{line:1022,column:11},end:{line:1027,column:5}},type:"if",locations:[{start:{line:1022,column:11},end:{line:1027,column:5}},{start:{line:1022,column:11},end:{line:1027,column:5}}],line:1022},"177":{loc:{start:{line:1033,column:23},end:{line:1033,column:31}},type:"default-arg",locations:[{start:{line:1033,column:29},end:{line:1033,column:31}}],line:1033},"178":{loc:{start:{line:1034,column:23},end:{line:1034,column:93}},type:"cond-expr",locations:[{start:{line:1034,column:66},end:{line:1034,column:88}},{start:{line:1034,column:91},end:{line:1034,column:93}}],line:1034},"179":{loc:{start:{line:1034,column:23},end:{line:1034,column:63}},type:"binary-expr",locations:[{start:{line:1034,column:23},end:{line:1034,column:37}},{start:{line:1034,column:41},end:{line:1034,column:63}}],line:1034},"180":{loc:{start:{line:1039,column:4},end:{line:1048,column:5}},type:"if",locations:[{start:{line:1039,column:4},end:{line:1048,column:5}},{start:{line:1039,column:4},end:{line:1048,column:5}}],line:1039},"181":{loc:{start:{line:1043,column:11},end:{line:1048,column:5}},type:"if",locations:[{start:{line:1043,column:11},end:{line:1048,column:5}},{start:{line:1043,column:11},end:{line:1048,column:5}}],line:1043},"182":{loc:{start:{line:1069,column:25},end:{line:1083,column:8}},type:"default-arg",locations:[{start:{line:1083,column:6},end:{line:1083,column:8}}],line:1069},"183":{loc:{start:{line:1073,column:4},end:{line:1073,column:13}},type:"default-arg",locations:[{start:{line:1073,column:11},end:{line:1073,column:13}}],line:1073},"184":{loc:{start:{line:1081,column:4},end:{line:1081,column:27}},type:"default-arg",locations:[{start:{line:1081,column:22},end:{line:1081,column:27}}],line:1081},"185":{loc:{start:{line:1083,column:10},end:{line:1083,column:19}},type:"default-arg",locations:[{start:{line:1083,column:17},end:{line:1083,column:19}}],line:1083},"186":{loc:{start:{line:1085,column:21},end:{line:1085,column:30}},type:"binary-expr",locations:[{start:{line:1085,column:21},end:{line:1085,column:24}},{start:{line:1085,column:28},end:{line:1085,column:30}}],line:1085},"187":{loc:{start:{line:1086,column:9},end:{line:1086,column:102}},type:"binary-expr",locations:[{start:{line:1086,column:9},end:{line:1086,column:11}},{start:{line:1086,column:16},end:{line:1086,column:101}}],line:1086},"188":{loc:{start:{line:1086,column:16},end:{line:1086,column:101}},type:"cond-expr",locations:[{start:{line:1086,column:87},end:{line:1086,column:92}},{start:{line:1086,column:95},end:{line:1086,column:101}}],line:1086},"189":{loc:{start:{line:1086,column:16},end:{line:1086,column:84}},type:"binary-expr",locations:[{start:{line:1086,column:16},end:{line:1086,column:49}},{start:{line:1086,column:53},end:{line:1086,column:84}}],line:1086},"190":{loc:{start:{line:1088,column:9},end:{line:1088,column:38}},type:"cond-expr",locations:[{start:{line:1088,column:26},end:{line:1088,column:33}},{start:{line:1088,column:36},end:{line:1088,column:38}}],line:1088},"191":{loc:{start:{line:1097,column:8},end:{line:1102,column:9}},type:"if",locations:[{start:{line:1097,column:8},end:{line:1102,column:9}},{start:{line:1097,column:8},end:{line:1102,column:9}}],line:1097},"192":{loc:{start:{line:1109,column:8},end:{line:1112,column:9}},type:"if",locations:[{start:{line:1109,column:8},end:{line:1112,column:9}},{start:{line:1109,column:8},end:{line:1112,column:9}}],line:1109},"193":{loc:{start:{line:1114,column:8},end:{line:1117,column:9}},type:"if",locations:[{start:{line:1114,column:8},end:{line:1117,column:9}},{start:{line:1114,column:8},end:{line:1117,column:9}}],line:1114},"194":{loc:{start:{line:1130,column:10},end:{line:1132,column:11}},type:"if",locations:[{start:{line:1130,column:10},end:{line:1132,column:11}},{start:{line:1130,column:10},end:{line:1132,column:11}}],line:1130},"195":{loc:{start:{line:1136,column:10},end:{line:1138,column:11}},type:"if",locations:[{start:{line:1136,column:10},end:{line:1138,column:11}},{start:{line:1136,column:10},end:{line:1138,column:11}}],line:1136},"196":{loc:{start:{line:1140,column:16},end:{line:1140,column:107}},type:"cond-expr",locations:[{start:{line:1140,column:27},end:{line:1140,column:44}},{start:{line:1140,column:47},end:{line:1140,column:107}}],line:1140},"197":{loc:{start:{line:1143,column:10},end:{line:1150,column:11}},type:"if",locations:[{start:{line:1143,column:10},end:{line:1150,column:11}},{start:{line:1143,column:10},end:{line:1150,column:11}}],line:1143},"198":{loc:{start:{line:1152,column:10},end:{line:1158,column:11}},type:"if",locations:[{start:{line:1152,column:10},end:{line:1158,column:11}},{start:{line:1152,column:10},end:{line:1158,column:11}}],line:1152},"199":{loc:{start:{line:1153,column:12},end:{line:1157,column:13}},type:"if",locations:[{start:{line:1153,column:12},end:{line:1157,column:13}},{start:{line:1153,column:12},end:{line:1157,column:13}}],line:1153},"200":{loc:{start:{line:1160,column:10},end:{line:1166,column:11}},type:"if",locations:[{start:{line:1160,column:10},end:{line:1166,column:11}},{start:{line:1160,column:10},end:{line:1166,column:11}}],line:1160},"201":{loc:{start:{line:1161,column:12},end:{line:1165,column:13}},type:"if",locations:[{start:{line:1161,column:12},end:{line:1165,column:13}},{start:{line:1161,column:12},end:{line:1165,column:13}}],line:1161},"202":{loc:{start:{line:1161,column:16},end:{line:1161,column:50}},type:"binary-expr",locations:[{start:{line:1161,column:16},end:{line:1161,column:31}},{start:{line:1161,column:35},end:{line:1161,column:50}}],line:1161},"203":{loc:{start:{line:1170,column:10},end:{line:1197,column:11}},type:"if",locations:[{start:{line:1170,column:10},end:{line:1197,column:11}},{start:{line:1170,column:10},end:{line:1197,column:11}}],line:1170},"204":{loc:{start:{line:1171,column:12},end:{line:1175,column:13}},type:"if",locations:[{start:{line:1171,column:12},end:{line:1175,column:13}},{start:{line:1171,column:12},end:{line:1175,column:13}}],line:1171},"205":{loc:{start:{line:1176,column:17},end:{line:1197,column:11}},type:"if",locations:[{start:{line:1176,column:17},end:{line:1197,column:11}},{start:{line:1176,column:17},end:{line:1197,column:11}}],line:1176},"206":{loc:{start:{line:1177,column:12},end:{line:1181,column:13}},type:"if",locations:[{start:{line:1177,column:12},end:{line:1181,column:13}},{start:{line:1177,column:12},end:{line:1181,column:13}}],line:1177},"207":{loc:{start:{line:1182,column:17},end:{line:1197,column:11}},type:"if",locations:[{start:{line:1182,column:17},end:{line:1197,column:11}},{start:{line:1182,column:17},end:{line:1197,column:11}}],line:1182},"208":{loc:{start:{line:1183,column:12},end:{line:1187,column:13}},type:"if",locations:[{start:{line:1183,column:12},end:{line:1187,column:13}},{start:{line:1183,column:12},end:{line:1187,column:13}}],line:1183},"209":{loc:{start:{line:1188,column:17},end:{line:1197,column:11}},type:"if",locations:[{start:{line:1188,column:17},end:{line:1197,column:11}},{start:{line:1188,column:17},end:{line:1197,column:11}}],line:1188},"210":{loc:{start:{line:1211,column:6},end:{line:1217,column:7}},type:"if",locations:[{start:{line:1211,column:6},end:{line:1217,column:7}},{start:{line:1211,column:6},end:{line:1217,column:7}}],line:1211},"211":{loc:{start:{line:1222,column:8},end:{line:1224,column:9}},type:"if",locations:[{start:{line:1222,column:8},end:{line:1224,column:9}},{start:{line:1222,column:8},end:{line:1224,column:9}}],line:1222},"212":{loc:{start:{line:1228,column:8},end:{line:1237,column:9}},type:"if",locations:[{start:{line:1228,column:8},end:{line:1237,column:9}},{start:{line:1228,column:8},end:{line:1237,column:9}}],line:1228},"213":{loc:{start:{line:1251,column:4},end:{line:1253,column:5}},type:"if",locations:[{start:{line:1251,column:4},end:{line:1253,column:5}},{start:{line:1251,column:4},end:{line:1253,column:5}}],line:1251},"214":{loc:{start:{line:1263,column:36},end:{line:1263,column:91}},type:"cond-expr",locations:[{start:{line:1263,column:76},end:{line:1263,column:82}},{start:{line:1263,column:85},end:{line:1263,column:91}}],line:1263},"215":{loc:{start:{line:1264,column:78},end:{line:1264,column:117}},type:"cond-expr",locations:[{start:{line:1264,column:112},end:{line:1264,column:113}},{start:{line:1264,column:116},end:{line:1264,column:117}}],line:1264},"216":{loc:{start:{line:1267,column:10},end:{line:1274,column:11}},type:"if",locations:[{start:{line:1267,column:10},end:{line:1274,column:11}},{start:{line:1267,column:10},end:{line:1274,column:11}}],line:1267},"217":{loc:{start:{line:1279,column:4},end:{line:1282,column:5}},type:"if",locations:[{start:{line:1279,column:4},end:{line:1282,column:5}},{start:{line:1279,column:4},end:{line:1282,column:5}}],line:1279},"218":{loc:{start:{line:1289,column:4},end:{line:1291,column:5}},type:"if",locations:[{start:{line:1289,column:4},end:{line:1291,column:5}},{start:{line:1289,column:4},end:{line:1291,column:5}}],line:1289},"219":{loc:{start:{line:1301,column:36},end:{line:1301,column:91}},type:"cond-expr",locations:[{start:{line:1301,column:76},end:{line:1301,column:82}},{start:{line:1301,column:85},end:{line:1301,column:91}}],line:1301},"220":{loc:{start:{line:1302,column:78},end:{line:1302,column:117}},type:"cond-expr",locations:[{start:{line:1302,column:112},end:{line:1302,column:113}},{start:{line:1302,column:116},end:{line:1302,column:117}}],line:1302},"221":{loc:{start:{line:1305,column:10},end:{line:1312,column:11}},type:"if",locations:[{start:{line:1305,column:10},end:{line:1312,column:11}},{start:{line:1305,column:10},end:{line:1312,column:11}}],line:1305},"222":{loc:{start:{line:1317,column:4},end:{line:1320,column:5}},type:"if",locations:[{start:{line:1317,column:4},end:{line:1320,column:5}},{start:{line:1317,column:4},end:{line:1320,column:5}}],line:1317},"223":{loc:{start:{line:1330,column:61},end:{line:1330,column:74}},type:"default-arg",locations:[{start:{line:1330,column:72},end:{line:1330,column:74}}],line:1330},"224":{loc:{start:{line:1333,column:4},end:{line:1335,column:5}},type:"if",locations:[{start:{line:1333,column:4},end:{line:1335,column:5}},{start:{line:1333,column:4},end:{line:1335,column:5}}],line:1333},"225":{loc:{start:{line:1339,column:13},end:{line:1339,column:52}},type:"binary-expr",locations:[{start:{line:1339,column:13},end:{line:1339,column:38}},{start:{line:1339,column:42},end:{line:1339,column:52}}],line:1339},"226":{loc:{start:{line:1341,column:21},end:{line:1341,column:108}},type:"cond-expr",locations:[{start:{line:1341,column:72},end:{line:1341,column:88}},{start:{line:1341,column:91},end:{line:1341,column:108}}],line:1341},"227":{loc:{start:{line:1344,column:4},end:{line:1346,column:5}},type:"if",locations:[{start:{line:1344,column:4},end:{line:1346,column:5}},{start:{line:1344,column:4},end:{line:1346,column:5}}],line:1344},"228":{loc:{start:{line:1344,column:8},end:{line:1344,column:58}},type:"binary-expr",locations:[{start:{line:1344,column:8},end:{line:1344,column:24}},{start:{line:1344,column:28},end:{line:1344,column:58}}],line:1344},"229":{loc:{start:{line:1348,column:4},end:{line:1354,column:5}},type:"if",locations:[{start:{line:1348,column:4},end:{line:1354,column:5}},{start:{line:1348,column:4},end:{line:1354,column:5}}],line:1348},"230":{loc:{start:{line:1350,column:8},end:{line:1352,column:9}},type:"if",locations:[{start:{line:1350,column:8},end:{line:1352,column:9}},{start:{line:1350,column:8},end:{line:1352,column:9}}],line:1350},"231":{loc:{start:{line:1357,column:4},end:{line:1414,column:5}},type:"if",locations:[{start:{line:1357,column:4},end:{line:1414,column:5}},{start:{line:1357,column:4},end:{line:1414,column:5}}],line:1357},"232":{loc:{start:{line:1361,column:6},end:{line:1363,column:7}},type:"if",locations:[{start:{line:1361,column:6},end:{line:1363,column:7}},{start:{line:1361,column:6},end:{line:1363,column:7}}],line:1361},"233":{loc:{start:{line:1373,column:26},end:{line:1373,column:175}},type:"cond-expr",locations:[{start:{line:1373,column:148},end:{line:1373,column:168}},{start:{line:1373,column:171},end:{line:1373,column:175}}],line:1373},"234":{loc:{start:{line:1373,column:26},end:{line:1373,column:145}},type:"binary-expr",locations:[{start:{line:1373,column:26},end:{line:1373,column:41}},{start:{line:1373,column:45},end:{line:1373,column:80}},{start:{line:1373,column:84},end:{line:1373,column:145}}],line:1373},"235":{loc:{start:{line:1376,column:8},end:{line:1397,column:9}},type:"if",locations:[{start:{line:1376,column:8},end:{line:1397,column:9}},{start:{line:1376,column:8},end:{line:1397,column:9}}],line:1376},"236":{loc:{start:{line:1381,column:15},end:{line:1397,column:9}},type:"if",locations:[{start:{line:1381,column:15},end:{line:1397,column:9}},{start:{line:1381,column:15},end:{line:1397,column:9}}],line:1381},"237":{loc:{start:{line:1388,column:15},end:{line:1397,column:9}},type:"if",locations:[{start:{line:1388,column:15},end:{line:1397,column:9}},{start:{line:1388,column:15},end:{line:1397,column:9}}],line:1388},"238":{loc:{start:{line:1400,column:8},end:{line:1404,column:9}},type:"if",locations:[{start:{line:1400,column:8},end:{line:1404,column:9}},{start:{line:1400,column:8},end:{line:1404,column:9}}],line:1400},"239":{loc:{start:{line:1409,column:13},end:{line:1411,column:8}},type:"cond-expr",locations:[{start:{line:1409,column:36},end:{line:1409,column:46}},{start:{line:1409,column:49},end:{line:1411,column:8}}],line:1409},"240":{loc:{start:{line:1417,column:40},end:{line:1417,column:50}},type:"default-arg",locations:[{start:{line:1417,column:48},end:{line:1417,column:50}}],line:1417},"241":{loc:{start:{line:1417,column:52},end:{line:1417,column:65}},type:"default-arg",locations:[{start:{line:1417,column:63},end:{line:1417,column:65}}],line:1417},"242":{loc:{start:{line:1417,column:67},end:{line:1417,column:76}},type:"default-arg",locations:[{start:{line:1417,column:74},end:{line:1417,column:76}}],line:1417},"243":{loc:{start:{line:1417,column:78},end:{line:1417,column:95}},type:"default-arg",locations:[{start:{line:1417,column:93},end:{line:1417,column:95}}],line:1417},"244":{loc:{start:{line:1419,column:4},end:{line:1419,column:28}},type:"if",locations:[{start:{line:1419,column:4},end:{line:1419,column:28}},{start:{line:1419,column:4},end:{line:1419,column:28}}],line:1419},"245":{loc:{start:{line:1421,column:4},end:{line:1421,column:38}},type:"if",locations:[{start:{line:1421,column:4},end:{line:1421,column:38}},{start:{line:1421,column:4},end:{line:1421,column:38}}],line:1421},"246":{loc:{start:{line:1422,column:4},end:{line:1422,column:59}},type:"if",locations:[{start:{line:1422,column:4},end:{line:1422,column:59}},{start:{line:1422,column:4},end:{line:1422,column:59}}],line:1422},"247":{loc:{start:{line:1434,column:19},end:{line:1434,column:39}},type:"binary-expr",locations:[{start:{line:1434,column:19},end:{line:1434,column:33}},{start:{line:1434,column:37},end:{line:1434,column:39}}],line:1434},"248":{loc:{start:{line:1443,column:6},end:{line:1456,column:7}},type:"if",locations:[{start:{line:1443,column:6},end:{line:1456,column:7}},{start:{line:1443,column:6},end:{line:1456,column:7}}],line:1443},"249":{loc:{start:{line:1444,column:8},end:{line:1453,column:9}},type:"if",locations:[{start:{line:1444,column:8},end:{line:1453,column:9}},{start:{line:1444,column:8},end:{line:1453,column:9}}],line:1444},"250":{loc:{start:{line:1447,column:10},end:{line:1452,column:11}},type:"if",locations:[{start:{line:1447,column:10},end:{line:1452,column:11}},{start:{line:1447,column:10},end:{line:1452,column:11}}],line:1447},"251":{loc:{start:{line:1449,column:12},end:{line:1449,column:66}},type:"binary-expr",locations:[{start:{line:1449,column:12},end:{line:1449,column:29}},{start:{line:1449,column:33},end:{line:1449,column:66}}],line:1449},"252":{loc:{start:{line:1459,column:6},end:{line:1462,column:7}},type:"if",locations:[{start:{line:1459,column:6},end:{line:1462,column:7}},{start:{line:1459,column:6},end:{line:1462,column:7}}],line:1459},"253":{loc:{start:{line:1464,column:6},end:{line:1475,column:7}},type:"if",locations:[{start:{line:1464,column:6},end:{line:1475,column:7}},{start:{line:1464,column:6},end:{line:1475,column:7}}],line:1464},"254":{loc:{start:{line:1465,column:8},end:{line:1469,column:9}},type:"if",locations:[{start:{line:1465,column:8},end:{line:1469,column:9}},{start:{line:1465,column:8},end:{line:1469,column:9}}],line:1465},"255":{loc:{start:{line:1471,column:8},end:{line:1474,column:9}},type:"if",locations:[{start:{line:1471,column:8},end:{line:1474,column:9}},{start:{line:1471,column:8},end:{line:1474,column:9}}],line:1471},"256":{loc:{start:{line:1471,column:12},end:{line:1471,column:49}},type:"binary-expr",locations:[{start:{line:1471,column:12},end:{line:1471,column:22}},{start:{line:1471,column:26},end:{line:1471,column:49}}],line:1471},"257":{loc:{start:{line:1479,column:4},end:{line:1485,column:5}},type:"if",locations:[{start:{line:1479,column:4},end:{line:1485,column:5}},{start:{line:1479,column:4},end:{line:1485,column:5}}],line:1479},"258":{loc:{start:{line:1482,column:6},end:{line:1484,column:7}},type:"if",locations:[{start:{line:1482,column:6},end:{line:1484,column:7}},{start:{line:1482,column:6},end:{line:1484,column:7}}],line:1482},"259":{loc:{start:{line:1488,column:4},end:{line:1490,column:5}},type:"if",locations:[{start:{line:1488,column:4},end:{line:1490,column:5}},{start:{line:1488,column:4},end:{line:1490,column:5}}],line:1488},"260":{loc:{start:{line:1493,column:6},end:{line:1495,column:7}},type:"if",locations:[{start:{line:1493,column:6},end:{line:1495,column:7}},{start:{line:1493,column:6},end:{line:1495,column:7}}],line:1493},"261":{loc:{start:{line:1501,column:6},end:{line:1503,column:7}},type:"if",locations:[{start:{line:1501,column:6},end:{line:1503,column:7}},{start:{line:1501,column:6},end:{line:1503,column:7}}],line:1501},"262":{loc:{start:{line:1515,column:4},end:{line:1517,column:5}},type:"if",locations:[{start:{line:1515,column:4},end:{line:1517,column:5}},{start:{line:1515,column:4},end:{line:1517,column:5}}],line:1515},"263":{loc:{start:{line:1525,column:4},end:{line:1527,column:5}},type:"if",locations:[{start:{line:1525,column:4},end:{line:1527,column:5}},{start:{line:1525,column:4},end:{line:1527,column:5}}],line:1525},"264":{loc:{start:{line:1552,column:4},end:{line:1554,column:5}},type:"if",locations:[{start:{line:1552,column:4},end:{line:1554,column:5}},{start:{line:1552,column:4},end:{line:1554,column:5}}],line:1552},"265":{loc:{start:{line:1587,column:4},end:{line:1600,column:5}},type:"if",locations:[{start:{line:1587,column:4},end:{line:1600,column:5}},{start:{line:1587,column:4},end:{line:1600,column:5}}],line:1587}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"399":0,"400":0,"401":0,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0,"473":0,"474":0,"475":0,"476":0,"477":0,"478":0,"479":0,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"498":0,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":0,"506":0,"507":0,"508":0,"509":0,"510":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":0,"517":0,"518":0,"519":0,"520":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"527":0,"528":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"539":0,"540":0,"541":0,"542":0,"543":0,"544":0,"545":0,"546":0,"547":0,"548":0,"549":0,"550":0,"551":0,"552":0,"553":0,"554":0,"555":0,"556":0,"557":0,"558":0,"559":0,"560":0,"561":0,"562":0,"563":0,"564":0,"565":0,"566":0,"567":0,"568":0,"569":0,"570":0,"571":0,"572":0,"573":0,"574":0,"575":0,"576":0,"577":0,"578":0,"579":0,"580":0,"581":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"588":0,"589":0,"590":0,"591":0,"592":0,"593":0,"594":0,"595":0,"596":0,"597":0,"598":0,"599":0,"600":0,"601":0,"602":0,"603":0,"604":0,"605":0,"606":0,"607":0,"608":0,"609":0,"610":0,"611":0,"612":0,"613":0,"614":0,"615":0,"616":0,"617":0,"618":0,"619":0,"620":0,"621":0,"622":0,"623":0,"624":0,"625":0,"626":0,"627":0,"628":0,"629":0,"630":0,"631":0,"632":0,"633":0,"634":0,"635":0,"636":0,"637":0,"638":0,"639":0,"640":0,"641":0,"642":0,"643":0,"644":0,"645":0,"646":0,"647":0,"648":0,"649":0,"650":0,"651":0,"652":0,"653":0,"654":0,"655":0,"656":0,"657":0,"658":0,"659":0,"660":0,"661":0,"662":0,"663":0,"664":0,"665":0,"666":0,"667":0,"668":0,"669":0,"670":0,"671":0,"672":0,"673":0,"674":0,"675":0,"676":0,"677":0,"678":0,"679":0,"680":0,"681":0,"682":0,"683":0,"684":0,"685":0,"686":0,"687":0,"688":0,"689":0,"690":0,"691":0,"692":0,"693":0,"694":0,"695":0,"696":0,"697":0,"698":0,"699":0,"700":0,"701":0,"702":0,"703":0,"704":0,"705":0,"706":0,"707":0,"708":0,"709":0,"710":0,"711":0,"712":0,"713":0,"714":0,"715":0,"716":0,"717":0,"718":0,"719":0,"720":0,"721":0,"722":0,"723":0,"724":0,"725":0,"726":0,"727":0,"728":0,"729":0,"730":0,"731":0,"732":0,"733":0,"734":0,"735":0,"736":0,"737":0,"738":0,"739":0,"740":0,"741":0,"742":0,"743":0,"744":0,"745":0,"746":0,"747":0,"748":0,"749":0,"750":0,"751":0,"752":0,"753":0,"754":0,"755":0,"756":0,"757":0,"758":0,"759":0,"760":0,"761":0,"762":0,"763":0,"764":0,"765":0,"766":0,"767":0,"768":0,"769":0,"770":0,"771":0,"772":0,"773":0,"774":0,"775":0,"776":0,"777":0,"778":0,"779":0,"780":0,"781":0,"782":0,"783":0,"784":0,"785":0,"786":0,"787":0,"788":0,"789":0,"790":0,"791":0,"792":0,"793":0,"794":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0,0],"62":[0,0],"63":[0,0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0,0,0],"72":[0,0],"73":[0,0],"74":[0,0,0,0,0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0],"90":[0,0],"91":[0],"92":[0,0],"93":[0,0],"94":[0,0,0],"95":[0,0],"96":[0,0],"97":[0],"98":[0],"99":[0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0],"120":[0,0],"121":[0,0],"122":[0,0],"123":[0,0],"124":[0,0],"125":[0,0],"126":[0,0],"127":[0,0],"128":[0,0],"129":[0,0],"130":[0,0],"131":[0],"132":[0,0],"133":[0,0],"134":[0,0],"135":[0,0],"136":[0,0],"137":[0,0],"138":[0,0],"139":[0,0],"140":[0],"141":[0],"142":[0,0],"143":[0,0],"144":[0,0],"145":[0,0],"146":[0,0],"147":[0,0],"148":[0,0,0],"149":[0,0],"150":[0],"151":[0,0],"152":[0,0,0],"153":[0,0],"154":[0,0],"155":[0,0],"156":[0,0],"157":[0,0],"158":[0,0,0,0,0],"159":[0,0],"160":[0,0],"161":[0,0],"162":[0,0],"163":[0,0],"164":[0,0],"165":[0,0],"166":[0,0],"167":[0,0],"168":[0],"169":[0,0],"170":[0,0],"171":[0,0],"172":[0,0],"173":[0,0],"174":[0,0],"175":[0,0],"176":[0,0],"177":[0],"178":[0,0],"179":[0,0],"180":[0,0],"181":[0,0],"182":[0],"183":[0],"184":[0],"185":[0],"186":[0,0],"187":[0,0],"188":[0,0],"189":[0,0],"190":[0,0],"191":[0,0],"192":[0,0],"193":[0,0],"194":[0,0],"195":[0,0],"196":[0,0],"197":[0,0],"198":[0,0],"199":[0,0],"200":[0,0],"201":[0,0],"202":[0,0],"203":[0,0],"204":[0,0],"205":[0,0],"206":[0,0],"207":[0,0],"208":[0,0],"209":[0,0],"210":[0,0],"211":[0,0],"212":[0,0],"213":[0,0],"214":[0,0],"215":[0,0],"216":[0,0],"217":[0,0],"218":[0,0],"219":[0,0],"220":[0,0],"221":[0,0],"222":[0,0],"223":[0],"224":[0,0],"225":[0,0],"226":[0,0],"227":[0,0],"228":[0,0],"229":[0,0],"230":[0,0],"231":[0,0],"232":[0,0],"233":[0,0],"234":[0,0,0],"235":[0,0],"236":[0,0],"237":[0,0],"238":[0,0],"239":[0,0],"240":[0],"241":[0],"242":[0],"243":[0],"244":[0,0],"245":[0,0],"246":[0,0],"247":[0,0],"248":[0,0],"249":[0,0],"250":[0,0],"251":[0,0],"252":[0,0],"253":[0,0],"254":[0,0],"255":[0,0],"256":[0,0],"257":[0,0],"258":[0,0],"259":[0,0],"260":[0,0],"261":[0,0],"262":[0,0],"263":[0,0],"264":[0,0],"265":[0,0]},inputSourceMap:{version:3,sources:["../../src/Controllers/DatabaseController.js"],names:["addWriteACL","query","acl","newQuery","_","cloneDeep","_wperm","$in","addReadACL","_rperm","transformObjectACL","ACL","result","entry","read","push","write","specialQuerykeys","isSpecialQueryKey","key","indexOf","validateQuery","Parse","Error","INVALID_QUERY","$or","Array","forEach","$and","$nor","length","Object","keys","$regex","$options","match","INVALID_KEY_NAME","filterSensitiveData","isMaster","aclGroup","auth","operation","schema","className","protectedFields","object","userId","user","id","perms","getClassLevelPermissions","isReadOperation","protectedFieldsPointerPerm","filter","startsWith","map","substring","value","newProtectedFields","overrideProtectedFields","pointerPerm","pointerPermIncludesUser","readUserFieldValue","isArray","some","objectId","fields","v","includes","isUserClass","k","temporaryKeys","password","_hashed_password","sessionToken","_email_verify_token","_perishable_token","_perishable_token_expires_at","_tombstone","_email_verify_token_expires_at","_failed_login_count","_account_lockout_expires_at","_password_changed_at","_password_history","authData","specialKeysForUpdate","isSpecialUpdateKey","expandResultOnKeyPath","path","split","firstKey","nextPath","slice","join","sanitizeDatabaseResult","originalObject","response","Promise","resolve","keyUpdate","__op","joinTableName","flattenUpdateOperatorsForCreate","amount","INVALID_JSON","objects","COMMAND_UNAVAILABLE","transformAuthData","provider","providerData","fieldName","type","untransformObjectACL","output","getRootFieldName","relationSchema","relatedId","owningId","DatabaseController","constructor","adapter","schemaPromise","_transactionalSession","collectionExists","classExists","purgeCollection","loadSchema","then","schemaController","getOneSchema","deleteObjectsByQuery","validateClassName","SchemaController","classNameIsValid","reject","INVALID_CLASS_NAME","options","clearCache","load","loadSchemaIfNeeded","redirectClassNameForKey","t","getExpectedType","targetClass","validateObject","runOptions","undefined","s","canAddField","update","many","upsert","addsField","skipSanitization","validateOnly","validSchemaController","originalQuery","originalUpdate","relationUpdates","validatePermission","collectRelationUpdates","addPointerPermissions","catch","error","rootFieldName","fieldNameIsValid","updateOperation","innerKey","INVALID_NESTED_KEY","find","OBJECT_NOT_FOUND","updateObjectsByQuery","upsertOneObject","findOneAndUpdate","handleRelationUpdates","ops","deleteMe","process","op","x","pending","addRelation","removeRelation","all","fromClassName","fromId","toId","doc","code","destroy","parseFormatSchema","create","createdAt","iso","__type","updatedAt","enforceClassExists","createObject","convertSchemaToAdapterSchema","classSchema","schemaData","schemaFields","newKeys","field","action","deleteEverything","fast","SchemaCache","clear","deleteAllClasses","relatedIds","queryOptions","skip","limit","sort","findOptions","canSortOnJoinTables","_id","results","owningIds","reduceInRelation","ors","aQuery","index","ands","promises","queries","constraintKey","isNegation","r","q","ids","addNotInObjectIdsIds","addInObjectIdsIds","reduceRelationKeys","relatedTo","idsFromString","idsFromEq","idsFromIn","allIds","list","totalLength","reduce","memo","idsIntersection","intersect","big","$eq","idsFromNin","Set","$nin","count","distinct","pipeline","readPreference","hint","caseInsensitive","explain","_created_at","_updated_at","addProtectedFields","aggregate","INTERNAL_SERVER_ERROR","deleteSchema","deleteClass","wasParseCollection","relationFieldNames","name","del","reloadData","objectToEntriesStrings","entries","a","JSON","stringify","reduceOrOperation","repeat","i","j","shorter","longer","foundEntries","acc","shorterEntries","splice","reduceAndOperation","testPermissionsForClassName","userACL","groupKey","permFields","pointerFields","userPointer","fieldDescriptor","fieldType","prototype","hasOwnProperty","call","queryClause","$all","assign","preserveKeys","serverOnlyKeys","authenticated","roles","userRoles","protectedKeysSets","protectedKeys","next","createTransactionalSession","transactionalSession","commitTransactionalSession","abortTransactionalSession","performInitialization","VolatileClassesSchemas","requiredUserFields","defaultColumns","_Default","_User","requiredRoleFields","_Role","requiredIdempotencyFields","_Idempotency","MongoStorageAdapter","ensureUniqueness","logger","warn","ensureIndex","ttl","updateSchemaWithIndexes","module","exports","_validateQuery"],mappings:"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",sourcesContent:["\uFEFF// @flow\n// A database adapter that works with data exported from the hosted\n// Parse database.\n\n// @flow-disable-next\nimport { Parse } from 'parse/node';\n// @flow-disable-next\nimport _ from 'lodash';\n// @flow-disable-next\nimport intersect from 'intersect';\n// @flow-disable-next\nimport deepcopy from 'deepcopy';\nimport logger from '../logger';\nimport * as SchemaController from './SchemaController';\nimport { StorageAdapter } from '../Adapters/Storage/StorageAdapter';\nimport MongoStorageAdapter from '../Adapters/Storage/Mongo/MongoStorageAdapter';\nimport SchemaCache from '../Adapters/Cache/SchemaCache';\nimport type { LoadSchemaOptions } from './types';\nimport type { QueryOptions, FullQueryOptions } from '../Adapters/Storage/StorageAdapter';\n\nfunction addWriteACL(query, acl) {\n  const newQuery = _.cloneDeep(query);\n  //Can't be any existing '_wperm' query, we don't allow client queries on that, no need to $and\n  newQuery._wperm = { $in: [null, ...acl] };\n  return newQuery;\n}\n\nfunction addReadACL(query, acl) {\n  const newQuery = _.cloneDeep(query);\n  //Can't be any existing '_rperm' query, we don't allow client queries on that, no need to $and\n  newQuery._rperm = { $in: [null, '*', ...acl] };\n  return newQuery;\n}\n\n// Transforms a REST API formatted ACL object to our two-field mongo format.\nconst transformObjectACL = ({ ACL, ...result }) => {\n  if (!ACL) {\n    return result;\n  }\n\n  result._wperm = [];\n  result._rperm = [];\n\n  for (const entry in ACL) {\n    if (ACL[entry].read) {\n      result._rperm.push(entry);\n    }\n    if (ACL[entry].write) {\n      result._wperm.push(entry);\n    }\n  }\n  return result;\n};\n\nconst specialQuerykeys = [\n  '$and',\n  '$or',\n  '$nor',\n  '_rperm',\n  '_wperm',\n  '_perishable_token',\n  '_email_verify_token',\n  '_email_verify_token_expires_at',\n  '_account_lockout_expires_at',\n  '_failed_login_count',\n];\n\nconst isSpecialQueryKey = key => {\n  return specialQuerykeys.indexOf(key) >= 0;\n};\n\nconst validateQuery = (query: any): void => {\n  if (query.ACL) {\n    throw new Parse.Error(Parse.Error.INVALID_QUERY, 'Cannot query on ACL.');\n  }\n\n  if (query.$or) {\n    if (query.$or instanceof Array) {\n      query.$or.forEach(validateQuery);\n    } else {\n      throw new Parse.Error(Parse.Error.INVALID_QUERY, 'Bad $or format - use an array value.');\n    }\n  }\n\n  if (query.$and) {\n    if (query.$and instanceof Array) {\n      query.$and.forEach(validateQuery);\n    } else {\n      throw new Parse.Error(Parse.Error.INVALID_QUERY, 'Bad $and format - use an array value.');\n    }\n  }\n\n  if (query.$nor) {\n    if (query.$nor instanceof Array && query.$nor.length > 0) {\n      query.$nor.forEach(validateQuery);\n    } else {\n      throw new Parse.Error(\n        Parse.Error.INVALID_QUERY,\n        'Bad $nor format - use an array of at least 1 value.'\n      );\n    }\n  }\n\n  Object.keys(query).forEach(key => {\n    if (query && query[key] && query[key].$regex) {\n      if (typeof query[key].$options === 'string') {\n        if (!query[key].$options.match(/^[imxs]+$/)) {\n          throw new Parse.Error(\n            Parse.Error.INVALID_QUERY,\n            `Bad $options value for query: ${query[key].$options}`\n          );\n        }\n      }\n    }\n    if (!isSpecialQueryKey(key) && !key.match(/^[a-zA-Z][a-zA-Z0-9_\\.]*$/)) {\n      throw new Parse.Error(Parse.Error.INVALID_KEY_NAME, `Invalid key name: ${key}`);\n    }\n  });\n};\n\n// Filters out any data that shouldn't be on this REST-formatted object.\nconst filterSensitiveData = (\n  isMaster: boolean,\n  aclGroup: any[],\n  auth: any,\n  operation: any,\n  schema: SchemaController.SchemaController,\n  className: string,\n  protectedFields: null | Array<any>,\n  object: any\n) => {\n  let userId = null;\n  if (auth && auth.user) userId = auth.user.id;\n\n  // replace protectedFields when using pointer-permissions\n  const perms = schema.getClassLevelPermissions(className);\n  if (perms) {\n    const isReadOperation = ['get', 'find'].indexOf(operation) > -1;\n\n    if (isReadOperation && perms.protectedFields) {\n      // extract protectedFields added with the pointer-permission prefix\n      const protectedFieldsPointerPerm = Object.keys(perms.protectedFields)\n        .filter(key => key.startsWith('userField:'))\n        .map(key => {\n          return { key: key.substring(10), value: perms.protectedFields[key] };\n        });\n\n      const newProtectedFields: Array<string>[] = [];\n      let overrideProtectedFields = false;\n\n      // check if the object grants the current user access based on the extracted fields\n      protectedFieldsPointerPerm.forEach(pointerPerm => {\n        let pointerPermIncludesUser = false;\n        const readUserFieldValue = object[pointerPerm.key];\n        if (readUserFieldValue) {\n          if (Array.isArray(readUserFieldValue)) {\n            pointerPermIncludesUser = readUserFieldValue.some(\n              user => user.objectId && user.objectId === userId\n            );\n          } else {\n            pointerPermIncludesUser =\n              readUserFieldValue.objectId && readUserFieldValue.objectId === userId;\n          }\n        }\n\n        if (pointerPermIncludesUser) {\n          overrideProtectedFields = true;\n          newProtectedFields.push(pointerPerm.value);\n        }\n      });\n\n      // if at least one pointer-permission affected the current user\n      // intersect vs protectedFields from previous stage (@see addProtectedFields)\n      // Sets theory (intersections): A x (B x C) == (A x B) x C\n      if (overrideProtectedFields && protectedFields) {\n        newProtectedFields.push(protectedFields);\n      }\n      // intersect all sets of protectedFields\n      newProtectedFields.forEach(fields => {\n        if (fields) {\n          // if there're no protctedFields by other criteria ( id / role / auth)\n          // then we must intersect each set (per userField)\n          if (!protectedFields) {\n            protectedFields = fields;\n          } else {\n            protectedFields = protectedFields.filter(v => fields.includes(v));\n          }\n        }\n      });\n    }\n  }\n\n  const isUserClass = className === '_User';\n\n  /* special treat for the user class: don't filter protectedFields if currently loggedin user is\n  the retrieved user */\n  if (!(isUserClass && userId && object.objectId === userId)) {\n    protectedFields && protectedFields.forEach(k => delete object[k]);\n\n    // fields not requested by client (excluded),\n    //but were needed to apply protecttedFields\n    perms.protectedFields &&\n      perms.protectedFields.temporaryKeys &&\n      perms.protectedFields.temporaryKeys.forEach(k => delete object[k]);\n  }\n\n  if (!isUserClass) {\n    return object;\n  }\n\n  object.password = object._hashed_password;\n  delete object._hashed_password;\n\n  delete object.sessionToken;\n\n  if (isMaster) {\n    return object;\n  }\n  delete object._email_verify_token;\n  delete object._perishable_token;\n  delete object._perishable_token_expires_at;\n  delete object._tombstone;\n  delete object._email_verify_token_expires_at;\n  delete object._failed_login_count;\n  delete object._account_lockout_expires_at;\n  delete object._password_changed_at;\n  delete object._password_history;\n\n  if (aclGroup.indexOf(object.objectId) > -1) {\n    return object;\n  }\n  delete object.authData;\n  return object;\n};\n\n// Runs an update on the database.\n// Returns a promise for an object with the new values for field\n// modifications that don't know their results ahead of time, like\n// 'increment'.\n// Options:\n//   acl:  a list of strings. If the object to be updated has an ACL,\n//         one of the provided strings must provide the caller with\n//         write permissions.\nconst specialKeysForUpdate = [\n  '_hashed_password',\n  '_perishable_token',\n  '_email_verify_token',\n  '_email_verify_token_expires_at',\n  '_account_lockout_expires_at',\n  '_failed_login_count',\n  '_perishable_token_expires_at',\n  '_password_changed_at',\n  '_password_history',\n];\n\nconst isSpecialUpdateKey = key => {\n  return specialKeysForUpdate.indexOf(key) >= 0;\n};\n\nfunction expandResultOnKeyPath(object, key, value) {\n  if (key.indexOf('.') < 0) {\n    object[key] = value[key];\n    return object;\n  }\n  const path = key.split('.');\n  const firstKey = path[0];\n  const nextPath = path.slice(1).join('.');\n  object[firstKey] = expandResultOnKeyPath(object[firstKey] || {}, nextPath, value[firstKey]);\n  delete object[key];\n  return object;\n}\n\nfunction sanitizeDatabaseResult(originalObject, result): Promise<any> {\n  const response = {};\n  if (!result) {\n    return Promise.resolve(response);\n  }\n  Object.keys(originalObject).forEach(key => {\n    const keyUpdate = originalObject[key];\n    // determine if that was an op\n    if (\n      keyUpdate &&\n      typeof keyUpdate === 'object' &&\n      keyUpdate.__op &&\n      ['Add', 'AddUnique', 'Remove', 'Increment'].indexOf(keyUpdate.__op) > -1\n    ) {\n      // only valid ops that produce an actionable result\n      // the op may have happend on a keypath\n      expandResultOnKeyPath(response, key, result);\n    }\n  });\n  return Promise.resolve(response);\n}\n\nfunction joinTableName(className, key) {\n  return `_Join:${key}:${className}`;\n}\n\nconst flattenUpdateOperatorsForCreate = object => {\n  for (const key in object) {\n    if (object[key] && object[key].__op) {\n      switch (object[key].__op) {\n        case 'Increment':\n          if (typeof object[key].amount !== 'number') {\n            throw new Parse.Error(Parse.Error.INVALID_JSON, 'objects to add must be an array');\n          }\n          object[key] = object[key].amount;\n          break;\n        case 'Add':\n          if (!(object[key].objects instanceof Array)) {\n            throw new Parse.Error(Parse.Error.INVALID_JSON, 'objects to add must be an array');\n          }\n          object[key] = object[key].objects;\n          break;\n        case 'AddUnique':\n          if (!(object[key].objects instanceof Array)) {\n            throw new Parse.Error(Parse.Error.INVALID_JSON, 'objects to add must be an array');\n          }\n          object[key] = object[key].objects;\n          break;\n        case 'Remove':\n          if (!(object[key].objects instanceof Array)) {\n            throw new Parse.Error(Parse.Error.INVALID_JSON, 'objects to add must be an array');\n          }\n          object[key] = [];\n          break;\n        case 'Delete':\n          delete object[key];\n          break;\n        default:\n          throw new Parse.Error(\n            Parse.Error.COMMAND_UNAVAILABLE,\n            `The ${object[key].__op} operator is not supported yet.`\n          );\n      }\n    }\n  }\n};\n\nconst transformAuthData = (className, object, schema) => {\n  if (object.authData && className === '_User') {\n    Object.keys(object.authData).forEach(provider => {\n      const providerData = object.authData[provider];\n      const fieldName = `_auth_data_${provider}`;\n      if (providerData == null) {\n        object[fieldName] = {\n          __op: 'Delete',\n        };\n      } else {\n        object[fieldName] = providerData;\n        schema.fields[fieldName] = { type: 'Object' };\n      }\n    });\n    delete object.authData;\n  }\n};\n// Transforms a Database format ACL to a REST API format ACL\nconst untransformObjectACL = ({ _rperm, _wperm, ...output }) => {\n  if (_rperm || _wperm) {\n    output.ACL = {};\n\n    (_rperm || []).forEach(entry => {\n      if (!output.ACL[entry]) {\n        output.ACL[entry] = { read: true };\n      } else {\n        output.ACL[entry]['read'] = true;\n      }\n    });\n\n    (_wperm || []).forEach(entry => {\n      if (!output.ACL[entry]) {\n        output.ACL[entry] = { write: true };\n      } else {\n        output.ACL[entry]['write'] = true;\n      }\n    });\n  }\n  return output;\n};\n\n/**\n * When querying, the fieldName may be compound, extract the root fieldName\n *     `temperature.celsius` becomes `temperature`\n * @param {string} fieldName that may be a compound field name\n * @returns {string} the root name of the field\n */\nconst getRootFieldName = (fieldName: string): string => {\n  return fieldName.split('.')[0];\n};\n\nconst relationSchema = {\n  fields: { relatedId: { type: 'String' }, owningId: { type: 'String' } },\n};\n\nclass DatabaseController {\n  adapter: StorageAdapter;\n  schemaCache: any;\n  schemaPromise: ?Promise<SchemaController.SchemaController>;\n  _transactionalSession: ?any;\n\n  constructor(adapter: StorageAdapter) {\n    this.adapter = adapter;\n    // We don't want a mutable this.schema, because then you could have\n    // one request that uses different schemas for different parts of\n    // it. Instead, use loadSchema to get a schema.\n    this.schemaPromise = null;\n    this._transactionalSession = null;\n  }\n\n  collectionExists(className: string): Promise<boolean> {\n    return this.adapter.classExists(className);\n  }\n\n  purgeCollection(className: string): Promise<void> {\n    return this.loadSchema()\n      .then(schemaController => schemaController.getOneSchema(className))\n      .then(schema => this.adapter.deleteObjectsByQuery(className, schema, {}));\n  }\n\n  validateClassName(className: string): Promise<void> {\n    if (!SchemaController.classNameIsValid(className)) {\n      return Promise.reject(\n        new Parse.Error(Parse.Error.INVALID_CLASS_NAME, 'invalid className: ' + className)\n      );\n    }\n    return Promise.resolve();\n  }\n\n  // Returns a promise for a schemaController.\n  loadSchema(\n    options: LoadSchemaOptions = { clearCache: false }\n  ): Promise<SchemaController.SchemaController> {\n    if (this.schemaPromise != null) {\n      return this.schemaPromise;\n    }\n    this.schemaPromise = SchemaController.load(this.adapter, options);\n    this.schemaPromise.then(\n      () => delete this.schemaPromise,\n      () => delete this.schemaPromise\n    );\n    return this.loadSchema(options);\n  }\n\n  loadSchemaIfNeeded(\n    schemaController: SchemaController.SchemaController,\n    options: LoadSchemaOptions = { clearCache: false }\n  ): Promise<SchemaController.SchemaController> {\n    return schemaController ? Promise.resolve(schemaController) : this.loadSchema(options);\n  }\n\n  // Returns a promise for the classname that is related to the given\n  // classname through the key.\n  // TODO: make this not in the DatabaseController interface\n  redirectClassNameForKey(className: string, key: string): Promise<?string> {\n    return this.loadSchema().then(schema => {\n      var t = schema.getExpectedType(className, key);\n      if (t != null && typeof t !== 'string' && t.type === 'Relation') {\n        return t.targetClass;\n      }\n      return className;\n    });\n  }\n\n  // Uses the schema to validate the object (REST API format).\n  // Returns a promise that resolves to the new schema.\n  // This does not update this.schema, because in a situation like a\n  // batch request, that could confuse other users of the schema.\n  validateObject(\n    className: string,\n    object: any,\n    query: any,\n    runOptions: QueryOptions\n  ): Promise<boolean> {\n    let schema;\n    const acl = runOptions.acl;\n    const isMaster = acl === undefined;\n    var aclGroup: string[] = acl || [];\n    return this.loadSchema()\n      .then(s => {\n        schema = s;\n        if (isMaster) {\n          return Promise.resolve();\n        }\n        return this.canAddField(schema, className, object, aclGroup, runOptions);\n      })\n      .then(() => {\n        return schema.validateObject(className, object, query);\n      });\n  }\n\n  update(\n    className: string,\n    query: any,\n    update: any,\n    { acl, many, upsert, addsField }: FullQueryOptions = {},\n    skipSanitization: boolean = false,\n    validateOnly: boolean = false,\n    validSchemaController: SchemaController.SchemaController\n  ): Promise<any> {\n    const originalQuery = query;\n    const originalUpdate = update;\n    // Make a copy of the object, so we don't mutate the incoming data.\n    update = deepcopy(update);\n    var relationUpdates = [];\n    var isMaster = acl === undefined;\n    var aclGroup = acl || [];\n\n    return this.loadSchemaIfNeeded(validSchemaController).then(schemaController => {\n      return (isMaster\n        ? Promise.resolve()\n        : schemaController.validatePermission(className, aclGroup, 'update')\n      )\n        .then(() => {\n          relationUpdates = this.collectRelationUpdates(className, originalQuery.objectId, update);\n          if (!isMaster) {\n            query = this.addPointerPermissions(\n              schemaController,\n              className,\n              'update',\n              query,\n              aclGroup\n            );\n\n            if (addsField) {\n              query = {\n                $and: [\n                  query,\n                  this.addPointerPermissions(\n                    schemaController,\n                    className,\n                    'addField',\n                    query,\n                    aclGroup\n                  ),\n                ],\n              };\n            }\n          }\n          if (!query) {\n            return Promise.resolve();\n          }\n          if (acl) {\n            query = addWriteACL(query, acl);\n          }\n          validateQuery(query);\n          return schemaController\n            .getOneSchema(className, true)\n            .catch(error => {\n              // If the schema doesn't exist, pretend it exists with no fields. This behavior\n              // will likely need revisiting.\n              if (error === undefined) {\n                return { fields: {} };\n              }\n              throw error;\n            })\n            .then(schema => {\n              Object.keys(update).forEach(fieldName => {\n                if (fieldName.match(/^authData\\.([a-zA-Z0-9_]+)\\.id$/)) {\n                  throw new Parse.Error(\n                    Parse.Error.INVALID_KEY_NAME,\n                    `Invalid field name for update: ${fieldName}`\n                  );\n                }\n                const rootFieldName = getRootFieldName(fieldName);\n                if (\n                  !SchemaController.fieldNameIsValid(rootFieldName, className) &&\n                  !isSpecialUpdateKey(rootFieldName)\n                ) {\n                  throw new Parse.Error(\n                    Parse.Error.INVALID_KEY_NAME,\n                    `Invalid field name for update: ${fieldName}`\n                  );\n                }\n              });\n              for (const updateOperation in update) {\n                if (\n                  update[updateOperation] &&\n                  typeof update[updateOperation] === 'object' &&\n                  Object.keys(update[updateOperation]).some(\n                    innerKey => innerKey.includes('$') || innerKey.includes('.')\n                  )\n                ) {\n                  throw new Parse.Error(\n                    Parse.Error.INVALID_NESTED_KEY,\n                    \"Nested keys should not contain the '$' or '.' characters\"\n                  );\n                }\n              }\n              update = transformObjectACL(update);\n              transformAuthData(className, update, schema);\n              if (validateOnly) {\n                return this.adapter.find(className, schema, query, {}).then(result => {\n                  if (!result || !result.length) {\n                    throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'Object not found.');\n                  }\n                  return {};\n                });\n              }\n              if (many) {\n                return this.adapter.updateObjectsByQuery(\n                  className,\n                  schema,\n                  query,\n                  update,\n                  this._transactionalSession\n                );\n              } else if (upsert) {\n                return this.adapter.upsertOneObject(\n                  className,\n                  schema,\n                  query,\n                  update,\n                  this._transactionalSession\n                );\n              } else {\n                return this.adapter.findOneAndUpdate(\n                  className,\n                  schema,\n                  query,\n                  update,\n                  this._transactionalSession\n                );\n              }\n            });\n        })\n        .then((result: any) => {\n          if (!result) {\n            throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'Object not found.');\n          }\n          if (validateOnly) {\n            return result;\n          }\n          return this.handleRelationUpdates(\n            className,\n            originalQuery.objectId,\n            update,\n            relationUpdates\n          ).then(() => {\n            return result;\n          });\n        })\n        .then(result => {\n          if (skipSanitization) {\n            return Promise.resolve(result);\n          }\n          return sanitizeDatabaseResult(originalUpdate, result);\n        });\n    });\n  }\n\n  // Collect all relation-updating operations from a REST-format update.\n  // Returns a list of all relation updates to perform\n  // This mutates update.\n  collectRelationUpdates(className: string, objectId: ?string, update: any) {\n    var ops = [];\n    var deleteMe = [];\n    objectId = update.objectId || objectId;\n\n    var process = (op, key) => {\n      if (!op) {\n        return;\n      }\n      if (op.__op == 'AddRelation') {\n        ops.push({ key, op });\n        deleteMe.push(key);\n      }\n\n      if (op.__op == 'RemoveRelation') {\n        ops.push({ key, op });\n        deleteMe.push(key);\n      }\n\n      if (op.__op == 'Batch') {\n        for (var x of op.ops) {\n          process(x, key);\n        }\n      }\n    };\n\n    for (const key in update) {\n      process(update[key], key);\n    }\n    for (const key of deleteMe) {\n      delete update[key];\n    }\n    return ops;\n  }\n\n  // Processes relation-updating operations from a REST-format update.\n  // Returns a promise that resolves when all updates have been performed\n  handleRelationUpdates(className: string, objectId: string, update: any, ops: any) {\n    var pending = [];\n    objectId = update.objectId || objectId;\n    ops.forEach(({ key, op }) => {\n      if (!op) {\n        return;\n      }\n      if (op.__op == 'AddRelation') {\n        for (const object of op.objects) {\n          pending.push(this.addRelation(key, className, objectId, object.objectId));\n        }\n      }\n\n      if (op.__op == 'RemoveRelation') {\n        for (const object of op.objects) {\n          pending.push(this.removeRelation(key, className, objectId, object.objectId));\n        }\n      }\n    });\n\n    return Promise.all(pending);\n  }\n\n  // Adds a relation.\n  // Returns a promise that resolves successfully iff the add was successful.\n  addRelation(key: string, fromClassName: string, fromId: string, toId: string) {\n    const doc = {\n      relatedId: toId,\n      owningId: fromId,\n    };\n    return this.adapter.upsertOneObject(\n      `_Join:${key}:${fromClassName}`,\n      relationSchema,\n      doc,\n      doc,\n      this._transactionalSession\n    );\n  }\n\n  // Removes a relation.\n  // Returns a promise that resolves successfully iff the remove was\n  // successful.\n  removeRelation(key: string, fromClassName: string, fromId: string, toId: string) {\n    var doc = {\n      relatedId: toId,\n      owningId: fromId,\n    };\n    return this.adapter\n      .deleteObjectsByQuery(\n        `_Join:${key}:${fromClassName}`,\n        relationSchema,\n        doc,\n        this._transactionalSession\n      )\n      .catch(error => {\n        // We don't care if they try to delete a non-existent relation.\n        if (error.code == Parse.Error.OBJECT_NOT_FOUND) {\n          return;\n        }\n        throw error;\n      });\n  }\n\n  // Removes objects matches this query from the database.\n  // Returns a promise that resolves successfully iff the object was\n  // deleted.\n  // Options:\n  //   acl:  a list of strings. If the object to be updated has an ACL,\n  //         one of the provided strings must provide the caller with\n  //         write permissions.\n  destroy(\n    className: string,\n    query: any,\n    { acl }: QueryOptions = {},\n    validSchemaController: SchemaController.SchemaController\n  ): Promise<any> {\n    const isMaster = acl === undefined;\n    const aclGroup = acl || [];\n\n    return this.loadSchemaIfNeeded(validSchemaController).then(schemaController => {\n      return (isMaster\n        ? Promise.resolve()\n        : schemaController.validatePermission(className, aclGroup, 'delete')\n      ).then(() => {\n        if (!isMaster) {\n          query = this.addPointerPermissions(\n            schemaController,\n            className,\n            'delete',\n            query,\n            aclGroup\n          );\n          if (!query) {\n            throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'Object not found.');\n          }\n        }\n        // delete by query\n        if (acl) {\n          query = addWriteACL(query, acl);\n        }\n        validateQuery(query);\n        return schemaController\n          .getOneSchema(className)\n          .catch(error => {\n            // If the schema doesn't exist, pretend it exists with no fields. This behavior\n            // will likely need revisiting.\n            if (error === undefined) {\n              return { fields: {} };\n            }\n            throw error;\n          })\n          .then(parseFormatSchema =>\n            this.adapter.deleteObjectsByQuery(\n              className,\n              parseFormatSchema,\n              query,\n              this._transactionalSession\n            )\n          )\n          .catch(error => {\n            // When deleting sessions while changing passwords, don't throw an error if they don't have any sessions.\n            if (className === '_Session' && error.code === Parse.Error.OBJECT_NOT_FOUND) {\n              return Promise.resolve({});\n            }\n            throw error;\n          });\n      });\n    });\n  }\n\n  // Inserts an object into the database.\n  // Returns a promise that resolves successfully iff the object saved.\n  create(\n    className: string,\n    object: any,\n    { acl }: QueryOptions = {},\n    validateOnly: boolean = false,\n    validSchemaController: SchemaController.SchemaController\n  ): Promise<any> {\n    // Make a copy of the object, so we don't mutate the incoming data.\n    const originalObject = object;\n    object = transformObjectACL(object);\n\n    object.createdAt = { iso: object.createdAt, __type: 'Date' };\n    object.updatedAt = { iso: object.updatedAt, __type: 'Date' };\n\n    var isMaster = acl === undefined;\n    var aclGroup = acl || [];\n    const relationUpdates = this.collectRelationUpdates(className, null, object);\n\n    return this.validateClassName(className)\n      .then(() => this.loadSchemaIfNeeded(validSchemaController))\n      .then(schemaController => {\n        return (isMaster\n          ? Promise.resolve()\n          : schemaController.validatePermission(className, aclGroup, 'create')\n        )\n          .then(() => schemaController.enforceClassExists(className))\n          .then(() => schemaController.getOneSchema(className, true))\n          .then(schema => {\n            transformAuthData(className, object, schema);\n            flattenUpdateOperatorsForCreate(object);\n            if (validateOnly) {\n              return {};\n            }\n            return this.adapter.createObject(\n              className,\n              SchemaController.convertSchemaToAdapterSchema(schema),\n              object,\n              this._transactionalSession\n            );\n          })\n          .then(result => {\n            if (validateOnly) {\n              return originalObject;\n            }\n            return this.handleRelationUpdates(\n              className,\n              object.objectId,\n              object,\n              relationUpdates\n            ).then(() => {\n              return sanitizeDatabaseResult(originalObject, result.ops[0]);\n            });\n          });\n      });\n  }\n\n  canAddField(\n    schema: SchemaController.SchemaController,\n    className: string,\n    object: any,\n    aclGroup: string[],\n    runOptions: QueryOptions\n  ): Promise<void> {\n    const classSchema = schema.schemaData[className];\n    if (!classSchema) {\n      return Promise.resolve();\n    }\n    const fields = Object.keys(object);\n    const schemaFields = Object.keys(classSchema.fields);\n    const newKeys = fields.filter(field => {\n      // Skip fields that are unset\n      if (object[field] && object[field].__op && object[field].__op === 'Delete') {\n        return false;\n      }\n      return schemaFields.indexOf(getRootFieldName(field)) < 0;\n    });\n    if (newKeys.length > 0) {\n      // adds a marker that new field is being adding during update\n      runOptions.addsField = true;\n\n      const action = runOptions.action;\n      return schema.validatePermission(className, aclGroup, 'addField', action);\n    }\n    return Promise.resolve();\n  }\n\n  // Won't delete collections in the system namespace\n  /**\n   * Delete all classes and clears the schema cache\n   *\n   * @param {boolean} fast set to true if it's ok to just delete rows and not indexes\n   * @returns {Promise<void>} when the deletions completes\n   */\n  deleteEverything(fast: boolean = false): Promise<any> {\n    this.schemaPromise = null;\n    SchemaCache.clear();\n    return this.adapter.deleteAllClasses(fast);\n  }\n\n  // Returns a promise for a list of related ids given an owning id.\n  // className here is the owning className.\n  relatedIds(\n    className: string,\n    key: string,\n    owningId: string,\n    queryOptions: QueryOptions\n  ): Promise<Array<string>> {\n    const { skip, limit, sort } = queryOptions;\n    const findOptions = {};\n    if (sort && sort.createdAt && this.adapter.canSortOnJoinTables) {\n      findOptions.sort = { _id: sort.createdAt };\n      findOptions.limit = limit;\n      findOptions.skip = skip;\n      queryOptions.skip = 0;\n    }\n    return this.adapter\n      .find(joinTableName(className, key), relationSchema, { owningId }, findOptions)\n      .then(results => results.map(result => result.relatedId));\n  }\n\n  // Returns a promise for a list of owning ids given some related ids.\n  // className here is the owning className.\n  owningIds(className: string, key: string, relatedIds: string[]): Promise<string[]> {\n    return this.adapter\n      .find(\n        joinTableName(className, key),\n        relationSchema,\n        { relatedId: { $in: relatedIds } },\n        { keys: ['owningId'] }\n      )\n      .then(results => results.map(result => result.owningId));\n  }\n\n  // Modifies query so that it no longer has $in on relation fields, or\n  // equal-to-pointer constraints on relation fields.\n  // Returns a promise that resolves when query is mutated\n  reduceInRelation(className: string, query: any, schema: any): Promise<any> {\n    // Search for an in-relation or equal-to-relation\n    // Make it sequential for now, not sure of paralleization side effects\n    if (query['$or']) {\n      const ors = query['$or'];\n      return Promise.all(\n        ors.map((aQuery, index) => {\n          return this.reduceInRelation(className, aQuery, schema).then(aQuery => {\n            query['$or'][index] = aQuery;\n          });\n        })\n      ).then(() => {\n        return Promise.resolve(query);\n      });\n    }\n    if (query['$and']) {\n      const ands = query['$and'];\n      return Promise.all(\n        ands.map((aQuery, index) => {\n          return this.reduceInRelation(className, aQuery, schema).then(aQuery => {\n            query['$and'][index] = aQuery;\n          });\n        })\n      ).then(() => {\n        return Promise.resolve(query);\n      });\n    }\n\n    const promises = Object.keys(query).map(key => {\n      const t = schema.getExpectedType(className, key);\n      if (!t || t.type !== 'Relation') {\n        return Promise.resolve(query);\n      }\n      let queries: ?(any[]) = null;\n      if (\n        query[key] &&\n        (query[key]['$in'] ||\n          query[key]['$ne'] ||\n          query[key]['$nin'] ||\n          query[key].__type == 'Pointer')\n      ) {\n        // Build the list of queries\n        queries = Object.keys(query[key]).map(constraintKey => {\n          let relatedIds;\n          let isNegation = false;\n          if (constraintKey === 'objectId') {\n            relatedIds = [query[key].objectId];\n          } else if (constraintKey == '$in') {\n            relatedIds = query[key]['$in'].map(r => r.objectId);\n          } else if (constraintKey == '$nin') {\n            isNegation = true;\n            relatedIds = query[key]['$nin'].map(r => r.objectId);\n          } else if (constraintKey == '$ne') {\n            isNegation = true;\n            relatedIds = [query[key]['$ne'].objectId];\n          } else {\n            return;\n          }\n          return {\n            isNegation,\n            relatedIds,\n          };\n        });\n      } else {\n        queries = [{ isNegation: false, relatedIds: [] }];\n      }\n\n      // remove the current queryKey as we don,t need it anymore\n      delete query[key];\n      // execute each query independently to build the list of\n      // $in / $nin\n      const promises = queries.map(q => {\n        if (!q) {\n          return Promise.resolve();\n        }\n        return this.owningIds(className, key, q.relatedIds).then(ids => {\n          if (q.isNegation) {\n            this.addNotInObjectIdsIds(ids, query);\n          } else {\n            this.addInObjectIdsIds(ids, query);\n          }\n          return Promise.resolve();\n        });\n      });\n\n      return Promise.all(promises).then(() => {\n        return Promise.resolve();\n      });\n    });\n\n    return Promise.all(promises).then(() => {\n      return Promise.resolve(query);\n    });\n  }\n\n  // Modifies query so that it no longer has $relatedTo\n  // Returns a promise that resolves when query is mutated\n  reduceRelationKeys(className: string, query: any, queryOptions: any): ?Promise<void> {\n    if (query['$or']) {\n      return Promise.all(\n        query['$or'].map(aQuery => {\n          return this.reduceRelationKeys(className, aQuery, queryOptions);\n        })\n      );\n    }\n    if (query['$and']) {\n      return Promise.all(\n        query['$and'].map(aQuery => {\n          return this.reduceRelationKeys(className, aQuery, queryOptions);\n        })\n      );\n    }\n    var relatedTo = query['$relatedTo'];\n    if (relatedTo) {\n      return this.relatedIds(\n        relatedTo.object.className,\n        relatedTo.key,\n        relatedTo.object.objectId,\n        queryOptions\n      )\n        .then(ids => {\n          delete query['$relatedTo'];\n          this.addInObjectIdsIds(ids, query);\n          return this.reduceRelationKeys(className, query, queryOptions);\n        })\n        .then(() => {});\n    }\n  }\n\n  addInObjectIdsIds(ids: ?Array<string> = null, query: any) {\n    const idsFromString: ?Array<string> =\n      typeof query.objectId === 'string' ? [query.objectId] : null;\n    const idsFromEq: ?Array<string> =\n      query.objectId && query.objectId['$eq'] ? [query.objectId['$eq']] : null;\n    const idsFromIn: ?Array<string> =\n      query.objectId && query.objectId['$in'] ? query.objectId['$in'] : null;\n\n    // @flow-disable-next\n    const allIds: Array<Array<string>> = [idsFromString, idsFromEq, idsFromIn, ids].filter(\n      list => list !== null\n    );\n    const totalLength = allIds.reduce((memo, list) => memo + list.length, 0);\n\n    let idsIntersection = [];\n    if (totalLength > 125) {\n      idsIntersection = intersect.big(allIds);\n    } else {\n      idsIntersection = intersect(allIds);\n    }\n\n    // Need to make sure we don't clobber existing shorthand $eq constraints on objectId.\n    if (!('objectId' in query)) {\n      query.objectId = {\n        $in: undefined,\n      };\n    } else if (typeof query.objectId === 'string') {\n      query.objectId = {\n        $in: undefined,\n        $eq: query.objectId,\n      };\n    }\n    query.objectId['$in'] = idsIntersection;\n\n    return query;\n  }\n\n  addNotInObjectIdsIds(ids: string[] = [], query: any) {\n    const idsFromNin = query.objectId && query.objectId['$nin'] ? query.objectId['$nin'] : [];\n    let allIds = [...idsFromNin, ...ids].filter(list => list !== null);\n\n    // make a set and spread to remove duplicates\n    allIds = [...new Set(allIds)];\n\n    // Need to make sure we don't clobber existing shorthand $eq constraints on objectId.\n    if (!('objectId' in query)) {\n      query.objectId = {\n        $nin: undefined,\n      };\n    } else if (typeof query.objectId === 'string') {\n      query.objectId = {\n        $nin: undefined,\n        $eq: query.objectId,\n      };\n    }\n\n    query.objectId['$nin'] = allIds;\n    return query;\n  }\n\n  // Runs a query on the database.\n  // Returns a promise that resolves to a list of items.\n  // Options:\n  //   skip    number of results to skip.\n  //   limit   limit to this number of results.\n  //   sort    an object where keys are the fields to sort by.\n  //           the value is +1 for ascending, -1 for descending.\n  //   count   run a count instead of returning results.\n  //   acl     restrict this operation with an ACL for the provided array\n  //           of user objectIds and roles. acl: null means no user.\n  //           when this field is not present, don't do anything regarding ACLs.\n  //  caseInsensitive make string comparisons case insensitive\n  // TODO: make userIds not needed here. The db adapter shouldn't know\n  // anything about users, ideally. Then, improve the format of the ACL\n  // arg to work like the others.\n  find(\n    className: string,\n    query: any,\n    {\n      skip,\n      limit,\n      acl,\n      sort = {},\n      count,\n      keys,\n      op,\n      distinct,\n      pipeline,\n      readPreference,\n      hint,\n      caseInsensitive = false,\n      explain,\n    }: any = {},\n    auth: any = {},\n    validSchemaController: SchemaController.SchemaController\n  ): Promise<any> {\n    const isMaster = acl === undefined;\n    const aclGroup = acl || [];\n    op =\n      op || (typeof query.objectId == 'string' && Object.keys(query).length === 1 ? 'get' : 'find');\n    // Count operation if counting\n    op = count === true ? 'count' : op;\n\n    let classExists = true;\n    return this.loadSchemaIfNeeded(validSchemaController).then(schemaController => {\n      //Allow volatile classes if querying with Master (for _PushStatus)\n      //TODO: Move volatile classes concept into mongo adapter, postgres adapter shouldn't care\n      //that api.parse.com breaks when _PushStatus exists in mongo.\n      return schemaController\n        .getOneSchema(className, isMaster)\n        .catch(error => {\n          // Behavior for non-existent classes is kinda weird on Parse.com. Probably doesn't matter too much.\n          // For now, pretend the class exists but has no objects,\n          if (error === undefined) {\n            classExists = false;\n            return { fields: {} };\n          }\n          throw error;\n        })\n        .then(schema => {\n          // Parse.com treats queries on _created_at and _updated_at as if they were queries on createdAt and updatedAt,\n          // so duplicate that behavior here. If both are specified, the correct behavior to match Parse.com is to\n          // use the one that appears first in the sort list.\n          if (sort._created_at) {\n            sort.createdAt = sort._created_at;\n            delete sort._created_at;\n          }\n          if (sort._updated_at) {\n            sort.updatedAt = sort._updated_at;\n            delete sort._updated_at;\n          }\n          const queryOptions = {\n            skip,\n            limit,\n            sort,\n            keys,\n            readPreference,\n            hint,\n            caseInsensitive,\n            explain,\n          };\n          Object.keys(sort).forEach(fieldName => {\n            if (fieldName.match(/^authData\\.([a-zA-Z0-9_]+)\\.id$/)) {\n              throw new Parse.Error(Parse.Error.INVALID_KEY_NAME, `Cannot sort by ${fieldName}`);\n            }\n            const rootFieldName = getRootFieldName(fieldName);\n            if (!SchemaController.fieldNameIsValid(rootFieldName, className)) {\n              throw new Parse.Error(\n                Parse.Error.INVALID_KEY_NAME,\n                `Invalid field name: ${fieldName}.`\n              );\n            }\n          });\n          return (isMaster\n            ? Promise.resolve()\n            : schemaController.validatePermission(className, aclGroup, op)\n          )\n            .then(() => this.reduceRelationKeys(className, query, queryOptions))\n            .then(() => this.reduceInRelation(className, query, schemaController))\n            .then(() => {\n              let protectedFields;\n              if (!isMaster) {\n                query = this.addPointerPermissions(\n                  schemaController,\n                  className,\n                  op,\n                  query,\n                  aclGroup\n                );\n                /* Don't use projections to optimize the protectedFields since the protectedFields\n                  based on pointer-permissions are determined after querying. The filtering can\n                  overwrite the protected fields. */\n                protectedFields = this.addProtectedFields(\n                  schemaController,\n                  className,\n                  query,\n                  aclGroup,\n                  auth,\n                  queryOptions\n                );\n              }\n              if (!query) {\n                if (op === 'get') {\n                  throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'Object not found.');\n                } else {\n                  return [];\n                }\n              }\n              if (!isMaster) {\n                if (op === 'update' || op === 'delete') {\n                  query = addWriteACL(query, aclGroup);\n                } else {\n                  query = addReadACL(query, aclGroup);\n                }\n              }\n              validateQuery(query);\n              if (count) {\n                if (!classExists) {\n                  return 0;\n                } else {\n                  return this.adapter.count(\n                    className,\n                    schema,\n                    query,\n                    readPreference,\n                    undefined,\n                    hint\n                  );\n                }\n              } else if (distinct) {\n                if (!classExists) {\n                  return [];\n                } else {\n                  return this.adapter.distinct(className, schema, query, distinct);\n                }\n              } else if (pipeline) {\n                if (!classExists) {\n                  return [];\n                } else {\n                  return this.adapter.aggregate(\n                    className,\n                    schema,\n                    pipeline,\n                    readPreference,\n                    hint,\n                    explain\n                  );\n                }\n              } else if (explain) {\n                return this.adapter.find(className, schema, query, queryOptions);\n              } else {\n                return this.adapter\n                  .find(className, schema, query, queryOptions)\n                  .then(objects =>\n                    objects.map(object => {\n                      object = untransformObjectACL(object);\n                      return filterSensitiveData(\n                        isMaster,\n                        aclGroup,\n                        auth,\n                        op,\n                        schemaController,\n                        className,\n                        protectedFields,\n                        object\n                      );\n                    })\n                  )\n                  .catch(error => {\n                    throw new Parse.Error(Parse.Error.INTERNAL_SERVER_ERROR, error);\n                  });\n              }\n            });\n        });\n    });\n  }\n\n  deleteSchema(className: string): Promise<void> {\n    let schemaController;\n    return this.loadSchema({ clearCache: true })\n      .then(s => {\n        schemaController = s;\n        return schemaController.getOneSchema(className, true);\n      })\n      .catch(error => {\n        if (error === undefined) {\n          return { fields: {} };\n        } else {\n          throw error;\n        }\n      })\n      .then((schema: any) => {\n        return this.collectionExists(className)\n          .then(() => this.adapter.count(className, { fields: {} }, null, '', false))\n          .then(count => {\n            if (count > 0) {\n              throw new Parse.Error(\n                255,\n                `Class ${className} is not empty, contains ${count} objects, cannot drop schema.`\n              );\n            }\n            return this.adapter.deleteClass(className);\n          })\n          .then(wasParseCollection => {\n            if (wasParseCollection) {\n              const relationFieldNames = Object.keys(schema.fields).filter(\n                fieldName => schema.fields[fieldName].type === 'Relation'\n              );\n              return Promise.all(\n                relationFieldNames.map(name =>\n                  this.adapter.deleteClass(joinTableName(className, name))\n                )\n              ).then(() => {\n                SchemaCache.del(className);\n                return schemaController.reloadData();\n              });\n            } else {\n              return Promise.resolve();\n            }\n          });\n      });\n  }\n\n  // This helps to create intermediate objects for simpler comparison of\n  // key value pairs used in query objects. Each key value pair will represented\n  // in a similar way to json\n  objectToEntriesStrings(query: any): Array<string> {\n    return Object.entries(query).map(a => a.map(s => JSON.stringify(s)).join(':'));\n  }\n\n  // Naive logic reducer for OR operations meant to be used only for pointer permissions.\n  reduceOrOperation(query: { $or: Array<any> }): any {\n    if (!query.$or) {\n      return query;\n    }\n    const queries = query.$or.map(q => this.objectToEntriesStrings(q));\n    let repeat = false;\n    do {\n      repeat = false;\n      for (let i = 0; i < queries.length - 1; i++) {\n        for (let j = i + 1; j < queries.length; j++) {\n          const [shorter, longer] = queries[i].length > queries[j].length ? [j, i] : [i, j];\n          const foundEntries = queries[shorter].reduce(\n            (acc, entry) => acc + (queries[longer].includes(entry) ? 1 : 0),\n            0\n          );\n          const shorterEntries = queries[shorter].length;\n          if (foundEntries === shorterEntries) {\n            // If the shorter query is completely contained in the longer one, we can strike\n            // out the longer query.\n            query.$or.splice(longer, 1);\n            queries.splice(longer, 1);\n            repeat = true;\n            break;\n          }\n        }\n      }\n    } while (repeat);\n    if (query.$or.length === 1) {\n      query = { ...query, ...query.$or[0] };\n      delete query.$or;\n    }\n    return query;\n  }\n\n  // Naive logic reducer for AND operations meant to be used only for pointer permissions.\n  reduceAndOperation(query: { $and: Array<any> }): any {\n    if (!query.$and) {\n      return query;\n    }\n    const queries = query.$and.map(q => this.objectToEntriesStrings(q));\n    let repeat = false;\n    do {\n      repeat = false;\n      for (let i = 0; i < queries.length - 1; i++) {\n        for (let j = i + 1; j < queries.length; j++) {\n          const [shorter, longer] = queries[i].length > queries[j].length ? [j, i] : [i, j];\n          const foundEntries = queries[shorter].reduce(\n            (acc, entry) => acc + (queries[longer].includes(entry) ? 1 : 0),\n            0\n          );\n          const shorterEntries = queries[shorter].length;\n          if (foundEntries === shorterEntries) {\n            // If the shorter query is completely contained in the longer one, we can strike\n            // out the shorter query.\n            query.$and.splice(shorter, 1);\n            queries.splice(shorter, 1);\n            repeat = true;\n            break;\n          }\n        }\n      }\n    } while (repeat);\n    if (query.$and.length === 1) {\n      query = { ...query, ...query.$and[0] };\n      delete query.$and;\n    }\n    return query;\n  }\n\n  // Constraints query using CLP's pointer permissions (PP) if any.\n  // 1. Etract the user id from caller's ACLgroup;\n  // 2. Exctract a list of field names that are PP for target collection and operation;\n  // 3. Constraint the original query so that each PP field must\n  // point to caller's id (or contain it in case of PP field being an array)\n  addPointerPermissions(\n    schema: SchemaController.SchemaController,\n    className: string,\n    operation: string,\n    query: any,\n    aclGroup: any[] = []\n  ): any {\n    // Check if class has public permission for operation\n    // If the BaseCLP pass, let go through\n    if (schema.testPermissionsForClassName(className, aclGroup, operation)) {\n      return query;\n    }\n    const perms = schema.getClassLevelPermissions(className);\n\n    const userACL = aclGroup.filter(acl => {\n      return acl.indexOf('role:') != 0 && acl != '*';\n    });\n\n    const groupKey =\n      ['get', 'find', 'count'].indexOf(operation) > -1 ? 'readUserFields' : 'writeUserFields';\n\n    const permFields = [];\n\n    if (perms[operation] && perms[operation].pointerFields) {\n      permFields.push(...perms[operation].pointerFields);\n    }\n\n    if (perms[groupKey]) {\n      for (const field of perms[groupKey]) {\n        if (!permFields.includes(field)) {\n          permFields.push(field);\n        }\n      }\n    }\n    // the ACL should have exactly 1 user\n    if (permFields.length > 0) {\n      // the ACL should have exactly 1 user\n      // No user set return undefined\n      // If the length is > 1, that means we didn't de-dupe users correctly\n      if (userACL.length != 1) {\n        return;\n      }\n      const userId = userACL[0];\n      const userPointer = {\n        __type: 'Pointer',\n        className: '_User',\n        objectId: userId,\n      };\n\n      const queries = permFields.map(key => {\n        const fieldDescriptor = schema.getExpectedType(className, key);\n        const fieldType =\n          fieldDescriptor &&\n          typeof fieldDescriptor === 'object' &&\n          Object.prototype.hasOwnProperty.call(fieldDescriptor, 'type')\n            ? fieldDescriptor.type\n            : null;\n\n        let queryClause;\n\n        if (fieldType === 'Pointer') {\n          // constraint for single pointer setup\n          queryClause = { [key]: userPointer };\n        } else if (fieldType === 'Array') {\n          // constraint for users-array setup\n          queryClause = { [key]: { $all: [userPointer] } };\n        } else if (fieldType === 'Object') {\n          // constraint for object setup\n          queryClause = { [key]: userPointer };\n        } else {\n          // This means that there is a CLP field of an unexpected type. This condition should not happen, which is\n          // why is being treated as an error.\n          throw Error(\n            `An unexpected condition occurred when resolving pointer permissions: ${className} ${key}`\n          );\n        }\n        // if we already have a constraint on the key, use the $and\n        if (Object.prototype.hasOwnProperty.call(query, key)) {\n          return this.reduceAndOperation({ $and: [queryClause, query] });\n        }\n        // otherwise just add the constaint\n        return Object.assign({}, query, queryClause);\n      });\n\n      return queries.length === 1 ? queries[0] : this.reduceOrOperation({ $or: queries });\n    } else {\n      return query;\n    }\n  }\n\n  addProtectedFields(\n    schema: SchemaController.SchemaController,\n    className: string,\n    query: any = {},\n    aclGroup: any[] = [],\n    auth: any = {},\n    queryOptions: FullQueryOptions = {}\n  ): null | string[] {\n    const perms = schema.getClassLevelPermissions(className);\n    if (!perms) return null;\n\n    const protectedFields = perms.protectedFields;\n    if (!protectedFields) return null;\n\n    if (aclGroup.indexOf(query.objectId) > -1) return null;\n\n    // for queries where \"keys\" are set and do not include all 'userField':{field},\n    // we have to transparently include it, and then remove before returning to client\n    // Because if such key not projected the permission won't be enforced properly\n    // PS this is called when 'excludeKeys' already reduced to 'keys'\n    const preserveKeys = queryOptions.keys;\n\n    // these are keys that need to be included only\n    // to be able to apply protectedFields by pointer\n    // and then unset before returning to client (later in  filterSensitiveFields)\n    const serverOnlyKeys = [];\n\n    const authenticated = auth.user;\n\n    // map to allow check without array search\n    const roles = (auth.userRoles || []).reduce((acc, r) => {\n      acc[r] = protectedFields[r];\n      return acc;\n    }, {});\n\n    // array of sets of protected fields. separate item for each applicable criteria\n    const protectedKeysSets = [];\n\n    for (const key in protectedFields) {\n      // skip userFields\n      if (key.startsWith('userField:')) {\n        if (preserveKeys) {\n          const fieldName = key.substring(10);\n          if (!preserveKeys.includes(fieldName)) {\n            // 1. put it there temporarily\n            queryOptions.keys && queryOptions.keys.push(fieldName);\n            // 2. preserve it delete later\n            serverOnlyKeys.push(fieldName);\n          }\n        }\n        continue;\n      }\n\n      // add public tier\n      if (key === '*') {\n        protectedKeysSets.push(protectedFields[key]);\n        continue;\n      }\n\n      if (authenticated) {\n        if (key === 'authenticated') {\n          // for logged in users\n          protectedKeysSets.push(protectedFields[key]);\n          continue;\n        }\n\n        if (roles[key] && key.startsWith('role:')) {\n          // add applicable roles\n          protectedKeysSets.push(roles[key]);\n        }\n      }\n    }\n\n    // check if there's a rule for current user's id\n    if (authenticated) {\n      const userId = auth.user.id;\n      if (perms.protectedFields[userId]) {\n        protectedKeysSets.push(perms.protectedFields[userId]);\n      }\n    }\n\n    // preserve fields to be removed before sending response to client\n    if (serverOnlyKeys.length > 0) {\n      perms.protectedFields.temporaryKeys = serverOnlyKeys;\n    }\n\n    let protectedKeys = protectedKeysSets.reduce((acc, next) => {\n      if (next) {\n        acc.push(...next);\n      }\n      return acc;\n    }, []);\n\n    // intersect all sets of protectedFields\n    protectedKeysSets.forEach(fields => {\n      if (fields) {\n        protectedKeys = protectedKeys.filter(v => fields.includes(v));\n      }\n    });\n\n    return protectedKeys;\n  }\n\n  createTransactionalSession() {\n    return this.adapter.createTransactionalSession().then(transactionalSession => {\n      this._transactionalSession = transactionalSession;\n    });\n  }\n\n  commitTransactionalSession() {\n    if (!this._transactionalSession) {\n      throw new Error('There is no transactional session to commit');\n    }\n    return this.adapter.commitTransactionalSession(this._transactionalSession).then(() => {\n      this._transactionalSession = null;\n    });\n  }\n\n  abortTransactionalSession() {\n    if (!this._transactionalSession) {\n      throw new Error('There is no transactional session to abort');\n    }\n    return this.adapter.abortTransactionalSession(this._transactionalSession).then(() => {\n      this._transactionalSession = null;\n    });\n  }\n\n  // TODO: create indexes on first creation of a _User object. Otherwise it's impossible to\n  // have a Parse app without it having a _User collection.\n  async performInitialization() {\n    await this.adapter.performInitialization({\n      VolatileClassesSchemas: SchemaController.VolatileClassesSchemas,\n    });\n    const requiredUserFields = {\n      fields: {\n        ...SchemaController.defaultColumns._Default,\n        ...SchemaController.defaultColumns._User,\n      },\n    };\n    const requiredRoleFields = {\n      fields: {\n        ...SchemaController.defaultColumns._Default,\n        ...SchemaController.defaultColumns._Role,\n      },\n    };\n    const requiredIdempotencyFields = {\n      fields: {\n        ...SchemaController.defaultColumns._Default,\n        ...SchemaController.defaultColumns._Idempotency,\n      },\n    };\n    await this.loadSchema().then(schema => schema.enforceClassExists('_User'));\n    await this.loadSchema().then(schema => schema.enforceClassExists('_Role'));\n    if (this.adapter instanceof MongoStorageAdapter) {\n      await this.loadSchema().then(schema => schema.enforceClassExists('_Idempotency'));\n    }\n\n    await this.adapter.ensureUniqueness('_User', requiredUserFields, ['username']).catch(error => {\n      logger.warn('Unable to ensure uniqueness for usernames: ', error);\n      throw error;\n    });\n\n    await this.adapter\n      .ensureIndex('_User', requiredUserFields, ['username'], 'case_insensitive_username', true)\n      .catch(error => {\n        logger.warn('Unable to create case insensitive username index: ', error);\n        throw error;\n      });\n    await this.adapter\n      .ensureIndex('_User', requiredUserFields, ['username'], 'case_insensitive_username', true)\n      .catch(error => {\n        logger.warn('Unable to create case insensitive username index: ', error);\n        throw error;\n      });\n\n    await this.adapter.ensureUniqueness('_User', requiredUserFields, ['email']).catch(error => {\n      logger.warn('Unable to ensure uniqueness for user email addresses: ', error);\n      throw error;\n    });\n\n    await this.adapter\n      .ensureIndex('_User', requiredUserFields, ['email'], 'case_insensitive_email', true)\n      .catch(error => {\n        logger.warn('Unable to create case insensitive email index: ', error);\n        throw error;\n      });\n\n    await this.adapter.ensureUniqueness('_Role', requiredRoleFields, ['name']).catch(error => {\n      logger.warn('Unable to ensure uniqueness for role name: ', error);\n      throw error;\n    });\n    if (this.adapter instanceof MongoStorageAdapter) {\n      await this.adapter\n        .ensureUniqueness('_Idempotency', requiredIdempotencyFields, ['reqId'])\n        .catch(error => {\n          logger.warn('Unable to ensure uniqueness for idempotency request ID: ', error);\n          throw error;\n        });\n\n      await this.adapter\n        .ensureIndex('_Idempotency', requiredIdempotencyFields, ['expire'], 'ttl', false, {\n          ttl: 0,\n        })\n        .catch(error => {\n          logger.warn('Unable to create TTL index for idempotency expire date: ', error);\n          throw error;\n        });\n    }\n    await this.adapter.updateSchemaWithIndexes();\n  }\n\n  static _validateQuery: any => void;\n}\n\nmodule.exports = DatabaseController;\n// Expose validateQuery for tests\nmodule.exports._validateQuery = validateQuery;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1f28342019b52bc8105cf41fc4d046e2385205e4"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_cxckea6v3=function(){return actualCoverage;};}return actualCoverage;}cov_cxckea6v3();cov_cxckea6v3().s[0]++;Error.stackTraceLimit=2000;var _node=(cov_cxckea6v3().s[1]++,require("parse/node"));var _lodash=(cov_cxckea6v3().s[2]++,_interopRequireDefault(require("lodash")));var _intersect=(cov_cxckea6v3().s[3]++,_interopRequireDefault(require("intersect")));var _deepcopy=(cov_cxckea6v3().s[4]++,_interopRequireDefault(require("deepcopy")));var _logger=(cov_cxckea6v3().s[5]++,_interopRequireDefault(require("../logger")));var SchemaController=(cov_cxckea6v3().s[6]++,_interopRequireWildcard(require("./SchemaController")));var _StorageAdapter=(cov_cxckea6v3().s[7]++,require("../Adapters/Storage/StorageAdapter"));var _MongoStorageAdapter=(cov_cxckea6v3().s[8]++,_interopRequireDefault(require("../Adapters/Storage/Mongo/MongoStorageAdapter")));var _SchemaCache=(cov_cxckea6v3().s[9]++,_interopRequireDefault(require("../Adapters/Cache/SchemaCache")));function _getRequireWildcardCache(nodeInterop){cov_cxckea6v3().f[0]++;cov_cxckea6v3().s[10]++;if(typeof WeakMap!=="function"){cov_cxckea6v3().b[0][0]++;cov_cxckea6v3().s[11]++;return null;}else{cov_cxckea6v3().b[0][1]++;}var cacheBabelInterop=(cov_cxckea6v3().s[12]++,new WeakMap());var cacheNodeInterop=(cov_cxckea6v3().s[13]++,new WeakMap());cov_cxckea6v3().s[14]++;return(_getRequireWildcardCache=function(nodeInterop){cov_cxckea6v3().f[1]++;cov_cxckea6v3().s[15]++;return nodeInterop?(cov_cxckea6v3().b[1][0]++,cacheNodeInterop):(cov_cxckea6v3().b[1][1]++,cacheBabelInterop);})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){cov_cxckea6v3().f[2]++;cov_cxckea6v3().s[16]++;if((cov_cxckea6v3().b[3][0]++,!nodeInterop)&&(cov_cxckea6v3().b[3][1]++,obj)&&(cov_cxckea6v3().b[3][2]++,obj.__esModule)){cov_cxckea6v3().b[2][0]++;cov_cxckea6v3().s[17]++;return obj;}else{cov_cxckea6v3().b[2][1]++;}cov_cxckea6v3().s[18]++;if((cov_cxckea6v3().b[5][0]++,obj===null)||(cov_cxckea6v3().b[5][1]++,typeof obj!=="object")&&(cov_cxckea6v3().b[5][2]++,typeof obj!=="function")){cov_cxckea6v3().b[4][0]++;cov_cxckea6v3().s[19]++;return{default:obj};}else{cov_cxckea6v3().b[4][1]++;}var cache=(cov_cxckea6v3().s[20]++,_getRequireWildcardCache(nodeInterop));cov_cxckea6v3().s[21]++;if((cov_cxckea6v3().b[7][0]++,cache)&&(cov_cxckea6v3().b[7][1]++,cache.has(obj))){cov_cxckea6v3().b[6][0]++;cov_cxckea6v3().s[22]++;return cache.get(obj);}else{cov_cxckea6v3().b[6][1]++;}var newObj=(cov_cxckea6v3().s[23]++,{});var hasPropertyDescriptor=(cov_cxckea6v3().s[24]++,(cov_cxckea6v3().b[8][0]++,Object.defineProperty)&&(cov_cxckea6v3().b[8][1]++,Object.getOwnPropertyDescriptor));cov_cxckea6v3().s[25]++;for(var key in obj){cov_cxckea6v3().s[26]++;if((cov_cxckea6v3().b[10][0]++,key!=="default")&&(cov_cxckea6v3().b[10][1]++,Object.prototype.hasOwnProperty.call(obj,key))){cov_cxckea6v3().b[9][0]++;var desc=(cov_cxckea6v3().s[27]++,hasPropertyDescriptor?(cov_cxckea6v3().b[11][0]++,Object.getOwnPropertyDescriptor(obj,key)):(cov_cxckea6v3().b[11][1]++,null));cov_cxckea6v3().s[28]++;if((cov_cxckea6v3().b[13][0]++,desc)&&((cov_cxckea6v3().b[13][1]++,desc.get)||(cov_cxckea6v3().b[13][2]++,desc.set))){cov_cxckea6v3().b[12][0]++;cov_cxckea6v3().s[29]++;Object.defineProperty(newObj,key,desc);}else{cov_cxckea6v3().b[12][1]++;cov_cxckea6v3().s[30]++;newObj[key]=obj[key];}}else{cov_cxckea6v3().b[9][1]++;}}cov_cxckea6v3().s[31]++;newObj.default=obj;cov_cxckea6v3().s[32]++;if(cache){cov_cxckea6v3().b[14][0]++;cov_cxckea6v3().s[33]++;cache.set(obj,newObj);}else{cov_cxckea6v3().b[14][1]++;}cov_cxckea6v3().s[34]++;return newObj;}function _interopRequireDefault(obj){cov_cxckea6v3().f[3]++;cov_cxckea6v3().s[35]++;return(cov_cxckea6v3().b[16][0]++,obj)&&(cov_cxckea6v3().b[16][1]++,obj.__esModule)?(cov_cxckea6v3().b[15][0]++,obj):(cov_cxckea6v3().b[15][1]++,{default:obj});}function ownKeys(object,enumerableOnly){cov_cxckea6v3().f[4]++;var keys=(cov_cxckea6v3().s[36]++,Object.keys(object));cov_cxckea6v3().s[37]++;if(Object.getOwnPropertySymbols){cov_cxckea6v3().b[17][0]++;var symbols=(cov_cxckea6v3().s[38]++,Object.getOwnPropertySymbols(object));cov_cxckea6v3().s[39]++;if(enumerableOnly){cov_cxckea6v3().b[18][0]++;cov_cxckea6v3().s[40]++;symbols=symbols.filter(function(sym){cov_cxckea6v3().f[5]++;cov_cxckea6v3().s[41]++;return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}else{cov_cxckea6v3().b[18][1]++;}cov_cxckea6v3().s[42]++;keys.push.apply(keys,symbols);}else{cov_cxckea6v3().b[17][1]++;}cov_cxckea6v3().s[43]++;return keys;}function _objectSpread(target){cov_cxckea6v3().f[6]++;cov_cxckea6v3().s[44]++;for(var i=(cov_cxckea6v3().s[45]++,1);i<arguments.length;i++){var source=(cov_cxckea6v3().s[46]++,arguments[i]!=null?(cov_cxckea6v3().b[19][0]++,arguments[i]):(cov_cxckea6v3().b[19][1]++,{}));cov_cxckea6v3().s[47]++;if(i%2){cov_cxckea6v3().b[20][0]++;cov_cxckea6v3().s[48]++;ownKeys(Object(source),true).forEach(function(key){cov_cxckea6v3().f[7]++;cov_cxckea6v3().s[49]++;_defineProperty(target,key,source[key]);});}else{cov_cxckea6v3().b[20][1]++;cov_cxckea6v3().s[50]++;if(Object.getOwnPropertyDescriptors){cov_cxckea6v3().b[21][0]++;cov_cxckea6v3().s[51]++;Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{cov_cxckea6v3().b[21][1]++;cov_cxckea6v3().s[52]++;ownKeys(Object(source)).forEach(function(key){cov_cxckea6v3().f[8]++;cov_cxckea6v3().s[53]++;Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}}cov_cxckea6v3().s[54]++;return target;}function _defineProperty(obj,key,value){cov_cxckea6v3().f[9]++;cov_cxckea6v3().s[55]++;if(key in obj){cov_cxckea6v3().b[22][0]++;cov_cxckea6v3().s[56]++;Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{cov_cxckea6v3().b[22][1]++;cov_cxckea6v3().s[57]++;obj[key]=value;}cov_cxckea6v3().s[58]++;return obj;}function _objectWithoutProperties(source,excluded){cov_cxckea6v3().f[10]++;cov_cxckea6v3().s[59]++;if(source==null){cov_cxckea6v3().b[23][0]++;cov_cxckea6v3().s[60]++;return{};}else{cov_cxckea6v3().b[23][1]++;}var target=(cov_cxckea6v3().s[61]++,_objectWithoutPropertiesLoose(source,excluded));var key,i;cov_cxckea6v3().s[62]++;if(Object.getOwnPropertySymbols){cov_cxckea6v3().b[24][0]++;var sourceSymbolKeys=(cov_cxckea6v3().s[63]++,Object.getOwnPropertySymbols(source));cov_cxckea6v3().s[64]++;for(i=0;i<sourceSymbolKeys.length;i++){cov_cxckea6v3().s[65]++;key=sourceSymbolKeys[i];cov_cxckea6v3().s[66]++;if(excluded.indexOf(key)>=0){cov_cxckea6v3().b[25][0]++;cov_cxckea6v3().s[67]++;continue;}else{cov_cxckea6v3().b[25][1]++;}cov_cxckea6v3().s[68]++;if(!Object.prototype.propertyIsEnumerable.call(source,key)){cov_cxckea6v3().b[26][0]++;cov_cxckea6v3().s[69]++;continue;}else{cov_cxckea6v3().b[26][1]++;}cov_cxckea6v3().s[70]++;target[key]=source[key];}}else{cov_cxckea6v3().b[24][1]++;}cov_cxckea6v3().s[71]++;return target;}function _objectWithoutPropertiesLoose(source,excluded){cov_cxckea6v3().f[11]++;cov_cxckea6v3().s[72]++;if(source==null){cov_cxckea6v3().b[27][0]++;cov_cxckea6v3().s[73]++;return{};}else{cov_cxckea6v3().b[27][1]++;}var target=(cov_cxckea6v3().s[74]++,{});var sourceKeys=(cov_cxckea6v3().s[75]++,Object.keys(source));var key,i;cov_cxckea6v3().s[76]++;for(i=0;i<sourceKeys.length;i++){cov_cxckea6v3().s[77]++;key=sourceKeys[i];cov_cxckea6v3().s[78]++;if(excluded.indexOf(key)>=0){cov_cxckea6v3().b[28][0]++;cov_cxckea6v3().s[79]++;continue;}else{cov_cxckea6v3().b[28][1]++;}cov_cxckea6v3().s[80]++;target[key]=source[key];}cov_cxckea6v3().s[81]++;return target;}function addWriteACL(query,acl){cov_cxckea6v3().f[12]++;const newQuery=(cov_cxckea6v3().s[82]++,_lodash.default.cloneDeep(query));//Can't be any existing '_wperm' query, we don't allow client queries on that, no need to $and
cov_cxckea6v3().s[83]++;newQuery._wperm={$in:[null,...acl]};cov_cxckea6v3().s[84]++;return newQuery;}function addReadACL(query,acl){cov_cxckea6v3().f[13]++;const newQuery=(cov_cxckea6v3().s[85]++,_lodash.default.cloneDeep(query));//Can't be any existing '_rperm' query, we don't allow client queries on that, no need to $and
cov_cxckea6v3().s[86]++;newQuery._rperm={$in:[null,'*',...acl]};cov_cxckea6v3().s[87]++;return newQuery;}// Transforms a REST API formatted ACL object to our two-field mongo format.
cov_cxckea6v3().s[88]++;const transformObjectACL=_ref=>{cov_cxckea6v3().f[14]++;let{ACL}=(cov_cxckea6v3().s[89]++,_ref),result=(cov_cxckea6v3().s[90]++,_objectWithoutProperties(_ref,["ACL"]));cov_cxckea6v3().s[91]++;if(!ACL){cov_cxckea6v3().b[29][0]++;cov_cxckea6v3().s[92]++;return result;}else{cov_cxckea6v3().b[29][1]++;}cov_cxckea6v3().s[93]++;result._wperm=[];cov_cxckea6v3().s[94]++;result._rperm=[];cov_cxckea6v3().s[95]++;for(const entry in ACL){cov_cxckea6v3().s[96]++;if(ACL[entry].read){cov_cxckea6v3().b[30][0]++;cov_cxckea6v3().s[97]++;result._rperm.push(entry);}else{cov_cxckea6v3().b[30][1]++;}cov_cxckea6v3().s[98]++;if(ACL[entry].write){cov_cxckea6v3().b[31][0]++;cov_cxckea6v3().s[99]++;result._wperm.push(entry);}else{cov_cxckea6v3().b[31][1]++;}}cov_cxckea6v3().s[100]++;return result;};const specialQuerykeys=(cov_cxckea6v3().s[101]++,['$and','$or','$nor','_rperm','_wperm','_perishable_token','_email_verify_token','_email_verify_token_expires_at','_account_lockout_expires_at','_failed_login_count']);cov_cxckea6v3().s[102]++;const isSpecialQueryKey=key=>{cov_cxckea6v3().f[15]++;cov_cxckea6v3().s[103]++;return specialQuerykeys.indexOf(key)>=0;};cov_cxckea6v3().s[104]++;const validateQuery=query=>{cov_cxckea6v3().f[16]++;cov_cxckea6v3().s[105]++;if(query.ACL){cov_cxckea6v3().b[32][0]++;cov_cxckea6v3().s[106]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_QUERY,'Cannot query on ACL.');}else{cov_cxckea6v3().b[32][1]++;}cov_cxckea6v3().s[107]++;if(query.$or){cov_cxckea6v3().b[33][0]++;cov_cxckea6v3().s[108]++;if(query.$or instanceof Array){cov_cxckea6v3().b[34][0]++;cov_cxckea6v3().s[109]++;query.$or.forEach(validateQuery);}else{cov_cxckea6v3().b[34][1]++;cov_cxckea6v3().s[110]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_QUERY,'Bad $or format - use an array value.');}}else{cov_cxckea6v3().b[33][1]++;}cov_cxckea6v3().s[111]++;if(query.$and){cov_cxckea6v3().b[35][0]++;cov_cxckea6v3().s[112]++;if(query.$and instanceof Array){cov_cxckea6v3().b[36][0]++;cov_cxckea6v3().s[113]++;query.$and.forEach(validateQuery);}else{cov_cxckea6v3().b[36][1]++;cov_cxckea6v3().s[114]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_QUERY,'Bad $and format - use an array value.');}}else{cov_cxckea6v3().b[35][1]++;}cov_cxckea6v3().s[115]++;if(query.$nor){cov_cxckea6v3().b[37][0]++;cov_cxckea6v3().s[116]++;if((cov_cxckea6v3().b[39][0]++,query.$nor instanceof Array)&&(cov_cxckea6v3().b[39][1]++,query.$nor.length>0)){cov_cxckea6v3().b[38][0]++;cov_cxckea6v3().s[117]++;query.$nor.forEach(validateQuery);}else{cov_cxckea6v3().b[38][1]++;cov_cxckea6v3().s[118]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_QUERY,'Bad $nor format - use an array of at least 1 value.');}}else{cov_cxckea6v3().b[37][1]++;}cov_cxckea6v3().s[119]++;Object.keys(query).forEach(key=>{cov_cxckea6v3().f[17]++;cov_cxckea6v3().s[120]++;if((cov_cxckea6v3().b[41][0]++,query)&&(cov_cxckea6v3().b[41][1]++,query[key])&&(cov_cxckea6v3().b[41][2]++,query[key].$regex)){cov_cxckea6v3().b[40][0]++;cov_cxckea6v3().s[121]++;if(typeof query[key].$options==='string'){cov_cxckea6v3().b[42][0]++;cov_cxckea6v3().s[122]++;if(!query[key].$options.match(/^[imxs]+$/)){cov_cxckea6v3().b[43][0]++;cov_cxckea6v3().s[123]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_QUERY,`Bad $options value for query: ${query[key].$options}`);}else{cov_cxckea6v3().b[43][1]++;}}else{cov_cxckea6v3().b[42][1]++;}}else{cov_cxckea6v3().b[40][1]++;}cov_cxckea6v3().s[124]++;if((cov_cxckea6v3().b[45][0]++,!isSpecialQueryKey(key))&&(cov_cxckea6v3().b[45][1]++,!key.match(/^[a-zA-Z][a-zA-Z0-9_\.]*$/))){cov_cxckea6v3().b[44][0]++;cov_cxckea6v3().s[125]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_KEY_NAME,`Invalid key name: ${key}`);}else{cov_cxckea6v3().b[44][1]++;}});};// Filters out any data that shouldn't be on this REST-formatted object.
cov_cxckea6v3().s[126]++;const filterSensitiveData=(isMaster,aclGroup,auth,operation,schema,className,protectedFields,object)=>{cov_cxckea6v3().f[18]++;let userId=(cov_cxckea6v3().s[127]++,null);cov_cxckea6v3().s[128]++;if((cov_cxckea6v3().b[47][0]++,auth)&&(cov_cxckea6v3().b[47][1]++,auth.user)){cov_cxckea6v3().b[46][0]++;cov_cxckea6v3().s[129]++;userId=auth.user.id;}else{cov_cxckea6v3().b[46][1]++;}// replace protectedFields when using pointer-permissions
const perms=(cov_cxckea6v3().s[130]++,schema.getClassLevelPermissions(className));cov_cxckea6v3().s[131]++;if(perms){cov_cxckea6v3().b[48][0]++;const isReadOperation=(cov_cxckea6v3().s[132]++,['get','find'].indexOf(operation)>-1);cov_cxckea6v3().s[133]++;if((cov_cxckea6v3().b[50][0]++,isReadOperation)&&(cov_cxckea6v3().b[50][1]++,perms.protectedFields)){cov_cxckea6v3().b[49][0]++;// extract protectedFields added with the pointer-permission prefix
const protectedFieldsPointerPerm=(cov_cxckea6v3().s[134]++,Object.keys(perms.protectedFields).filter(key=>{cov_cxckea6v3().f[19]++;cov_cxckea6v3().s[135]++;return key.startsWith('userField:');}).map(key=>{cov_cxckea6v3().f[20]++;cov_cxckea6v3().s[136]++;return{key:key.substring(10),value:perms.protectedFields[key]};}));const newProtectedFields=(cov_cxckea6v3().s[137]++,[]);let overrideProtectedFields=(cov_cxckea6v3().s[138]++,false);// check if the object grants the current user access based on the extracted fields
cov_cxckea6v3().s[139]++;protectedFieldsPointerPerm.forEach(pointerPerm=>{cov_cxckea6v3().f[21]++;let pointerPermIncludesUser=(cov_cxckea6v3().s[140]++,false);const readUserFieldValue=(cov_cxckea6v3().s[141]++,object[pointerPerm.key]);cov_cxckea6v3().s[142]++;if(readUserFieldValue){cov_cxckea6v3().b[51][0]++;cov_cxckea6v3().s[143]++;if(Array.isArray(readUserFieldValue)){cov_cxckea6v3().b[52][0]++;cov_cxckea6v3().s[144]++;pointerPermIncludesUser=readUserFieldValue.some(user=>{cov_cxckea6v3().f[22]++;cov_cxckea6v3().s[145]++;return(cov_cxckea6v3().b[53][0]++,user.objectId)&&(cov_cxckea6v3().b[53][1]++,user.objectId===userId);});}else{cov_cxckea6v3().b[52][1]++;cov_cxckea6v3().s[146]++;pointerPermIncludesUser=(cov_cxckea6v3().b[54][0]++,readUserFieldValue.objectId)&&(cov_cxckea6v3().b[54][1]++,readUserFieldValue.objectId===userId);}}else{cov_cxckea6v3().b[51][1]++;}cov_cxckea6v3().s[147]++;if(pointerPermIncludesUser){cov_cxckea6v3().b[55][0]++;cov_cxckea6v3().s[148]++;overrideProtectedFields=true;cov_cxckea6v3().s[149]++;newProtectedFields.push(pointerPerm.value);}else{cov_cxckea6v3().b[55][1]++;}});// if at least one pointer-permission affected the current user
// intersect vs protectedFields from previous stage (@see addProtectedFields)
// Sets theory (intersections): A x (B x C) == (A x B) x C
cov_cxckea6v3().s[150]++;if((cov_cxckea6v3().b[57][0]++,overrideProtectedFields)&&(cov_cxckea6v3().b[57][1]++,protectedFields)){cov_cxckea6v3().b[56][0]++;cov_cxckea6v3().s[151]++;newProtectedFields.push(protectedFields);}else{cov_cxckea6v3().b[56][1]++;}// intersect all sets of protectedFields
cov_cxckea6v3().s[152]++;newProtectedFields.forEach(fields=>{cov_cxckea6v3().f[23]++;cov_cxckea6v3().s[153]++;if(fields){cov_cxckea6v3().b[58][0]++;cov_cxckea6v3().s[154]++;// if there're no protctedFields by other criteria ( id / role / auth)
// then we must intersect each set (per userField)
if(!protectedFields){cov_cxckea6v3().b[59][0]++;cov_cxckea6v3().s[155]++;protectedFields=fields;}else{cov_cxckea6v3().b[59][1]++;cov_cxckea6v3().s[156]++;protectedFields=protectedFields.filter(v=>{cov_cxckea6v3().f[24]++;cov_cxckea6v3().s[157]++;return fields.includes(v);});}}else{cov_cxckea6v3().b[58][1]++;}});}else{cov_cxckea6v3().b[49][1]++;}}else{cov_cxckea6v3().b[48][1]++;}const isUserClass=(cov_cxckea6v3().s[158]++,className==='_User');/* special treat for the user class: don't filter protectedFields if currently loggedin user is
  the retrieved user */cov_cxckea6v3().s[159]++;if(!((cov_cxckea6v3().b[61][0]++,isUserClass)&&(cov_cxckea6v3().b[61][1]++,userId)&&(cov_cxckea6v3().b[61][2]++,object.objectId===userId))){cov_cxckea6v3().b[60][0]++;cov_cxckea6v3().s[160]++;(cov_cxckea6v3().b[62][0]++,protectedFields)&&(cov_cxckea6v3().b[62][1]++,protectedFields.forEach(k=>{cov_cxckea6v3().f[25]++;cov_cxckea6v3().s[161]++;return delete object[k];}));// fields not requested by client (excluded),
//but were needed to apply protecttedFields
cov_cxckea6v3().s[162]++;(cov_cxckea6v3().b[63][0]++,perms.protectedFields)&&(cov_cxckea6v3().b[63][1]++,perms.protectedFields.temporaryKeys)&&(cov_cxckea6v3().b[63][2]++,perms.protectedFields.temporaryKeys.forEach(k=>{cov_cxckea6v3().f[26]++;cov_cxckea6v3().s[163]++;return delete object[k];}));}else{cov_cxckea6v3().b[60][1]++;}cov_cxckea6v3().s[164]++;if(!isUserClass){cov_cxckea6v3().b[64][0]++;cov_cxckea6v3().s[165]++;return object;}else{cov_cxckea6v3().b[64][1]++;}cov_cxckea6v3().s[166]++;object.password=object._hashed_password;cov_cxckea6v3().s[167]++;delete object._hashed_password;cov_cxckea6v3().s[168]++;delete object.sessionToken;cov_cxckea6v3().s[169]++;if(isMaster){cov_cxckea6v3().b[65][0]++;cov_cxckea6v3().s[170]++;return object;}else{cov_cxckea6v3().b[65][1]++;}cov_cxckea6v3().s[171]++;delete object._email_verify_token;cov_cxckea6v3().s[172]++;delete object._perishable_token;cov_cxckea6v3().s[173]++;delete object._perishable_token_expires_at;cov_cxckea6v3().s[174]++;delete object._tombstone;cov_cxckea6v3().s[175]++;delete object._email_verify_token_expires_at;cov_cxckea6v3().s[176]++;delete object._failed_login_count;cov_cxckea6v3().s[177]++;delete object._account_lockout_expires_at;cov_cxckea6v3().s[178]++;delete object._password_changed_at;cov_cxckea6v3().s[179]++;delete object._password_history;cov_cxckea6v3().s[180]++;if(aclGroup.indexOf(object.objectId)>-1){cov_cxckea6v3().b[66][0]++;cov_cxckea6v3().s[181]++;return object;}else{cov_cxckea6v3().b[66][1]++;}cov_cxckea6v3().s[182]++;delete object.authData;cov_cxckea6v3().s[183]++;return object;};// Runs an update on the database.
// Returns a promise for an object with the new values for field
// modifications that don't know their results ahead of time, like
// 'increment'.
// Options:
//   acl:  a list of strings. If the object to be updated has an ACL,
//         one of the provided strings must provide the caller with
//         write permissions.
const specialKeysForUpdate=(cov_cxckea6v3().s[184]++,['_hashed_password','_perishable_token','_email_verify_token','_email_verify_token_expires_at','_account_lockout_expires_at','_failed_login_count','_perishable_token_expires_at','_password_changed_at','_password_history']);cov_cxckea6v3().s[185]++;const isSpecialUpdateKey=key=>{cov_cxckea6v3().f[27]++;cov_cxckea6v3().s[186]++;return specialKeysForUpdate.indexOf(key)>=0;};function expandResultOnKeyPath(object,key,value){cov_cxckea6v3().f[28]++;cov_cxckea6v3().s[187]++;if(key.indexOf('.')<0){cov_cxckea6v3().b[67][0]++;cov_cxckea6v3().s[188]++;object[key]=value[key];cov_cxckea6v3().s[189]++;return object;}else{cov_cxckea6v3().b[67][1]++;}//console.trace("Here I am!");
const error=(cov_cxckea6v3().s[190]++,new Error('Custom error message'));cov_cxckea6v3().s[191]++;console.error(error.stack);const path=(cov_cxckea6v3().s[192]++,key.split('.'));const firstKey=(cov_cxckea6v3().s[193]++,path[0]);const nextPath=(cov_cxckea6v3().s[194]++,path.slice(1).join('.'));cov_cxckea6v3().s[195]++;object[firstKey]=expandResultOnKeyPath((cov_cxckea6v3().b[68][0]++,object[firstKey])||(cov_cxckea6v3().b[68][1]++,{}),nextPath,value[firstKey]);cov_cxckea6v3().s[196]++;delete object[key];cov_cxckea6v3().s[197]++;return object;}function sanitizeDatabaseResult(originalObject,result){cov_cxckea6v3().f[29]++;const response=(cov_cxckea6v3().s[198]++,{});cov_cxckea6v3().s[199]++;if(!result){cov_cxckea6v3().b[69][0]++;cov_cxckea6v3().s[200]++;return Promise.resolve(response);}else{cov_cxckea6v3().b[69][1]++;}cov_cxckea6v3().s[201]++;Object.keys(originalObject).forEach(key=>{cov_cxckea6v3().f[30]++;const keyUpdate=(cov_cxckea6v3().s[202]++,originalObject[key]);// determine if that was an op
cov_cxckea6v3().s[203]++;if((cov_cxckea6v3().b[71][0]++,keyUpdate)&&(cov_cxckea6v3().b[71][1]++,typeof keyUpdate==='object')&&(cov_cxckea6v3().b[71][2]++,keyUpdate.__op)&&(cov_cxckea6v3().b[71][3]++,['Add','AddUnique','Remove','Increment'].indexOf(keyUpdate.__op)>-1)){cov_cxckea6v3().b[70][0]++;cov_cxckea6v3().s[204]++;// only valid ops that produce an actionable result
// the op may have happend on a keypath
expandResultOnKeyPath(response,key,result);}else{cov_cxckea6v3().b[70][1]++;}});cov_cxckea6v3().s[205]++;return Promise.resolve(response);}function joinTableName(className,key){cov_cxckea6v3().f[31]++;cov_cxckea6v3().s[206]++;return`_Join:${key}:${className}`;}cov_cxckea6v3().s[207]++;const flattenUpdateOperatorsForCreate=object=>{cov_cxckea6v3().f[32]++;cov_cxckea6v3().s[208]++;for(const key in object){cov_cxckea6v3().s[209]++;if((cov_cxckea6v3().b[73][0]++,object[key])&&(cov_cxckea6v3().b[73][1]++,object[key].__op)){cov_cxckea6v3().b[72][0]++;cov_cxckea6v3().s[210]++;switch(object[key].__op){case'Increment':cov_cxckea6v3().b[74][0]++;cov_cxckea6v3().s[211]++;if(typeof object[key].amount!=='number'){cov_cxckea6v3().b[75][0]++;cov_cxckea6v3().s[212]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_JSON,'objects to add must be an array');}else{cov_cxckea6v3().b[75][1]++;}cov_cxckea6v3().s[213]++;object[key]=object[key].amount;cov_cxckea6v3().s[214]++;break;case'Add':cov_cxckea6v3().b[74][1]++;cov_cxckea6v3().s[215]++;if(!(object[key].objects instanceof Array)){cov_cxckea6v3().b[76][0]++;cov_cxckea6v3().s[216]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_JSON,'objects to add must be an array');}else{cov_cxckea6v3().b[76][1]++;}cov_cxckea6v3().s[217]++;object[key]=object[key].objects;cov_cxckea6v3().s[218]++;break;case'AddUnique':cov_cxckea6v3().b[74][2]++;cov_cxckea6v3().s[219]++;if(!(object[key].objects instanceof Array)){cov_cxckea6v3().b[77][0]++;cov_cxckea6v3().s[220]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_JSON,'objects to add must be an array');}else{cov_cxckea6v3().b[77][1]++;}cov_cxckea6v3().s[221]++;object[key]=object[key].objects;cov_cxckea6v3().s[222]++;break;case'Remove':cov_cxckea6v3().b[74][3]++;cov_cxckea6v3().s[223]++;if(!(object[key].objects instanceof Array)){cov_cxckea6v3().b[78][0]++;cov_cxckea6v3().s[224]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_JSON,'objects to add must be an array');}else{cov_cxckea6v3().b[78][1]++;}cov_cxckea6v3().s[225]++;object[key]=[];cov_cxckea6v3().s[226]++;break;case'Delete':cov_cxckea6v3().b[74][4]++;cov_cxckea6v3().s[227]++;delete object[key];cov_cxckea6v3().s[228]++;break;default:cov_cxckea6v3().b[74][5]++;cov_cxckea6v3().s[229]++;throw new _node.Parse.Error(_node.Parse.Error.COMMAND_UNAVAILABLE,`The ${object[key].__op} operator is not supported yet.`);}}else{cov_cxckea6v3().b[72][1]++;}}};cov_cxckea6v3().s[230]++;const transformAuthData=(className,object,schema)=>{cov_cxckea6v3().f[33]++;cov_cxckea6v3().s[231]++;if((cov_cxckea6v3().b[80][0]++,object.authData)&&(cov_cxckea6v3().b[80][1]++,className==='_User')){cov_cxckea6v3().b[79][0]++;cov_cxckea6v3().s[232]++;Object.keys(object.authData).forEach(provider=>{cov_cxckea6v3().f[34]++;const providerData=(cov_cxckea6v3().s[233]++,object.authData[provider]);const fieldName=(cov_cxckea6v3().s[234]++,`_auth_data_${provider}`);cov_cxckea6v3().s[235]++;if(providerData==null){cov_cxckea6v3().b[81][0]++;cov_cxckea6v3().s[236]++;object[fieldName]={__op:'Delete'};}else{cov_cxckea6v3().b[81][1]++;cov_cxckea6v3().s[237]++;object[fieldName]=providerData;cov_cxckea6v3().s[238]++;schema.fields[fieldName]={type:'Object'};}});cov_cxckea6v3().s[239]++;delete object.authData;}else{cov_cxckea6v3().b[79][1]++;}};// Transforms a Database format ACL to a REST API format ACL
cov_cxckea6v3().s[240]++;const untransformObjectACL=_ref2=>{cov_cxckea6v3().f[35]++;let{_rperm,_wperm}=(cov_cxckea6v3().s[241]++,_ref2),output=(cov_cxckea6v3().s[242]++,_objectWithoutProperties(_ref2,["_rperm","_wperm"]));cov_cxckea6v3().s[243]++;if((cov_cxckea6v3().b[83][0]++,_rperm)||(cov_cxckea6v3().b[83][1]++,_wperm)){cov_cxckea6v3().b[82][0]++;cov_cxckea6v3().s[244]++;output.ACL={};cov_cxckea6v3().s[245]++;((cov_cxckea6v3().b[84][0]++,_rperm)||(cov_cxckea6v3().b[84][1]++,[])).forEach(entry=>{cov_cxckea6v3().f[36]++;cov_cxckea6v3().s[246]++;if(!output.ACL[entry]){cov_cxckea6v3().b[85][0]++;cov_cxckea6v3().s[247]++;output.ACL[entry]={read:true};}else{cov_cxckea6v3().b[85][1]++;cov_cxckea6v3().s[248]++;output.ACL[entry]['read']=true;}});cov_cxckea6v3().s[249]++;((cov_cxckea6v3().b[86][0]++,_wperm)||(cov_cxckea6v3().b[86][1]++,[])).forEach(entry=>{cov_cxckea6v3().f[37]++;cov_cxckea6v3().s[250]++;if(!output.ACL[entry]){cov_cxckea6v3().b[87][0]++;cov_cxckea6v3().s[251]++;output.ACL[entry]={write:true};}else{cov_cxckea6v3().b[87][1]++;cov_cxckea6v3().s[252]++;output.ACL[entry]['write']=true;}});}else{cov_cxckea6v3().b[82][1]++;}cov_cxckea6v3().s[253]++;return output;};/**
 * When querying, the fieldName may be compound, extract the root fieldName
 *     `temperature.celsius` becomes `temperature`
 * @param {string} fieldName that may be a compound field name
 * @returns {string} the root name of the field
 */cov_cxckea6v3().s[254]++;const getRootFieldName=fieldName=>{cov_cxckea6v3().f[38]++;cov_cxckea6v3().s[255]++;return fieldName.split('.')[0];};const relationSchema=(cov_cxckea6v3().s[256]++,{fields:{relatedId:{type:'String'},owningId:{type:'String'}}});class DatabaseController{constructor(adapter){cov_cxckea6v3().f[39]++;cov_cxckea6v3().s[257]++;this.adapter=adapter;// We don't want a mutable this.schema, because then you could have
// one request that uses different schemas for different parts of
// it. Instead, use loadSchema to get a schema.
cov_cxckea6v3().s[258]++;this.schemaPromise=null;cov_cxckea6v3().s[259]++;this._transactionalSession=null;}collectionExists(className){cov_cxckea6v3().f[40]++;cov_cxckea6v3().s[260]++;return this.adapter.classExists(className);}purgeCollection(className){cov_cxckea6v3().f[41]++;cov_cxckea6v3().s[261]++;return this.loadSchema().then(schemaController=>{cov_cxckea6v3().f[42]++;cov_cxckea6v3().s[262]++;return schemaController.getOneSchema(className);}).then(schema=>{cov_cxckea6v3().f[43]++;cov_cxckea6v3().s[263]++;return this.adapter.deleteObjectsByQuery(className,schema,{});});}validateClassName(className){cov_cxckea6v3().f[44]++;cov_cxckea6v3().s[264]++;if(!SchemaController.classNameIsValid(className)){cov_cxckea6v3().b[88][0]++;cov_cxckea6v3().s[265]++;return Promise.reject(new _node.Parse.Error(_node.Parse.Error.INVALID_CLASS_NAME,'invalid className: '+className));}else{cov_cxckea6v3().b[88][1]++;}cov_cxckea6v3().s[266]++;return Promise.resolve();}// Returns a promise for a schemaController.
loadSchema(options=(cov_cxckea6v3().b[89][0]++,{clearCache:false})){cov_cxckea6v3().f[45]++;cov_cxckea6v3().s[267]++;if(this.schemaPromise!=null){cov_cxckea6v3().b[90][0]++;cov_cxckea6v3().s[268]++;return this.schemaPromise;}else{cov_cxckea6v3().b[90][1]++;}cov_cxckea6v3().s[269]++;this.schemaPromise=SchemaController.load(this.adapter,options);cov_cxckea6v3().s[270]++;this.schemaPromise.then(()=>{cov_cxckea6v3().f[46]++;cov_cxckea6v3().s[271]++;return delete this.schemaPromise;},()=>{cov_cxckea6v3().f[47]++;cov_cxckea6v3().s[272]++;return delete this.schemaPromise;});cov_cxckea6v3().s[273]++;return this.loadSchema(options);}loadSchemaIfNeeded(schemaController,options=(cov_cxckea6v3().b[91][0]++,{clearCache:false})){cov_cxckea6v3().f[48]++;cov_cxckea6v3().s[274]++;return schemaController?(cov_cxckea6v3().b[92][0]++,Promise.resolve(schemaController)):(cov_cxckea6v3().b[92][1]++,this.loadSchema(options));}// Returns a promise for the classname that is related to the given
// classname through the key.
// TODO: make this not in the DatabaseController interface
redirectClassNameForKey(className,key){cov_cxckea6v3().f[49]++;cov_cxckea6v3().s[275]++;return this.loadSchema().then(schema=>{cov_cxckea6v3().f[50]++;var t=(cov_cxckea6v3().s[276]++,schema.getExpectedType(className,key));cov_cxckea6v3().s[277]++;if((cov_cxckea6v3().b[94][0]++,t!=null)&&(cov_cxckea6v3().b[94][1]++,typeof t!=='string')&&(cov_cxckea6v3().b[94][2]++,t.type==='Relation')){cov_cxckea6v3().b[93][0]++;cov_cxckea6v3().s[278]++;return t.targetClass;}else{cov_cxckea6v3().b[93][1]++;}cov_cxckea6v3().s[279]++;return className;});}// Uses the schema to validate the object (REST API format).
// Returns a promise that resolves to the new schema.
// This does not update this.schema, because in a situation like a
// batch request, that could confuse other users of the schema.
validateObject(className,object,query,runOptions){cov_cxckea6v3().f[51]++;let schema;const acl=(cov_cxckea6v3().s[280]++,runOptions.acl);const isMaster=(cov_cxckea6v3().s[281]++,acl===undefined);var aclGroup=(cov_cxckea6v3().s[282]++,(cov_cxckea6v3().b[95][0]++,acl)||(cov_cxckea6v3().b[95][1]++,[]));cov_cxckea6v3().s[283]++;return this.loadSchema().then(s=>{cov_cxckea6v3().f[52]++;cov_cxckea6v3().s[284]++;schema=s;cov_cxckea6v3().s[285]++;if(isMaster){cov_cxckea6v3().b[96][0]++;cov_cxckea6v3().s[286]++;return Promise.resolve();}else{cov_cxckea6v3().b[96][1]++;}cov_cxckea6v3().s[287]++;return this.canAddField(schema,className,object,aclGroup,runOptions);}).then(()=>{cov_cxckea6v3().f[53]++;cov_cxckea6v3().s[288]++;return schema.validateObject(className,object,query);});}update(className,query,update,{acl,many,upsert,addsField}=(cov_cxckea6v3().b[97][0]++,{}),skipSanitization=(cov_cxckea6v3().b[98][0]++,false),validateOnly=(cov_cxckea6v3().b[99][0]++,false),validSchemaController){cov_cxckea6v3().f[54]++;const originalQuery=(cov_cxckea6v3().s[289]++,query);const originalUpdate=(cov_cxckea6v3().s[290]++,update);// Make a copy of the object, so we don't mutate the incoming data.
cov_cxckea6v3().s[291]++;update=(0,_deepcopy.default)(update);var relationUpdates=(cov_cxckea6v3().s[292]++,[]);var isMaster=(cov_cxckea6v3().s[293]++,acl===undefined);var aclGroup=(cov_cxckea6v3().s[294]++,(cov_cxckea6v3().b[100][0]++,acl)||(cov_cxckea6v3().b[100][1]++,[]));cov_cxckea6v3().s[295]++;return this.loadSchemaIfNeeded(validSchemaController).then(schemaController=>{cov_cxckea6v3().f[55]++;cov_cxckea6v3().s[296]++;return(isMaster?(cov_cxckea6v3().b[101][0]++,Promise.resolve()):(cov_cxckea6v3().b[101][1]++,schemaController.validatePermission(className,aclGroup,'update'))).then(()=>{cov_cxckea6v3().f[56]++;cov_cxckea6v3().s[297]++;relationUpdates=this.collectRelationUpdates(className,originalQuery.objectId,update);cov_cxckea6v3().s[298]++;if(!isMaster){cov_cxckea6v3().b[102][0]++;cov_cxckea6v3().s[299]++;query=this.addPointerPermissions(schemaController,className,'update',query,aclGroup);cov_cxckea6v3().s[300]++;if(addsField){cov_cxckea6v3().b[103][0]++;cov_cxckea6v3().s[301]++;query={$and:[query,this.addPointerPermissions(schemaController,className,'addField',query,aclGroup)]};}else{cov_cxckea6v3().b[103][1]++;}}else{cov_cxckea6v3().b[102][1]++;}cov_cxckea6v3().s[302]++;if(!query){cov_cxckea6v3().b[104][0]++;cov_cxckea6v3().s[303]++;return Promise.resolve();}else{cov_cxckea6v3().b[104][1]++;}cov_cxckea6v3().s[304]++;if(acl){cov_cxckea6v3().b[105][0]++;cov_cxckea6v3().s[305]++;query=addWriteACL(query,acl);}else{cov_cxckea6v3().b[105][1]++;}cov_cxckea6v3().s[306]++;validateQuery(query);cov_cxckea6v3().s[307]++;return schemaController.getOneSchema(className,true).catch(error=>{cov_cxckea6v3().f[57]++;cov_cxckea6v3().s[308]++;// If the schema doesn't exist, pretend it exists with no fields. This behavior
// will likely need revisiting.
if(error===undefined){cov_cxckea6v3().b[106][0]++;cov_cxckea6v3().s[309]++;return{fields:{}};}else{cov_cxckea6v3().b[106][1]++;}cov_cxckea6v3().s[310]++;throw error;}).then(schema=>{cov_cxckea6v3().f[58]++;cov_cxckea6v3().s[311]++;Object.keys(update).forEach(fieldName=>{cov_cxckea6v3().f[59]++;cov_cxckea6v3().s[312]++;if(fieldName.match(/^authData\.([a-zA-Z0-9_]+)\.id$/)){cov_cxckea6v3().b[107][0]++;cov_cxckea6v3().s[313]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_KEY_NAME,`Invalid field name for update: ${fieldName}`);}else{cov_cxckea6v3().b[107][1]++;}const rootFieldName=(cov_cxckea6v3().s[314]++,getRootFieldName(fieldName));cov_cxckea6v3().s[315]++;if((cov_cxckea6v3().b[109][0]++,!SchemaController.fieldNameIsValid(rootFieldName,className))&&(cov_cxckea6v3().b[109][1]++,!isSpecialUpdateKey(rootFieldName))){cov_cxckea6v3().b[108][0]++;cov_cxckea6v3().s[316]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_KEY_NAME,`Invalid field name for update: ${fieldName}`);}else{cov_cxckea6v3().b[108][1]++;}});cov_cxckea6v3().s[317]++;for(const updateOperation in update){cov_cxckea6v3().s[318]++;if((cov_cxckea6v3().b[111][0]++,update[updateOperation])&&(cov_cxckea6v3().b[111][1]++,typeof update[updateOperation]==='object')&&(cov_cxckea6v3().b[111][2]++,Object.keys(update[updateOperation]).some(innerKey=>{cov_cxckea6v3().f[60]++;cov_cxckea6v3().s[319]++;return(cov_cxckea6v3().b[112][0]++,innerKey.includes('$'))||(cov_cxckea6v3().b[112][1]++,innerKey.includes('.'));}))){cov_cxckea6v3().b[110][0]++;cov_cxckea6v3().s[320]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_NESTED_KEY,"Nested keys should not contain the '$' or '.' characters");}else{cov_cxckea6v3().b[110][1]++;}}cov_cxckea6v3().s[321]++;update=transformObjectACL(update);cov_cxckea6v3().s[322]++;transformAuthData(className,update,schema);cov_cxckea6v3().s[323]++;if(validateOnly){cov_cxckea6v3().b[113][0]++;cov_cxckea6v3().s[324]++;return this.adapter.find(className,schema,query,{}).then(result=>{cov_cxckea6v3().f[61]++;cov_cxckea6v3().s[325]++;if((cov_cxckea6v3().b[115][0]++,!result)||(cov_cxckea6v3().b[115][1]++,!result.length)){cov_cxckea6v3().b[114][0]++;cov_cxckea6v3().s[326]++;throw new _node.Parse.Error(_node.Parse.Error.OBJECT_NOT_FOUND,'Object not found.');}else{cov_cxckea6v3().b[114][1]++;}cov_cxckea6v3().s[327]++;return{};});}else{cov_cxckea6v3().b[113][1]++;}cov_cxckea6v3().s[328]++;if(many){cov_cxckea6v3().b[116][0]++;cov_cxckea6v3().s[329]++;return this.adapter.updateObjectsByQuery(className,schema,query,update,this._transactionalSession);}else{cov_cxckea6v3().b[116][1]++;cov_cxckea6v3().s[330]++;if(upsert){cov_cxckea6v3().b[117][0]++;cov_cxckea6v3().s[331]++;return this.adapter.upsertOneObject(className,schema,query,update,this._transactionalSession);}else{cov_cxckea6v3().b[117][1]++;cov_cxckea6v3().s[332]++;return this.adapter.findOneAndUpdate(className,schema,query,update,this._transactionalSession);}}});}).then(result=>{cov_cxckea6v3().f[62]++;cov_cxckea6v3().s[333]++;if(!result){cov_cxckea6v3().b[118][0]++;cov_cxckea6v3().s[334]++;throw new _node.Parse.Error(_node.Parse.Error.OBJECT_NOT_FOUND,'Object not found.');}else{cov_cxckea6v3().b[118][1]++;}cov_cxckea6v3().s[335]++;if(validateOnly){cov_cxckea6v3().b[119][0]++;cov_cxckea6v3().s[336]++;return result;}else{cov_cxckea6v3().b[119][1]++;}cov_cxckea6v3().s[337]++;return this.handleRelationUpdates(className,originalQuery.objectId,update,relationUpdates).then(()=>{cov_cxckea6v3().f[63]++;cov_cxckea6v3().s[338]++;return result;});}).then(result=>{cov_cxckea6v3().f[64]++;cov_cxckea6v3().s[339]++;if(skipSanitization){cov_cxckea6v3().b[120][0]++;cov_cxckea6v3().s[340]++;return Promise.resolve(result);}else{cov_cxckea6v3().b[120][1]++;}cov_cxckea6v3().s[341]++;return sanitizeDatabaseResult(originalUpdate,result);});});}// Collect all relation-updating operations from a REST-format update.
// Returns a list of all relation updates to perform
// This mutates update.
collectRelationUpdates(className,objectId,update){cov_cxckea6v3().f[65]++;var ops=(cov_cxckea6v3().s[342]++,[]);var deleteMe=(cov_cxckea6v3().s[343]++,[]);cov_cxckea6v3().s[344]++;objectId=(cov_cxckea6v3().b[121][0]++,update.objectId)||(cov_cxckea6v3().b[121][1]++,objectId);cov_cxckea6v3().s[345]++;var process=(op,key)=>{cov_cxckea6v3().f[66]++;cov_cxckea6v3().s[346]++;if(!op){cov_cxckea6v3().b[122][0]++;cov_cxckea6v3().s[347]++;return;}else{cov_cxckea6v3().b[122][1]++;}cov_cxckea6v3().s[348]++;if(op.__op=='AddRelation'){cov_cxckea6v3().b[123][0]++;cov_cxckea6v3().s[349]++;ops.push({key,op});cov_cxckea6v3().s[350]++;deleteMe.push(key);}else{cov_cxckea6v3().b[123][1]++;}cov_cxckea6v3().s[351]++;if(op.__op=='RemoveRelation'){cov_cxckea6v3().b[124][0]++;cov_cxckea6v3().s[352]++;ops.push({key,op});cov_cxckea6v3().s[353]++;deleteMe.push(key);}else{cov_cxckea6v3().b[124][1]++;}cov_cxckea6v3().s[354]++;if(op.__op=='Batch'){cov_cxckea6v3().b[125][0]++;cov_cxckea6v3().s[355]++;for(var x of op.ops){cov_cxckea6v3().s[356]++;process(x,key);}}else{cov_cxckea6v3().b[125][1]++;}};cov_cxckea6v3().s[357]++;for(const key in update){cov_cxckea6v3().s[358]++;process(update[key],key);}cov_cxckea6v3().s[359]++;for(const key of deleteMe){cov_cxckea6v3().s[360]++;delete update[key];}cov_cxckea6v3().s[361]++;return ops;}// Processes relation-updating operations from a REST-format update.
// Returns a promise that resolves when all updates have been performed
handleRelationUpdates(className,objectId,update,ops){cov_cxckea6v3().f[67]++;var pending=(cov_cxckea6v3().s[362]++,[]);cov_cxckea6v3().s[363]++;objectId=(cov_cxckea6v3().b[126][0]++,update.objectId)||(cov_cxckea6v3().b[126][1]++,objectId);cov_cxckea6v3().s[364]++;ops.forEach(({key,op})=>{cov_cxckea6v3().f[68]++;cov_cxckea6v3().s[365]++;if(!op){cov_cxckea6v3().b[127][0]++;cov_cxckea6v3().s[366]++;return;}else{cov_cxckea6v3().b[127][1]++;}cov_cxckea6v3().s[367]++;if(op.__op=='AddRelation'){cov_cxckea6v3().b[128][0]++;cov_cxckea6v3().s[368]++;for(const object of op.objects){cov_cxckea6v3().s[369]++;pending.push(this.addRelation(key,className,objectId,object.objectId));}}else{cov_cxckea6v3().b[128][1]++;}cov_cxckea6v3().s[370]++;if(op.__op=='RemoveRelation'){cov_cxckea6v3().b[129][0]++;cov_cxckea6v3().s[371]++;for(const object of op.objects){cov_cxckea6v3().s[372]++;pending.push(this.removeRelation(key,className,objectId,object.objectId));}}else{cov_cxckea6v3().b[129][1]++;}});cov_cxckea6v3().s[373]++;return Promise.all(pending);}// Adds a relation.
// Returns a promise that resolves successfully iff the add was successful.
addRelation(key,fromClassName,fromId,toId){cov_cxckea6v3().f[69]++;const doc=(cov_cxckea6v3().s[374]++,{relatedId:toId,owningId:fromId});cov_cxckea6v3().s[375]++;return this.adapter.upsertOneObject(`_Join:${key}:${fromClassName}`,relationSchema,doc,doc,this._transactionalSession);}// Removes a relation.
// Returns a promise that resolves successfully iff the remove was
// successful.
removeRelation(key,fromClassName,fromId,toId){cov_cxckea6v3().f[70]++;var doc=(cov_cxckea6v3().s[376]++,{relatedId:toId,owningId:fromId});cov_cxckea6v3().s[377]++;return this.adapter.deleteObjectsByQuery(`_Join:${key}:${fromClassName}`,relationSchema,doc,this._transactionalSession).catch(error=>{cov_cxckea6v3().f[71]++;cov_cxckea6v3().s[378]++;// We don't care if they try to delete a non-existent relation.
if(error.code==_node.Parse.Error.OBJECT_NOT_FOUND){cov_cxckea6v3().b[130][0]++;cov_cxckea6v3().s[379]++;return;}else{cov_cxckea6v3().b[130][1]++;}cov_cxckea6v3().s[380]++;throw error;});}// Removes objects matches this query from the database.
// Returns a promise that resolves successfully iff the object was
// deleted.
// Options:
//   acl:  a list of strings. If the object to be updated has an ACL,
//         one of the provided strings must provide the caller with
//         write permissions.
destroy(className,query,{acl}=(cov_cxckea6v3().b[131][0]++,{}),validSchemaController){cov_cxckea6v3().f[72]++;const isMaster=(cov_cxckea6v3().s[381]++,acl===undefined);const aclGroup=(cov_cxckea6v3().s[382]++,(cov_cxckea6v3().b[132][0]++,acl)||(cov_cxckea6v3().b[132][1]++,[]));cov_cxckea6v3().s[383]++;return this.loadSchemaIfNeeded(validSchemaController).then(schemaController=>{cov_cxckea6v3().f[73]++;cov_cxckea6v3().s[384]++;return(isMaster?(cov_cxckea6v3().b[133][0]++,Promise.resolve()):(cov_cxckea6v3().b[133][1]++,schemaController.validatePermission(className,aclGroup,'delete'))).then(()=>{cov_cxckea6v3().f[74]++;cov_cxckea6v3().s[385]++;if(!isMaster){cov_cxckea6v3().b[134][0]++;cov_cxckea6v3().s[386]++;query=this.addPointerPermissions(schemaController,className,'delete',query,aclGroup);cov_cxckea6v3().s[387]++;if(!query){cov_cxckea6v3().b[135][0]++;cov_cxckea6v3().s[388]++;throw new _node.Parse.Error(_node.Parse.Error.OBJECT_NOT_FOUND,'Object not found.');}else{cov_cxckea6v3().b[135][1]++;}}else{cov_cxckea6v3().b[134][1]++;}// delete by query
cov_cxckea6v3().s[389]++;if(acl){cov_cxckea6v3().b[136][0]++;cov_cxckea6v3().s[390]++;query=addWriteACL(query,acl);}else{cov_cxckea6v3().b[136][1]++;}cov_cxckea6v3().s[391]++;validateQuery(query);cov_cxckea6v3().s[392]++;return schemaController.getOneSchema(className).catch(error=>{cov_cxckea6v3().f[75]++;cov_cxckea6v3().s[393]++;// If the schema doesn't exist, pretend it exists with no fields. This behavior
// will likely need revisiting.
if(error===undefined){cov_cxckea6v3().b[137][0]++;cov_cxckea6v3().s[394]++;return{fields:{}};}else{cov_cxckea6v3().b[137][1]++;}cov_cxckea6v3().s[395]++;throw error;}).then(parseFormatSchema=>{cov_cxckea6v3().f[76]++;cov_cxckea6v3().s[396]++;return this.adapter.deleteObjectsByQuery(className,parseFormatSchema,query,this._transactionalSession);}).catch(error=>{cov_cxckea6v3().f[77]++;cov_cxckea6v3().s[397]++;// When deleting sessions while changing passwords, don't throw an error if they don't have any sessions.
if((cov_cxckea6v3().b[139][0]++,className==='_Session')&&(cov_cxckea6v3().b[139][1]++,error.code===_node.Parse.Error.OBJECT_NOT_FOUND)){cov_cxckea6v3().b[138][0]++;cov_cxckea6v3().s[398]++;return Promise.resolve({});}else{cov_cxckea6v3().b[138][1]++;}cov_cxckea6v3().s[399]++;throw error;});});});}// Inserts an object into the database.
// Returns a promise that resolves successfully iff the object saved.
create(className,object,{acl}=(cov_cxckea6v3().b[140][0]++,{}),validateOnly=(cov_cxckea6v3().b[141][0]++,false),validSchemaController){cov_cxckea6v3().f[78]++;// Make a copy of the object, so we don't mutate the incoming data.
const originalObject=(cov_cxckea6v3().s[400]++,object);cov_cxckea6v3().s[401]++;object=transformObjectACL(object);cov_cxckea6v3().s[402]++;object.createdAt={iso:object.createdAt,__type:'Date'};cov_cxckea6v3().s[403]++;object.updatedAt={iso:object.updatedAt,__type:'Date'};var isMaster=(cov_cxckea6v3().s[404]++,acl===undefined);var aclGroup=(cov_cxckea6v3().s[405]++,(cov_cxckea6v3().b[142][0]++,acl)||(cov_cxckea6v3().b[142][1]++,[]));const relationUpdates=(cov_cxckea6v3().s[406]++,this.collectRelationUpdates(className,null,object));cov_cxckea6v3().s[407]++;return this.validateClassName(className).then(()=>{cov_cxckea6v3().f[79]++;cov_cxckea6v3().s[408]++;return this.loadSchemaIfNeeded(validSchemaController);}).then(schemaController=>{cov_cxckea6v3().f[80]++;cov_cxckea6v3().s[409]++;return(isMaster?(cov_cxckea6v3().b[143][0]++,Promise.resolve()):(cov_cxckea6v3().b[143][1]++,schemaController.validatePermission(className,aclGroup,'create'))).then(()=>{cov_cxckea6v3().f[81]++;cov_cxckea6v3().s[410]++;return schemaController.enforceClassExists(className);}).then(()=>{cov_cxckea6v3().f[82]++;cov_cxckea6v3().s[411]++;return schemaController.getOneSchema(className,true);}).then(schema=>{cov_cxckea6v3().f[83]++;cov_cxckea6v3().s[412]++;transformAuthData(className,object,schema);cov_cxckea6v3().s[413]++;flattenUpdateOperatorsForCreate(object);cov_cxckea6v3().s[414]++;if(validateOnly){cov_cxckea6v3().b[144][0]++;cov_cxckea6v3().s[415]++;return{};}else{cov_cxckea6v3().b[144][1]++;}cov_cxckea6v3().s[416]++;return this.adapter.createObject(className,SchemaController.convertSchemaToAdapterSchema(schema),object,this._transactionalSession);}).then(result=>{cov_cxckea6v3().f[84]++;cov_cxckea6v3().s[417]++;if(validateOnly){cov_cxckea6v3().b[145][0]++;cov_cxckea6v3().s[418]++;return originalObject;}else{cov_cxckea6v3().b[145][1]++;}cov_cxckea6v3().s[419]++;return this.handleRelationUpdates(className,object.objectId,object,relationUpdates).then(()=>{cov_cxckea6v3().f[85]++;cov_cxckea6v3().s[420]++;return sanitizeDatabaseResult(originalObject,result.ops[0]);});});});}canAddField(schema,className,object,aclGroup,runOptions){cov_cxckea6v3().f[86]++;const classSchema=(cov_cxckea6v3().s[421]++,schema.schemaData[className]);cov_cxckea6v3().s[422]++;if(!classSchema){cov_cxckea6v3().b[146][0]++;cov_cxckea6v3().s[423]++;return Promise.resolve();}else{cov_cxckea6v3().b[146][1]++;}const fields=(cov_cxckea6v3().s[424]++,Object.keys(object));const schemaFields=(cov_cxckea6v3().s[425]++,Object.keys(classSchema.fields));const newKeys=(cov_cxckea6v3().s[426]++,fields.filter(field=>{cov_cxckea6v3().f[87]++;cov_cxckea6v3().s[427]++;// Skip fields that are unset
if((cov_cxckea6v3().b[148][0]++,object[field])&&(cov_cxckea6v3().b[148][1]++,object[field].__op)&&(cov_cxckea6v3().b[148][2]++,object[field].__op==='Delete')){cov_cxckea6v3().b[147][0]++;cov_cxckea6v3().s[428]++;return false;}else{cov_cxckea6v3().b[147][1]++;}cov_cxckea6v3().s[429]++;return schemaFields.indexOf(getRootFieldName(field))<0;}));cov_cxckea6v3().s[430]++;if(newKeys.length>0){cov_cxckea6v3().b[149][0]++;cov_cxckea6v3().s[431]++;// adds a marker that new field is being adding during update
runOptions.addsField=true;const action=(cov_cxckea6v3().s[432]++,runOptions.action);cov_cxckea6v3().s[433]++;return schema.validatePermission(className,aclGroup,'addField',action);}else{cov_cxckea6v3().b[149][1]++;}cov_cxckea6v3().s[434]++;return Promise.resolve();}// Won't delete collections in the system namespace
/**
   * Delete all classes and clears the schema cache
   *
   * @param {boolean} fast set to true if it's ok to just delete rows and not indexes
   * @returns {Promise<void>} when the deletions completes
   */deleteEverything(fast=(cov_cxckea6v3().b[150][0]++,false)){cov_cxckea6v3().f[88]++;cov_cxckea6v3().s[435]++;this.schemaPromise=null;cov_cxckea6v3().s[436]++;_SchemaCache.default.clear();cov_cxckea6v3().s[437]++;return this.adapter.deleteAllClasses(fast);}// Returns a promise for a list of related ids given an owning id.
// className here is the owning className.
relatedIds(className,key,owningId,queryOptions){cov_cxckea6v3().f[89]++;const{skip,limit,sort}=(cov_cxckea6v3().s[438]++,queryOptions);const findOptions=(cov_cxckea6v3().s[439]++,{});cov_cxckea6v3().s[440]++;if((cov_cxckea6v3().b[152][0]++,sort)&&(cov_cxckea6v3().b[152][1]++,sort.createdAt)&&(cov_cxckea6v3().b[152][2]++,this.adapter.canSortOnJoinTables)){cov_cxckea6v3().b[151][0]++;cov_cxckea6v3().s[441]++;findOptions.sort={_id:sort.createdAt};cov_cxckea6v3().s[442]++;findOptions.limit=limit;cov_cxckea6v3().s[443]++;findOptions.skip=skip;cov_cxckea6v3().s[444]++;queryOptions.skip=0;}else{cov_cxckea6v3().b[151][1]++;}cov_cxckea6v3().s[445]++;return this.adapter.find(joinTableName(className,key),relationSchema,{owningId},findOptions).then(results=>{cov_cxckea6v3().f[90]++;cov_cxckea6v3().s[446]++;return results.map(result=>{cov_cxckea6v3().f[91]++;cov_cxckea6v3().s[447]++;return result.relatedId;});});}// Returns a promise for a list of owning ids given some related ids.
// className here is the owning className.
owningIds(className,key,relatedIds){cov_cxckea6v3().f[92]++;cov_cxckea6v3().s[448]++;return this.adapter.find(joinTableName(className,key),relationSchema,{relatedId:{$in:relatedIds}},{keys:['owningId']}).then(results=>{cov_cxckea6v3().f[93]++;cov_cxckea6v3().s[449]++;return results.map(result=>{cov_cxckea6v3().f[94]++;cov_cxckea6v3().s[450]++;return result.owningId;});});}// Modifies query so that it no longer has $in on relation fields, or
// equal-to-pointer constraints on relation fields.
// Returns a promise that resolves when query is mutated
reduceInRelation(className,query,schema){cov_cxckea6v3().f[95]++;cov_cxckea6v3().s[451]++;// Search for an in-relation or equal-to-relation
// Make it sequential for now, not sure of paralleization side effects
if(query['$or']){cov_cxckea6v3().b[153][0]++;const ors=(cov_cxckea6v3().s[452]++,query['$or']);cov_cxckea6v3().s[453]++;return Promise.all(ors.map((aQuery,index)=>{cov_cxckea6v3().f[96]++;cov_cxckea6v3().s[454]++;return this.reduceInRelation(className,aQuery,schema).then(aQuery=>{cov_cxckea6v3().f[97]++;cov_cxckea6v3().s[455]++;query['$or'][index]=aQuery;});})).then(()=>{cov_cxckea6v3().f[98]++;cov_cxckea6v3().s[456]++;return Promise.resolve(query);});}else{cov_cxckea6v3().b[153][1]++;}cov_cxckea6v3().s[457]++;if(query['$and']){cov_cxckea6v3().b[154][0]++;const ands=(cov_cxckea6v3().s[458]++,query['$and']);cov_cxckea6v3().s[459]++;return Promise.all(ands.map((aQuery,index)=>{cov_cxckea6v3().f[99]++;cov_cxckea6v3().s[460]++;return this.reduceInRelation(className,aQuery,schema).then(aQuery=>{cov_cxckea6v3().f[100]++;cov_cxckea6v3().s[461]++;query['$and'][index]=aQuery;});})).then(()=>{cov_cxckea6v3().f[101]++;cov_cxckea6v3().s[462]++;return Promise.resolve(query);});}else{cov_cxckea6v3().b[154][1]++;}const promises=(cov_cxckea6v3().s[463]++,Object.keys(query).map(key=>{cov_cxckea6v3().f[102]++;const t=(cov_cxckea6v3().s[464]++,schema.getExpectedType(className,key));cov_cxckea6v3().s[465]++;if((cov_cxckea6v3().b[156][0]++,!t)||(cov_cxckea6v3().b[156][1]++,t.type!=='Relation')){cov_cxckea6v3().b[155][0]++;cov_cxckea6v3().s[466]++;return Promise.resolve(query);}else{cov_cxckea6v3().b[155][1]++;}let queries=(cov_cxckea6v3().s[467]++,null);cov_cxckea6v3().s[468]++;if((cov_cxckea6v3().b[158][0]++,query[key])&&((cov_cxckea6v3().b[158][1]++,query[key]['$in'])||(cov_cxckea6v3().b[158][2]++,query[key]['$ne'])||(cov_cxckea6v3().b[158][3]++,query[key]['$nin'])||(cov_cxckea6v3().b[158][4]++,query[key].__type=='Pointer'))){cov_cxckea6v3().b[157][0]++;cov_cxckea6v3().s[469]++;// Build the list of queries
queries=Object.keys(query[key]).map(constraintKey=>{cov_cxckea6v3().f[103]++;let relatedIds;let isNegation=(cov_cxckea6v3().s[470]++,false);cov_cxckea6v3().s[471]++;if(constraintKey==='objectId'){cov_cxckea6v3().b[159][0]++;cov_cxckea6v3().s[472]++;relatedIds=[query[key].objectId];}else{cov_cxckea6v3().b[159][1]++;cov_cxckea6v3().s[473]++;if(constraintKey=='$in'){cov_cxckea6v3().b[160][0]++;cov_cxckea6v3().s[474]++;relatedIds=query[key]['$in'].map(r=>{cov_cxckea6v3().f[104]++;cov_cxckea6v3().s[475]++;return r.objectId;});}else{cov_cxckea6v3().b[160][1]++;cov_cxckea6v3().s[476]++;if(constraintKey=='$nin'){cov_cxckea6v3().b[161][0]++;cov_cxckea6v3().s[477]++;isNegation=true;cov_cxckea6v3().s[478]++;relatedIds=query[key]['$nin'].map(r=>{cov_cxckea6v3().f[105]++;cov_cxckea6v3().s[479]++;return r.objectId;});}else{cov_cxckea6v3().b[161][1]++;cov_cxckea6v3().s[480]++;if(constraintKey=='$ne'){cov_cxckea6v3().b[162][0]++;cov_cxckea6v3().s[481]++;isNegation=true;cov_cxckea6v3().s[482]++;relatedIds=[query[key]['$ne'].objectId];}else{cov_cxckea6v3().b[162][1]++;cov_cxckea6v3().s[483]++;return;}}}}cov_cxckea6v3().s[484]++;return{isNegation,relatedIds};});}else{cov_cxckea6v3().b[157][1]++;cov_cxckea6v3().s[485]++;queries=[{isNegation:false,relatedIds:[]}];}// remove the current queryKey as we don,t need it anymore
cov_cxckea6v3().s[486]++;delete query[key];// execute each query independently to build the list of
// $in / $nin
const promises=(cov_cxckea6v3().s[487]++,queries.map(q=>{cov_cxckea6v3().f[106]++;cov_cxckea6v3().s[488]++;if(!q){cov_cxckea6v3().b[163][0]++;cov_cxckea6v3().s[489]++;return Promise.resolve();}else{cov_cxckea6v3().b[163][1]++;}cov_cxckea6v3().s[490]++;return this.owningIds(className,key,q.relatedIds).then(ids=>{cov_cxckea6v3().f[107]++;cov_cxckea6v3().s[491]++;if(q.isNegation){cov_cxckea6v3().b[164][0]++;cov_cxckea6v3().s[492]++;this.addNotInObjectIdsIds(ids,query);}else{cov_cxckea6v3().b[164][1]++;cov_cxckea6v3().s[493]++;this.addInObjectIdsIds(ids,query);}cov_cxckea6v3().s[494]++;return Promise.resolve();});}));cov_cxckea6v3().s[495]++;return Promise.all(promises).then(()=>{cov_cxckea6v3().f[108]++;cov_cxckea6v3().s[496]++;return Promise.resolve();});}));cov_cxckea6v3().s[497]++;return Promise.all(promises).then(()=>{cov_cxckea6v3().f[109]++;cov_cxckea6v3().s[498]++;return Promise.resolve(query);});}// Modifies query so that it no longer has $relatedTo
// Returns a promise that resolves when query is mutated
reduceRelationKeys(className,query,queryOptions){cov_cxckea6v3().f[110]++;cov_cxckea6v3().s[499]++;if(query['$or']){cov_cxckea6v3().b[165][0]++;cov_cxckea6v3().s[500]++;return Promise.all(query['$or'].map(aQuery=>{cov_cxckea6v3().f[111]++;cov_cxckea6v3().s[501]++;return this.reduceRelationKeys(className,aQuery,queryOptions);}));}else{cov_cxckea6v3().b[165][1]++;}cov_cxckea6v3().s[502]++;if(query['$and']){cov_cxckea6v3().b[166][0]++;cov_cxckea6v3().s[503]++;return Promise.all(query['$and'].map(aQuery=>{cov_cxckea6v3().f[112]++;cov_cxckea6v3().s[504]++;return this.reduceRelationKeys(className,aQuery,queryOptions);}));}else{cov_cxckea6v3().b[166][1]++;}var relatedTo=(cov_cxckea6v3().s[505]++,query['$relatedTo']);cov_cxckea6v3().s[506]++;if(relatedTo){cov_cxckea6v3().b[167][0]++;cov_cxckea6v3().s[507]++;return this.relatedIds(relatedTo.object.className,relatedTo.key,relatedTo.object.objectId,queryOptions).then(ids=>{cov_cxckea6v3().f[113]++;cov_cxckea6v3().s[508]++;delete query['$relatedTo'];cov_cxckea6v3().s[509]++;this.addInObjectIdsIds(ids,query);cov_cxckea6v3().s[510]++;return this.reduceRelationKeys(className,query,queryOptions);}).then(()=>{cov_cxckea6v3().f[114]++;});}else{cov_cxckea6v3().b[167][1]++;}}addInObjectIdsIds(ids=(cov_cxckea6v3().b[168][0]++,null),query){cov_cxckea6v3().f[115]++;const idsFromString=(cov_cxckea6v3().s[511]++,typeof query.objectId==='string'?(cov_cxckea6v3().b[169][0]++,[query.objectId]):(cov_cxckea6v3().b[169][1]++,null));const idsFromEq=(cov_cxckea6v3().s[512]++,(cov_cxckea6v3().b[171][0]++,query.objectId)&&(cov_cxckea6v3().b[171][1]++,query.objectId['$eq'])?(cov_cxckea6v3().b[170][0]++,[query.objectId['$eq']]):(cov_cxckea6v3().b[170][1]++,null));const idsFromIn=(cov_cxckea6v3().s[513]++,(cov_cxckea6v3().b[173][0]++,query.objectId)&&(cov_cxckea6v3().b[173][1]++,query.objectId['$in'])?(cov_cxckea6v3().b[172][0]++,query.objectId['$in']):(cov_cxckea6v3().b[172][1]++,null));// -disable-next
const allIds=(cov_cxckea6v3().s[514]++,[idsFromString,idsFromEq,idsFromIn,ids].filter(list=>{cov_cxckea6v3().f[116]++;cov_cxckea6v3().s[515]++;return list!==null;}));const totalLength=(cov_cxckea6v3().s[516]++,allIds.reduce((memo,list)=>{cov_cxckea6v3().f[117]++;cov_cxckea6v3().s[517]++;return memo+list.length;},0));let idsIntersection=(cov_cxckea6v3().s[518]++,[]);cov_cxckea6v3().s[519]++;if(totalLength>125){cov_cxckea6v3().b[174][0]++;cov_cxckea6v3().s[520]++;idsIntersection=_intersect.default.big(allIds);}else{cov_cxckea6v3().b[174][1]++;cov_cxckea6v3().s[521]++;idsIntersection=(0,_intersect.default)(allIds);}// Need to make sure we don't clobber existing shorthand $eq constraints on objectId.
cov_cxckea6v3().s[522]++;if(!('objectId'in query)){cov_cxckea6v3().b[175][0]++;cov_cxckea6v3().s[523]++;query.objectId={$in:undefined};}else{cov_cxckea6v3().b[175][1]++;cov_cxckea6v3().s[524]++;if(typeof query.objectId==='string'){cov_cxckea6v3().b[176][0]++;cov_cxckea6v3().s[525]++;query.objectId={$in:undefined,$eq:query.objectId};}else{cov_cxckea6v3().b[176][1]++;}}cov_cxckea6v3().s[526]++;query.objectId['$in']=idsIntersection;cov_cxckea6v3().s[527]++;return query;}addNotInObjectIdsIds(ids=(cov_cxckea6v3().b[177][0]++,[]),query){cov_cxckea6v3().f[118]++;const idsFromNin=(cov_cxckea6v3().s[528]++,(cov_cxckea6v3().b[179][0]++,query.objectId)&&(cov_cxckea6v3().b[179][1]++,query.objectId['$nin'])?(cov_cxckea6v3().b[178][0]++,query.objectId['$nin']):(cov_cxckea6v3().b[178][1]++,[]));let allIds=(cov_cxckea6v3().s[529]++,[...idsFromNin,...ids].filter(list=>{cov_cxckea6v3().f[119]++;cov_cxckea6v3().s[530]++;return list!==null;}));// make a set and spread to remove duplicates
cov_cxckea6v3().s[531]++;allIds=[...new Set(allIds)];// Need to make sure we don't clobber existing shorthand $eq constraints on objectId.
cov_cxckea6v3().s[532]++;if(!('objectId'in query)){cov_cxckea6v3().b[180][0]++;cov_cxckea6v3().s[533]++;query.objectId={$nin:undefined};}else{cov_cxckea6v3().b[180][1]++;cov_cxckea6v3().s[534]++;if(typeof query.objectId==='string'){cov_cxckea6v3().b[181][0]++;cov_cxckea6v3().s[535]++;query.objectId={$nin:undefined,$eq:query.objectId};}else{cov_cxckea6v3().b[181][1]++;}}cov_cxckea6v3().s[536]++;query.objectId['$nin']=allIds;cov_cxckea6v3().s[537]++;return query;}// Runs a query on the database.
// Returns a promise that resolves to a list of items.
// Options:
//   skip    number of results to skip.
//   limit   limit to this number of results.
//   sort    an object where keys are the fields to sort by.
//           the value is +1 for ascending, -1 for descending.
//   count   run a count instead of returning results.
//   acl     restrict this operation with an ACL for the provided array
//           of user objectIds and roles. acl: null means no user.
//           when this field is not present, don't do anything regarding ACLs.
//  caseInsensitive make string comparisons case insensitive
// TODO: make userIds not needed here. The db adapter shouldn't know
// anything about users, ideally. Then, improve the format of the ACL
// arg to work like the others.
find(className,query,{skip,limit,acl,sort=(cov_cxckea6v3().b[183][0]++,{}),count,keys,op,distinct,pipeline,readPreference,hint,caseInsensitive=(cov_cxckea6v3().b[184][0]++,false),explain}=(cov_cxckea6v3().b[182][0]++,{}),auth=(cov_cxckea6v3().b[185][0]++,{}),validSchemaController){cov_cxckea6v3().f[120]++;const isMaster=(cov_cxckea6v3().s[538]++,acl===undefined);const aclGroup=(cov_cxckea6v3().s[539]++,(cov_cxckea6v3().b[186][0]++,acl)||(cov_cxckea6v3().b[186][1]++,[]));cov_cxckea6v3().s[540]++;op=(cov_cxckea6v3().b[187][0]++,op)||(cov_cxckea6v3().b[187][1]++,(cov_cxckea6v3().b[189][0]++,typeof query.objectId=='string')&&(cov_cxckea6v3().b[189][1]++,Object.keys(query).length===1)?(cov_cxckea6v3().b[188][0]++,'get'):(cov_cxckea6v3().b[188][1]++,'find'));// Count operation if counting
cov_cxckea6v3().s[541]++;op=count===true?(cov_cxckea6v3().b[190][0]++,'count'):(cov_cxckea6v3().b[190][1]++,op);let classExists=(cov_cxckea6v3().s[542]++,true);cov_cxckea6v3().s[543]++;return this.loadSchemaIfNeeded(validSchemaController).then(schemaController=>{cov_cxckea6v3().f[121]++;cov_cxckea6v3().s[544]++;//Allow volatile classes if querying with Master (for _PushStatus)
//TODO: Move volatile classes concept into mongo adapter, postgres adapter shouldn't care
//that api.parse.com breaks when _PushStatus exists in mongo.
return schemaController.getOneSchema(className,isMaster).catch(error=>{cov_cxckea6v3().f[122]++;cov_cxckea6v3().s[545]++;// Behavior for non-existent classes is kinda weird on Parse.com. Probably doesn't matter too much.
// For now, pretend the class exists but has no objects,
if(error===undefined){cov_cxckea6v3().b[191][0]++;cov_cxckea6v3().s[546]++;classExists=false;cov_cxckea6v3().s[547]++;return{fields:{}};}else{cov_cxckea6v3().b[191][1]++;}cov_cxckea6v3().s[548]++;throw error;}).then(schema=>{cov_cxckea6v3().f[123]++;cov_cxckea6v3().s[549]++;// Parse.com treats queries on _created_at and _updated_at as if they were queries on createdAt and updatedAt,
// so duplicate that behavior here. If both are specified, the correct behavior to match Parse.com is to
// use the one that appears first in the sort list.
if(sort._created_at){cov_cxckea6v3().b[192][0]++;cov_cxckea6v3().s[550]++;sort.createdAt=sort._created_at;cov_cxckea6v3().s[551]++;delete sort._created_at;}else{cov_cxckea6v3().b[192][1]++;}cov_cxckea6v3().s[552]++;if(sort._updated_at){cov_cxckea6v3().b[193][0]++;cov_cxckea6v3().s[553]++;sort.updatedAt=sort._updated_at;cov_cxckea6v3().s[554]++;delete sort._updated_at;}else{cov_cxckea6v3().b[193][1]++;}const queryOptions=(cov_cxckea6v3().s[555]++,{skip,limit,sort,keys,readPreference,hint,caseInsensitive,explain});cov_cxckea6v3().s[556]++;Object.keys(sort).forEach(fieldName=>{cov_cxckea6v3().f[124]++;cov_cxckea6v3().s[557]++;if(fieldName.match(/^authData\.([a-zA-Z0-9_]+)\.id$/)){cov_cxckea6v3().b[194][0]++;cov_cxckea6v3().s[558]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_KEY_NAME,`Cannot sort by ${fieldName}`);}else{cov_cxckea6v3().b[194][1]++;}const rootFieldName=(cov_cxckea6v3().s[559]++,getRootFieldName(fieldName));cov_cxckea6v3().s[560]++;if(!SchemaController.fieldNameIsValid(rootFieldName,className)){cov_cxckea6v3().b[195][0]++;cov_cxckea6v3().s[561]++;throw new _node.Parse.Error(_node.Parse.Error.INVALID_KEY_NAME,`Invalid field name: ${fieldName}.`);}else{cov_cxckea6v3().b[195][1]++;}});cov_cxckea6v3().s[562]++;return(isMaster?(cov_cxckea6v3().b[196][0]++,Promise.resolve()):(cov_cxckea6v3().b[196][1]++,schemaController.validatePermission(className,aclGroup,op))).then(()=>{cov_cxckea6v3().f[125]++;cov_cxckea6v3().s[563]++;return this.reduceRelationKeys(className,query,queryOptions);}).then(()=>{cov_cxckea6v3().f[126]++;cov_cxckea6v3().s[564]++;return this.reduceInRelation(className,query,schemaController);}).then(()=>{cov_cxckea6v3().f[127]++;let protectedFields;cov_cxckea6v3().s[565]++;if(!isMaster){cov_cxckea6v3().b[197][0]++;cov_cxckea6v3().s[566]++;query=this.addPointerPermissions(schemaController,className,op,query,aclGroup);/* Don't use projections to optimize the protectedFields since the protectedFields
              based on pointer-permissions are determined after querying. The filtering can
              overwrite the protected fields. */cov_cxckea6v3().s[567]++;protectedFields=this.addProtectedFields(schemaController,className,query,aclGroup,auth,queryOptions);}else{cov_cxckea6v3().b[197][1]++;}cov_cxckea6v3().s[568]++;if(!query){cov_cxckea6v3().b[198][0]++;cov_cxckea6v3().s[569]++;if(op==='get'){cov_cxckea6v3().b[199][0]++;cov_cxckea6v3().s[570]++;throw new _node.Parse.Error(_node.Parse.Error.OBJECT_NOT_FOUND,'Object not found.');}else{cov_cxckea6v3().b[199][1]++;cov_cxckea6v3().s[571]++;return[];}}else{cov_cxckea6v3().b[198][1]++;}cov_cxckea6v3().s[572]++;if(!isMaster){cov_cxckea6v3().b[200][0]++;cov_cxckea6v3().s[573]++;if((cov_cxckea6v3().b[202][0]++,op==='update')||(cov_cxckea6v3().b[202][1]++,op==='delete')){cov_cxckea6v3().b[201][0]++;cov_cxckea6v3().s[574]++;query=addWriteACL(query,aclGroup);}else{cov_cxckea6v3().b[201][1]++;cov_cxckea6v3().s[575]++;query=addReadACL(query,aclGroup);}}else{cov_cxckea6v3().b[200][1]++;}cov_cxckea6v3().s[576]++;validateQuery(query);cov_cxckea6v3().s[577]++;if(count){cov_cxckea6v3().b[203][0]++;cov_cxckea6v3().s[578]++;if(!classExists){cov_cxckea6v3().b[204][0]++;cov_cxckea6v3().s[579]++;return 0;}else{cov_cxckea6v3().b[204][1]++;cov_cxckea6v3().s[580]++;return this.adapter.count(className,schema,query,readPreference,undefined,hint);}}else{cov_cxckea6v3().b[203][1]++;cov_cxckea6v3().s[581]++;if(distinct){cov_cxckea6v3().b[205][0]++;cov_cxckea6v3().s[582]++;if(!classExists){cov_cxckea6v3().b[206][0]++;cov_cxckea6v3().s[583]++;return[];}else{cov_cxckea6v3().b[206][1]++;cov_cxckea6v3().s[584]++;return this.adapter.distinct(className,schema,query,distinct);}}else{cov_cxckea6v3().b[205][1]++;cov_cxckea6v3().s[585]++;if(pipeline){cov_cxckea6v3().b[207][0]++;cov_cxckea6v3().s[586]++;if(!classExists){cov_cxckea6v3().b[208][0]++;cov_cxckea6v3().s[587]++;return[];}else{cov_cxckea6v3().b[208][1]++;cov_cxckea6v3().s[588]++;return this.adapter.aggregate(className,schema,pipeline,readPreference,hint,explain);}}else{cov_cxckea6v3().b[207][1]++;cov_cxckea6v3().s[589]++;if(explain){cov_cxckea6v3().b[209][0]++;cov_cxckea6v3().s[590]++;return this.adapter.find(className,schema,query,queryOptions);}else{cov_cxckea6v3().b[209][1]++;cov_cxckea6v3().s[591]++;return this.adapter.find(className,schema,query,queryOptions).then(objects=>{cov_cxckea6v3().f[128]++;cov_cxckea6v3().s[592]++;return objects.map(object=>{cov_cxckea6v3().f[129]++;cov_cxckea6v3().s[593]++;object=untransformObjectACL(object);cov_cxckea6v3().s[594]++;return filterSensitiveData(isMaster,aclGroup,auth,op,schemaController,className,protectedFields,object);});}).catch(error=>{cov_cxckea6v3().f[130]++;cov_cxckea6v3().s[595]++;throw new _node.Parse.Error(_node.Parse.Error.INTERNAL_SERVER_ERROR,error);});}}}}});});});}deleteSchema(className){cov_cxckea6v3().f[131]++;let schemaController;cov_cxckea6v3().s[596]++;return this.loadSchema({clearCache:true}).then(s=>{cov_cxckea6v3().f[132]++;cov_cxckea6v3().s[597]++;schemaController=s;cov_cxckea6v3().s[598]++;return schemaController.getOneSchema(className,true);}).catch(error=>{cov_cxckea6v3().f[133]++;cov_cxckea6v3().s[599]++;if(error===undefined){cov_cxckea6v3().b[210][0]++;cov_cxckea6v3().s[600]++;return{fields:{}};}else{cov_cxckea6v3().b[210][1]++;cov_cxckea6v3().s[601]++;throw error;}}).then(schema=>{cov_cxckea6v3().f[134]++;cov_cxckea6v3().s[602]++;return this.collectionExists(className).then(()=>{cov_cxckea6v3().f[135]++;cov_cxckea6v3().s[603]++;return this.adapter.count(className,{fields:{}},null,'',false);}).then(count=>{cov_cxckea6v3().f[136]++;cov_cxckea6v3().s[604]++;if(count>0){cov_cxckea6v3().b[211][0]++;cov_cxckea6v3().s[605]++;throw new _node.Parse.Error(255,`Class ${className} is not empty, contains ${count} objects, cannot drop schema.`);}else{cov_cxckea6v3().b[211][1]++;}cov_cxckea6v3().s[606]++;return this.adapter.deleteClass(className);}).then(wasParseCollection=>{cov_cxckea6v3().f[137]++;cov_cxckea6v3().s[607]++;if(wasParseCollection){cov_cxckea6v3().b[212][0]++;const relationFieldNames=(cov_cxckea6v3().s[608]++,Object.keys(schema.fields).filter(fieldName=>{cov_cxckea6v3().f[138]++;cov_cxckea6v3().s[609]++;return schema.fields[fieldName].type==='Relation';}));cov_cxckea6v3().s[610]++;return Promise.all(relationFieldNames.map(name=>{cov_cxckea6v3().f[139]++;cov_cxckea6v3().s[611]++;return this.adapter.deleteClass(joinTableName(className,name));})).then(()=>{cov_cxckea6v3().f[140]++;cov_cxckea6v3().s[612]++;_SchemaCache.default.del(className);cov_cxckea6v3().s[613]++;return schemaController.reloadData();});}else{cov_cxckea6v3().b[212][1]++;cov_cxckea6v3().s[614]++;return Promise.resolve();}});});}// This helps to create intermediate objects for simpler comparison of
// key value pairs used in query objects. Each key value pair will represented
// in a similar way to json
objectToEntriesStrings(query){cov_cxckea6v3().f[141]++;cov_cxckea6v3().s[615]++;return Object.entries(query).map(a=>{cov_cxckea6v3().f[142]++;cov_cxckea6v3().s[616]++;return a.map(s=>{cov_cxckea6v3().f[143]++;cov_cxckea6v3().s[617]++;return JSON.stringify(s);}).join(':');});}// Naive logic reducer for OR operations meant to be used only for pointer permissions.
reduceOrOperation(query){cov_cxckea6v3().f[144]++;cov_cxckea6v3().s[618]++;if(!query.$or){cov_cxckea6v3().b[213][0]++;cov_cxckea6v3().s[619]++;return query;}else{cov_cxckea6v3().b[213][1]++;}const queries=(cov_cxckea6v3().s[620]++,query.$or.map(q=>{cov_cxckea6v3().f[145]++;cov_cxckea6v3().s[621]++;return this.objectToEntriesStrings(q);}));let repeat=(cov_cxckea6v3().s[622]++,false);cov_cxckea6v3().s[623]++;do{cov_cxckea6v3().s[624]++;repeat=false;cov_cxckea6v3().s[625]++;for(let i=(cov_cxckea6v3().s[626]++,0);i<queries.length-1;i++){cov_cxckea6v3().s[627]++;for(let j=(cov_cxckea6v3().s[628]++,i+1);j<queries.length;j++){const[shorter,longer]=(cov_cxckea6v3().s[629]++,queries[i].length>queries[j].length?(cov_cxckea6v3().b[214][0]++,[j,i]):(cov_cxckea6v3().b[214][1]++,[i,j]));const foundEntries=(cov_cxckea6v3().s[630]++,queries[shorter].reduce((acc,entry)=>{cov_cxckea6v3().f[146]++;cov_cxckea6v3().s[631]++;return acc+(queries[longer].includes(entry)?(cov_cxckea6v3().b[215][0]++,1):(cov_cxckea6v3().b[215][1]++,0));},0));const shorterEntries=(cov_cxckea6v3().s[632]++,queries[shorter].length);cov_cxckea6v3().s[633]++;if(foundEntries===shorterEntries){cov_cxckea6v3().b[216][0]++;cov_cxckea6v3().s[634]++;// If the shorter query is completely contained in the longer one, we can strike
// out the longer query.
query.$or.splice(longer,1);cov_cxckea6v3().s[635]++;queries.splice(longer,1);cov_cxckea6v3().s[636]++;repeat=true;cov_cxckea6v3().s[637]++;break;}else{cov_cxckea6v3().b[216][1]++;}}}}while(repeat);cov_cxckea6v3().s[638]++;if(query.$or.length===1){cov_cxckea6v3().b[217][0]++;cov_cxckea6v3().s[639]++;query=_objectSpread(_objectSpread({},query),query.$or[0]);cov_cxckea6v3().s[640]++;delete query.$or;}else{cov_cxckea6v3().b[217][1]++;}cov_cxckea6v3().s[641]++;return query;}// Naive logic reducer for AND operations meant to be used only for pointer permissions.
reduceAndOperation(query){cov_cxckea6v3().f[147]++;cov_cxckea6v3().s[642]++;if(!query.$and){cov_cxckea6v3().b[218][0]++;cov_cxckea6v3().s[643]++;return query;}else{cov_cxckea6v3().b[218][1]++;}const queries=(cov_cxckea6v3().s[644]++,query.$and.map(q=>{cov_cxckea6v3().f[148]++;cov_cxckea6v3().s[645]++;return this.objectToEntriesStrings(q);}));let repeat=(cov_cxckea6v3().s[646]++,false);cov_cxckea6v3().s[647]++;do{cov_cxckea6v3().s[648]++;repeat=false;cov_cxckea6v3().s[649]++;for(let i=(cov_cxckea6v3().s[650]++,0);i<queries.length-1;i++){cov_cxckea6v3().s[651]++;for(let j=(cov_cxckea6v3().s[652]++,i+1);j<queries.length;j++){const[shorter,longer]=(cov_cxckea6v3().s[653]++,queries[i].length>queries[j].length?(cov_cxckea6v3().b[219][0]++,[j,i]):(cov_cxckea6v3().b[219][1]++,[i,j]));const foundEntries=(cov_cxckea6v3().s[654]++,queries[shorter].reduce((acc,entry)=>{cov_cxckea6v3().f[149]++;cov_cxckea6v3().s[655]++;return acc+(queries[longer].includes(entry)?(cov_cxckea6v3().b[220][0]++,1):(cov_cxckea6v3().b[220][1]++,0));},0));const shorterEntries=(cov_cxckea6v3().s[656]++,queries[shorter].length);cov_cxckea6v3().s[657]++;if(foundEntries===shorterEntries){cov_cxckea6v3().b[221][0]++;cov_cxckea6v3().s[658]++;// If the shorter query is completely contained in the longer one, we can strike
// out the shorter query.
query.$and.splice(shorter,1);cov_cxckea6v3().s[659]++;queries.splice(shorter,1);cov_cxckea6v3().s[660]++;repeat=true;cov_cxckea6v3().s[661]++;break;}else{cov_cxckea6v3().b[221][1]++;}}}}while(repeat);cov_cxckea6v3().s[662]++;if(query.$and.length===1){cov_cxckea6v3().b[222][0]++;cov_cxckea6v3().s[663]++;query=_objectSpread(_objectSpread({},query),query.$and[0]);cov_cxckea6v3().s[664]++;delete query.$and;}else{cov_cxckea6v3().b[222][1]++;}cov_cxckea6v3().s[665]++;return query;}// Constraints query using CLP's pointer permissions (PP) if any.
// 1. Etract the user id from caller's ACLgroup;
// 2. Exctract a list of field names that are PP for target collection and operation;
// 3. Constraint the original query so that each PP field must
// point to caller's id (or contain it in case of PP field being an array)
addPointerPermissions(schema,className,operation,query,aclGroup=(cov_cxckea6v3().b[223][0]++,[])){cov_cxckea6v3().f[150]++;cov_cxckea6v3().s[666]++;// Check if class has public permission for operation
// If the BaseCLP pass, let go through
if(schema.testPermissionsForClassName(className,aclGroup,operation)){cov_cxckea6v3().b[224][0]++;cov_cxckea6v3().s[667]++;return query;}else{cov_cxckea6v3().b[224][1]++;}const perms=(cov_cxckea6v3().s[668]++,schema.getClassLevelPermissions(className));const userACL=(cov_cxckea6v3().s[669]++,aclGroup.filter(acl=>{cov_cxckea6v3().f[151]++;cov_cxckea6v3().s[670]++;return(cov_cxckea6v3().b[225][0]++,acl.indexOf('role:')!=0)&&(cov_cxckea6v3().b[225][1]++,acl!='*');}));const groupKey=(cov_cxckea6v3().s[671]++,['get','find','count'].indexOf(operation)>-1?(cov_cxckea6v3().b[226][0]++,'readUserFields'):(cov_cxckea6v3().b[226][1]++,'writeUserFields'));const permFields=(cov_cxckea6v3().s[672]++,[]);cov_cxckea6v3().s[673]++;if((cov_cxckea6v3().b[228][0]++,perms[operation])&&(cov_cxckea6v3().b[228][1]++,perms[operation].pointerFields)){cov_cxckea6v3().b[227][0]++;cov_cxckea6v3().s[674]++;permFields.push(...perms[operation].pointerFields);}else{cov_cxckea6v3().b[227][1]++;}cov_cxckea6v3().s[675]++;if(perms[groupKey]){cov_cxckea6v3().b[229][0]++;cov_cxckea6v3().s[676]++;for(const field of perms[groupKey]){cov_cxckea6v3().s[677]++;if(!permFields.includes(field)){cov_cxckea6v3().b[230][0]++;cov_cxckea6v3().s[678]++;permFields.push(field);}else{cov_cxckea6v3().b[230][1]++;}}}else{cov_cxckea6v3().b[229][1]++;}// the ACL should have exactly 1 user
cov_cxckea6v3().s[679]++;if(permFields.length>0){cov_cxckea6v3().b[231][0]++;cov_cxckea6v3().s[680]++;// the ACL should have exactly 1 user
// No user set return undefined
// If the length is > 1, that means we didn't de-dupe users correctly
if(userACL.length!=1){cov_cxckea6v3().b[232][0]++;cov_cxckea6v3().s[681]++;return;}else{cov_cxckea6v3().b[232][1]++;}const userId=(cov_cxckea6v3().s[682]++,userACL[0]);const userPointer=(cov_cxckea6v3().s[683]++,{__type:'Pointer',className:'_User',objectId:userId});const queries=(cov_cxckea6v3().s[684]++,permFields.map(key=>{cov_cxckea6v3().f[152]++;const fieldDescriptor=(cov_cxckea6v3().s[685]++,schema.getExpectedType(className,key));const fieldType=(cov_cxckea6v3().s[686]++,(cov_cxckea6v3().b[234][0]++,fieldDescriptor)&&(cov_cxckea6v3().b[234][1]++,typeof fieldDescriptor==='object')&&(cov_cxckea6v3().b[234][2]++,Object.prototype.hasOwnProperty.call(fieldDescriptor,'type'))?(cov_cxckea6v3().b[233][0]++,fieldDescriptor.type):(cov_cxckea6v3().b[233][1]++,null));let queryClause;cov_cxckea6v3().s[687]++;if(fieldType==='Pointer'){cov_cxckea6v3().b[235][0]++;cov_cxckea6v3().s[688]++;// constraint for single pointer setup
queryClause={[key]:userPointer};}else{cov_cxckea6v3().b[235][1]++;cov_cxckea6v3().s[689]++;if(fieldType==='Array'){cov_cxckea6v3().b[236][0]++;cov_cxckea6v3().s[690]++;// constraint for users-array setup
queryClause={[key]:{$all:[userPointer]}};}else{cov_cxckea6v3().b[236][1]++;cov_cxckea6v3().s[691]++;if(fieldType==='Object'){cov_cxckea6v3().b[237][0]++;cov_cxckea6v3().s[692]++;// constraint for object setup
queryClause={[key]:userPointer};}else{cov_cxckea6v3().b[237][1]++;cov_cxckea6v3().s[693]++;// This means that there is a CLP field of an unexpected type. This condition should not happen, which is
// why is being treated as an error.
throw Error(`An unexpected condition occurred when resolving pointer permissions: ${className} ${key}`);}}}// if we already have a constraint on the key, use the $and
cov_cxckea6v3().s[694]++;if(Object.prototype.hasOwnProperty.call(query,key)){cov_cxckea6v3().b[238][0]++;cov_cxckea6v3().s[695]++;return this.reduceAndOperation({$and:[queryClause,query]});}else{cov_cxckea6v3().b[238][1]++;}// otherwise just add the constaint
cov_cxckea6v3().s[696]++;return Object.assign({},query,queryClause);}));cov_cxckea6v3().s[697]++;return queries.length===1?(cov_cxckea6v3().b[239][0]++,queries[0]):(cov_cxckea6v3().b[239][1]++,this.reduceOrOperation({$or:queries}));}else{cov_cxckea6v3().b[231][1]++;cov_cxckea6v3().s[698]++;return query;}}addProtectedFields(schema,className,query=(cov_cxckea6v3().b[240][0]++,{}),aclGroup=(cov_cxckea6v3().b[241][0]++,[]),auth=(cov_cxckea6v3().b[242][0]++,{}),queryOptions=(cov_cxckea6v3().b[243][0]++,{})){cov_cxckea6v3().f[153]++;const perms=(cov_cxckea6v3().s[699]++,schema.getClassLevelPermissions(className));cov_cxckea6v3().s[700]++;if(!perms){cov_cxckea6v3().b[244][0]++;cov_cxckea6v3().s[701]++;return null;}else{cov_cxckea6v3().b[244][1]++;}const protectedFields=(cov_cxckea6v3().s[702]++,perms.protectedFields);cov_cxckea6v3().s[703]++;if(!protectedFields){cov_cxckea6v3().b[245][0]++;cov_cxckea6v3().s[704]++;return null;}else{cov_cxckea6v3().b[245][1]++;}cov_cxckea6v3().s[705]++;if(aclGroup.indexOf(query.objectId)>-1){cov_cxckea6v3().b[246][0]++;cov_cxckea6v3().s[706]++;return null;}else{cov_cxckea6v3().b[246][1]++;}// for queries where "keys" are set and do not include all 'userField':{field},
// we have to transparently include it, and then remove before returning to client
// Because if such key not projected the permission won't be enforced properly
// PS this is called when 'excludeKeys' already reduced to 'keys'
const preserveKeys=(cov_cxckea6v3().s[707]++,queryOptions.keys);// these are keys that need to be included only
// to be able to apply protectedFields by pointer
// and then unset before returning to client (later in  filterSensitiveFields)
const serverOnlyKeys=(cov_cxckea6v3().s[708]++,[]);const authenticated=(cov_cxckea6v3().s[709]++,auth.user);// map to allow check without array search
const roles=(cov_cxckea6v3().s[710]++,((cov_cxckea6v3().b[247][0]++,auth.userRoles)||(cov_cxckea6v3().b[247][1]++,[])).reduce((acc,r)=>{cov_cxckea6v3().f[154]++;cov_cxckea6v3().s[711]++;acc[r]=protectedFields[r];cov_cxckea6v3().s[712]++;return acc;},{}));// array of sets of protected fields. separate item for each applicable criteria
const protectedKeysSets=(cov_cxckea6v3().s[713]++,[]);cov_cxckea6v3().s[714]++;for(const key in protectedFields){cov_cxckea6v3().s[715]++;// skip userFields
if(key.startsWith('userField:')){cov_cxckea6v3().b[248][0]++;cov_cxckea6v3().s[716]++;if(preserveKeys){cov_cxckea6v3().b[249][0]++;const fieldName=(cov_cxckea6v3().s[717]++,key.substring(10));cov_cxckea6v3().s[718]++;if(!preserveKeys.includes(fieldName)){cov_cxckea6v3().b[250][0]++;cov_cxckea6v3().s[719]++;// 1. put it there temporarily
(cov_cxckea6v3().b[251][0]++,queryOptions.keys)&&(cov_cxckea6v3().b[251][1]++,queryOptions.keys.push(fieldName));// 2. preserve it delete later
cov_cxckea6v3().s[720]++;serverOnlyKeys.push(fieldName);}else{cov_cxckea6v3().b[250][1]++;}}else{cov_cxckea6v3().b[249][1]++;}cov_cxckea6v3().s[721]++;continue;}else{cov_cxckea6v3().b[248][1]++;}// add public tier
cov_cxckea6v3().s[722]++;if(key==='*'){cov_cxckea6v3().b[252][0]++;cov_cxckea6v3().s[723]++;protectedKeysSets.push(protectedFields[key]);cov_cxckea6v3().s[724]++;continue;}else{cov_cxckea6v3().b[252][1]++;}cov_cxckea6v3().s[725]++;if(authenticated){cov_cxckea6v3().b[253][0]++;cov_cxckea6v3().s[726]++;if(key==='authenticated'){cov_cxckea6v3().b[254][0]++;cov_cxckea6v3().s[727]++;// for logged in users
protectedKeysSets.push(protectedFields[key]);cov_cxckea6v3().s[728]++;continue;}else{cov_cxckea6v3().b[254][1]++;}cov_cxckea6v3().s[729]++;if((cov_cxckea6v3().b[256][0]++,roles[key])&&(cov_cxckea6v3().b[256][1]++,key.startsWith('role:'))){cov_cxckea6v3().b[255][0]++;cov_cxckea6v3().s[730]++;// add applicable roles
protectedKeysSets.push(roles[key]);}else{cov_cxckea6v3().b[255][1]++;}}else{cov_cxckea6v3().b[253][1]++;}}// check if there's a rule for current user's id
cov_cxckea6v3().s[731]++;if(authenticated){cov_cxckea6v3().b[257][0]++;const userId=(cov_cxckea6v3().s[732]++,auth.user.id);cov_cxckea6v3().s[733]++;if(perms.protectedFields[userId]){cov_cxckea6v3().b[258][0]++;cov_cxckea6v3().s[734]++;protectedKeysSets.push(perms.protectedFields[userId]);}else{cov_cxckea6v3().b[258][1]++;}}else{cov_cxckea6v3().b[257][1]++;}// preserve fields to be removed before sending response to client
cov_cxckea6v3().s[735]++;if(serverOnlyKeys.length>0){cov_cxckea6v3().b[259][0]++;cov_cxckea6v3().s[736]++;perms.protectedFields.temporaryKeys=serverOnlyKeys;}else{cov_cxckea6v3().b[259][1]++;}let protectedKeys=(cov_cxckea6v3().s[737]++,protectedKeysSets.reduce((acc,next)=>{cov_cxckea6v3().f[155]++;cov_cxckea6v3().s[738]++;if(next){cov_cxckea6v3().b[260][0]++;cov_cxckea6v3().s[739]++;acc.push(...next);}else{cov_cxckea6v3().b[260][1]++;}cov_cxckea6v3().s[740]++;return acc;},[]));// intersect all sets of protectedFields
cov_cxckea6v3().s[741]++;protectedKeysSets.forEach(fields=>{cov_cxckea6v3().f[156]++;cov_cxckea6v3().s[742]++;if(fields){cov_cxckea6v3().b[261][0]++;cov_cxckea6v3().s[743]++;protectedKeys=protectedKeys.filter(v=>{cov_cxckea6v3().f[157]++;cov_cxckea6v3().s[744]++;return fields.includes(v);});}else{cov_cxckea6v3().b[261][1]++;}});cov_cxckea6v3().s[745]++;return protectedKeys;}createTransactionalSession(){cov_cxckea6v3().f[158]++;cov_cxckea6v3().s[746]++;return this.adapter.createTransactionalSession().then(transactionalSession=>{cov_cxckea6v3().f[159]++;cov_cxckea6v3().s[747]++;this._transactionalSession=transactionalSession;});}commitTransactionalSession(){cov_cxckea6v3().f[160]++;cov_cxckea6v3().s[748]++;if(!this._transactionalSession){cov_cxckea6v3().b[262][0]++;cov_cxckea6v3().s[749]++;throw new Error('There is no transactional session to commit');}else{cov_cxckea6v3().b[262][1]++;}cov_cxckea6v3().s[750]++;return this.adapter.commitTransactionalSession(this._transactionalSession).then(()=>{cov_cxckea6v3().f[161]++;cov_cxckea6v3().s[751]++;this._transactionalSession=null;});}abortTransactionalSession(){cov_cxckea6v3().f[162]++;cov_cxckea6v3().s[752]++;if(!this._transactionalSession){cov_cxckea6v3().b[263][0]++;cov_cxckea6v3().s[753]++;throw new Error('There is no transactional session to abort');}else{cov_cxckea6v3().b[263][1]++;}cov_cxckea6v3().s[754]++;return this.adapter.abortTransactionalSession(this._transactionalSession).then(()=>{cov_cxckea6v3().f[163]++;cov_cxckea6v3().s[755]++;this._transactionalSession=null;});}// TODO: create indexes on first creation of a _User object. Otherwise it's impossible to
// have a Parse app without it having a _User collection.
async performInitialization(){cov_cxckea6v3().f[164]++;cov_cxckea6v3().s[756]++;await this.adapter.performInitialization({VolatileClassesSchemas:SchemaController.VolatileClassesSchemas});const requiredUserFields=(cov_cxckea6v3().s[757]++,{fields:_objectSpread(_objectSpread({},SchemaController.defaultColumns._Default),SchemaController.defaultColumns._User)});const requiredRoleFields=(cov_cxckea6v3().s[758]++,{fields:_objectSpread(_objectSpread({},SchemaController.defaultColumns._Default),SchemaController.defaultColumns._Role)});const requiredIdempotencyFields=(cov_cxckea6v3().s[759]++,{fields:_objectSpread(_objectSpread({},SchemaController.defaultColumns._Default),SchemaController.defaultColumns._Idempotency)});cov_cxckea6v3().s[760]++;await this.loadSchema().then(schema=>{cov_cxckea6v3().f[165]++;cov_cxckea6v3().s[761]++;return schema.enforceClassExists('_User');});cov_cxckea6v3().s[762]++;await this.loadSchema().then(schema=>{cov_cxckea6v3().f[166]++;cov_cxckea6v3().s[763]++;return schema.enforceClassExists('_Role');});cov_cxckea6v3().s[764]++;if(this.adapter instanceof _MongoStorageAdapter.default){cov_cxckea6v3().b[264][0]++;cov_cxckea6v3().s[765]++;await this.loadSchema().then(schema=>{cov_cxckea6v3().f[167]++;cov_cxckea6v3().s[766]++;return schema.enforceClassExists('_Idempotency');});}else{cov_cxckea6v3().b[264][1]++;}cov_cxckea6v3().s[767]++;await this.adapter.ensureUniqueness('_User',requiredUserFields,['username']).catch(error=>{cov_cxckea6v3().f[168]++;cov_cxckea6v3().s[768]++;_logger.default.warn('Unable to ensure uniqueness for usernames: ',error);cov_cxckea6v3().s[769]++;throw error;});cov_cxckea6v3().s[770]++;await this.adapter.ensureIndex('_User',requiredUserFields,['username'],'case_insensitive_username',true).catch(error=>{cov_cxckea6v3().f[169]++;cov_cxckea6v3().s[771]++;_logger.default.warn('Unable to create case insensitive username index: ',error);cov_cxckea6v3().s[772]++;throw error;});cov_cxckea6v3().s[773]++;await this.adapter.ensureIndex('_User',requiredUserFields,['username'],'case_insensitive_username',true).catch(error=>{cov_cxckea6v3().f[170]++;cov_cxckea6v3().s[774]++;_logger.default.warn('Unable to create case insensitive username index: ',error);cov_cxckea6v3().s[775]++;throw error;});cov_cxckea6v3().s[776]++;await this.adapter.ensureUniqueness('_User',requiredUserFields,['email']).catch(error=>{cov_cxckea6v3().f[171]++;cov_cxckea6v3().s[777]++;_logger.default.warn('Unable to ensure uniqueness for user email addresses: ',error);cov_cxckea6v3().s[778]++;throw error;});cov_cxckea6v3().s[779]++;await this.adapter.ensureIndex('_User',requiredUserFields,['email'],'case_insensitive_email',true).catch(error=>{cov_cxckea6v3().f[172]++;cov_cxckea6v3().s[780]++;_logger.default.warn('Unable to create case insensitive email index: ',error);cov_cxckea6v3().s[781]++;throw error;});cov_cxckea6v3().s[782]++;await this.adapter.ensureUniqueness('_Role',requiredRoleFields,['name']).catch(error=>{cov_cxckea6v3().f[173]++;cov_cxckea6v3().s[783]++;_logger.default.warn('Unable to ensure uniqueness for role name: ',error);cov_cxckea6v3().s[784]++;throw error;});cov_cxckea6v3().s[785]++;if(this.adapter instanceof _MongoStorageAdapter.default){cov_cxckea6v3().b[265][0]++;cov_cxckea6v3().s[786]++;await this.adapter.ensureUniqueness('_Idempotency',requiredIdempotencyFields,['reqId']).catch(error=>{cov_cxckea6v3().f[174]++;cov_cxckea6v3().s[787]++;_logger.default.warn('Unable to ensure uniqueness for idempotency request ID: ',error);cov_cxckea6v3().s[788]++;throw error;});cov_cxckea6v3().s[789]++;await this.adapter.ensureIndex('_Idempotency',requiredIdempotencyFields,['expire'],'ttl',false,{ttl:0}).catch(error=>{cov_cxckea6v3().f[175]++;cov_cxckea6v3().s[790]++;_logger.default.warn('Unable to create TTL index for idempotency expire date: ',error);cov_cxckea6v3().s[791]++;throw error;});}else{cov_cxckea6v3().b[265][1]++;}cov_cxckea6v3().s[792]++;await this.adapter.updateSchemaWithIndexes();}}cov_cxckea6v3().s[793]++;module.exports=DatabaseController;// Expose validateQuery for tests
cov_cxckea6v3().s[794]++;module.exports._validateQuery=validateQuery;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Db250cm9sbGVycy9EYXRhYmFzZUNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiYWRkV3JpdGVBQ0wiLCJxdWVyeSIsImFjbCIsIm5ld1F1ZXJ5IiwiXyIsImNsb25lRGVlcCIsIl93cGVybSIsIiRpbiIsImFkZFJlYWRBQ0wiLCJfcnBlcm0iLCJ0cmFuc2Zvcm1PYmplY3RBQ0wiLCJBQ0wiLCJyZXN1bHQiLCJlbnRyeSIsInJlYWQiLCJwdXNoIiwid3JpdGUiLCJzcGVjaWFsUXVlcnlrZXlzIiwiaXNTcGVjaWFsUXVlcnlLZXkiLCJrZXkiLCJpbmRleE9mIiwidmFsaWRhdGVRdWVyeSIsIlBhcnNlIiwiRXJyb3IiLCJJTlZBTElEX1FVRVJZIiwiJG9yIiwiQXJyYXkiLCJmb3JFYWNoIiwiJGFuZCIsIiRub3IiLCJsZW5ndGgiLCJPYmplY3QiLCJrZXlzIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJtYXRjaCIsIklOVkFMSURfS0VZX05BTUUiLCJmaWx0ZXJTZW5zaXRpdmVEYXRhIiwiaXNNYXN0ZXIiLCJhY2xHcm91cCIsImF1dGgiLCJvcGVyYXRpb24iLCJzY2hlbWEiLCJjbGFzc05hbWUiLCJwcm90ZWN0ZWRGaWVsZHMiLCJvYmplY3QiLCJ1c2VySWQiLCJ1c2VyIiwiaWQiLCJwZXJtcyIsImdldENsYXNzTGV2ZWxQZXJtaXNzaW9ucyIsImlzUmVhZE9wZXJhdGlvbiIsInByb3RlY3RlZEZpZWxkc1BvaW50ZXJQZXJtIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsIm1hcCIsInN1YnN0cmluZyIsInZhbHVlIiwibmV3UHJvdGVjdGVkRmllbGRzIiwib3ZlcnJpZGVQcm90ZWN0ZWRGaWVsZHMiLCJwb2ludGVyUGVybSIsInBvaW50ZXJQZXJtSW5jbHVkZXNVc2VyIiwicmVhZFVzZXJGaWVsZFZhbHVlIiwiaXNBcnJheSIsInNvbWUiLCJvYmplY3RJZCIsImZpZWxkcyIsInYiLCJpbmNsdWRlcyIsImlzVXNlckNsYXNzIiwiayIsInRlbXBvcmFyeUtleXMiLCJwYXNzd29yZCIsIl9oYXNoZWRfcGFzc3dvcmQiLCJzZXNzaW9uVG9rZW4iLCJfZW1haWxfdmVyaWZ5X3Rva2VuIiwiX3BlcmlzaGFibGVfdG9rZW4iLCJfcGVyaXNoYWJsZV90b2tlbl9leHBpcmVzX2F0IiwiX3RvbWJzdG9uZSIsIl9lbWFpbF92ZXJpZnlfdG9rZW5fZXhwaXJlc19hdCIsIl9mYWlsZWRfbG9naW5fY291bnQiLCJfYWNjb3VudF9sb2Nrb3V0X2V4cGlyZXNfYXQiLCJfcGFzc3dvcmRfY2hhbmdlZF9hdCIsIl9wYXNzd29yZF9oaXN0b3J5IiwiYXV0aERhdGEiLCJzcGVjaWFsS2V5c0ZvclVwZGF0ZSIsImlzU3BlY2lhbFVwZGF0ZUtleSIsImV4cGFuZFJlc3VsdE9uS2V5UGF0aCIsInBhdGgiLCJzcGxpdCIsImZpcnN0S2V5IiwibmV4dFBhdGgiLCJzbGljZSIsImpvaW4iLCJzYW5pdGl6ZURhdGFiYXNlUmVzdWx0Iiwib3JpZ2luYWxPYmplY3QiLCJyZXNwb25zZSIsIlByb21pc2UiLCJyZXNvbHZlIiwia2V5VXBkYXRlIiwiX19vcCIsImpvaW5UYWJsZU5hbWUiLCJmbGF0dGVuVXBkYXRlT3BlcmF0b3JzRm9yQ3JlYXRlIiwiYW1vdW50IiwiSU5WQUxJRF9KU09OIiwib2JqZWN0cyIsIkNPTU1BTkRfVU5BVkFJTEFCTEUiLCJ0cmFuc2Zvcm1BdXRoRGF0YSIsInByb3ZpZGVyIiwicHJvdmlkZXJEYXRhIiwiZmllbGROYW1lIiwidHlwZSIsInVudHJhbnNmb3JtT2JqZWN0QUNMIiwib3V0cHV0IiwiZ2V0Um9vdEZpZWxkTmFtZSIsInJlbGF0aW9uU2NoZW1hIiwicmVsYXRlZElkIiwib3duaW5nSWQiLCJEYXRhYmFzZUNvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImFkYXB0ZXIiLCJzY2hlbWFQcm9taXNlIiwiX3RyYW5zYWN0aW9uYWxTZXNzaW9uIiwiY29sbGVjdGlvbkV4aXN0cyIsImNsYXNzRXhpc3RzIiwicHVyZ2VDb2xsZWN0aW9uIiwibG9hZFNjaGVtYSIsInRoZW4iLCJzY2hlbWFDb250cm9sbGVyIiwiZ2V0T25lU2NoZW1hIiwiZGVsZXRlT2JqZWN0c0J5UXVlcnkiLCJ2YWxpZGF0ZUNsYXNzTmFtZSIsIlNjaGVtYUNvbnRyb2xsZXIiLCJjbGFzc05hbWVJc1ZhbGlkIiwicmVqZWN0IiwiSU5WQUxJRF9DTEFTU19OQU1FIiwib3B0aW9ucyIsImNsZWFyQ2FjaGUiLCJsb2FkIiwibG9hZFNjaGVtYUlmTmVlZGVkIiwicmVkaXJlY3RDbGFzc05hbWVGb3JLZXkiLCJ0IiwiZ2V0RXhwZWN0ZWRUeXBlIiwidGFyZ2V0Q2xhc3MiLCJ2YWxpZGF0ZU9iamVjdCIsInJ1bk9wdGlvbnMiLCJ1bmRlZmluZWQiLCJzIiwiY2FuQWRkRmllbGQiLCJ1cGRhdGUiLCJtYW55IiwidXBzZXJ0IiwiYWRkc0ZpZWxkIiwic2tpcFNhbml0aXphdGlvbiIsInZhbGlkYXRlT25seSIsInZhbGlkU2NoZW1hQ29udHJvbGxlciIsIm9yaWdpbmFsUXVlcnkiLCJvcmlnaW5hbFVwZGF0ZSIsInJlbGF0aW9uVXBkYXRlcyIsInZhbGlkYXRlUGVybWlzc2lvbiIsImNvbGxlY3RSZWxhdGlvblVwZGF0ZXMiLCJhZGRQb2ludGVyUGVybWlzc2lvbnMiLCJjYXRjaCIsImVycm9yIiwicm9vdEZpZWxkTmFtZSIsImZpZWxkTmFtZUlzVmFsaWQiLCJ1cGRhdGVPcGVyYXRpb24iLCJpbm5lcktleSIsIklOVkFMSURfTkVTVEVEX0tFWSIsImZpbmQiLCJPQkpFQ1RfTk9UX0ZPVU5EIiwidXBkYXRlT2JqZWN0c0J5UXVlcnkiLCJ1cHNlcnRPbmVPYmplY3QiLCJmaW5kT25lQW5kVXBkYXRlIiwiaGFuZGxlUmVsYXRpb25VcGRhdGVzIiwib3BzIiwiZGVsZXRlTWUiLCJwcm9jZXNzIiwib3AiLCJ4IiwicGVuZGluZyIsImFkZFJlbGF0aW9uIiwicmVtb3ZlUmVsYXRpb24iLCJhbGwiLCJmcm9tQ2xhc3NOYW1lIiwiZnJvbUlkIiwidG9JZCIsImRvYyIsImNvZGUiLCJkZXN0cm95IiwicGFyc2VGb3JtYXRTY2hlbWEiLCJjcmVhdGUiLCJjcmVhdGVkQXQiLCJpc28iLCJfX3R5cGUiLCJ1cGRhdGVkQXQiLCJlbmZvcmNlQ2xhc3NFeGlzdHMiLCJjcmVhdGVPYmplY3QiLCJjb252ZXJ0U2NoZW1hVG9BZGFwdGVyU2NoZW1hIiwiY2xhc3NTY2hlbWEiLCJzY2hlbWFEYXRhIiwic2NoZW1hRmllbGRzIiwibmV3S2V5cyIsImZpZWxkIiwiYWN0aW9uIiwiZGVsZXRlRXZlcnl0aGluZyIsImZhc3QiLCJTY2hlbWFDYWNoZSIsImNsZWFyIiwiZGVsZXRlQWxsQ2xhc3NlcyIsInJlbGF0ZWRJZHMiLCJxdWVyeU9wdGlvbnMiLCJza2lwIiwibGltaXQiLCJzb3J0IiwiZmluZE9wdGlvbnMiLCJjYW5Tb3J0T25Kb2luVGFibGVzIiwiX2lkIiwicmVzdWx0cyIsIm93bmluZ0lkcyIsInJlZHVjZUluUmVsYXRpb24iLCJvcnMiLCJhUXVlcnkiLCJpbmRleCIsImFuZHMiLCJwcm9taXNlcyIsInF1ZXJpZXMiLCJjb25zdHJhaW50S2V5IiwiaXNOZWdhdGlvbiIsInIiLCJxIiwiaWRzIiwiYWRkTm90SW5PYmplY3RJZHNJZHMiLCJhZGRJbk9iamVjdElkc0lkcyIsInJlZHVjZVJlbGF0aW9uS2V5cyIsInJlbGF0ZWRUbyIsImlkc0Zyb21TdHJpbmciLCJpZHNGcm9tRXEiLCJpZHNGcm9tSW4iLCJhbGxJZHMiLCJsaXN0IiwidG90YWxMZW5ndGgiLCJyZWR1Y2UiLCJtZW1vIiwiaWRzSW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0IiwiYmlnIiwiJGVxIiwiaWRzRnJvbU5pbiIsIlNldCIsIiRuaW4iLCJjb3VudCIsImRpc3RpbmN0IiwicGlwZWxpbmUiLCJyZWFkUHJlZmVyZW5jZSIsImhpbnQiLCJjYXNlSW5zZW5zaXRpdmUiLCJleHBsYWluIiwiX2NyZWF0ZWRfYXQiLCJfdXBkYXRlZF9hdCIsImFkZFByb3RlY3RlZEZpZWxkcyIsImFnZ3JlZ2F0ZSIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsImRlbGV0ZVNjaGVtYSIsImRlbGV0ZUNsYXNzIiwid2FzUGFyc2VDb2xsZWN0aW9uIiwicmVsYXRpb25GaWVsZE5hbWVzIiwibmFtZSIsImRlbCIsInJlbG9hZERhdGEiLCJvYmplY3RUb0VudHJpZXNTdHJpbmdzIiwiZW50cmllcyIsImEiLCJKU09OIiwic3RyaW5naWZ5IiwicmVkdWNlT3JPcGVyYXRpb24iLCJyZXBlYXQiLCJpIiwiaiIsInNob3J0ZXIiLCJsb25nZXIiLCJmb3VuZEVudHJpZXMiLCJhY2MiLCJzaG9ydGVyRW50cmllcyIsInNwbGljZSIsInJlZHVjZUFuZE9wZXJhdGlvbiIsInRlc3RQZXJtaXNzaW9uc0ZvckNsYXNzTmFtZSIsInVzZXJBQ0wiLCJncm91cEtleSIsInBlcm1GaWVsZHMiLCJwb2ludGVyRmllbGRzIiwidXNlclBvaW50ZXIiLCJmaWVsZERlc2NyaXB0b3IiLCJmaWVsZFR5cGUiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJxdWVyeUNsYXVzZSIsIiRhbGwiLCJhc3NpZ24iLCJwcmVzZXJ2ZUtleXMiLCJzZXJ2ZXJPbmx5S2V5cyIsImF1dGhlbnRpY2F0ZWQiLCJyb2xlcyIsInVzZXJSb2xlcyIsInByb3RlY3RlZEtleXNTZXRzIiwicHJvdGVjdGVkS2V5cyIsIm5leHQiLCJjcmVhdGVUcmFuc2FjdGlvbmFsU2Vzc2lvbiIsInRyYW5zYWN0aW9uYWxTZXNzaW9uIiwiY29tbWl0VHJhbnNhY3Rpb25hbFNlc3Npb24iLCJhYm9ydFRyYW5zYWN0aW9uYWxTZXNzaW9uIiwicGVyZm9ybUluaXRpYWxpemF0aW9uIiwiVm9sYXRpbGVDbGFzc2VzU2NoZW1hcyIsInJlcXVpcmVkVXNlckZpZWxkcyIsImRlZmF1bHRDb2x1bW5zIiwiX0RlZmF1bHQiLCJfVXNlciIsInJlcXVpcmVkUm9sZUZpZWxkcyIsIl9Sb2xlIiwicmVxdWlyZWRJZGVtcG90ZW5jeUZpZWxkcyIsIl9JZGVtcG90ZW5jeSIsIk1vbmdvU3RvcmFnZUFkYXB0ZXIiLCJlbnN1cmVVbmlxdWVuZXNzIiwibG9nZ2VyIiwid2FybiIsImVuc3VyZUluZGV4IiwidHRsIiwidXBkYXRlU2NoZW1hV2l0aEluZGV4ZXMiLCJtb2R1bGUiLCJleHBvcnRzIiwiX3ZhbGlkYXRlUXVlcnkiXSwibWFwcGluZ3MiOiI7O0FBS0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlBLFNBQVNBLFdBQVQsQ0FBcUJDLEtBQXJCLEVBQTRCQyxHQUE1QixFQUFpQztBQUMvQixRQUFNQyxRQUFRLEdBQUdDLGdCQUFFQyxTQUFGLENBQVlKLEtBQVosQ0FBakIsQ0FEK0IsQ0FFL0I7OztBQUNBRSxFQUFBQSxRQUFRLENBQUNHLE1BQVQsR0FBa0I7QUFBRUMsSUFBQUEsR0FBRyxFQUFFLENBQUMsSUFBRCxFQUFPLEdBQUdMLEdBQVY7QUFBUCxHQUFsQjtBQUNBLFNBQU9DLFFBQVA7QUFDRDs7QUFFRCxTQUFTSyxVQUFULENBQW9CUCxLQUFwQixFQUEyQkMsR0FBM0IsRUFBZ0M7QUFDOUIsUUFBTUMsUUFBUSxHQUFHQyxnQkFBRUMsU0FBRixDQUFZSixLQUFaLENBQWpCLENBRDhCLENBRTlCOzs7QUFDQUUsRUFBQUEsUUFBUSxDQUFDTSxNQUFULEdBQWtCO0FBQUVGLElBQUFBLEdBQUcsRUFBRSxDQUFDLElBQUQsRUFBTyxHQUFQLEVBQVksR0FBR0wsR0FBZjtBQUFQLEdBQWxCO0FBQ0EsU0FBT0MsUUFBUDtBQUNELEMsQ0FFRDs7O0FBQ0EsTUFBTU8sa0JBQWtCLEdBQUcsUUFBd0I7QUFBQSxNQUF2QjtBQUFFQyxJQUFBQTtBQUFGLEdBQXVCO0FBQUEsTUFBYkMsTUFBYTs7QUFDakQsTUFBSSxDQUFDRCxHQUFMLEVBQVU7QUFDUixXQUFPQyxNQUFQO0FBQ0Q7O0FBRURBLEVBQUFBLE1BQU0sQ0FBQ04sTUFBUCxHQUFnQixFQUFoQjtBQUNBTSxFQUFBQSxNQUFNLENBQUNILE1BQVAsR0FBZ0IsRUFBaEI7O0FBRUEsT0FBSyxNQUFNSSxLQUFYLElBQW9CRixHQUFwQixFQUF5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RTs7QUFDQSxjQUFNQSxLQUFOO0FBQ0QsT0FQRyxDQUFOO0FBUUQ7O0FBQ0QsVUFBTSxLQUFLM0MsT0FBTCxDQUFhZ04sdUJBQWIsRUFBTjtBQUNEOztBQWoyQ3NCOztBQXMyQ3pCQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJwTixrQkFBakIsQyxDQUNBOztBQUNBbU4sTUFBTSxDQUFDQyxPQUFQLENBQWVDLGNBQWYsR0FBZ0N0VCxhQUFoQyIsInNvdXJjZXNDb250ZW50IjpbIu+7vy8vIEBmbG93XG4vLyBBIGRhdGFiYXNlIGFkYXB0ZXIgdGhhdCB3b3JrcyB3aXRoIGRhdGEgZXhwb3J0ZWQgZnJvbSB0aGUgaG9zdGVkXG4vLyBQYXJzZSBkYXRhYmFzZS5cblxuLy8gQGZsb3ctZGlzYWJsZS1uZXh0XG5pbXBvcnQgeyBQYXJzZSB9IGZyb20gJ3BhcnNlL25vZGUnO1xuLy8gQGZsb3ctZGlzYWJsZS1uZXh0XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuLy8gQGZsb3ctZGlzYWJsZS1uZXh0XG5pbXBvcnQgaW50ZXJzZWN0IGZyb20gJ2ludGVyc2VjdCc7XG4vLyBAZmxvdy1kaXNhYmxlLW5leHRcbmltcG9ydCBkZWVwY29weSBmcm9tICdkZWVwY29weSc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgKiBhcyBTY2hlbWFDb250cm9sbGVyIGZyb20gJy4vU2NoZW1hQ29udHJvbGxlcic7XG5pbXBvcnQgeyBTdG9yYWdlQWRhcHRlciB9IGZyb20gJy4uL0FkYXB0ZXJzL1N0b3JhZ2UvU3RvcmFnZUFkYXB0ZXInO1xuaW1wb3J0IE1vbmdvU3RvcmFnZUFkYXB0ZXIgZnJvbSAnLi4vQWRhcHRlcnMvU3RvcmFnZS9Nb25nby9Nb25nb1N0b3JhZ2VBZGFwdGVyJztcbmltcG9ydCBTY2hlbWFDYWNoZSBmcm9tICcuLi9BZGFwdGVycy9DYWNoZS9TY2hlbWFDYWNoZSc7XG5pbXBvcnQgdHlwZSB7IExvYWRTY2hlbWFPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFF1ZXJ5T3B0aW9ucywgRnVsbFF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4uL0FkYXB0ZXJzL1N0b3JhZ2UvU3RvcmFnZUFkYXB0ZXInO1xuXG5mdW5jdGlvbiBhZGRXcml0ZUFDTChxdWVyeSwgYWNsKSB7XG4gIGNvbnN0IG5ld1F1ZXJ5ID0gXy5jbG9uZURlZXAocXVlcnkpO1xuICAvL0Nhbid0IGJlIGFueSBleGlzdGluZyAnX3dwZXJtJyBxdWVyeSwgd2UgZG9uJ3QgYWxsb3cgY2xpZW50IHF1ZXJpZXMgb24gdGhhdCwgbm8gbmVlZCB0byAkYW5kXG4gIG5ld1F1ZXJ5Ll93cGVybSA9IHsgJGluOiBbbnVsbCwgLi4uYWNsXSB9O1xuICByZXR1cm4gbmV3UXVlcnk7XG59XG5cbmZ1bmN0aW9uIGFkZFJlYWRBQ0wocXVlcnksIGFjbCkge1xuICBjb25zdCBuZXdRdWVyeSA9IF8uY2xvbmVEZWVwKHF1ZXJ5KTtcbiAgLy9DYW4ndCBiZSBhbnkgZXhpc3RpbmcgJ19ycGVybScgcXVlcnksIHdlIGRvbid0IGFsbG93IGNsaWVudCBxdWVyaWVzIG9uIHRoYXQsIG5vIG5lZWQgdG8gJGFuZFxuICBuZXdRdWVyeS5fcnBlcm0gPSB7ICRpbjogW251bGwsICcqJywgLi4uYWNsXSB9O1xuICByZXR1cm4gbmV3UXVlcnk7XG59XG5cbi8vIFRyYW5zZm9ybXMgYSBSRVNUIEFQSSBmb3JtYXR0ZWQgQUNMIG9iamVjdCB0byBvdXIgdHdvLWZpZWxkIG1vbmdvIGZvcm1hdC5cbmNvbnN0IHRyYW5zZm9ybU9iamVjdEFDTCA9ICh7IEFDTCwgLi4ucmVzdWx0IH0pID0+IHtcbiAgaWYgKCFBQ0wpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmVzdWx0Ll93cGVybSA9IFtdO1xuICByZXN1bHQuX3JwZXJtID0gW107XG5cbiAgZm9yIChjb25zdCBlbnRyeSBpbiBBQ0wpIHtcbiAgICBpZiAoQUNMW2VudHJ5XS5yZWFkKSB7XG4gICAgICByZXN1bHQuX3JwZXJtLnB1c2goZW50cnkpO1xuICAgIH1cbiAgICBpZiAoQUNMW2VudHJ5XS53cml0ZSkge1xuICAgICAgcmVzdWx0Ll93cGVybS5wdXNoKGVudHJ5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IHNwZWNpYWxRdWVyeWtleXMgPSBbXG4gICckYW5kJyxcbiAgJyRvcicsXG4gICckbm9yJyxcbiAgJ19ycGVybScsXG4gICdfd3Blcm0nLFxuICAnX3BlcmlzaGFibGVfdG9rZW4nLFxuICAnX2VtYWlsX3ZlcmlmeV90b2tlbicsXG4gICdfZW1haWxfdmVyaWZ5X3Rva2VuX2V4cGlyZXNfYXQnLFxuICAnX2FjY291bnRfbG9ja291dF9leHBpcmVzX2F0JyxcbiAgJ19mYWlsZWRfbG9naW5fY291bnQnLFxuXTtcblxuY29uc3QgaXNTcGVjaWFsUXVlcnlLZXkgPSBrZXkgPT4ge1xuICByZXR1cm4gc3BlY2lhbFF1ZXJ5a2V5cy5pbmRleE9mKGtleSkgPj0gMDtcbn07XG5cbmNvbnN0IHZhbGlkYXRlUXVlcnkgPSAocXVlcnk6IGFueSk6IHZvaWQgPT4ge1xuICBpZiAocXVlcnkuQUNMKSB7XG4gICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfUVVFUlksICdDYW5ub3QgcXVlcnkgb24gQUNMLicpO1xuICB9XG5cbiAgaWYgKHF1ZXJ5LiRvcikge1xuICAgIGlmIChxdWVyeS4kb3IgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcXVlcnkuJG9yLmZvckVhY2godmFsaWRhdGVRdWVyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLCAnQmFkICRvciBmb3JtYXQgLSB1c2UgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHF1ZXJ5LiRhbmQpIHtcbiAgICBpZiAocXVlcnkuJGFuZCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBxdWVyeS4kYW5kLmZvckVhY2godmFsaWRhdGVRdWVyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLCAnQmFkICRhbmQgZm9ybWF0IC0gdXNlIGFuIGFycmF5IHZhbHVlLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChxdWVyeS4kbm9yKSB7XG4gICAgaWYgKHF1ZXJ5LiRub3IgaW5zdGFuY2VvZiBBcnJheSAmJiBxdWVyeS4kbm9yLmxlbmd0aCA+IDApIHtcbiAgICAgIHF1ZXJ5LiRub3IuZm9yRWFjaCh2YWxpZGF0ZVF1ZXJ5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLFxuICAgICAgICAnQmFkICRub3IgZm9ybWF0IC0gdXNlIGFuIGFycmF5IG9mIGF0IGxlYXN0IDEgdmFsdWUuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhxdWVyeSkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChxdWVyeSAmJiBxdWVyeVtrZXldICYmIHF1ZXJ5W2tleV0uJHJlZ2V4KSB7XG4gICAgICBpZiAodHlwZW9mIHF1ZXJ5W2tleV0uJG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghcXVlcnlba2V5XS4kb3B0aW9ucy5tYXRjaCgvXltpbXhzXSskLykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLFxuICAgICAgICAgICAgYEJhZCAkb3B0aW9ucyB2YWx1ZSBmb3IgcXVlcnk6ICR7cXVlcnlba2V5XS4kb3B0aW9uc31gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzU3BlY2lhbFF1ZXJ5S2V5KGtleSkgJiYgIWtleS5tYXRjaCgvXlthLXpBLVpdW2EtekEtWjAtOV9cXC5dKiQvKSkge1xuICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsIGBJbnZhbGlkIGtleSBuYW1lOiAke2tleX1gKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gRmlsdGVycyBvdXQgYW55IGRhdGEgdGhhdCBzaG91bGRuJ3QgYmUgb24gdGhpcyBSRVNULWZvcm1hdHRlZCBvYmplY3QuXG5jb25zdCBmaWx0ZXJTZW5zaXRpdmVEYXRhID0gKFxuICBpc01hc3RlcjogYm9vbGVhbixcbiAgYWNsR3JvdXA6IGFueVtdLFxuICBhdXRoOiBhbnksXG4gIG9wZXJhdGlvbjogYW55LFxuICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHByb3RlY3RlZEZpZWxkczogbnVsbCB8IEFycmF5PGFueT4sXG4gIG9iamVjdDogYW55XG4pID0+IHtcbiAgbGV0IHVzZXJJZCA9IG51bGw7XG4gIGlmIChhdXRoICYmIGF1dGgudXNlcikgdXNlcklkID0gYXV0aC51c2VyLmlkO1xuXG4gIC8vIHJlcGxhY2UgcHJvdGVjdGVkRmllbGRzIHdoZW4gdXNpbmcgcG9pbnRlci1wZXJtaXNzaW9uc1xuICBjb25zdCBwZXJtcyA9IHNjaGVtYS5nZXRDbGFzc0xldmVsUGVybWlzc2lvbnMoY2xhc3NOYW1lKTtcbiAgaWYgKHBlcm1zKSB7XG4gICAgY29uc3QgaXNSZWFkT3BlcmF0aW9uID0gWydnZXQnLCAnZmluZCddLmluZGV4T2Yob3BlcmF0aW9uKSA+IC0xO1xuXG4gICAgaWYgKGlzUmVhZE9wZXJhdGlvbiAmJiBwZXJtcy5wcm90ZWN0ZWRGaWVsZHMpIHtcbiAgICAgIC8vIGV4dHJhY3QgcHJvdGVjdGVkRmllbGRzIGFkZGVkIHdpdGggdGhlIHBvaW50ZXItcGVybWlzc2lvbiBwcmVmaXhcbiAgICAgIGNvbnN0IHByb3RlY3RlZEZpZWxkc1BvaW50ZXJQZXJtID0gT2JqZWN0LmtleXMocGVybXMucHJvdGVjdGVkRmllbGRzKVxuICAgICAgICAuZmlsdGVyKGtleSA9PiBrZXkuc3RhcnRzV2l0aCgndXNlckZpZWxkOicpKVxuICAgICAgICAubWFwKGtleSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsga2V5OiBrZXkuc3Vic3RyaW5nKDEwKSwgdmFsdWU6IHBlcm1zLnByb3RlY3RlZEZpZWxkc1trZXldIH07XG4gICAgICAgIH0pO1xuXG4gICAgICBjb25zdCBuZXdQcm90ZWN0ZWRGaWVsZHM6IEFycmF5PHN0cmluZz5bXSA9IFtdO1xuICAgICAgbGV0IG92ZXJyaWRlUHJvdGVjdGVkRmllbGRzID0gZmFsc2U7XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBvYmplY3QgZ3JhbnRzIHRoZSBjdXJyZW50IHVzZXIgYWNjZXNzIGJhc2VkIG9uIHRoZSBleHRyYWN0ZWQgZmllbGRzXG4gICAgICBwcm90ZWN0ZWRGaWVsZHNQb2ludGVyUGVybS5mb3JFYWNoKHBvaW50ZXJQZXJtID0+IHtcbiAgICAgICAgbGV0IHBvaW50ZXJQZXJtSW5jbHVkZXNVc2VyID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlYWRVc2VyRmllbGRWYWx1ZSA9IG9iamVjdFtwb2ludGVyUGVybS5rZXldO1xuICAgICAgICBpZiAocmVhZFVzZXJGaWVsZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVhZFVzZXJGaWVsZFZhbHVlKSkge1xuICAgICAgICAgICAgcG9pbnRlclBlcm1JbmNsdWRlc1VzZXIgPSByZWFkVXNlckZpZWxkVmFsdWUuc29tZShcbiAgICAgICAgICAgICAgdXNlciA9PiB1c2VyLm9iamVjdElkICYmIHVzZXIub2JqZWN0SWQgPT09IHVzZXJJZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRlclBlcm1JbmNsdWRlc1VzZXIgPVxuICAgICAgICAgICAgICByZWFkVXNlckZpZWxkVmFsdWUub2JqZWN0SWQgJiYgcmVhZFVzZXJGaWVsZFZhbHVlLm9iamVjdElkID09PSB1c2VySWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ZXJQZXJtSW5jbHVkZXNVc2VyKSB7XG4gICAgICAgICAgb3ZlcnJpZGVQcm90ZWN0ZWRGaWVsZHMgPSB0cnVlO1xuICAgICAgICAgIG5ld1Byb3RlY3RlZEZpZWxkcy5wdXNoKHBvaW50ZXJQZXJtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGlmIGF0IGxlYXN0IG9uZSBwb2ludGVyLXBlcm1pc3Npb24gYWZmZWN0ZWQgdGhlIGN1cnJlbnQgdXNlclxuICAgICAgLy8gaW50ZXJzZWN0IHZzIHByb3RlY3RlZEZpZWxkcyBmcm9tIHByZXZpb3VzIHN0YWdlIChAc2VlIGFkZFByb3RlY3RlZEZpZWxkcylcbiAgICAgIC8vIFNldHMgdGhlb3J5IChpbnRlcnNlY3Rpb25zKTogQSB4IChCIHggQykgPT0gKEEgeCBCKSB4IENcbiAgICAgIGlmIChvdmVycmlkZVByb3RlY3RlZEZpZWxkcyAmJiBwcm90ZWN0ZWRGaWVsZHMpIHtcbiAgICAgICAgbmV3UHJvdGVjdGVkRmllbGRzLnB1c2gocHJvdGVjdGVkRmllbGRzKTtcbiAgICAgIH1cbiAgICAgIC8vIGludGVyc2VjdCBhbGwgc2V0cyBvZiBwcm90ZWN0ZWRGaWVsZHNcbiAgICAgIG5ld1Byb3RlY3RlZEZpZWxkcy5mb3JFYWNoKGZpZWxkcyA9PiB7XG4gICAgICAgIGlmIChmaWVsZHMpIHtcbiAgICAgICAgICAvLyBpZiB0aGVyZSdyZSBubyBwcm90Y3RlZEZpZWxkcyBieSBvdGhlciBjcml0ZXJpYSAoIGlkIC8gcm9sZSAvIGF1dGgpXG4gICAgICAgICAgLy8gdGhlbiB3ZSBtdXN0IGludGVyc2VjdCBlYWNoIHNldCAocGVyIHVzZXJGaWVsZClcbiAgICAgICAgICBpZiAoIXByb3RlY3RlZEZpZWxkcykge1xuICAgICAgICAgICAgcHJvdGVjdGVkRmllbGRzID0gZmllbGRzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm90ZWN0ZWRGaWVsZHMgPSBwcm90ZWN0ZWRGaWVsZHMuZmlsdGVyKHYgPT4gZmllbGRzLmluY2x1ZGVzKHYpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzVXNlckNsYXNzID0gY2xhc3NOYW1lID09PSAnX1VzZXInO1xuXG4gIC8qIHNwZWNpYWwgdHJlYXQgZm9yIHRoZSB1c2VyIGNsYXNzOiBkb24ndCBmaWx0ZXIgcHJvdGVjdGVkRmllbGRzIGlmIGN1cnJlbnRseSBsb2dnZWRpbiB1c2VyIGlzXG4gIHRoZSByZXRyaWV2ZWQgdXNlciAqL1xuICBpZiAoIShpc1VzZXJDbGFzcyAmJiB1c2VySWQgJiYgb2JqZWN0Lm9iamVjdElkID09PSB1c2VySWQpKSB7XG4gICAgcHJvdGVjdGVkRmllbGRzICYmIHByb3RlY3RlZEZpZWxkcy5mb3JFYWNoKGsgPT4gZGVsZXRlIG9iamVjdFtrXSk7XG5cbiAgICAvLyBmaWVsZHMgbm90IHJlcXVlc3RlZCBieSBjbGllbnQgKGV4Y2x1ZGVkKSxcbiAgICAvL2J1dCB3ZXJlIG5lZWRlZCB0byBhcHBseSBwcm90ZWN0dGVkRmllbGRzXG4gICAgcGVybXMucHJvdGVjdGVkRmllbGRzICYmXG4gICAgICBwZXJtcy5wcm90ZWN0ZWRGaWVsZHMudGVtcG9yYXJ5S2V5cyAmJlxuICAgICAgcGVybXMucHJvdGVjdGVkRmllbGRzLnRlbXBvcmFyeUtleXMuZm9yRWFjaChrID0+IGRlbGV0ZSBvYmplY3Rba10pO1xuICB9XG5cbiAgaWYgKCFpc1VzZXJDbGFzcykge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBvYmplY3QucGFzc3dvcmQgPSBvYmplY3QuX2hhc2hlZF9wYXNzd29yZDtcbiAgZGVsZXRlIG9iamVjdC5faGFzaGVkX3Bhc3N3b3JkO1xuXG4gIGRlbGV0ZSBvYmplY3Quc2Vzc2lvblRva2VuO1xuXG4gIGlmIChpc01hc3Rlcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgZGVsZXRlIG9iamVjdC5fZW1haWxfdmVyaWZ5X3Rva2VuO1xuICBkZWxldGUgb2JqZWN0Ll9wZXJpc2hhYmxlX3Rva2VuO1xuICBkZWxldGUgb2JqZWN0Ll9wZXJpc2hhYmxlX3Rva2VuX2V4cGlyZXNfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX3RvbWJzdG9uZTtcbiAgZGVsZXRlIG9iamVjdC5fZW1haWxfdmVyaWZ5X3Rva2VuX2V4cGlyZXNfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX2ZhaWxlZF9sb2dpbl9jb3VudDtcbiAgZGVsZXRlIG9iamVjdC5fYWNjb3VudF9sb2Nrb3V0X2V4cGlyZXNfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX3Bhc3N3b3JkX2NoYW5nZWRfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX3Bhc3N3b3JkX2hpc3Rvcnk7XG5cbiAgaWYgKGFjbEdyb3VwLmluZGV4T2Yob2JqZWN0Lm9iamVjdElkKSA+IC0xKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBkZWxldGUgb2JqZWN0LmF1dGhEYXRhO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuLy8gUnVucyBhbiB1cGRhdGUgb24gdGhlIGRhdGFiYXNlLlxuLy8gUmV0dXJucyBhIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBuZXcgdmFsdWVzIGZvciBmaWVsZFxuLy8gbW9kaWZpY2F0aW9ucyB0aGF0IGRvbid0IGtub3cgdGhlaXIgcmVzdWx0cyBhaGVhZCBvZiB0aW1lLCBsaWtlXG4vLyAnaW5jcmVtZW50Jy5cbi8vIE9wdGlvbnM6XG4vLyAgIGFjbDogIGEgbGlzdCBvZiBzdHJpbmdzLiBJZiB0aGUgb2JqZWN0IHRvIGJlIHVwZGF0ZWQgaGFzIGFuIEFDTCxcbi8vICAgICAgICAgb25lIG9mIHRoZSBwcm92aWRlZCBzdHJpbmdzIG11c3QgcHJvdmlkZSB0aGUgY2FsbGVyIHdpdGhcbi8vICAgICAgICAgd3JpdGUgcGVybWlzc2lvbnMuXG5jb25zdCBzcGVjaWFsS2V5c0ZvclVwZGF0ZSA9IFtcbiAgJ19oYXNoZWRfcGFzc3dvcmQnLFxuICAnX3BlcmlzaGFibGVfdG9rZW4nLFxuICAnX2VtYWlsX3ZlcmlmeV90b2tlbicsXG4gICdfZW1haWxfdmVyaWZ5X3Rva2VuX2V4cGlyZXNfYXQnLFxuICAnX2FjY291bnRfbG9ja291dF9leHBpcmVzX2F0JyxcbiAgJ19mYWlsZWRfbG9naW5fY291bnQnLFxuICAnX3BlcmlzaGFibGVfdG9rZW5fZXhwaXJlc19hdCcsXG4gICdfcGFzc3dvcmRfY2hhbmdlZF9hdCcsXG4gICdfcGFzc3dvcmRfaGlzdG9yeScsXG5dO1xuXG5jb25zdCBpc1NwZWNpYWxVcGRhdGVLZXkgPSBrZXkgPT4ge1xuICByZXR1cm4gc3BlY2lhbEtleXNGb3JVcGRhdGUuaW5kZXhPZihrZXkpID49IDA7XG59O1xuXG5mdW5jdGlvbiBleHBhbmRSZXN1bHRPbktleVBhdGgob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkuaW5kZXhPZignLicpIDwgMCkge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWVba2V5XTtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG4gIGNvbnN0IHBhdGggPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgZmlyc3RLZXkgPSBwYXRoWzBdO1xuICBjb25zdCBuZXh0UGF0aCA9IHBhdGguc2xpY2UoMSkuam9pbignLicpO1xuICBvYmplY3RbZmlyc3RLZXldID0gZXhwYW5kUmVzdWx0T25LZXlQYXRoKG9iamVjdFtmaXJzdEtleV0gfHwge30sIG5leHRQYXRoLCB2YWx1ZVtmaXJzdEtleV0pO1xuICBkZWxldGUgb2JqZWN0W2tleV07XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplRGF0YWJhc2VSZXN1bHQob3JpZ2luYWxPYmplY3QsIHJlc3VsdCk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0ge307XG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gIH1cbiAgT2JqZWN0LmtleXMob3JpZ2luYWxPYmplY3QpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCBrZXlVcGRhdGUgPSBvcmlnaW5hbE9iamVjdFtrZXldO1xuICAgIC8vIGRldGVybWluZSBpZiB0aGF0IHdhcyBhbiBvcFxuICAgIGlmIChcbiAgICAgIGtleVVwZGF0ZSAmJlxuICAgICAgdHlwZW9mIGtleVVwZGF0ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIGtleVVwZGF0ZS5fX29wICYmXG4gICAgICBbJ0FkZCcsICdBZGRVbmlxdWUnLCAnUmVtb3ZlJywgJ0luY3JlbWVudCddLmluZGV4T2Yoa2V5VXBkYXRlLl9fb3ApID4gLTFcbiAgICApIHtcbiAgICAgIC8vIG9ubHkgdmFsaWQgb3BzIHRoYXQgcHJvZHVjZSBhbiBhY3Rpb25hYmxlIHJlc3VsdFxuICAgICAgLy8gdGhlIG9wIG1heSBoYXZlIGhhcHBlbmQgb24gYSBrZXlwYXRoXG4gICAgICBleHBhbmRSZXN1bHRPbktleVBhdGgocmVzcG9uc2UsIGtleSwgcmVzdWx0KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbn1cblxuZnVuY3Rpb24gam9pblRhYmxlTmFtZShjbGFzc05hbWUsIGtleSkge1xuICByZXR1cm4gYF9Kb2luOiR7a2V5fToke2NsYXNzTmFtZX1gO1xufVxuXG5jb25zdCBmbGF0dGVuVXBkYXRlT3BlcmF0b3JzRm9yQ3JlYXRlID0gb2JqZWN0ID0+IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdFtrZXldICYmIG9iamVjdFtrZXldLl9fb3ApIHtcbiAgICAgIHN3aXRjaCAob2JqZWN0W2tleV0uX19vcCkge1xuICAgICAgICBjYXNlICdJbmNyZW1lbnQnOlxuICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0W2tleV0uYW1vdW50ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfSlNPTiwgJ29iamVjdHMgdG8gYWRkIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSBvYmplY3Rba2V5XS5hbW91bnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FkZCc6XG4gICAgICAgICAgaWYgKCEob2JqZWN0W2tleV0ub2JqZWN0cyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfSlNPTiwgJ29iamVjdHMgdG8gYWRkIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSBvYmplY3Rba2V5XS5vYmplY3RzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBZGRVbmlxdWUnOlxuICAgICAgICAgIGlmICghKG9iamVjdFtrZXldLm9iamVjdHMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0pTT04sICdvYmplY3RzIHRvIGFkZCBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdFtrZXldID0gb2JqZWN0W2tleV0ub2JqZWN0cztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUmVtb3ZlJzpcbiAgICAgICAgICBpZiAoIShvYmplY3Rba2V5XS5vYmplY3RzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9KU09OLCAnb2JqZWN0cyB0byBhZGQgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3Rba2V5XSA9IFtdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEZWxldGUnOlxuICAgICAgICAgIGRlbGV0ZSBvYmplY3Rba2V5XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5DT01NQU5EX1VOQVZBSUxBQkxFLFxuICAgICAgICAgICAgYFRoZSAke29iamVjdFtrZXldLl9fb3B9IG9wZXJhdG9yIGlzIG5vdCBzdXBwb3J0ZWQgeWV0LmBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgdHJhbnNmb3JtQXV0aERhdGEgPSAoY2xhc3NOYW1lLCBvYmplY3QsIHNjaGVtYSkgPT4ge1xuICBpZiAob2JqZWN0LmF1dGhEYXRhICYmIGNsYXNzTmFtZSA9PT0gJ19Vc2VyJykge1xuICAgIE9iamVjdC5rZXlzKG9iamVjdC5hdXRoRGF0YSkuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICBjb25zdCBwcm92aWRlckRhdGEgPSBvYmplY3QuYXV0aERhdGFbcHJvdmlkZXJdO1xuICAgICAgY29uc3QgZmllbGROYW1lID0gYF9hdXRoX2RhdGFfJHtwcm92aWRlcn1gO1xuICAgICAgaWYgKHByb3ZpZGVyRGF0YSA9PSBudWxsKSB7XG4gICAgICAgIG9iamVjdFtmaWVsZE5hbWVdID0ge1xuICAgICAgICAgIF9fb3A6ICdEZWxldGUnLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2ZpZWxkTmFtZV0gPSBwcm92aWRlckRhdGE7XG4gICAgICAgIHNjaGVtYS5maWVsZHNbZmllbGROYW1lXSA9IHsgdHlwZTogJ09iamVjdCcgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkZWxldGUgb2JqZWN0LmF1dGhEYXRhO1xuICB9XG59O1xuLy8gVHJhbnNmb3JtcyBhIERhdGFiYXNlIGZvcm1hdCBBQ0wgdG8gYSBSRVNUIEFQSSBmb3JtYXQgQUNMXG5jb25zdCB1bnRyYW5zZm9ybU9iamVjdEFDTCA9ICh7IF9ycGVybSwgX3dwZXJtLCAuLi5vdXRwdXQgfSkgPT4ge1xuICBpZiAoX3JwZXJtIHx8IF93cGVybSkge1xuICAgIG91dHB1dC5BQ0wgPSB7fTtcblxuICAgIChfcnBlcm0gfHwgW10pLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgaWYgKCFvdXRwdXQuQUNMW2VudHJ5XSkge1xuICAgICAgICBvdXRwdXQuQUNMW2VudHJ5XSA9IHsgcmVhZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0LkFDTFtlbnRyeV1bJ3JlYWQnXSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAoX3dwZXJtIHx8IFtdKS5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgIGlmICghb3V0cHV0LkFDTFtlbnRyeV0pIHtcbiAgICAgICAgb3V0cHV0LkFDTFtlbnRyeV0gPSB7IHdyaXRlOiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQuQUNMW2VudHJ5XVsnd3JpdGUnXSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbi8qKlxuICogV2hlbiBxdWVyeWluZywgdGhlIGZpZWxkTmFtZSBtYXkgYmUgY29tcG91bmQsIGV4dHJhY3QgdGhlIHJvb3QgZmllbGROYW1lXG4gKiAgICAgYHRlbXBlcmF0dXJlLmNlbHNpdXNgIGJlY29tZXMgYHRlbXBlcmF0dXJlYFxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSB0aGF0IG1heSBiZSBhIGNvbXBvdW5kIGZpZWxkIG5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSByb290IG5hbWUgb2YgdGhlIGZpZWxkXG4gKi9cbmNvbnN0IGdldFJvb3RGaWVsZE5hbWUgPSAoZmllbGROYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gZmllbGROYW1lLnNwbGl0KCcuJylbMF07XG59O1xuXG5jb25zdCByZWxhdGlvblNjaGVtYSA9IHtcbiAgZmllbGRzOiB7IHJlbGF0ZWRJZDogeyB0eXBlOiAnU3RyaW5nJyB9LCBvd25pbmdJZDogeyB0eXBlOiAnU3RyaW5nJyB9IH0sXG59O1xuXG5jbGFzcyBEYXRhYmFzZUNvbnRyb2xsZXIge1xuICBhZGFwdGVyOiBTdG9yYWdlQWRhcHRlcjtcbiAgc2NoZW1hQ2FjaGU6IGFueTtcbiAgc2NoZW1hUHJvbWlzZTogP1Byb21pc2U8U2NoZW1hQ29udHJvbGxlci5TY2hlbWFDb250cm9sbGVyPjtcbiAgX3RyYW5zYWN0aW9uYWxTZXNzaW9uOiA/YW55O1xuXG4gIGNvbnN0cnVjdG9yKGFkYXB0ZXI6IFN0b3JhZ2VBZGFwdGVyKSB7XG4gICAgdGhpcy5hZGFwdGVyID0gYWRhcHRlcjtcbiAgICAvLyBXZSBkb24ndCB3YW50IGEgbXV0YWJsZSB0aGlzLnNjaGVtYSwgYmVjYXVzZSB0aGVuIHlvdSBjb3VsZCBoYXZlXG4gICAgLy8gb25lIHJlcXVlc3QgdGhhdCB1c2VzIGRpZmZlcmVudCBzY2hlbWFzIGZvciBkaWZmZXJlbnQgcGFydHMgb2ZcbiAgICAvLyBpdC4gSW5zdGVhZCwgdXNlIGxvYWRTY2hlbWEgdG8gZ2V0IGEgc2NoZW1hLlxuICAgIHRoaXMuc2NoZW1hUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24gPSBudWxsO1xuICB9XG5cbiAgY29sbGVjdGlvbkV4aXN0cyhjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuY2xhc3NFeGlzdHMoY2xhc3NOYW1lKTtcbiAgfVxuXG4gIHB1cmdlQ29sbGVjdGlvbihjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoKVxuICAgICAgLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiBzY2hlbWFDb250cm9sbGVyLmdldE9uZVNjaGVtYShjbGFzc05hbWUpKVxuICAgICAgLnRoZW4oc2NoZW1hID0+IHRoaXMuYWRhcHRlci5kZWxldGVPYmplY3RzQnlRdWVyeShjbGFzc05hbWUsIHNjaGVtYSwge30pKTtcbiAgfVxuXG4gIHZhbGlkYXRlQ2xhc3NOYW1lKGNsYXNzTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFTY2hlbWFDb250cm9sbGVyLmNsYXNzTmFtZUlzVmFsaWQoY2xhc3NOYW1lKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9DTEFTU19OQU1FLCAnaW52YWxpZCBjbGFzc05hbWU6ICcgKyBjbGFzc05hbWUpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBzY2hlbWFDb250cm9sbGVyLlxuICBsb2FkU2NoZW1hKFxuICAgIG9wdGlvbnM6IExvYWRTY2hlbWFPcHRpb25zID0geyBjbGVhckNhY2hlOiBmYWxzZSB9XG4gICk6IFByb21pc2U8U2NoZW1hQ29udHJvbGxlci5TY2hlbWFDb250cm9sbGVyPiB7XG4gICAgaWYgKHRoaXMuc2NoZW1hUHJvbWlzZSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlbWFQcm9taXNlO1xuICAgIH1cbiAgICB0aGlzLnNjaGVtYVByb21pc2UgPSBTY2hlbWFDb250cm9sbGVyLmxvYWQodGhpcy5hZGFwdGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLnNjaGVtYVByb21pc2UudGhlbihcbiAgICAgICgpID0+IGRlbGV0ZSB0aGlzLnNjaGVtYVByb21pc2UsXG4gICAgICAoKSA9PiBkZWxldGUgdGhpcy5zY2hlbWFQcm9taXNlXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5sb2FkU2NoZW1hKG9wdGlvbnMpO1xuICB9XG5cbiAgbG9hZFNjaGVtYUlmTmVlZGVkKFxuICAgIHNjaGVtYUNvbnRyb2xsZXI6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBvcHRpb25zOiBMb2FkU2NoZW1hT3B0aW9ucyA9IHsgY2xlYXJDYWNoZTogZmFsc2UgfVxuICApOiBQcm9taXNlPFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcj4ge1xuICAgIHJldHVybiBzY2hlbWFDb250cm9sbGVyID8gUHJvbWlzZS5yZXNvbHZlKHNjaGVtYUNvbnRyb2xsZXIpIDogdGhpcy5sb2FkU2NoZW1hKG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBjbGFzc25hbWUgdGhhdCBpcyByZWxhdGVkIHRvIHRoZSBnaXZlblxuICAvLyBjbGFzc25hbWUgdGhyb3VnaCB0aGUga2V5LlxuICAvLyBUT0RPOiBtYWtlIHRoaXMgbm90IGluIHRoZSBEYXRhYmFzZUNvbnRyb2xsZXIgaW50ZXJmYWNlXG4gIHJlZGlyZWN0Q2xhc3NOYW1lRm9yS2V5KGNsYXNzTmFtZTogc3RyaW5nLCBrZXk6IHN0cmluZyk6IFByb21pc2U8P3N0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoKS50aGVuKHNjaGVtYSA9PiB7XG4gICAgICB2YXIgdCA9IHNjaGVtYS5nZXRFeHBlY3RlZFR5cGUoY2xhc3NOYW1lLCBrZXkpO1xuICAgICAgaWYgKHQgIT0gbnVsbCAmJiB0eXBlb2YgdCAhPT0gJ3N0cmluZycgJiYgdC50eXBlID09PSAnUmVsYXRpb24nKSB7XG4gICAgICAgIHJldHVybiB0LnRhcmdldENsYXNzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFVzZXMgdGhlIHNjaGVtYSB0byB2YWxpZGF0ZSB0aGUgb2JqZWN0IChSRVNUIEFQSSBmb3JtYXQpLlxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBuZXcgc2NoZW1hLlxuICAvLyBUaGlzIGRvZXMgbm90IHVwZGF0ZSB0aGlzLnNjaGVtYSwgYmVjYXVzZSBpbiBhIHNpdHVhdGlvbiBsaWtlIGFcbiAgLy8gYmF0Y2ggcmVxdWVzdCwgdGhhdCBjb3VsZCBjb25mdXNlIG90aGVyIHVzZXJzIG9mIHRoZSBzY2hlbWEuXG4gIHZhbGlkYXRlT2JqZWN0KFxuICAgIGNsYXNzTmFtZTogc3RyaW5nLFxuICAgIG9iamVjdDogYW55LFxuICAgIHF1ZXJ5OiBhbnksXG4gICAgcnVuT3B0aW9uczogUXVlcnlPcHRpb25zXG4gICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGxldCBzY2hlbWE7XG4gICAgY29uc3QgYWNsID0gcnVuT3B0aW9ucy5hY2w7XG4gICAgY29uc3QgaXNNYXN0ZXIgPSBhY2wgPT09IHVuZGVmaW5lZDtcbiAgICB2YXIgYWNsR3JvdXA6IHN0cmluZ1tdID0gYWNsIHx8IFtdO1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoKVxuICAgICAgLnRoZW4ocyA9PiB7XG4gICAgICAgIHNjaGVtYSA9IHM7XG4gICAgICAgIGlmIChpc01hc3Rlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYW5BZGRGaWVsZChzY2hlbWEsIGNsYXNzTmFtZSwgb2JqZWN0LCBhY2xHcm91cCwgcnVuT3B0aW9ucyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gc2NoZW1hLnZhbGlkYXRlT2JqZWN0KGNsYXNzTmFtZSwgb2JqZWN0LCBxdWVyeSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZShcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBxdWVyeTogYW55LFxuICAgIHVwZGF0ZTogYW55LFxuICAgIHsgYWNsLCBtYW55LCB1cHNlcnQsIGFkZHNGaWVsZCB9OiBGdWxsUXVlcnlPcHRpb25zID0ge30sXG4gICAgc2tpcFNhbml0aXphdGlvbjogYm9vbGVhbiA9IGZhbHNlLFxuICAgIHZhbGlkYXRlT25seTogYm9vbGVhbiA9IGZhbHNlLFxuICAgIHZhbGlkU2NoZW1hQ29udHJvbGxlcjogU2NoZW1hQ29udHJvbGxlci5TY2hlbWFDb250cm9sbGVyXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxRdWVyeSA9IHF1ZXJ5O1xuICAgIGNvbnN0IG9yaWdpbmFsVXBkYXRlID0gdXBkYXRlO1xuICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRoZSBvYmplY3QsIHNvIHdlIGRvbid0IG11dGF0ZSB0aGUgaW5jb21pbmcgZGF0YS5cbiAgICB1cGRhdGUgPSBkZWVwY29weSh1cGRhdGUpO1xuICAgIHZhciByZWxhdGlvblVwZGF0ZXMgPSBbXTtcbiAgICB2YXIgaXNNYXN0ZXIgPSBhY2wgPT09IHVuZGVmaW5lZDtcbiAgICB2YXIgYWNsR3JvdXAgPSBhY2wgfHwgW107XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkU2NoZW1hSWZOZWVkZWQodmFsaWRTY2hlbWFDb250cm9sbGVyKS50aGVuKHNjaGVtYUNvbnRyb2xsZXIgPT4ge1xuICAgICAgcmV0dXJuIChpc01hc3RlclxuICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIDogc2NoZW1hQ29udHJvbGxlci52YWxpZGF0ZVBlcm1pc3Npb24oY2xhc3NOYW1lLCBhY2xHcm91cCwgJ3VwZGF0ZScpXG4gICAgICApXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZWxhdGlvblVwZGF0ZXMgPSB0aGlzLmNvbGxlY3RSZWxhdGlvblVwZGF0ZXMoY2xhc3NOYW1lLCBvcmlnaW5hbFF1ZXJ5Lm9iamVjdElkLCB1cGRhdGUpO1xuICAgICAgICAgIGlmICghaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gdGhpcy5hZGRQb2ludGVyUGVybWlzc2lvbnMoXG4gICAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgJ3VwZGF0ZScsXG4gICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICBhY2xHcm91cFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGFkZHNGaWVsZCkge1xuICAgICAgICAgICAgICBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUG9pbnRlclBlcm1pc3Npb25zKFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFDb250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICdhZGRGaWVsZCcsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBhY2xHcm91cFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhY2wpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gYWRkV3JpdGVBQ0wocXVlcnksIGFjbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRlUXVlcnkocXVlcnkpO1xuICAgICAgICAgIHJldHVybiBzY2hlbWFDb250cm9sbGVyXG4gICAgICAgICAgICAuZ2V0T25lU2NoZW1hKGNsYXNzTmFtZSwgdHJ1ZSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBzY2hlbWEgZG9lc24ndCBleGlzdCwgcHJldGVuZCBpdCBleGlzdHMgd2l0aCBubyBmaWVsZHMuIFRoaXMgYmVoYXZpb3JcbiAgICAgICAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCByZXZpc2l0aW5nLlxuICAgICAgICAgICAgICBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGZpZWxkczoge30gfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihzY2hlbWEgPT4ge1xuICAgICAgICAgICAgICBPYmplY3Qua2V5cyh1cGRhdGUpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGROYW1lLm1hdGNoKC9eYXV0aERhdGFcXC4oW2EtekEtWjAtOV9dKylcXC5pZCQvKSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FLFxuICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBmaWVsZCBuYW1lIGZvciB1cGRhdGU6ICR7ZmllbGROYW1lfWBcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RGaWVsZE5hbWUgPSBnZXRSb290RmllbGROYW1lKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIVNjaGVtYUNvbnRyb2xsZXIuZmllbGROYW1lSXNWYWxpZChyb290RmllbGROYW1lLCBjbGFzc05hbWUpICYmXG4gICAgICAgICAgICAgICAgICAhaXNTcGVjaWFsVXBkYXRlS2V5KHJvb3RGaWVsZE5hbWUpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsXG4gICAgICAgICAgICAgICAgICAgIGBJbnZhbGlkIGZpZWxkIG5hbWUgZm9yIHVwZGF0ZTogJHtmaWVsZE5hbWV9YFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZU9wZXJhdGlvbiBpbiB1cGRhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICB1cGRhdGVbdXBkYXRlT3BlcmF0aW9uXSAmJlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIHVwZGF0ZVt1cGRhdGVPcGVyYXRpb25dID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModXBkYXRlW3VwZGF0ZU9wZXJhdGlvbl0pLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgIGlubmVyS2V5ID0+IGlubmVyS2V5LmluY2x1ZGVzKCckJykgfHwgaW5uZXJLZXkuaW5jbHVkZXMoJy4nKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX05FU1RFRF9LRVksXG4gICAgICAgICAgICAgICAgICAgIFwiTmVzdGVkIGtleXMgc2hvdWxkIG5vdCBjb250YWluIHRoZSAnJCcgb3IgJy4nIGNoYXJhY3RlcnNcIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdXBkYXRlID0gdHJhbnNmb3JtT2JqZWN0QUNMKHVwZGF0ZSk7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybUF1dGhEYXRhKGNsYXNzTmFtZSwgdXBkYXRlLCBzY2hlbWEpO1xuICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPbmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5maW5kKGNsYXNzTmFtZSwgc2NoZW1hLCBxdWVyeSwge30pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFyZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobWFueSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIudXBkYXRlT2JqZWN0c0J5UXVlcnkoXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh1cHNlcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyLnVwc2VydE9uZU9iamVjdChcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgdXBkYXRlLFxuICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgdXBkYXRlLFxuICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbGlkYXRlT25seSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVsYXRpb25VcGRhdGVzKFxuICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAgb3JpZ2luYWxRdWVyeS5vYmplY3RJZCxcbiAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgIHJlbGF0aW9uVXBkYXRlc1xuICAgICAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIGlmIChza2lwU2FuaXRpemF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzYW5pdGl6ZURhdGFiYXNlUmVzdWx0KG9yaWdpbmFsVXBkYXRlLCByZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENvbGxlY3QgYWxsIHJlbGF0aW9uLXVwZGF0aW5nIG9wZXJhdGlvbnMgZnJvbSBhIFJFU1QtZm9ybWF0IHVwZGF0ZS5cbiAgLy8gUmV0dXJucyBhIGxpc3Qgb2YgYWxsIHJlbGF0aW9uIHVwZGF0ZXMgdG8gcGVyZm9ybVxuICAvLyBUaGlzIG11dGF0ZXMgdXBkYXRlLlxuICBjb2xsZWN0UmVsYXRpb25VcGRhdGVzKGNsYXNzTmFtZTogc3RyaW5nLCBvYmplY3RJZDogP3N0cmluZywgdXBkYXRlOiBhbnkpIHtcbiAgICB2YXIgb3BzID0gW107XG4gICAgdmFyIGRlbGV0ZU1lID0gW107XG4gICAgb2JqZWN0SWQgPSB1cGRhdGUub2JqZWN0SWQgfHwgb2JqZWN0SWQ7XG5cbiAgICB2YXIgcHJvY2VzcyA9IChvcCwga2V5KSA9PiB7XG4gICAgICBpZiAoIW9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChvcC5fX29wID09ICdBZGRSZWxhdGlvbicpIHtcbiAgICAgICAgb3BzLnB1c2goeyBrZXksIG9wIH0pO1xuICAgICAgICBkZWxldGVNZS5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcC5fX29wID09ICdSZW1vdmVSZWxhdGlvbicpIHtcbiAgICAgICAgb3BzLnB1c2goeyBrZXksIG9wIH0pO1xuICAgICAgICBkZWxldGVNZS5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcC5fX29wID09ICdCYXRjaCcpIHtcbiAgICAgICAgZm9yICh2YXIgeCBvZiBvcC5vcHMpIHtcbiAgICAgICAgICBwcm9jZXNzKHgsIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdXBkYXRlKSB7XG4gICAgICBwcm9jZXNzKHVwZGF0ZVtrZXldLCBrZXkpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBkZWxldGVNZSkge1xuICAgICAgZGVsZXRlIHVwZGF0ZVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gb3BzO1xuICB9XG5cbiAgLy8gUHJvY2Vzc2VzIHJlbGF0aW9uLXVwZGF0aW5nIG9wZXJhdGlvbnMgZnJvbSBhIFJFU1QtZm9ybWF0IHVwZGF0ZS5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCB1cGRhdGVzIGhhdmUgYmVlbiBwZXJmb3JtZWRcbiAgaGFuZGxlUmVsYXRpb25VcGRhdGVzKGNsYXNzTmFtZTogc3RyaW5nLCBvYmplY3RJZDogc3RyaW5nLCB1cGRhdGU6IGFueSwgb3BzOiBhbnkpIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuICAgIG9iamVjdElkID0gdXBkYXRlLm9iamVjdElkIHx8IG9iamVjdElkO1xuICAgIG9wcy5mb3JFYWNoKCh7IGtleSwgb3AgfSkgPT4ge1xuICAgICAgaWYgKCFvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAob3AuX19vcCA9PSAnQWRkUmVsYXRpb24nKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIG9wLm9iamVjdHMpIHtcbiAgICAgICAgICBwZW5kaW5nLnB1c2godGhpcy5hZGRSZWxhdGlvbihrZXksIGNsYXNzTmFtZSwgb2JqZWN0SWQsIG9iamVjdC5vYmplY3RJZCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChvcC5fX29wID09ICdSZW1vdmVSZWxhdGlvbicpIHtcbiAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2Ygb3Aub2JqZWN0cykge1xuICAgICAgICAgIHBlbmRpbmcucHVzaCh0aGlzLnJlbW92ZVJlbGF0aW9uKGtleSwgY2xhc3NOYW1lLCBvYmplY3RJZCwgb2JqZWN0Lm9iamVjdElkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgfVxuXG4gIC8vIEFkZHMgYSByZWxhdGlvbi5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBzdWNjZXNzZnVsbHkgaWZmIHRoZSBhZGQgd2FzIHN1Y2Nlc3NmdWwuXG4gIGFkZFJlbGF0aW9uKGtleTogc3RyaW5nLCBmcm9tQ2xhc3NOYW1lOiBzdHJpbmcsIGZyb21JZDogc3RyaW5nLCB0b0lkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBkb2MgPSB7XG4gICAgICByZWxhdGVkSWQ6IHRvSWQsXG4gICAgICBvd25pbmdJZDogZnJvbUlkLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRlci51cHNlcnRPbmVPYmplY3QoXG4gICAgICBgX0pvaW46JHtrZXl9OiR7ZnJvbUNsYXNzTmFtZX1gLFxuICAgICAgcmVsYXRpb25TY2hlbWEsXG4gICAgICBkb2MsXG4gICAgICBkb2MsXG4gICAgICB0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvblxuICAgICk7XG4gIH1cblxuICAvLyBSZW1vdmVzIGEgcmVsYXRpb24uXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgc3VjY2Vzc2Z1bGx5IGlmZiB0aGUgcmVtb3ZlIHdhc1xuICAvLyBzdWNjZXNzZnVsLlxuICByZW1vdmVSZWxhdGlvbihrZXk6IHN0cmluZywgZnJvbUNsYXNzTmFtZTogc3RyaW5nLCBmcm9tSWQ6IHN0cmluZywgdG9JZDogc3RyaW5nKSB7XG4gICAgdmFyIGRvYyA9IHtcbiAgICAgIHJlbGF0ZWRJZDogdG9JZCxcbiAgICAgIG93bmluZ0lkOiBmcm9tSWQsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyXG4gICAgICAuZGVsZXRlT2JqZWN0c0J5UXVlcnkoXG4gICAgICAgIGBfSm9pbjoke2tleX06JHtmcm9tQ2xhc3NOYW1lfWAsXG4gICAgICAgIHJlbGF0aW9uU2NoZW1hLFxuICAgICAgICBkb2MsXG4gICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uXG4gICAgICApXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGlmIHRoZXkgdHJ5IHRvIGRlbGV0ZSBhIG5vbi1leGlzdGVudCByZWxhdGlvbi5cbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT0gUGFyc2UuRXJyb3IuT0JKRUNUX05PVF9GT1VORCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gUmVtb3ZlcyBvYmplY3RzIG1hdGNoZXMgdGhpcyBxdWVyeSBmcm9tIHRoZSBkYXRhYmFzZS5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBzdWNjZXNzZnVsbHkgaWZmIHRoZSBvYmplY3Qgd2FzXG4gIC8vIGRlbGV0ZWQuXG4gIC8vIE9wdGlvbnM6XG4gIC8vICAgYWNsOiAgYSBsaXN0IG9mIHN0cmluZ3MuIElmIHRoZSBvYmplY3QgdG8gYmUgdXBkYXRlZCBoYXMgYW4gQUNMLFxuICAvLyAgICAgICAgIG9uZSBvZiB0aGUgcHJvdmlkZWQgc3RyaW5ncyBtdXN0IHByb3ZpZGUgdGhlIGNhbGxlciB3aXRoXG4gIC8vICAgICAgICAgd3JpdGUgcGVybWlzc2lvbnMuXG4gIGRlc3Ryb3koXG4gICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgcXVlcnk6IGFueSxcbiAgICB7IGFjbCB9OiBRdWVyeU9wdGlvbnMgPSB7fSxcbiAgICB2YWxpZFNjaGVtYUNvbnRyb2xsZXI6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlclxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IGlzTWFzdGVyID0gYWNsID09PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgYWNsR3JvdXAgPSBhY2wgfHwgW107XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkU2NoZW1hSWZOZWVkZWQodmFsaWRTY2hlbWFDb250cm9sbGVyKS50aGVuKHNjaGVtYUNvbnRyb2xsZXIgPT4ge1xuICAgICAgcmV0dXJuIChpc01hc3RlclxuICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIDogc2NoZW1hQ29udHJvbGxlci52YWxpZGF0ZVBlcm1pc3Npb24oY2xhc3NOYW1lLCBhY2xHcm91cCwgJ2RlbGV0ZScpXG4gICAgICApLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIWlzTWFzdGVyKSB7XG4gICAgICAgICAgcXVlcnkgPSB0aGlzLmFkZFBvaW50ZXJQZXJtaXNzaW9ucyhcbiAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAnZGVsZXRlJyxcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgYWNsR3JvdXBcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVsZXRlIGJ5IHF1ZXJ5XG4gICAgICAgIGlmIChhY2wpIHtcbiAgICAgICAgICBxdWVyeSA9IGFkZFdyaXRlQUNMKHF1ZXJ5LCBhY2wpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlUXVlcnkocXVlcnkpO1xuICAgICAgICByZXR1cm4gc2NoZW1hQ29udHJvbGxlclxuICAgICAgICAgIC5nZXRPbmVTY2hlbWEoY2xhc3NOYW1lKVxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgc2NoZW1hIGRvZXNuJ3QgZXhpc3QsIHByZXRlbmQgaXQgZXhpc3RzIHdpdGggbm8gZmllbGRzLiBUaGlzIGJlaGF2aW9yXG4gICAgICAgICAgICAvLyB3aWxsIGxpa2VseSBuZWVkIHJldmlzaXRpbmcuXG4gICAgICAgICAgICBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyBmaWVsZHM6IHt9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHBhcnNlRm9ybWF0U2NoZW1hID0+XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZGVsZXRlT2JqZWN0c0J5UXVlcnkoXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgcGFyc2VGb3JtYXRTY2hlbWEsXG4gICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICB0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvblxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gV2hlbiBkZWxldGluZyBzZXNzaW9ucyB3aGlsZSBjaGFuZ2luZyBwYXNzd29yZHMsIGRvbid0IHRocm93IGFuIGVycm9yIGlmIHRoZXkgZG9uJ3QgaGF2ZSBhbnkgc2Vzc2lvbnMuXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lID09PSAnX1Nlc3Npb24nICYmIGVycm9yLmNvZGUgPT09IFBhcnNlLkVycm9yLk9CSkVDVF9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gSW5zZXJ0cyBhbiBvYmplY3QgaW50byB0aGUgZGF0YWJhc2UuXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgc3VjY2Vzc2Z1bGx5IGlmZiB0aGUgb2JqZWN0IHNhdmVkLlxuICBjcmVhdGUoXG4gICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgb2JqZWN0OiBhbnksXG4gICAgeyBhY2wgfTogUXVlcnlPcHRpb25zID0ge30sXG4gICAgdmFsaWRhdGVPbmx5OiBib29sZWFuID0gZmFsc2UsXG4gICAgdmFsaWRTY2hlbWFDb250cm9sbGVyOiBTY2hlbWFDb250cm9sbGVyLlNjaGVtYUNvbnRyb2xsZXJcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgb2JqZWN0LCBzbyB3ZSBkb24ndCBtdXRhdGUgdGhlIGluY29taW5nIGRhdGEuXG4gICAgY29uc3Qgb3JpZ2luYWxPYmplY3QgPSBvYmplY3Q7XG4gICAgb2JqZWN0ID0gdHJhbnNmb3JtT2JqZWN0QUNMKG9iamVjdCk7XG5cbiAgICBvYmplY3QuY3JlYXRlZEF0ID0geyBpc286IG9iamVjdC5jcmVhdGVkQXQsIF9fdHlwZTogJ0RhdGUnIH07XG4gICAgb2JqZWN0LnVwZGF0ZWRBdCA9IHsgaXNvOiBvYmplY3QudXBkYXRlZEF0LCBfX3R5cGU6ICdEYXRlJyB9O1xuXG4gICAgdmFyIGlzTWFzdGVyID0gYWNsID09PSB1bmRlZmluZWQ7XG4gICAgdmFyIGFjbEdyb3VwID0gYWNsIHx8IFtdO1xuICAgIGNvbnN0IHJlbGF0aW9uVXBkYXRlcyA9IHRoaXMuY29sbGVjdFJlbGF0aW9uVXBkYXRlcyhjbGFzc05hbWUsIG51bGwsIG9iamVjdCk7XG5cbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUNsYXNzTmFtZShjbGFzc05hbWUpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmxvYWRTY2hlbWFJZk5lZWRlZCh2YWxpZFNjaGVtYUNvbnRyb2xsZXIpKVxuICAgICAgLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiB7XG4gICAgICAgIHJldHVybiAoaXNNYXN0ZXJcbiAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgOiBzY2hlbWFDb250cm9sbGVyLnZhbGlkYXRlUGVybWlzc2lvbihjbGFzc05hbWUsIGFjbEdyb3VwLCAnY3JlYXRlJylcbiAgICAgICAgKVxuICAgICAgICAgIC50aGVuKCgpID0+IHNjaGVtYUNvbnRyb2xsZXIuZW5mb3JjZUNsYXNzRXhpc3RzKGNsYXNzTmFtZSkpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gc2NoZW1hQ29udHJvbGxlci5nZXRPbmVTY2hlbWEoY2xhc3NOYW1lLCB0cnVlKSlcbiAgICAgICAgICAudGhlbihzY2hlbWEgPT4ge1xuICAgICAgICAgICAgdHJhbnNmb3JtQXV0aERhdGEoY2xhc3NOYW1lLCBvYmplY3QsIHNjaGVtYSk7XG4gICAgICAgICAgICBmbGF0dGVuVXBkYXRlT3BlcmF0b3JzRm9yQ3JlYXRlKG9iamVjdCk7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGVPbmx5KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuY3JlYXRlT2JqZWN0KFxuICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgIFNjaGVtYUNvbnRyb2xsZXIuY29udmVydFNjaGVtYVRvQWRhcHRlclNjaGVtYShzY2hlbWEpLFxuICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZU9ubHkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT2JqZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVsYXRpb25VcGRhdGVzKFxuICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgIG9iamVjdC5vYmplY3RJZCxcbiAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgICByZWxhdGlvblVwZGF0ZXNcbiAgICAgICAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBzYW5pdGl6ZURhdGFiYXNlUmVzdWx0KG9yaWdpbmFsT2JqZWN0LCByZXN1bHQub3BzWzBdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBjYW5BZGRGaWVsZChcbiAgICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBvYmplY3Q6IGFueSxcbiAgICBhY2xHcm91cDogc3RyaW5nW10sXG4gICAgcnVuT3B0aW9uczogUXVlcnlPcHRpb25zXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNsYXNzU2NoZW1hID0gc2NoZW1hLnNjaGVtYURhdGFbY2xhc3NOYW1lXTtcbiAgICBpZiAoIWNsYXNzU2NoZW1hKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgY29uc3Qgc2NoZW1hRmllbGRzID0gT2JqZWN0LmtleXMoY2xhc3NTY2hlbWEuZmllbGRzKTtcbiAgICBjb25zdCBuZXdLZXlzID0gZmllbGRzLmZpbHRlcihmaWVsZCA9PiB7XG4gICAgICAvLyBTa2lwIGZpZWxkcyB0aGF0IGFyZSB1bnNldFxuICAgICAgaWYgKG9iamVjdFtmaWVsZF0gJiYgb2JqZWN0W2ZpZWxkXS5fX29wICYmIG9iamVjdFtmaWVsZF0uX19vcCA9PT0gJ0RlbGV0ZScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNjaGVtYUZpZWxkcy5pbmRleE9mKGdldFJvb3RGaWVsZE5hbWUoZmllbGQpKSA8IDA7XG4gICAgfSk7XG4gICAgaWYgKG5ld0tleXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gYWRkcyBhIG1hcmtlciB0aGF0IG5ldyBmaWVsZCBpcyBiZWluZyBhZGRpbmcgZHVyaW5nIHVwZGF0ZVxuICAgICAgcnVuT3B0aW9ucy5hZGRzRmllbGQgPSB0cnVlO1xuXG4gICAgICBjb25zdCBhY3Rpb24gPSBydW5PcHRpb25zLmFjdGlvbjtcbiAgICAgIHJldHVybiBzY2hlbWEudmFsaWRhdGVQZXJtaXNzaW9uKGNsYXNzTmFtZSwgYWNsR3JvdXAsICdhZGRGaWVsZCcsIGFjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8vIFdvbid0IGRlbGV0ZSBjb2xsZWN0aW9ucyBpbiB0aGUgc3lzdGVtIG5hbWVzcGFjZVxuICAvKipcbiAgICogRGVsZXRlIGFsbCBjbGFzc2VzIGFuZCBjbGVhcnMgdGhlIHNjaGVtYSBjYWNoZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZhc3Qgc2V0IHRvIHRydWUgaWYgaXQncyBvayB0byBqdXN0IGRlbGV0ZSByb3dzIGFuZCBub3QgaW5kZXhlc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gd2hlbiB0aGUgZGVsZXRpb25zIGNvbXBsZXRlc1xuICAgKi9cbiAgZGVsZXRlRXZlcnl0aGluZyhmYXN0OiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPGFueT4ge1xuICAgIHRoaXMuc2NoZW1hUHJvbWlzZSA9IG51bGw7XG4gICAgU2NoZW1hQ2FjaGUuY2xlYXIoKTtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmRlbGV0ZUFsbENsYXNzZXMoZmFzdCk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBsaXN0IG9mIHJlbGF0ZWQgaWRzIGdpdmVuIGFuIG93bmluZyBpZC5cbiAgLy8gY2xhc3NOYW1lIGhlcmUgaXMgdGhlIG93bmluZyBjbGFzc05hbWUuXG4gIHJlbGF0ZWRJZHMoXG4gICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgb3duaW5nSWQ6IHN0cmluZyxcbiAgICBxdWVyeU9wdGlvbnM6IFF1ZXJ5T3B0aW9uc1xuICApOiBQcm9taXNlPEFycmF5PHN0cmluZz4+IHtcbiAgICBjb25zdCB7IHNraXAsIGxpbWl0LCBzb3J0IH0gPSBxdWVyeU9wdGlvbnM7XG4gICAgY29uc3QgZmluZE9wdGlvbnMgPSB7fTtcbiAgICBpZiAoc29ydCAmJiBzb3J0LmNyZWF0ZWRBdCAmJiB0aGlzLmFkYXB0ZXIuY2FuU29ydE9uSm9pblRhYmxlcykge1xuICAgICAgZmluZE9wdGlvbnMuc29ydCA9IHsgX2lkOiBzb3J0LmNyZWF0ZWRBdCB9O1xuICAgICAgZmluZE9wdGlvbnMubGltaXQgPSBsaW1pdDtcbiAgICAgIGZpbmRPcHRpb25zLnNraXAgPSBza2lwO1xuICAgICAgcXVlcnlPcHRpb25zLnNraXAgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyXG4gICAgICAuZmluZChqb2luVGFibGVOYW1lKGNsYXNzTmFtZSwga2V5KSwgcmVsYXRpb25TY2hlbWEsIHsgb3duaW5nSWQgfSwgZmluZE9wdGlvbnMpXG4gICAgICAudGhlbihyZXN1bHRzID0+IHJlc3VsdHMubWFwKHJlc3VsdCA9PiByZXN1bHQucmVsYXRlZElkKSk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBsaXN0IG9mIG93bmluZyBpZHMgZ2l2ZW4gc29tZSByZWxhdGVkIGlkcy5cbiAgLy8gY2xhc3NOYW1lIGhlcmUgaXMgdGhlIG93bmluZyBjbGFzc05hbWUuXG4gIG93bmluZ0lkcyhjbGFzc05hbWU6IHN0cmluZywga2V5OiBzdHJpbmcsIHJlbGF0ZWRJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybiB0aGlzLmFkYXB0ZXJcbiAgICAgIC5maW5kKFxuICAgICAgICBqb2luVGFibGVOYW1lKGNsYXNzTmFtZSwga2V5KSxcbiAgICAgICAgcmVsYXRpb25TY2hlbWEsXG4gICAgICAgIHsgcmVsYXRlZElkOiB7ICRpbjogcmVsYXRlZElkcyB9IH0sXG4gICAgICAgIHsga2V5czogWydvd25pbmdJZCddIH1cbiAgICAgIClcbiAgICAgIC50aGVuKHJlc3VsdHMgPT4gcmVzdWx0cy5tYXAocmVzdWx0ID0+IHJlc3VsdC5vd25pbmdJZCkpO1xuICB9XG5cbiAgLy8gTW9kaWZpZXMgcXVlcnkgc28gdGhhdCBpdCBubyBsb25nZXIgaGFzICRpbiBvbiByZWxhdGlvbiBmaWVsZHMsIG9yXG4gIC8vIGVxdWFsLXRvLXBvaW50ZXIgY29uc3RyYWludHMgb24gcmVsYXRpb24gZmllbGRzLlxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcXVlcnkgaXMgbXV0YXRlZFxuICByZWR1Y2VJblJlbGF0aW9uKGNsYXNzTmFtZTogc3RyaW5nLCBxdWVyeTogYW55LCBzY2hlbWE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgLy8gU2VhcmNoIGZvciBhbiBpbi1yZWxhdGlvbiBvciBlcXVhbC10by1yZWxhdGlvblxuICAgIC8vIE1ha2UgaXQgc2VxdWVudGlhbCBmb3Igbm93LCBub3Qgc3VyZSBvZiBwYXJhbGxlaXphdGlvbiBzaWRlIGVmZmVjdHNcbiAgICBpZiAocXVlcnlbJyRvciddKSB7XG4gICAgICBjb25zdCBvcnMgPSBxdWVyeVsnJG9yJ107XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIG9ycy5tYXAoKGFRdWVyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZWR1Y2VJblJlbGF0aW9uKGNsYXNzTmFtZSwgYVF1ZXJ5LCBzY2hlbWEpLnRoZW4oYVF1ZXJ5ID0+IHtcbiAgICAgICAgICAgIHF1ZXJ5Wyckb3InXVtpbmRleF0gPSBhUXVlcnk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICApLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHF1ZXJ5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocXVlcnlbJyRhbmQnXSkge1xuICAgICAgY29uc3QgYW5kcyA9IHF1ZXJ5WyckYW5kJ107XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIGFuZHMubWFwKChhUXVlcnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlSW5SZWxhdGlvbihjbGFzc05hbWUsIGFRdWVyeSwgc2NoZW1hKS50aGVuKGFRdWVyeSA9PiB7XG4gICAgICAgICAgICBxdWVyeVsnJGFuZCddW2luZGV4XSA9IGFRdWVyeTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocXVlcnkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBPYmplY3Qua2V5cyhxdWVyeSkubWFwKGtleSA9PiB7XG4gICAgICBjb25zdCB0ID0gc2NoZW1hLmdldEV4cGVjdGVkVHlwZShjbGFzc05hbWUsIGtleSk7XG4gICAgICBpZiAoIXQgfHwgdC50eXBlICE9PSAnUmVsYXRpb24nKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocXVlcnkpO1xuICAgICAgfVxuICAgICAgbGV0IHF1ZXJpZXM6ID8oYW55W10pID0gbnVsbDtcbiAgICAgIGlmIChcbiAgICAgICAgcXVlcnlba2V5XSAmJlxuICAgICAgICAocXVlcnlba2V5XVsnJGluJ10gfHxcbiAgICAgICAgICBxdWVyeVtrZXldWyckbmUnXSB8fFxuICAgICAgICAgIHF1ZXJ5W2tleV1bJyRuaW4nXSB8fFxuICAgICAgICAgIHF1ZXJ5W2tleV0uX190eXBlID09ICdQb2ludGVyJylcbiAgICAgICkge1xuICAgICAgICAvLyBCdWlsZCB0aGUgbGlzdCBvZiBxdWVyaWVzXG4gICAgICAgIHF1ZXJpZXMgPSBPYmplY3Qua2V5cyhxdWVyeVtrZXldKS5tYXAoY29uc3RyYWludEtleSA9PiB7XG4gICAgICAgICAgbGV0IHJlbGF0ZWRJZHM7XG4gICAgICAgICAgbGV0IGlzTmVnYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICBpZiAoY29uc3RyYWludEtleSA9PT0gJ29iamVjdElkJykge1xuICAgICAgICAgICAgcmVsYXRlZElkcyA9IFtxdWVyeVtrZXldLm9iamVjdElkXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cmFpbnRLZXkgPT0gJyRpbicpIHtcbiAgICAgICAgICAgIHJlbGF0ZWRJZHMgPSBxdWVyeVtrZXldWyckaW4nXS5tYXAociA9PiByLm9iamVjdElkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cmFpbnRLZXkgPT0gJyRuaW4nKSB7XG4gICAgICAgICAgICBpc05lZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlbGF0ZWRJZHMgPSBxdWVyeVtrZXldWyckbmluJ10ubWFwKHIgPT4gci5vYmplY3RJZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb25zdHJhaW50S2V5ID09ICckbmUnKSB7XG4gICAgICAgICAgICBpc05lZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlbGF0ZWRJZHMgPSBbcXVlcnlba2V5XVsnJG5lJ10ub2JqZWN0SWRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc05lZ2F0aW9uLFxuICAgICAgICAgICAgcmVsYXRlZElkcyxcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXJpZXMgPSBbeyBpc05lZ2F0aW9uOiBmYWxzZSwgcmVsYXRlZElkczogW10gfV07XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgY3VycmVudCBxdWVyeUtleSBhcyB3ZSBkb24sdCBuZWVkIGl0IGFueW1vcmVcbiAgICAgIGRlbGV0ZSBxdWVyeVtrZXldO1xuICAgICAgLy8gZXhlY3V0ZSBlYWNoIHF1ZXJ5IGluZGVwZW5kZW50bHkgdG8gYnVpbGQgdGhlIGxpc3Qgb2ZcbiAgICAgIC8vICRpbiAvICRuaW5cbiAgICAgIGNvbnN0IHByb21pc2VzID0gcXVlcmllcy5tYXAocSA9PiB7XG4gICAgICAgIGlmICghcSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vd25pbmdJZHMoY2xhc3NOYW1lLCBrZXksIHEucmVsYXRlZElkcykudGhlbihpZHMgPT4ge1xuICAgICAgICAgIGlmIChxLmlzTmVnYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTm90SW5PYmplY3RJZHNJZHMoaWRzLCBxdWVyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSW5PYmplY3RJZHNJZHMoaWRzLCBxdWVyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShxdWVyeSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNb2RpZmllcyBxdWVyeSBzbyB0aGF0IGl0IG5vIGxvbmdlciBoYXMgJHJlbGF0ZWRUb1xuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcXVlcnkgaXMgbXV0YXRlZFxuICByZWR1Y2VSZWxhdGlvbktleXMoY2xhc3NOYW1lOiBzdHJpbmcsIHF1ZXJ5OiBhbnksIHF1ZXJ5T3B0aW9uczogYW55KTogP1Byb21pc2U8dm9pZD4ge1xuICAgIGlmIChxdWVyeVsnJG9yJ10pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgcXVlcnlbJyRvciddLm1hcChhUXVlcnkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlZHVjZVJlbGF0aW9uS2V5cyhjbGFzc05hbWUsIGFRdWVyeSwgcXVlcnlPcHRpb25zKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChxdWVyeVsnJGFuZCddKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIHF1ZXJ5WyckYW5kJ10ubWFwKGFRdWVyeSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlUmVsYXRpb25LZXlzKGNsYXNzTmFtZSwgYVF1ZXJ5LCBxdWVyeU9wdGlvbnMpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIHJlbGF0ZWRUbyA9IHF1ZXJ5WyckcmVsYXRlZFRvJ107XG4gICAgaWYgKHJlbGF0ZWRUbykge1xuICAgICAgcmV0dXJuIHRoaXMucmVsYXRlZElkcyhcbiAgICAgICAgcmVsYXRlZFRvLm9iamVjdC5jbGFzc05hbWUsXG4gICAgICAgIHJlbGF0ZWRUby5rZXksXG4gICAgICAgIHJlbGF0ZWRUby5vYmplY3Qub2JqZWN0SWQsXG4gICAgICAgIHF1ZXJ5T3B0aW9uc1xuICAgICAgKVxuICAgICAgICAudGhlbihpZHMgPT4ge1xuICAgICAgICAgIGRlbGV0ZSBxdWVyeVsnJHJlbGF0ZWRUbyddO1xuICAgICAgICAgIHRoaXMuYWRkSW5PYmplY3RJZHNJZHMoaWRzLCBxdWVyeSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlUmVsYXRpb25LZXlzKGNsYXNzTmFtZSwgcXVlcnksIHF1ZXJ5T3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHt9KTtcbiAgICB9XG4gIH1cblxuICBhZGRJbk9iamVjdElkc0lkcyhpZHM6ID9BcnJheTxzdHJpbmc+ID0gbnVsbCwgcXVlcnk6IGFueSkge1xuICAgIGNvbnN0IGlkc0Zyb21TdHJpbmc6ID9BcnJheTxzdHJpbmc+ID1cbiAgICAgIHR5cGVvZiBxdWVyeS5vYmplY3RJZCA9PT0gJ3N0cmluZycgPyBbcXVlcnkub2JqZWN0SWRdIDogbnVsbDtcbiAgICBjb25zdCBpZHNGcm9tRXE6ID9BcnJheTxzdHJpbmc+ID1cbiAgICAgIHF1ZXJ5Lm9iamVjdElkICYmIHF1ZXJ5Lm9iamVjdElkWyckZXEnXSA/IFtxdWVyeS5vYmplY3RJZFsnJGVxJ11dIDogbnVsbDtcbiAgICBjb25zdCBpZHNGcm9tSW46ID9BcnJheTxzdHJpbmc+ID1cbiAgICAgIHF1ZXJ5Lm9iamVjdElkICYmIHF1ZXJ5Lm9iamVjdElkWyckaW4nXSA/IHF1ZXJ5Lm9iamVjdElkWyckaW4nXSA6IG51bGw7XG5cbiAgICAvLyBAZmxvdy1kaXNhYmxlLW5leHRcbiAgICBjb25zdCBhbGxJZHM6IEFycmF5PEFycmF5PHN0cmluZz4+ID0gW2lkc0Zyb21TdHJpbmcsIGlkc0Zyb21FcSwgaWRzRnJvbUluLCBpZHNdLmZpbHRlcihcbiAgICAgIGxpc3QgPT4gbGlzdCAhPT0gbnVsbFxuICAgICk7XG4gICAgY29uc3QgdG90YWxMZW5ndGggPSBhbGxJZHMucmVkdWNlKChtZW1vLCBsaXN0KSA9PiBtZW1vICsgbGlzdC5sZW5ndGgsIDApO1xuXG4gICAgbGV0IGlkc0ludGVyc2VjdGlvbiA9IFtdO1xuICAgIGlmICh0b3RhbExlbmd0aCA+IDEyNSkge1xuICAgICAgaWRzSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0LmJpZyhhbGxJZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHNJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3QoYWxsSWRzKTtcbiAgICB9XG5cbiAgICAvLyBOZWVkIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBjbG9iYmVyIGV4aXN0aW5nIHNob3J0aGFuZCAkZXEgY29uc3RyYWludHMgb24gb2JqZWN0SWQuXG4gICAgaWYgKCEoJ29iamVjdElkJyBpbiBxdWVyeSkpIHtcbiAgICAgIHF1ZXJ5Lm9iamVjdElkID0ge1xuICAgICAgICAkaW46IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnkub2JqZWN0SWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBxdWVyeS5vYmplY3RJZCA9IHtcbiAgICAgICAgJGluOiB1bmRlZmluZWQsXG4gICAgICAgICRlcTogcXVlcnkub2JqZWN0SWQsXG4gICAgICB9O1xuICAgIH1cbiAgICBxdWVyeS5vYmplY3RJZFsnJGluJ10gPSBpZHNJbnRlcnNlY3Rpb247XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICBhZGROb3RJbk9iamVjdElkc0lkcyhpZHM6IHN0cmluZ1tdID0gW10sIHF1ZXJ5OiBhbnkpIHtcbiAgICBjb25zdCBpZHNGcm9tTmluID0gcXVlcnkub2JqZWN0SWQgJiYgcXVlcnkub2JqZWN0SWRbJyRuaW4nXSA/IHF1ZXJ5Lm9iamVjdElkWyckbmluJ10gOiBbXTtcbiAgICBsZXQgYWxsSWRzID0gWy4uLmlkc0Zyb21OaW4sIC4uLmlkc10uZmlsdGVyKGxpc3QgPT4gbGlzdCAhPT0gbnVsbCk7XG5cbiAgICAvLyBtYWtlIGEgc2V0IGFuZCBzcHJlYWQgdG8gcmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICBhbGxJZHMgPSBbLi4ubmV3IFNldChhbGxJZHMpXTtcblxuICAgIC8vIE5lZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IGNsb2JiZXIgZXhpc3Rpbmcgc2hvcnRoYW5kICRlcSBjb25zdHJhaW50cyBvbiBvYmplY3RJZC5cbiAgICBpZiAoISgnb2JqZWN0SWQnIGluIHF1ZXJ5KSkge1xuICAgICAgcXVlcnkub2JqZWN0SWQgPSB7XG4gICAgICAgICRuaW46IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnkub2JqZWN0SWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBxdWVyeS5vYmplY3RJZCA9IHtcbiAgICAgICAgJG5pbjogdW5kZWZpbmVkLFxuICAgICAgICAkZXE6IHF1ZXJ5Lm9iamVjdElkLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBxdWVyeS5vYmplY3RJZFsnJG5pbiddID0gYWxsSWRzO1xuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIC8vIFJ1bnMgYSBxdWVyeSBvbiB0aGUgZGF0YWJhc2UuXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBsaXN0IG9mIGl0ZW1zLlxuICAvLyBPcHRpb25zOlxuICAvLyAgIHNraXAgICAgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC5cbiAgLy8gICBsaW1pdCAgIGxpbWl0IHRvIHRoaXMgbnVtYmVyIG9mIHJlc3VsdHMuXG4gIC8vICAgc29ydCAgICBhbiBvYmplY3Qgd2hlcmUga2V5cyBhcmUgdGhlIGZpZWxkcyB0byBzb3J0IGJ5LlxuICAvLyAgICAgICAgICAgdGhlIHZhbHVlIGlzICsxIGZvciBhc2NlbmRpbmcsIC0xIGZvciBkZXNjZW5kaW5nLlxuICAvLyAgIGNvdW50ICAgcnVuIGEgY291bnQgaW5zdGVhZCBvZiByZXR1cm5pbmcgcmVzdWx0cy5cbiAgLy8gICBhY2wgICAgIHJlc3RyaWN0IHRoaXMgb3BlcmF0aW9uIHdpdGggYW4gQUNMIGZvciB0aGUgcHJvdmlkZWQgYXJyYXlcbiAgLy8gICAgICAgICAgIG9mIHVzZXIgb2JqZWN0SWRzIGFuZCByb2xlcy4gYWNsOiBudWxsIG1lYW5zIG5vIHVzZXIuXG4gIC8vICAgICAgICAgICB3aGVuIHRoaXMgZmllbGQgaXMgbm90IHByZXNlbnQsIGRvbid0IGRvIGFueXRoaW5nIHJlZ2FyZGluZyBBQ0xzLlxuICAvLyAgY2FzZUluc2Vuc2l0aXZlIG1ha2Ugc3RyaW5nIGNvbXBhcmlzb25zIGNhc2UgaW5zZW5zaXRpdmVcbiAgLy8gVE9ETzogbWFrZSB1c2VySWRzIG5vdCBuZWVkZWQgaGVyZS4gVGhlIGRiIGFkYXB0ZXIgc2hvdWxkbid0IGtub3dcbiAgLy8gYW55dGhpbmcgYWJvdXQgdXNlcnMsIGlkZWFsbHkuIFRoZW4sIGltcHJvdmUgdGhlIGZvcm1hdCBvZiB0aGUgQUNMXG4gIC8vIGFyZyB0byB3b3JrIGxpa2UgdGhlIG90aGVycy5cbiAgZmluZChcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBxdWVyeTogYW55LFxuICAgIHtcbiAgICAgIHNraXAsXG4gICAgICBsaW1pdCxcbiAgICAgIGFjbCxcbiAgICAgIHNvcnQgPSB7fSxcbiAgICAgIGNvdW50LFxuICAgICAga2V5cyxcbiAgICAgIG9wLFxuICAgICAgZGlzdGluY3QsXG4gICAgICBwaXBlbGluZSxcbiAgICAgIHJlYWRQcmVmZXJlbmNlLFxuICAgICAgaGludCxcbiAgICAgIGNhc2VJbnNlbnNpdGl2ZSA9IGZhbHNlLFxuICAgICAgZXhwbGFpbixcbiAgICB9OiBhbnkgPSB7fSxcbiAgICBhdXRoOiBhbnkgPSB7fSxcbiAgICB2YWxpZFNjaGVtYUNvbnRyb2xsZXI6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlclxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IGlzTWFzdGVyID0gYWNsID09PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgYWNsR3JvdXAgPSBhY2wgfHwgW107XG4gICAgb3AgPVxuICAgICAgb3AgfHwgKHR5cGVvZiBxdWVyeS5vYmplY3RJZCA9PSAnc3RyaW5nJyAmJiBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAxID8gJ2dldCcgOiAnZmluZCcpO1xuICAgIC8vIENvdW50IG9wZXJhdGlvbiBpZiBjb3VudGluZ1xuICAgIG9wID0gY291bnQgPT09IHRydWUgPyAnY291bnQnIDogb3A7XG5cbiAgICBsZXQgY2xhc3NFeGlzdHMgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWFJZk5lZWRlZCh2YWxpZFNjaGVtYUNvbnRyb2xsZXIpLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiB7XG4gICAgICAvL0FsbG93IHZvbGF0aWxlIGNsYXNzZXMgaWYgcXVlcnlpbmcgd2l0aCBNYXN0ZXIgKGZvciBfUHVzaFN0YXR1cylcbiAgICAgIC8vVE9ETzogTW92ZSB2b2xhdGlsZSBjbGFzc2VzIGNvbmNlcHQgaW50byBtb25nbyBhZGFwdGVyLCBwb3N0Z3JlcyBhZGFwdGVyIHNob3VsZG4ndCBjYXJlXG4gICAgICAvL3RoYXQgYXBpLnBhcnNlLmNvbSBicmVha3Mgd2hlbiBfUHVzaFN0YXR1cyBleGlzdHMgaW4gbW9uZ28uXG4gICAgICByZXR1cm4gc2NoZW1hQ29udHJvbGxlclxuICAgICAgICAuZ2V0T25lU2NoZW1hKGNsYXNzTmFtZSwgaXNNYXN0ZXIpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgLy8gQmVoYXZpb3IgZm9yIG5vbi1leGlzdGVudCBjbGFzc2VzIGlzIGtpbmRhIHdlaXJkIG9uIFBhcnNlLmNvbS4gUHJvYmFibHkgZG9lc24ndCBtYXR0ZXIgdG9vIG11Y2guXG4gICAgICAgICAgLy8gRm9yIG5vdywgcHJldGVuZCB0aGUgY2xhc3MgZXhpc3RzIGJ1dCBoYXMgbm8gb2JqZWN0cyxcbiAgICAgICAgICBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2xhc3NFeGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB7IGZpZWxkczoge30gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHNjaGVtYSA9PiB7XG4gICAgICAgICAgLy8gUGFyc2UuY29tIHRyZWF0cyBxdWVyaWVzIG9uIF9jcmVhdGVkX2F0IGFuZCBfdXBkYXRlZF9hdCBhcyBpZiB0aGV5IHdlcmUgcXVlcmllcyBvbiBjcmVhdGVkQXQgYW5kIHVwZGF0ZWRBdCxcbiAgICAgICAgICAvLyBzbyBkdXBsaWNhdGUgdGhhdCBiZWhhdmlvciBoZXJlLiBJZiBib3RoIGFyZSBzcGVjaWZpZWQsIHRoZSBjb3JyZWN0IGJlaGF2aW9yIHRvIG1hdGNoIFBhcnNlLmNvbSBpcyB0b1xuICAgICAgICAgIC8vIHVzZSB0aGUgb25lIHRoYXQgYXBwZWFycyBmaXJzdCBpbiB0aGUgc29ydCBsaXN0LlxuICAgICAgICAgIGlmIChzb3J0Ll9jcmVhdGVkX2F0KSB7XG4gICAgICAgICAgICBzb3J0LmNyZWF0ZWRBdCA9IHNvcnQuX2NyZWF0ZWRfYXQ7XG4gICAgICAgICAgICBkZWxldGUgc29ydC5fY3JlYXRlZF9hdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNvcnQuX3VwZGF0ZWRfYXQpIHtcbiAgICAgICAgICAgIHNvcnQudXBkYXRlZEF0ID0gc29ydC5fdXBkYXRlZF9hdDtcbiAgICAgICAgICAgIGRlbGV0ZSBzb3J0Ll91cGRhdGVkX2F0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBxdWVyeU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBza2lwLFxuICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIHJlYWRQcmVmZXJlbmNlLFxuICAgICAgICAgICAgaGludCxcbiAgICAgICAgICAgIGNhc2VJbnNlbnNpdGl2ZSxcbiAgICAgICAgICAgIGV4cGxhaW4sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhzb3J0KS5mb3JFYWNoKGZpZWxkTmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAoZmllbGROYW1lLm1hdGNoKC9eYXV0aERhdGFcXC4oW2EtekEtWjAtOV9dKylcXC5pZCQvKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9LRVlfTkFNRSwgYENhbm5vdCBzb3J0IGJ5ICR7ZmllbGROYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm9vdEZpZWxkTmFtZSA9IGdldFJvb3RGaWVsZE5hbWUoZmllbGROYW1lKTtcbiAgICAgICAgICAgIGlmICghU2NoZW1hQ29udHJvbGxlci5maWVsZE5hbWVJc1ZhbGlkKHJvb3RGaWVsZE5hbWUsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgZmllbGQgbmFtZTogJHtmaWVsZE5hbWV9LmBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gKGlzTWFzdGVyXG4gICAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICA6IHNjaGVtYUNvbnRyb2xsZXIudmFsaWRhdGVQZXJtaXNzaW9uKGNsYXNzTmFtZSwgYWNsR3JvdXAsIG9wKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMucmVkdWNlUmVsYXRpb25LZXlzKGNsYXNzTmFtZSwgcXVlcnksIHF1ZXJ5T3B0aW9ucykpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLnJlZHVjZUluUmVsYXRpb24oY2xhc3NOYW1lLCBxdWVyeSwgc2NoZW1hQ29udHJvbGxlcikpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBwcm90ZWN0ZWRGaWVsZHM7XG4gICAgICAgICAgICAgIGlmICghaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHRoaXMuYWRkUG9pbnRlclBlcm1pc3Npb25zKFxuICAgICAgICAgICAgICAgICAgc2NoZW1hQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIG9wLFxuICAgICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgICBhY2xHcm91cFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLyogRG9uJ3QgdXNlIHByb2plY3Rpb25zIHRvIG9wdGltaXplIHRoZSBwcm90ZWN0ZWRGaWVsZHMgc2luY2UgdGhlIHByb3RlY3RlZEZpZWxkc1xuICAgICAgICAgICAgICAgICAgYmFzZWQgb24gcG9pbnRlci1wZXJtaXNzaW9ucyBhcmUgZGV0ZXJtaW5lZCBhZnRlciBxdWVyeWluZy4gVGhlIGZpbHRlcmluZyBjYW5cbiAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZSB0aGUgcHJvdGVjdGVkIGZpZWxkcy4gKi9cbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWRGaWVsZHMgPSB0aGlzLmFkZFByb3RlY3RlZEZpZWxkcyhcbiAgICAgICAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIGFjbEdyb3VwLFxuICAgICAgICAgICAgICAgICAgYXV0aCxcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9uc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICAgICAgICAgIGlmIChvcCA9PT0gJ2dldCcpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wID09PSAndXBkYXRlJyB8fCBvcCA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gYWRkV3JpdGVBQ0wocXVlcnksIGFjbEdyb3VwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcXVlcnkgPSBhZGRSZWFkQUNMKHF1ZXJ5LCBhY2xHcm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhbGlkYXRlUXVlcnkocXVlcnkpO1xuICAgICAgICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNsYXNzRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5jb3VudChcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICByZWFkUHJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBoaW50XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0aW5jdCkge1xuICAgICAgICAgICAgICAgIGlmICghY2xhc3NFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5kaXN0aW5jdChjbGFzc05hbWUsIHNjaGVtYSwgcXVlcnksIGRpc3RpbmN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlwZWxpbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNsYXNzRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuYWdncmVnYXRlKFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmUsXG4gICAgICAgICAgICAgICAgICAgIHJlYWRQcmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICBoaW50LFxuICAgICAgICAgICAgICAgICAgICBleHBsYWluXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChleHBsYWluKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5maW5kKGNsYXNzTmFtZSwgc2NoZW1hLCBxdWVyeSwgcXVlcnlPcHRpb25zKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyXG4gICAgICAgICAgICAgICAgICAuZmluZChjbGFzc05hbWUsIHNjaGVtYSwgcXVlcnksIHF1ZXJ5T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgIC50aGVuKG9iamVjdHMgPT5cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5tYXAob2JqZWN0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB1bnRyYW5zZm9ybU9iamVjdEFDTChvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTZW5zaXRpdmVEYXRhKFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXN0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2xHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm90ZWN0ZWRGaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVEVSTkFMX1NFUlZFUl9FUlJPUiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZVNjaGVtYShjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxldCBzY2hlbWFDb250cm9sbGVyO1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoeyBjbGVhckNhY2hlOiB0cnVlIH0pXG4gICAgICAudGhlbihzID0+IHtcbiAgICAgICAgc2NoZW1hQ29udHJvbGxlciA9IHM7XG4gICAgICAgIHJldHVybiBzY2hlbWFDb250cm9sbGVyLmdldE9uZVNjaGVtYShjbGFzc05hbWUsIHRydWUpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGlmIChlcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZmllbGRzOiB7fSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKHNjaGVtYTogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25FeGlzdHMoY2xhc3NOYW1lKVxuICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuYWRhcHRlci5jb3VudChjbGFzc05hbWUsIHsgZmllbGRzOiB7fSB9LCBudWxsLCAnJywgZmFsc2UpKVxuICAgICAgICAgIC50aGVuKGNvdW50ID0+IHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICBgQ2xhc3MgJHtjbGFzc05hbWV9IGlzIG5vdCBlbXB0eSwgY29udGFpbnMgJHtjb3VudH0gb2JqZWN0cywgY2Fubm90IGRyb3Agc2NoZW1hLmBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZGVsZXRlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHdhc1BhcnNlQ29sbGVjdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAod2FzUGFyc2VDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uRmllbGROYW1lcyA9IE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpLmZpbHRlcihcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPT4gc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdLnR5cGUgPT09ICdSZWxhdGlvbidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uRmllbGROYW1lcy5tYXAobmFtZSA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmRlbGV0ZUNsYXNzKGpvaW5UYWJsZU5hbWUoY2xhc3NOYW1lLCBuYW1lKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgU2NoZW1hQ2FjaGUuZGVsKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVtYUNvbnRyb2xsZXIucmVsb2FkRGF0YSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gVGhpcyBoZWxwcyB0byBjcmVhdGUgaW50ZXJtZWRpYXRlIG9iamVjdHMgZm9yIHNpbXBsZXIgY29tcGFyaXNvbiBvZlxuICAvLyBrZXkgdmFsdWUgcGFpcnMgdXNlZCBpbiBxdWVyeSBvYmplY3RzLiBFYWNoIGtleSB2YWx1ZSBwYWlyIHdpbGwgcmVwcmVzZW50ZWRcbiAgLy8gaW4gYSBzaW1pbGFyIHdheSB0byBqc29uXG4gIG9iamVjdFRvRW50cmllc1N0cmluZ3MocXVlcnk6IGFueSk6IEFycmF5PHN0cmluZz4ge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhxdWVyeSkubWFwKGEgPT4gYS5tYXAocyA9PiBKU09OLnN0cmluZ2lmeShzKSkuam9pbignOicpKTtcbiAgfVxuXG4gIC8vIE5haXZlIGxvZ2ljIHJlZHVjZXIgZm9yIE9SIG9wZXJhdGlvbnMgbWVhbnQgdG8gYmUgdXNlZCBvbmx5IGZvciBwb2ludGVyIHBlcm1pc3Npb25zLlxuICByZWR1Y2VPck9wZXJhdGlvbihxdWVyeTogeyAkb3I6IEFycmF5PGFueT4gfSk6IGFueSB7XG4gICAgaWYgKCFxdWVyeS4kb3IpIHtcbiAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9XG4gICAgY29uc3QgcXVlcmllcyA9IHF1ZXJ5LiRvci5tYXAocSA9PiB0aGlzLm9iamVjdFRvRW50cmllc1N0cmluZ3MocSkpO1xuICAgIGxldCByZXBlYXQgPSBmYWxzZTtcbiAgICBkbyB7XG4gICAgICByZXBlYXQgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcmllcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgcXVlcmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IFtzaG9ydGVyLCBsb25nZXJdID0gcXVlcmllc1tpXS5sZW5ndGggPiBxdWVyaWVzW2pdLmxlbmd0aCA/IFtqLCBpXSA6IFtpLCBqXTtcbiAgICAgICAgICBjb25zdCBmb3VuZEVudHJpZXMgPSBxdWVyaWVzW3Nob3J0ZXJdLnJlZHVjZShcbiAgICAgICAgICAgIChhY2MsIGVudHJ5KSA9PiBhY2MgKyAocXVlcmllc1tsb25nZXJdLmluY2x1ZGVzKGVudHJ5KSA/IDEgOiAwKSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHNob3J0ZXJFbnRyaWVzID0gcXVlcmllc1tzaG9ydGVyXS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGZvdW5kRW50cmllcyA9PT0gc2hvcnRlckVudHJpZXMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzaG9ydGVyIHF1ZXJ5IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkIGluIHRoZSBsb25nZXIgb25lLCB3ZSBjYW4gc3RyaWtlXG4gICAgICAgICAgICAvLyBvdXQgdGhlIGxvbmdlciBxdWVyeS5cbiAgICAgICAgICAgIHF1ZXJ5LiRvci5zcGxpY2UobG9uZ2VyLCAxKTtcbiAgICAgICAgICAgIHF1ZXJpZXMuc3BsaWNlKGxvbmdlciwgMSk7XG4gICAgICAgICAgICByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAocmVwZWF0KTtcbiAgICBpZiAocXVlcnkuJG9yLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcXVlcnkgPSB7IC4uLnF1ZXJ5LCAuLi5xdWVyeS4kb3JbMF0gfTtcbiAgICAgIGRlbGV0ZSBxdWVyeS4kb3I7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIC8vIE5haXZlIGxvZ2ljIHJlZHVjZXIgZm9yIEFORCBvcGVyYXRpb25zIG1lYW50IHRvIGJlIHVzZWQgb25seSBmb3IgcG9pbnRlciBwZXJtaXNzaW9ucy5cbiAgcmVkdWNlQW5kT3BlcmF0aW9uKHF1ZXJ5OiB7ICRhbmQ6IEFycmF5PGFueT4gfSk6IGFueSB7XG4gICAgaWYgKCFxdWVyeS4kYW5kKSB7XG4gICAgICByZXR1cm4gcXVlcnk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJpZXMgPSBxdWVyeS4kYW5kLm1hcChxID0+IHRoaXMub2JqZWN0VG9FbnRyaWVzU3RyaW5ncyhxKSk7XG4gICAgbGV0IHJlcGVhdCA9IGZhbHNlO1xuICAgIGRvIHtcbiAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWVyaWVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBxdWVyaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgW3Nob3J0ZXIsIGxvbmdlcl0gPSBxdWVyaWVzW2ldLmxlbmd0aCA+IHF1ZXJpZXNbal0ubGVuZ3RoID8gW2osIGldIDogW2ksIGpdO1xuICAgICAgICAgIGNvbnN0IGZvdW5kRW50cmllcyA9IHF1ZXJpZXNbc2hvcnRlcl0ucmVkdWNlKFxuICAgICAgICAgICAgKGFjYywgZW50cnkpID0+IGFjYyArIChxdWVyaWVzW2xvbmdlcl0uaW5jbHVkZXMoZW50cnkpID8gMSA6IDApLFxuICAgICAgICAgICAgMFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgc2hvcnRlckVudHJpZXMgPSBxdWVyaWVzW3Nob3J0ZXJdLmxlbmd0aDtcbiAgICAgICAgICBpZiAoZm91bmRFbnRyaWVzID09PSBzaG9ydGVyRW50cmllcykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHNob3J0ZXIgcXVlcnkgaXMgY29tcGxldGVseSBjb250YWluZWQgaW4gdGhlIGxvbmdlciBvbmUsIHdlIGNhbiBzdHJpa2VcbiAgICAgICAgICAgIC8vIG91dCB0aGUgc2hvcnRlciBxdWVyeS5cbiAgICAgICAgICAgIHF1ZXJ5LiRhbmQuc3BsaWNlKHNob3J0ZXIsIDEpO1xuICAgICAgICAgICAgcXVlcmllcy5zcGxpY2Uoc2hvcnRlciwgMSk7XG4gICAgICAgICAgICByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAocmVwZWF0KTtcbiAgICBpZiAocXVlcnkuJGFuZC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHF1ZXJ5ID0geyAuLi5xdWVyeSwgLi4ucXVlcnkuJGFuZFswXSB9O1xuICAgICAgZGVsZXRlIHF1ZXJ5LiRhbmQ7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIC8vIENvbnN0cmFpbnRzIHF1ZXJ5IHVzaW5nIENMUCdzIHBvaW50ZXIgcGVybWlzc2lvbnMgKFBQKSBpZiBhbnkuXG4gIC8vIDEuIEV0cmFjdCB0aGUgdXNlciBpZCBmcm9tIGNhbGxlcidzIEFDTGdyb3VwO1xuICAvLyAyLiBFeGN0cmFjdCBhIGxpc3Qgb2YgZmllbGQgbmFtZXMgdGhhdCBhcmUgUFAgZm9yIHRhcmdldCBjb2xsZWN0aW9uIGFuZCBvcGVyYXRpb247XG4gIC8vIDMuIENvbnN0cmFpbnQgdGhlIG9yaWdpbmFsIHF1ZXJ5IHNvIHRoYXQgZWFjaCBQUCBmaWVsZCBtdXN0XG4gIC8vIHBvaW50IHRvIGNhbGxlcidzIGlkIChvciBjb250YWluIGl0IGluIGNhc2Ugb2YgUFAgZmllbGQgYmVpbmcgYW4gYXJyYXkpXG4gIGFkZFBvaW50ZXJQZXJtaXNzaW9ucyhcbiAgICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBvcGVyYXRpb246IHN0cmluZyxcbiAgICBxdWVyeTogYW55LFxuICAgIGFjbEdyb3VwOiBhbnlbXSA9IFtdXG4gICk6IGFueSB7XG4gICAgLy8gQ2hlY2sgaWYgY2xhc3MgaGFzIHB1YmxpYyBwZXJtaXNzaW9uIGZvciBvcGVyYXRpb25cbiAgICAvLyBJZiB0aGUgQmFzZUNMUCBwYXNzLCBsZXQgZ28gdGhyb3VnaFxuICAgIGlmIChzY2hlbWEudGVzdFBlcm1pc3Npb25zRm9yQ2xhc3NOYW1lKGNsYXNzTmFtZSwgYWNsR3JvdXAsIG9wZXJhdGlvbikpIHtcbiAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9XG4gICAgY29uc3QgcGVybXMgPSBzY2hlbWEuZ2V0Q2xhc3NMZXZlbFBlcm1pc3Npb25zKGNsYXNzTmFtZSk7XG5cbiAgICBjb25zdCB1c2VyQUNMID0gYWNsR3JvdXAuZmlsdGVyKGFjbCA9PiB7XG4gICAgICByZXR1cm4gYWNsLmluZGV4T2YoJ3JvbGU6JykgIT0gMCAmJiBhY2wgIT0gJyonO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZ3JvdXBLZXkgPVxuICAgICAgWydnZXQnLCAnZmluZCcsICdjb3VudCddLmluZGV4T2Yob3BlcmF0aW9uKSA+IC0xID8gJ3JlYWRVc2VyRmllbGRzJyA6ICd3cml0ZVVzZXJGaWVsZHMnO1xuXG4gICAgY29uc3QgcGVybUZpZWxkcyA9IFtdO1xuXG4gICAgaWYgKHBlcm1zW29wZXJhdGlvbl0gJiYgcGVybXNbb3BlcmF0aW9uXS5wb2ludGVyRmllbGRzKSB7XG4gICAgICBwZXJtRmllbGRzLnB1c2goLi4ucGVybXNbb3BlcmF0aW9uXS5wb2ludGVyRmllbGRzKTtcbiAgICB9XG5cbiAgICBpZiAocGVybXNbZ3JvdXBLZXldKSB7XG4gICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHBlcm1zW2dyb3VwS2V5XSkge1xuICAgICAgICBpZiAoIXBlcm1GaWVsZHMuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgICAgcGVybUZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyB0aGUgQUNMIHNob3VsZCBoYXZlIGV4YWN0bHkgMSB1c2VyXG4gICAgaWYgKHBlcm1GaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gdGhlIEFDTCBzaG91bGQgaGF2ZSBleGFjdGx5IDEgdXNlclxuICAgICAgLy8gTm8gdXNlciBzZXQgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgLy8gSWYgdGhlIGxlbmd0aCBpcyA+IDEsIHRoYXQgbWVhbnMgd2UgZGlkbid0IGRlLWR1cGUgdXNlcnMgY29ycmVjdGx5XG4gICAgICBpZiAodXNlckFDTC5sZW5ndGggIT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB1c2VySWQgPSB1c2VyQUNMWzBdO1xuICAgICAgY29uc3QgdXNlclBvaW50ZXIgPSB7XG4gICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICBjbGFzc05hbWU6ICdfVXNlcicsXG4gICAgICAgIG9iamVjdElkOiB1c2VySWQsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBxdWVyaWVzID0gcGVybUZpZWxkcy5tYXAoa2V5ID0+IHtcbiAgICAgICAgY29uc3QgZmllbGREZXNjcmlwdG9yID0gc2NoZW1hLmdldEV4cGVjdGVkVHlwZShjbGFzc05hbWUsIGtleSk7XG4gICAgICAgIGNvbnN0IGZpZWxkVHlwZSA9XG4gICAgICAgICAgZmllbGREZXNjcmlwdG9yICYmXG4gICAgICAgICAgdHlwZW9mIGZpZWxkRGVzY3JpcHRvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZmllbGREZXNjcmlwdG9yLCAndHlwZScpXG4gICAgICAgICAgICA/IGZpZWxkRGVzY3JpcHRvci50eXBlXG4gICAgICAgICAgICA6IG51bGw7XG5cbiAgICAgICAgbGV0IHF1ZXJ5Q2xhdXNlO1xuXG4gICAgICAgIGlmIChmaWVsZFR5cGUgPT09ICdQb2ludGVyJykge1xuICAgICAgICAgIC8vIGNvbnN0cmFpbnQgZm9yIHNpbmdsZSBwb2ludGVyIHNldHVwXG4gICAgICAgICAgcXVlcnlDbGF1c2UgPSB7IFtrZXldOiB1c2VyUG9pbnRlciB9O1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkVHlwZSA9PT0gJ0FycmF5Jykge1xuICAgICAgICAgIC8vIGNvbnN0cmFpbnQgZm9yIHVzZXJzLWFycmF5IHNldHVwXG4gICAgICAgICAgcXVlcnlDbGF1c2UgPSB7IFtrZXldOiB7ICRhbGw6IFt1c2VyUG9pbnRlcl0gfSB9O1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkVHlwZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAvLyBjb25zdHJhaW50IGZvciBvYmplY3Qgc2V0dXBcbiAgICAgICAgICBxdWVyeUNsYXVzZSA9IHsgW2tleV06IHVzZXJQb2ludGVyIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHRoZXJlIGlzIGEgQ0xQIGZpZWxkIG9mIGFuIHVuZXhwZWN0ZWQgdHlwZS4gVGhpcyBjb25kaXRpb24gc2hvdWxkIG5vdCBoYXBwZW4sIHdoaWNoIGlzXG4gICAgICAgICAgLy8gd2h5IGlzIGJlaW5nIHRyZWF0ZWQgYXMgYW4gZXJyb3IuXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBgQW4gdW5leHBlY3RlZCBjb25kaXRpb24gb2NjdXJyZWQgd2hlbiByZXNvbHZpbmcgcG9pbnRlciBwZXJtaXNzaW9uczogJHtjbGFzc05hbWV9ICR7a2V5fWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGNvbnN0cmFpbnQgb24gdGhlIGtleSwgdXNlIHRoZSAkYW5kXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocXVlcnksIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZWR1Y2VBbmRPcGVyYXRpb24oeyAkYW5kOiBbcXVlcnlDbGF1c2UsIHF1ZXJ5XSB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UganVzdCBhZGQgdGhlIGNvbnN0YWludFxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcXVlcnksIHF1ZXJ5Q2xhdXNlKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcXVlcmllcy5sZW5ndGggPT09IDEgPyBxdWVyaWVzWzBdIDogdGhpcy5yZWR1Y2VPck9wZXJhdGlvbih7ICRvcjogcXVlcmllcyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgIH1cbiAgfVxuXG4gIGFkZFByb3RlY3RlZEZpZWxkcyhcbiAgICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBxdWVyeTogYW55ID0ge30sXG4gICAgYWNsR3JvdXA6IGFueVtdID0gW10sXG4gICAgYXV0aDogYW55ID0ge30sXG4gICAgcXVlcnlPcHRpb25zOiBGdWxsUXVlcnlPcHRpb25zID0ge31cbiAgKTogbnVsbCB8IHN0cmluZ1tdIHtcbiAgICBjb25zdCBwZXJtcyA9IHNjaGVtYS5nZXRDbGFzc0xldmVsUGVybWlzc2lvbnMoY2xhc3NOYW1lKTtcbiAgICBpZiAoIXBlcm1zKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHByb3RlY3RlZEZpZWxkcyA9IHBlcm1zLnByb3RlY3RlZEZpZWxkcztcbiAgICBpZiAoIXByb3RlY3RlZEZpZWxkcykgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoYWNsR3JvdXAuaW5kZXhPZihxdWVyeS5vYmplY3RJZCkgPiAtMSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBmb3IgcXVlcmllcyB3aGVyZSBcImtleXNcIiBhcmUgc2V0IGFuZCBkbyBub3QgaW5jbHVkZSBhbGwgJ3VzZXJGaWVsZCc6e2ZpZWxkfSxcbiAgICAvLyB3ZSBoYXZlIHRvIHRyYW5zcGFyZW50bHkgaW5jbHVkZSBpdCwgYW5kIHRoZW4gcmVtb3ZlIGJlZm9yZSByZXR1cm5pbmcgdG8gY2xpZW50XG4gICAgLy8gQmVjYXVzZSBpZiBzdWNoIGtleSBub3QgcHJvamVjdGVkIHRoZSBwZXJtaXNzaW9uIHdvbid0IGJlIGVuZm9yY2VkIHByb3Blcmx5XG4gICAgLy8gUFMgdGhpcyBpcyBjYWxsZWQgd2hlbiAnZXhjbHVkZUtleXMnIGFscmVhZHkgcmVkdWNlZCB0byAna2V5cydcbiAgICBjb25zdCBwcmVzZXJ2ZUtleXMgPSBxdWVyeU9wdGlvbnMua2V5cztcblxuICAgIC8vIHRoZXNlIGFyZSBrZXlzIHRoYXQgbmVlZCB0byBiZSBpbmNsdWRlZCBvbmx5XG4gICAgLy8gdG8gYmUgYWJsZSB0byBhcHBseSBwcm90ZWN0ZWRGaWVsZHMgYnkgcG9pbnRlclxuICAgIC8vIGFuZCB0aGVuIHVuc2V0IGJlZm9yZSByZXR1cm5pbmcgdG8gY2xpZW50IChsYXRlciBpbiAgZmlsdGVyU2Vuc2l0aXZlRmllbGRzKVxuICAgIGNvbnN0IHNlcnZlck9ubHlLZXlzID0gW107XG5cbiAgICBjb25zdCBhdXRoZW50aWNhdGVkID0gYXV0aC51c2VyO1xuXG4gICAgLy8gbWFwIHRvIGFsbG93IGNoZWNrIHdpdGhvdXQgYXJyYXkgc2VhcmNoXG4gICAgY29uc3Qgcm9sZXMgPSAoYXV0aC51c2VyUm9sZXMgfHwgW10pLnJlZHVjZSgoYWNjLCByKSA9PiB7XG4gICAgICBhY2Nbcl0gPSBwcm90ZWN0ZWRGaWVsZHNbcl07XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcblxuICAgIC8vIGFycmF5IG9mIHNldHMgb2YgcHJvdGVjdGVkIGZpZWxkcy4gc2VwYXJhdGUgaXRlbSBmb3IgZWFjaCBhcHBsaWNhYmxlIGNyaXRlcmlhXG4gICAgY29uc3QgcHJvdGVjdGVkS2V5c1NldHMgPSBbXTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3RlY3RlZEZpZWxkcykge1xuICAgICAgLy8gc2tpcCB1c2VyRmllbGRzXG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ3VzZXJGaWVsZDonKSkge1xuICAgICAgICBpZiAocHJlc2VydmVLZXlzKSB7XG4gICAgICAgICAgY29uc3QgZmllbGROYW1lID0ga2V5LnN1YnN0cmluZygxMCk7XG4gICAgICAgICAgaWYgKCFwcmVzZXJ2ZUtleXMuaW5jbHVkZXMoZmllbGROYW1lKSkge1xuICAgICAgICAgICAgLy8gMS4gcHV0IGl0IHRoZXJlIHRlbXBvcmFyaWx5XG4gICAgICAgICAgICBxdWVyeU9wdGlvbnMua2V5cyAmJiBxdWVyeU9wdGlvbnMua2V5cy5wdXNoKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAvLyAyLiBwcmVzZXJ2ZSBpdCBkZWxldGUgbGF0ZXJcbiAgICAgICAgICAgIHNlcnZlck9ubHlLZXlzLnB1c2goZmllbGROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCBwdWJsaWMgdGllclxuICAgICAgaWYgKGtleSA9PT0gJyonKSB7XG4gICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocHJvdGVjdGVkRmllbGRzW2tleV0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2F1dGhlbnRpY2F0ZWQnKSB7XG4gICAgICAgICAgLy8gZm9yIGxvZ2dlZCBpbiB1c2Vyc1xuICAgICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocHJvdGVjdGVkRmllbGRzW2tleV0pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvbGVzW2tleV0gJiYga2V5LnN0YXJ0c1dpdGgoJ3JvbGU6JykpIHtcbiAgICAgICAgICAvLyBhZGQgYXBwbGljYWJsZSByb2xlc1xuICAgICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocm9sZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiB0aGVyZSdzIGEgcnVsZSBmb3IgY3VycmVudCB1c2VyJ3MgaWRcbiAgICBpZiAoYXV0aGVudGljYXRlZCkge1xuICAgICAgY29uc3QgdXNlcklkID0gYXV0aC51c2VyLmlkO1xuICAgICAgaWYgKHBlcm1zLnByb3RlY3RlZEZpZWxkc1t1c2VySWRdKSB7XG4gICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocGVybXMucHJvdGVjdGVkRmllbGRzW3VzZXJJZF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHByZXNlcnZlIGZpZWxkcyB0byBiZSByZW1vdmVkIGJlZm9yZSBzZW5kaW5nIHJlc3BvbnNlIHRvIGNsaWVudFxuICAgIGlmIChzZXJ2ZXJPbmx5S2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICBwZXJtcy5wcm90ZWN0ZWRGaWVsZHMudGVtcG9yYXJ5S2V5cyA9IHNlcnZlck9ubHlLZXlzO1xuICAgIH1cblxuICAgIGxldCBwcm90ZWN0ZWRLZXlzID0gcHJvdGVjdGVkS2V5c1NldHMucmVkdWNlKChhY2MsIG5leHQpID0+IHtcbiAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgIGFjYy5wdXNoKC4uLm5leHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSk7XG5cbiAgICAvLyBpbnRlcnNlY3QgYWxsIHNldHMgb2YgcHJvdGVjdGVkRmllbGRzXG4gICAgcHJvdGVjdGVkS2V5c1NldHMuZm9yRWFjaChmaWVsZHMgPT4ge1xuICAgICAgaWYgKGZpZWxkcykge1xuICAgICAgICBwcm90ZWN0ZWRLZXlzID0gcHJvdGVjdGVkS2V5cy5maWx0ZXIodiA9PiBmaWVsZHMuaW5jbHVkZXModikpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3RlY3RlZEtleXM7XG4gIH1cblxuICBjcmVhdGVUcmFuc2FjdGlvbmFsU2Vzc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmNyZWF0ZVRyYW5zYWN0aW9uYWxTZXNzaW9uKCkudGhlbih0cmFuc2FjdGlvbmFsU2Vzc2lvbiA9PiB7XG4gICAgICB0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvbiA9IHRyYW5zYWN0aW9uYWxTZXNzaW9uO1xuICAgIH0pO1xuICB9XG5cbiAgY29tbWl0VHJhbnNhY3Rpb25hbFNlc3Npb24oKSB7XG4gICAgaWYgKCF0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyB0cmFuc2FjdGlvbmFsIHNlc3Npb24gdG8gY29tbWl0Jyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuY29tbWl0VHJhbnNhY3Rpb25hbFNlc3Npb24odGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24gPSBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgYWJvcnRUcmFuc2FjdGlvbmFsU2Vzc2lvbigpIHtcbiAgICBpZiAoIXRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIHRyYW5zYWN0aW9uYWwgc2Vzc2lvbiB0byBhYm9ydCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmFib3J0VHJhbnNhY3Rpb25hbFNlc3Npb24odGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24gPSBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETzogY3JlYXRlIGluZGV4ZXMgb24gZmlyc3QgY3JlYXRpb24gb2YgYSBfVXNlciBvYmplY3QuIE90aGVyd2lzZSBpdCdzIGltcG9zc2libGUgdG9cbiAgLy8gaGF2ZSBhIFBhcnNlIGFwcCB3aXRob3V0IGl0IGhhdmluZyBhIF9Vc2VyIGNvbGxlY3Rpb24uXG4gIGFzeW5jIHBlcmZvcm1Jbml0aWFsaXphdGlvbigpIHtcbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXIucGVyZm9ybUluaXRpYWxpemF0aW9uKHtcbiAgICAgIFZvbGF0aWxlQ2xhc3Nlc1NjaGVtYXM6IFNjaGVtYUNvbnRyb2xsZXIuVm9sYXRpbGVDbGFzc2VzU2NoZW1hcyxcbiAgICB9KTtcbiAgICBjb25zdCByZXF1aXJlZFVzZXJGaWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fRGVmYXVsdCxcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fVXNlcixcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCByZXF1aXJlZFJvbGVGaWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fRGVmYXVsdCxcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fUm9sZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCByZXF1aXJlZElkZW1wb3RlbmN5RmllbGRzID0ge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIC4uLlNjaGVtYUNvbnRyb2xsZXIuZGVmYXVsdENvbHVtbnMuX0RlZmF1bHQsXG4gICAgICAgIC4uLlNjaGVtYUNvbnRyb2xsZXIuZGVmYXVsdENvbHVtbnMuX0lkZW1wb3RlbmN5LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGF3YWl0IHRoaXMubG9hZFNjaGVtYSgpLnRoZW4oc2NoZW1hID0+IHNjaGVtYS5lbmZvcmNlQ2xhc3NFeGlzdHMoJ19Vc2VyJykpO1xuICAgIGF3YWl0IHRoaXMubG9hZFNjaGVtYSgpLnRoZW4oc2NoZW1hID0+IHNjaGVtYS5lbmZvcmNlQ2xhc3NFeGlzdHMoJ19Sb2xlJykpO1xuICAgIGlmICh0aGlzLmFkYXB0ZXIgaW5zdGFuY2VvZiBNb25nb1N0b3JhZ2VBZGFwdGVyKSB7XG4gICAgICBhd2FpdCB0aGlzLmxvYWRTY2hlbWEoKS50aGVuKHNjaGVtYSA9PiBzY2hlbWEuZW5mb3JjZUNsYXNzRXhpc3RzKCdfSWRlbXBvdGVuY3knKSk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hZGFwdGVyLmVuc3VyZVVuaXF1ZW5lc3MoJ19Vc2VyJywgcmVxdWlyZWRVc2VyRmllbGRzLCBbJ3VzZXJuYW1lJ10pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gZW5zdXJlIHVuaXF1ZW5lc3MgZm9yIHVzZXJuYW1lczogJywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXJcbiAgICAgIC5lbnN1cmVJbmRleCgnX1VzZXInLCByZXF1aXJlZFVzZXJGaWVsZHMsIFsndXNlcm5hbWUnXSwgJ2Nhc2VfaW5zZW5zaXRpdmVfdXNlcm5hbWUnLCB0cnVlKVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBjcmVhdGUgY2FzZSBpbnNlbnNpdGl2ZSB1c2VybmFtZSBpbmRleDogJywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICAgIGF3YWl0IHRoaXMuYWRhcHRlclxuICAgICAgLmVuc3VyZUluZGV4KCdfVXNlcicsIHJlcXVpcmVkVXNlckZpZWxkcywgWyd1c2VybmFtZSddLCAnY2FzZV9pbnNlbnNpdGl2ZV91c2VybmFtZScsIHRydWUpXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBsb2dnZXIud2FybignVW5hYmxlIHRvIGNyZWF0ZSBjYXNlIGluc2Vuc2l0aXZlIHVzZXJuYW1lIGluZGV4OiAnLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXIuZW5zdXJlVW5pcXVlbmVzcygnX1VzZXInLCByZXF1aXJlZFVzZXJGaWVsZHMsIFsnZW1haWwnXSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgbG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBlbnN1cmUgdW5pcXVlbmVzcyBmb3IgdXNlciBlbWFpbCBhZGRyZXNzZXM6ICcsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5hZGFwdGVyXG4gICAgICAuZW5zdXJlSW5kZXgoJ19Vc2VyJywgcmVxdWlyZWRVc2VyRmllbGRzLCBbJ2VtYWlsJ10sICdjYXNlX2luc2Vuc2l0aXZlX2VtYWlsJywgdHJ1ZSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gY3JlYXRlIGNhc2UgaW5zZW5zaXRpdmUgZW1haWwgaW5kZXg6ICcsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcblxuICAgIGF3YWl0IHRoaXMuYWRhcHRlci5lbnN1cmVVbmlxdWVuZXNzKCdfUm9sZScsIHJlcXVpcmVkUm9sZUZpZWxkcywgWyduYW1lJ10pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gZW5zdXJlIHVuaXF1ZW5lc3MgZm9yIHJvbGUgbmFtZTogJywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuYWRhcHRlciBpbnN0YW5jZW9mIE1vbmdvU3RvcmFnZUFkYXB0ZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMuYWRhcHRlclxuICAgICAgICAuZW5zdXJlVW5pcXVlbmVzcygnX0lkZW1wb3RlbmN5JywgcmVxdWlyZWRJZGVtcG90ZW5jeUZpZWxkcywgWydyZXFJZCddKVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gZW5zdXJlIHVuaXF1ZW5lc3MgZm9yIGlkZW1wb3RlbmN5IHJlcXVlc3QgSUQ6ICcsIGVycm9yKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHRoaXMuYWRhcHRlclxuICAgICAgICAuZW5zdXJlSW5kZXgoJ19JZGVtcG90ZW5jeScsIHJlcXVpcmVkSWRlbXBvdGVuY3lGaWVsZHMsIFsnZXhwaXJlJ10sICd0dGwnLCBmYWxzZSwge1xuICAgICAgICAgIHR0bDogMCxcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBsb2dnZXIud2FybignVW5hYmxlIHRvIGNyZWF0ZSBUVEwgaW5kZXggZm9yIGlkZW1wb3RlbmN5IGV4cGlyZSBkYXRlOiAnLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXIudXBkYXRlU2NoZW1hV2l0aEluZGV4ZXMoKTtcbiAgfVxuXG4gIHN0YXRpYyBfdmFsaWRhdGVRdWVyeTogYW55ID0+IHZvaWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YWJhc2VDb250cm9sbGVyO1xuLy8gRXhwb3NlIHZhbGlkYXRlUXVlcnkgZm9yIHRlc3RzXG5tb2R1bGUuZXhwb3J0cy5fdmFsaWRhdGVRdWVyeSA9IHZhbGlkYXRlUXVlcnk7XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Db250cm9sbGVycy9EYXRhYmFzZUNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsibmV3UXVlcnkiLCJBQ0wiLCJyZXN1bHQiLCJpc1NwZWNpYWxRdWVyeUtleSIsImtleSIsIlBhcnNlIiwiRXJyb3IiLCJxdWVyeSIsIk9iamVjdCIsIiRvcHRpb25zIiwibWF0Y2giLCJ1c2VySWQiLCJwZXJtcyIsInNjaGVtYSIsImdldENsYXNzTGV2ZWxQZXJtaXNzaW9ucyIsImlzUmVhZE9wZXJhdGlvbiIsInByb3RlY3RlZEZpZWxkcyIsInByb3RlY3RlZEZpZWxkc1BvaW50ZXJQZXJtIiwidmFsdWUiLCJmb3JFYWNoIiwicG9pbnRlclBlcm0iLCJwb2ludGVyUGVybUluY2x1ZGVzVXNlciIsInJlYWRVc2VyRmllbGRWYWx1ZSIsIm9iamVjdElkIiwibmV3UHJvdGVjdGVkRmllbGRzIiwib2JqZWN0Iiwic2Vzc2lvblRva2VuIiwiYWNsR3JvdXAiLCJpbmRleE9mIiwiaXNTcGVjaWFsVXBkYXRlS2V5IiwibmV4dFBhdGgiLCJwYXRoIiwiZmlyc3RLZXkiLCJleHBhbmRSZXN1bHRPbktleVBhdGgiLCJzYW5pdGl6ZURhdGFiYXNlUmVzdWx0Iiwia2V5VXBkYXRlIiwiZmxhdHRlblVwZGF0ZU9wZXJhdG9yc0ZvckNyZWF0ZSIsIm9iamVjdHMiLCJwcm92aWRlciIsInByb3ZpZGVyRGF0YSIsIl9fb3AiLCJvdXRwdXQiLCJfd3Blcm0iLCJyZWxhdGlvblNjaGVtYSIsImZpZWxkcyIsInJlbGF0ZWRJZCIsIm93bmluZ0lkIiwidHlwZSIsInNjaGVtYVByb21pc2UiLCJjb2xsZWN0aW9uRXhpc3RzIiwicHVyZ2VDb2xsZWN0aW9uIiwiY2xhc3NOYW1lIiwibG9hZFNjaGVtYSIsInZhbGlkYXRlQ2xhc3NOYW1lIiwiU2NoZW1hQ29udHJvbGxlciIsImNsYXNzTmFtZUlzVmFsaWQiLCJyZXNvbHZlIiwib3B0aW9ucyIsImNsZWFyQ2FjaGUiLCJsb2FkU2NoZW1hSWZOZWVkZWQiLCJzY2hlbWFDb250cm9sbGVyIiwicmVkaXJlY3RDbGFzc05hbWVGb3JLZXkiLCJ2YWxpZGF0ZU9iamVjdCIsIlByb21pc2UiLCJ1cGRhdGUiLCJhZGRzRmllbGQiLCJyZWxhdGlvblVwZGF0ZXMiLCJpc01hc3RlciIsInVuZGVmaW5lZCIsImFkZFBvaW50ZXJQZXJtaXNzaW9ucyIsIiRhbmQiLCJhY2wiLCJhZGRXcml0ZUFDTCIsInZhbGlkYXRlUXVlcnkiLCJyb290RmllbGROYW1lIiwidXBkYXRlT3BlcmF0aW9uIiwidHJhbnNmb3JtT2JqZWN0QUNMIiwidHJhbnNmb3JtQXV0aERhdGEiLCJ2YWxpZGF0ZU9ubHkiLCJza2lwU2FuaXRpemF0aW9uIiwiY29sbGVjdFJlbGF0aW9uVXBkYXRlcyIsInByb2Nlc3MiLCJvcCIsIm9wcyIsImRlbGV0ZU1lIiwiaGFuZGxlUmVsYXRpb25VcGRhdGVzIiwicGVuZGluZyIsImFkZFJlbGF0aW9uIiwicmVtb3ZlUmVsYXRpb24iLCJlcnJvciIsImRlc3Ryb3kiLCJjcmVhdGUiLCJvcmlnaW5hbE9iamVjdCIsIl9fdHlwZSIsImlzbyIsImNhbkFkZEZpZWxkIiwic2NoZW1hRmllbGRzIiwiZ2V0Um9vdEZpZWxkTmFtZSIsImZpZWxkIiwicnVuT3B0aW9ucyIsInZhbGlkYXRlUGVybWlzc2lvbiIsImRlbGV0ZUV2ZXJ5dGhpbmciLCJyZWxhdGVkSWRzIiwic29ydCIsImZpbmRPcHRpb25zIiwiX2lkIiwiY3JlYXRlZEF0IiwibGltaXQiLCJxdWVyeU9wdGlvbnMiLCJhZGFwdGVyIiwib3duaW5nSWRzIiwia2V5cyIsInRoZW4iLCJyZWR1Y2VJblJlbGF0aW9uIiwicHJvbWlzZXMiLCJxdWVyaWVzIiwiaXNOZWdhdGlvbiIsImNvbnN0cmFpbnRLZXkiLCJhZGRJbk9iamVjdElkc0lkcyIsImFsbCIsInJlZHVjZVJlbGF0aW9uS2V5cyIsInJlbGF0ZWRUbyIsImlkcyIsImFsbElkcyIsImlkc0Zyb21TdHJpbmciLCJpZHNGcm9tRXEiLCJmaWx0ZXIiLCJsaXN0IiwidG90YWxMZW5ndGgiLCJtZW1vIiwibGVuZ3RoIiwiaWRzSW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0IiwiJGluIiwiYWRkTm90SW5PYmplY3RJZHNJZHMiLCJTZXQiLCIkbmluIiwiZmluZCIsImRpc3RpbmN0IiwiZXhwbGFpbiIsImNvdW50IiwiY2xhc3NFeGlzdHMiLCJ2YWxpZFNjaGVtYUNvbnRyb2xsZXIiLCJfY3JlYXRlZF9hdCIsInVwZGF0ZWRBdCIsImZpbHRlclNlbnNpdGl2ZURhdGEiLCJJTlRFUk5BTF9TRVJWRVJfRVJST1IiLCJkZWxldGVTY2hlbWEiLCJ3YXNQYXJzZUNvbGxlY3Rpb24iLCJTY2hlbWFDYWNoZSIsInJlbG9hZERhdGEiLCJvYmplY3RUb0VudHJpZXNTdHJpbmdzIiwicmVkdWNlT3JPcGVyYXRpb24iLCJyZXBlYXQiLCJzaG9ydGVyRW50cmllcyIsInNob3J0ZXIiLCJmb3VuZEVudHJpZXMiLCJyZWR1Y2VBbmRPcGVyYXRpb24iLCJ1c2VyQUNMIiwiZ3JvdXBLZXkiLCJwZXJtRmllbGRzIiwicHVzaCIsInBvaW50ZXJGaWVsZHMiLCJmaWVsZERlc2NyaXB0b3IiLCJmaWVsZFR5cGUiLCJxdWVyeUNsYXVzZSIsIiRhbGwiLCJwcm90b3R5cGUiLCJhZGRQcm90ZWN0ZWRGaWVsZHMiLCJzZXJ2ZXJPbmx5S2V5cyIsImFjYyIsInByb3RlY3RlZEtleXNTZXRzIiwiZmllbGROYW1lIiwicHJlc2VydmVLZXlzIiwicHJvdGVjdGVkS2V5cyIsIm5leHQiLCJjcmVhdGVUcmFuc2FjdGlvbmFsU2Vzc2lvbiIsImNvbW1pdFRyYW5zYWN0aW9uYWxTZXNzaW9uIiwiX3RyYW5zYWN0aW9uYWxTZXNzaW9uIiwiYWJvcnRUcmFuc2FjdGlvbmFsU2Vzc2lvbiIsInBlcmZvcm1Jbml0aWFsaXphdGlvbiIsInJlcXVpcmVkVXNlckZpZWxkcyIsImxvZ2dlciIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IjtnSEFLQSxLQUFBLENBQUEsZUFBQSxDQUFBLElBQUEsQ0FFQSxHQUFBLENBQUEsS0FBQSx5QkFBQSxPQUFBLENBQUEsWUFBQSxDQUFBLENBQUEsQ0FFQSxHQUFBLENBQUEsT0FBQSx5QkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxRQUFBLENBQUEsQ0FBQSxDQUFBLENBRUEsR0FBQSxDQUFBLFVBQUEseUJBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsV0FBQSxDQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxTQUFBLHlCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLENBQUEsQ0FDQSxHQUFBLENBQUEsT0FBQSx5QkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxXQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLGdCQUFBLHlCQUFBLHVCQUFBLENBQUEsT0FBQSxDQUFBLG9CQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLGVBQUEseUJBQUEsT0FBQSxDQUFBLG9DQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxvQkFBQSx5QkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSwrQ0FBQSxDQUFBLENBQUEsQ0FBQSxDLG80TEFJQSxRQUFBLENBQUEsNkJBQUEsQ0FBaUMsTUFBakMsQ0FBaUMsUUFBakMsQ0FBaUMsaURBQUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxDQUFBLDBEQUFBLEVBQUEsQ0FBQSxDQUFBLGlDQUFBLEdBQUEsQ0FBQSxNQUFBLDBCQUFBLEVBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxVQUFBLDBCQUFBLE1BQUEsQ0FBQSxJQUFBLENBQUEsTUFBQSxDQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsQ0FBQSx3QkFBQSxJQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FBQSxNQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEseUJBQUEsR0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSx3QkFBQSxHQUFBLFFBQUEsQ0FBQSxPQUFBLENBQUEsR0FBQSxHQUFBLENBQUEs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S0FBQSxDQUtGQSxDQVpKLENBQUEsQ0FJSSx5QixnR0FTQSxHQUFBLENBQUEsQyxHQU5KLEssQ0FBQSxLQUFBLEVBQUEsbURBUUQsT0FBQSxDQUFBLE9BQUEsQ0FBQSxJQUFBLENBQUEsMERBQUEsQ0FBQSxLQUFBLEVBUkMseUJBU0YsS0FBQSxDQUFBLEtBQUEsQ0FDRCxDLEdBYk8sa0NBL0RxQix5Qiw2Q0FpRi9CQyxDQTUxQ0ksQyIsInNvdXJjZXNDb250ZW50IjpbIu+7vy8vIEBmbG93XG4vLyBBIGRhdGFiYXNlIGFkYXB0ZXIgdGhhdCB3b3JrcyB3aXRoIGRhdGEgZXhwb3J0ZWQgZnJvbSB0aGUgaG9zdGVkXG4vLyBQYXJzZSBkYXRhYmFzZS5cblxuLy8gQGZsb3ctZGlzYWJsZS1uZXh0XG5pbXBvcnQgeyBQYXJzZSB9IGZyb20gJ3BhcnNlL25vZGUnO1xuLy8gQGZsb3ctZGlzYWJsZS1uZXh0XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuLy8gQGZsb3ctZGlzYWJsZS1uZXh0XG5pbXBvcnQgaW50ZXJzZWN0IGZyb20gJ2ludGVyc2VjdCc7XG4vLyBAZmxvdy1kaXNhYmxlLW5leHRcbmltcG9ydCBkZWVwY29weSBmcm9tICdkZWVwY29weSc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgKiBhcyBTY2hlbWFDb250cm9sbGVyIGZyb20gJy4vU2NoZW1hQ29udHJvbGxlcic7XG5pbXBvcnQgeyBTdG9yYWdlQWRhcHRlciB9IGZyb20gJy4uL0FkYXB0ZXJzL1N0b3JhZ2UvU3RvcmFnZUFkYXB0ZXInO1xuaW1wb3J0IE1vbmdvU3RvcmFnZUFkYXB0ZXIgZnJvbSAnLi4vQWRhcHRlcnMvU3RvcmFnZS9Nb25nby9Nb25nb1N0b3JhZ2VBZGFwdGVyJztcbmltcG9ydCBTY2hlbWFDYWNoZSBmcm9tICcuLi9BZGFwdGVycy9DYWNoZS9TY2hlbWFDYWNoZSc7XG5pbXBvcnQgdHlwZSB7IExvYWRTY2hlbWFPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFF1ZXJ5T3B0aW9ucywgRnVsbFF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4uL0FkYXB0ZXJzL1N0b3JhZ2UvU3RvcmFnZUFkYXB0ZXInO1xuXG5mdW5jdGlvbiBhZGRXcml0ZUFDTChxdWVyeSwgYWNsKSB7XG4gIGNvbnN0IG5ld1F1ZXJ5ID0gXy5jbG9uZURlZXAocXVlcnkpO1xuICAvL0Nhbid0IGJlIGFueSBleGlzdGluZyAnX3dwZXJtJyBxdWVyeSwgd2UgZG9uJ3QgYWxsb3cgY2xpZW50IHF1ZXJpZXMgb24gdGhhdCwgbm8gbmVlZCB0byAkYW5kXG4gIG5ld1F1ZXJ5Ll93cGVybSA9IHsgJGluOiBbbnVsbCwgLi4uYWNsXSB9O1xuICByZXR1cm4gbmV3UXVlcnk7XG59XG5cbmZ1bmN0aW9uIGFkZFJlYWRBQ0wocXVlcnksIGFjbCkge1xuICBjb25zdCBuZXdRdWVyeSA9IF8uY2xvbmVEZWVwKHF1ZXJ5KTtcbiAgLy9DYW4ndCBiZSBhbnkgZXhpc3RpbmcgJ19ycGVybScgcXVlcnksIHdlIGRvbid0IGFsbG93IGNsaWVudCBxdWVyaWVzIG9uIHRoYXQsIG5vIG5lZWQgdG8gJGFuZFxuICBuZXdRdWVyeS5fcnBlcm0gPSB7ICRpbjogW251bGwsICcqJywgLi4uYWNsXSB9O1xuICByZXR1cm4gbmV3UXVlcnk7XG59XG5cbi8vIFRyYW5zZm9ybXMgYSBSRVNUIEFQSSBmb3JtYXR0ZWQgQUNMIG9iamVjdCB0byBvdXIgdHdvLWZpZWxkIG1vbmdvIGZvcm1hdC5cbmNvbnN0IHRyYW5zZm9ybU9iamVjdEFDTCA9ICh7IEFDTCwgLi4ucmVzdWx0IH0pID0+IHtcbiAgaWYgKCFBQ0wpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmVzdWx0Ll93cGVybSA9IFtdO1xuICByZXN1bHQuX3JwZXJtID0gW107XG5cbiAgZm9yIChjb25zdCBlbnRyeSBpbiBBQ0wpIHtcbiAgICBpZiAoQUNMW2VudHJ5XS5yZWFkKSB7XG4gICAgICByZXN1bHQuX3JwZXJtLnB1c2goZW50cnkpO1xuICAgIH1cbiAgICBpZiAoQUNMW2VudHJ5XS53cml0ZSkge1xuICAgICAgcmVzdWx0Ll93cGVybS5wdXNoKGVudHJ5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IHNwZWNpYWxRdWVyeWtleXMgPSBbXG4gICckYW5kJyxcbiAgJyRvcicsXG4gICckbm9yJyxcbiAgJ19ycGVybScsXG4gICdfd3Blcm0nLFxuICAnX3BlcmlzaGFibGVfdG9rZW4nLFxuICAnX2VtYWlsX3ZlcmlmeV90b2tlbicsXG4gICdfZW1haWxfdmVyaWZ5X3Rva2VuX2V4cGlyZXNfYXQnLFxuICAnX2FjY291bnRfbG9ja291dF9leHBpcmVzX2F0JyxcbiAgJ19mYWlsZWRfbG9naW5fY291bnQnLFxuXTtcblxuY29uc3QgaXNTcGVjaWFsUXVlcnlLZXkgPSBrZXkgPT4ge1xuICByZXR1cm4gc3BlY2lhbFF1ZXJ5a2V5cy5pbmRleE9mKGtleSkgPj0gMDtcbn07XG5cbmNvbnN0IHZhbGlkYXRlUXVlcnkgPSAocXVlcnk6IGFueSk6IHZvaWQgPT4ge1xuICBpZiAocXVlcnkuQUNMKSB7XG4gICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfUVVFUlksICdDYW5ub3QgcXVlcnkgb24gQUNMLicpO1xuICB9XG5cbiAgaWYgKHF1ZXJ5LiRvcikge1xuICAgIGlmIChxdWVyeS4kb3IgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcXVlcnkuJG9yLmZvckVhY2godmFsaWRhdGVRdWVyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLCAnQmFkICRvciBmb3JtYXQgLSB1c2UgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHF1ZXJ5LiRhbmQpIHtcbiAgICBpZiAocXVlcnkuJGFuZCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBxdWVyeS4kYW5kLmZvckVhY2godmFsaWRhdGVRdWVyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLCAnQmFkICRhbmQgZm9ybWF0IC0gdXNlIGFuIGFycmF5IHZhbHVlLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChxdWVyeS4kbm9yKSB7XG4gICAgaWYgKHF1ZXJ5LiRub3IgaW5zdGFuY2VvZiBBcnJheSAmJiBxdWVyeS4kbm9yLmxlbmd0aCA+IDApIHtcbiAgICAgIHF1ZXJ5LiRub3IuZm9yRWFjaCh2YWxpZGF0ZVF1ZXJ5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLFxuICAgICAgICAnQmFkICRub3IgZm9ybWF0IC0gdXNlIGFuIGFycmF5IG9mIGF0IGxlYXN0IDEgdmFsdWUuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhxdWVyeSkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChxdWVyeSAmJiBxdWVyeVtrZXldICYmIHF1ZXJ5W2tleV0uJHJlZ2V4KSB7XG4gICAgICBpZiAodHlwZW9mIHF1ZXJ5W2tleV0uJG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghcXVlcnlba2V5XS4kb3B0aW9ucy5tYXRjaCgvXltpbXhzXSskLykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX1FVRVJZLFxuICAgICAgICAgICAgYEJhZCAkb3B0aW9ucyB2YWx1ZSBmb3IgcXVlcnk6ICR7cXVlcnlba2V5XS4kb3B0aW9uc31gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzU3BlY2lhbFF1ZXJ5S2V5KGtleSkgJiYgIWtleS5tYXRjaCgvXlthLXpBLVpdW2EtekEtWjAtOV9cXC5dKiQvKSkge1xuICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsIGBJbnZhbGlkIGtleSBuYW1lOiAke2tleX1gKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gRmlsdGVycyBvdXQgYW55IGRhdGEgdGhhdCBzaG91bGRuJ3QgYmUgb24gdGhpcyBSRVNULWZvcm1hdHRlZCBvYmplY3QuXG5jb25zdCBmaWx0ZXJTZW5zaXRpdmVEYXRhID0gKFxuICBpc01hc3RlcjogYm9vbGVhbixcbiAgYWNsR3JvdXA6IGFueVtdLFxuICBhdXRoOiBhbnksXG4gIG9wZXJhdGlvbjogYW55LFxuICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHByb3RlY3RlZEZpZWxkczogbnVsbCB8IEFycmF5PGFueT4sXG4gIG9iamVjdDogYW55XG4pID0+IHtcbiAgbGV0IHVzZXJJZCA9IG51bGw7XG4gIGlmIChhdXRoICYmIGF1dGgudXNlcikgdXNlcklkID0gYXV0aC51c2VyLmlkO1xuXG4gIC8vIHJlcGxhY2UgcHJvdGVjdGVkRmllbGRzIHdoZW4gdXNpbmcgcG9pbnRlci1wZXJtaXNzaW9uc1xuICBjb25zdCBwZXJtcyA9IHNjaGVtYS5nZXRDbGFzc0xldmVsUGVybWlzc2lvbnMoY2xhc3NOYW1lKTtcbiAgaWYgKHBlcm1zKSB7XG4gICAgY29uc3QgaXNSZWFkT3BlcmF0aW9uID0gWydnZXQnLCAnZmluZCddLmluZGV4T2Yob3BlcmF0aW9uKSA+IC0xO1xuXG4gICAgaWYgKGlzUmVhZE9wZXJhdGlvbiAmJiBwZXJtcy5wcm90ZWN0ZWRGaWVsZHMpIHtcbiAgICAgIC8vIGV4dHJhY3QgcHJvdGVjdGVkRmllbGRzIGFkZGVkIHdpdGggdGhlIHBvaW50ZXItcGVybWlzc2lvbiBwcmVmaXhcbiAgICAgIGNvbnN0IHByb3RlY3RlZEZpZWxkc1BvaW50ZXJQZXJtID0gT2JqZWN0LmtleXMocGVybXMucHJvdGVjdGVkRmllbGRzKVxuICAgICAgICAuZmlsdGVyKGtleSA9PiBrZXkuc3RhcnRzV2l0aCgndXNlckZpZWxkOicpKVxuICAgICAgICAubWFwKGtleSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsga2V5OiBrZXkuc3Vic3RyaW5nKDEwKSwgdmFsdWU6IHBlcm1zLnByb3RlY3RlZEZpZWxkc1trZXldIH07XG4gICAgICAgIH0pO1xuXG4gICAgICBjb25zdCBuZXdQcm90ZWN0ZWRGaWVsZHM6IEFycmF5PHN0cmluZz5bXSA9IFtdO1xuICAgICAgbGV0IG92ZXJyaWRlUHJvdGVjdGVkRmllbGRzID0gZmFsc2U7XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBvYmplY3QgZ3JhbnRzIHRoZSBjdXJyZW50IHVzZXIgYWNjZXNzIGJhc2VkIG9uIHRoZSBleHRyYWN0ZWQgZmllbGRzXG4gICAgICBwcm90ZWN0ZWRGaWVsZHNQb2ludGVyUGVybS5mb3JFYWNoKHBvaW50ZXJQZXJtID0+IHtcbiAgICAgICAgbGV0IHBvaW50ZXJQZXJtSW5jbHVkZXNVc2VyID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlYWRVc2VyRmllbGRWYWx1ZSA9IG9iamVjdFtwb2ludGVyUGVybS5rZXldO1xuICAgICAgICBpZiAocmVhZFVzZXJGaWVsZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVhZFVzZXJGaWVsZFZhbHVlKSkge1xuICAgICAgICAgICAgcG9pbnRlclBlcm1JbmNsdWRlc1VzZXIgPSByZWFkVXNlckZpZWxkVmFsdWUuc29tZShcbiAgICAgICAgICAgICAgdXNlciA9PiB1c2VyLm9iamVjdElkICYmIHVzZXIub2JqZWN0SWQgPT09IHVzZXJJZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRlclBlcm1JbmNsdWRlc1VzZXIgPVxuICAgICAgICAgICAgICByZWFkVXNlckZpZWxkVmFsdWUub2JqZWN0SWQgJiYgcmVhZFVzZXJGaWVsZFZhbHVlLm9iamVjdElkID09PSB1c2VySWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ZXJQZXJtSW5jbHVkZXNVc2VyKSB7XG4gICAgICAgICAgb3ZlcnJpZGVQcm90ZWN0ZWRGaWVsZHMgPSB0cnVlO1xuICAgICAgICAgIG5ld1Byb3RlY3RlZEZpZWxkcy5wdXNoKHBvaW50ZXJQZXJtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGlmIGF0IGxlYXN0IG9uZSBwb2ludGVyLXBlcm1pc3Npb24gYWZmZWN0ZWQgdGhlIGN1cnJlbnQgdXNlclxuICAgICAgLy8gaW50ZXJzZWN0IHZzIHByb3RlY3RlZEZpZWxkcyBmcm9tIHByZXZpb3VzIHN0YWdlIChAc2VlIGFkZFByb3RlY3RlZEZpZWxkcylcbiAgICAgIC8vIFNldHMgdGhlb3J5IChpbnRlcnNlY3Rpb25zKTogQSB4IChCIHggQykgPT0gKEEgeCBCKSB4IENcbiAgICAgIGlmIChvdmVycmlkZVByb3RlY3RlZEZpZWxkcyAmJiBwcm90ZWN0ZWRGaWVsZHMpIHtcbiAgICAgICAgbmV3UHJvdGVjdGVkRmllbGRzLnB1c2gocHJvdGVjdGVkRmllbGRzKTtcbiAgICAgIH1cbiAgICAgIC8vIGludGVyc2VjdCBhbGwgc2V0cyBvZiBwcm90ZWN0ZWRGaWVsZHNcbiAgICAgIG5ld1Byb3RlY3RlZEZpZWxkcy5mb3JFYWNoKGZpZWxkcyA9PiB7XG4gICAgICAgIGlmIChmaWVsZHMpIHtcbiAgICAgICAgICAvLyBpZiB0aGVyZSdyZSBubyBwcm90Y3RlZEZpZWxkcyBieSBvdGhlciBjcml0ZXJpYSAoIGlkIC8gcm9sZSAvIGF1dGgpXG4gICAgICAgICAgLy8gdGhlbiB3ZSBtdXN0IGludGVyc2VjdCBlYWNoIHNldCAocGVyIHVzZXJGaWVsZClcbiAgICAgICAgICBpZiAoIXByb3RlY3RlZEZpZWxkcykge1xuICAgICAgICAgICAgcHJvdGVjdGVkRmllbGRzID0gZmllbGRzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm90ZWN0ZWRGaWVsZHMgPSBwcm90ZWN0ZWRGaWVsZHMuZmlsdGVyKHYgPT4gZmllbGRzLmluY2x1ZGVzKHYpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzVXNlckNsYXNzID0gY2xhc3NOYW1lID09PSAnX1VzZXInO1xuXG4gIC8qIHNwZWNpYWwgdHJlYXQgZm9yIHRoZSB1c2VyIGNsYXNzOiBkb24ndCBmaWx0ZXIgcHJvdGVjdGVkRmllbGRzIGlmIGN1cnJlbnRseSBsb2dnZWRpbiB1c2VyIGlzXG4gIHRoZSByZXRyaWV2ZWQgdXNlciAqL1xuICBpZiAoIShpc1VzZXJDbGFzcyAmJiB1c2VySWQgJiYgb2JqZWN0Lm9iamVjdElkID09PSB1c2VySWQpKSB7XG4gICAgcHJvdGVjdGVkRmllbGRzICYmIHByb3RlY3RlZEZpZWxkcy5mb3JFYWNoKGsgPT4gZGVsZXRlIG9iamVjdFtrXSk7XG5cbiAgICAvLyBmaWVsZHMgbm90IHJlcXVlc3RlZCBieSBjbGllbnQgKGV4Y2x1ZGVkKSxcbiAgICAvL2J1dCB3ZXJlIG5lZWRlZCB0byBhcHBseSBwcm90ZWN0dGVkRmllbGRzXG4gICAgcGVybXMucHJvdGVjdGVkRmllbGRzICYmXG4gICAgICBwZXJtcy5wcm90ZWN0ZWRGaWVsZHMudGVtcG9yYXJ5S2V5cyAmJlxuICAgICAgcGVybXMucHJvdGVjdGVkRmllbGRzLnRlbXBvcmFyeUtleXMuZm9yRWFjaChrID0+IGRlbGV0ZSBvYmplY3Rba10pO1xuICB9XG5cbiAgaWYgKCFpc1VzZXJDbGFzcykge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBvYmplY3QucGFzc3dvcmQgPSBvYmplY3QuX2hhc2hlZF9wYXNzd29yZDtcbiAgZGVsZXRlIG9iamVjdC5faGFzaGVkX3Bhc3N3b3JkO1xuXG4gIGRlbGV0ZSBvYmplY3Quc2Vzc2lvblRva2VuO1xuXG4gIGlmIChpc01hc3Rlcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgZGVsZXRlIG9iamVjdC5fZW1haWxfdmVyaWZ5X3Rva2VuO1xuICBkZWxldGUgb2JqZWN0Ll9wZXJpc2hhYmxlX3Rva2VuO1xuICBkZWxldGUgb2JqZWN0Ll9wZXJpc2hhYmxlX3Rva2VuX2V4cGlyZXNfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX3RvbWJzdG9uZTtcbiAgZGVsZXRlIG9iamVjdC5fZW1haWxfdmVyaWZ5X3Rva2VuX2V4cGlyZXNfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX2ZhaWxlZF9sb2dpbl9jb3VudDtcbiAgZGVsZXRlIG9iamVjdC5fYWNjb3VudF9sb2Nrb3V0X2V4cGlyZXNfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX3Bhc3N3b3JkX2NoYW5nZWRfYXQ7XG4gIGRlbGV0ZSBvYmplY3QuX3Bhc3N3b3JkX2hpc3Rvcnk7XG5cbiAgaWYgKGFjbEdyb3VwLmluZGV4T2Yob2JqZWN0Lm9iamVjdElkKSA+IC0xKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBkZWxldGUgb2JqZWN0LmF1dGhEYXRhO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuLy8gUnVucyBhbiB1cGRhdGUgb24gdGhlIGRhdGFiYXNlLlxuLy8gUmV0dXJucyBhIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBuZXcgdmFsdWVzIGZvciBmaWVsZFxuLy8gbW9kaWZpY2F0aW9ucyB0aGF0IGRvbid0IGtub3cgdGhlaXIgcmVzdWx0cyBhaGVhZCBvZiB0aW1lLCBsaWtlXG4vLyAnaW5jcmVtZW50Jy5cbi8vIE9wdGlvbnM6XG4vLyAgIGFjbDogIGEgbGlzdCBvZiBzdHJpbmdzLiBJZiB0aGUgb2JqZWN0IHRvIGJlIHVwZGF0ZWQgaGFzIGFuIEFDTCxcbi8vICAgICAgICAgb25lIG9mIHRoZSBwcm92aWRlZCBzdHJpbmdzIG11c3QgcHJvdmlkZSB0aGUgY2FsbGVyIHdpdGhcbi8vICAgICAgICAgd3JpdGUgcGVybWlzc2lvbnMuXG5jb25zdCBzcGVjaWFsS2V5c0ZvclVwZGF0ZSA9IFtcbiAgJ19oYXNoZWRfcGFzc3dvcmQnLFxuICAnX3BlcmlzaGFibGVfdG9rZW4nLFxuICAnX2VtYWlsX3ZlcmlmeV90b2tlbicsXG4gICdfZW1haWxfdmVyaWZ5X3Rva2VuX2V4cGlyZXNfYXQnLFxuICAnX2FjY291bnRfbG9ja291dF9leHBpcmVzX2F0JyxcbiAgJ19mYWlsZWRfbG9naW5fY291bnQnLFxuICAnX3BlcmlzaGFibGVfdG9rZW5fZXhwaXJlc19hdCcsXG4gICdfcGFzc3dvcmRfY2hhbmdlZF9hdCcsXG4gICdfcGFzc3dvcmRfaGlzdG9yeScsXG5dO1xuXG5jb25zdCBpc1NwZWNpYWxVcGRhdGVLZXkgPSBrZXkgPT4ge1xuICByZXR1cm4gc3BlY2lhbEtleXNGb3JVcGRhdGUuaW5kZXhPZihrZXkpID49IDA7XG59O1xuXG5mdW5jdGlvbiBleHBhbmRSZXN1bHRPbktleVBhdGgob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkuaW5kZXhPZignLicpIDwgMCkge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWVba2V5XTtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG4gIGNvbnN0IHBhdGggPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgZmlyc3RLZXkgPSBwYXRoWzBdO1xuICBjb25zdCBuZXh0UGF0aCA9IHBhdGguc2xpY2UoMSkuam9pbignLicpO1xuICBvYmplY3RbZmlyc3RLZXldID0gZXhwYW5kUmVzdWx0T25LZXlQYXRoKG9iamVjdFtmaXJzdEtleV0gfHwge30sIG5leHRQYXRoLCB2YWx1ZVtmaXJzdEtleV0pO1xuICBkZWxldGUgb2JqZWN0W2tleV07XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplRGF0YWJhc2VSZXN1bHQob3JpZ2luYWxPYmplY3QsIHJlc3VsdCk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0ge307XG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gIH1cbiAgT2JqZWN0LmtleXMob3JpZ2luYWxPYmplY3QpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCBrZXlVcGRhdGUgPSBvcmlnaW5hbE9iamVjdFtrZXldO1xuICAgIC8vIGRldGVybWluZSBpZiB0aGF0IHdhcyBhbiBvcFxuICAgIGlmIChcbiAgICAgIGtleVVwZGF0ZSAmJlxuICAgICAgdHlwZW9mIGtleVVwZGF0ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIGtleVVwZGF0ZS5fX29wICYmXG4gICAgICBbJ0FkZCcsICdBZGRVbmlxdWUnLCAnUmVtb3ZlJywgJ0luY3JlbWVudCddLmluZGV4T2Yoa2V5VXBkYXRlLl9fb3ApID4gLTFcbiAgICApIHtcbiAgICAgIC8vIG9ubHkgdmFsaWQgb3BzIHRoYXQgcHJvZHVjZSBhbiBhY3Rpb25hYmxlIHJlc3VsdFxuICAgICAgLy8gdGhlIG9wIG1heSBoYXZlIGhhcHBlbmQgb24gYSBrZXlwYXRoXG4gICAgICBleHBhbmRSZXN1bHRPbktleVBhdGgocmVzcG9uc2UsIGtleSwgcmVzdWx0KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbn1cblxuZnVuY3Rpb24gam9pblRhYmxlTmFtZShjbGFzc05hbWUsIGtleSkge1xuICByZXR1cm4gYF9Kb2luOiR7a2V5fToke2NsYXNzTmFtZX1gO1xufVxuXG5jb25zdCBmbGF0dGVuVXBkYXRlT3BlcmF0b3JzRm9yQ3JlYXRlID0gb2JqZWN0ID0+IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdFtrZXldICYmIG9iamVjdFtrZXldLl9fb3ApIHtcbiAgICAgIHN3aXRjaCAob2JqZWN0W2tleV0uX19vcCkge1xuICAgICAgICBjYXNlICdJbmNyZW1lbnQnOlxuICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0W2tleV0uYW1vdW50ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfSlNPTiwgJ29iamVjdHMgdG8gYWRkIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSBvYmplY3Rba2V5XS5hbW91bnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FkZCc6XG4gICAgICAgICAgaWYgKCEob2JqZWN0W2tleV0ub2JqZWN0cyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfSlNPTiwgJ29iamVjdHMgdG8gYWRkIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSBvYmplY3Rba2V5XS5vYmplY3RzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBZGRVbmlxdWUnOlxuICAgICAgICAgIGlmICghKG9iamVjdFtrZXldLm9iamVjdHMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0pTT04sICdvYmplY3RzIHRvIGFkZCBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdFtrZXldID0gb2JqZWN0W2tleV0ub2JqZWN0cztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUmVtb3ZlJzpcbiAgICAgICAgICBpZiAoIShvYmplY3Rba2V5XS5vYmplY3RzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9KU09OLCAnb2JqZWN0cyB0byBhZGQgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3Rba2V5XSA9IFtdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEZWxldGUnOlxuICAgICAgICAgIGRlbGV0ZSBvYmplY3Rba2V5XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5DT01NQU5EX1VOQVZBSUxBQkxFLFxuICAgICAgICAgICAgYFRoZSAke29iamVjdFtrZXldLl9fb3B9IG9wZXJhdG9yIGlzIG5vdCBzdXBwb3J0ZWQgeWV0LmBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgdHJhbnNmb3JtQXV0aERhdGEgPSAoY2xhc3NOYW1lLCBvYmplY3QsIHNjaGVtYSkgPT4ge1xuICBpZiAob2JqZWN0LmF1dGhEYXRhICYmIGNsYXNzTmFtZSA9PT0gJ19Vc2VyJykge1xuICAgIE9iamVjdC5rZXlzKG9iamVjdC5hdXRoRGF0YSkuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICBjb25zdCBwcm92aWRlckRhdGEgPSBvYmplY3QuYXV0aERhdGFbcHJvdmlkZXJdO1xuICAgICAgY29uc3QgZmllbGROYW1lID0gYF9hdXRoX2RhdGFfJHtwcm92aWRlcn1gO1xuICAgICAgaWYgKHByb3ZpZGVyRGF0YSA9PSBudWxsKSB7XG4gICAgICAgIG9iamVjdFtmaWVsZE5hbWVdID0ge1xuICAgICAgICAgIF9fb3A6ICdEZWxldGUnLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2ZpZWxkTmFtZV0gPSBwcm92aWRlckRhdGE7XG4gICAgICAgIHNjaGVtYS5maWVsZHNbZmllbGROYW1lXSA9IHsgdHlwZTogJ09iamVjdCcgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkZWxldGUgb2JqZWN0LmF1dGhEYXRhO1xuICB9XG59O1xuLy8gVHJhbnNmb3JtcyBhIERhdGFiYXNlIGZvcm1hdCBBQ0wgdG8gYSBSRVNUIEFQSSBmb3JtYXQgQUNMXG5jb25zdCB1bnRyYW5zZm9ybU9iamVjdEFDTCA9ICh7IF9ycGVybSwgX3dwZXJtLCAuLi5vdXRwdXQgfSkgPT4ge1xuICBpZiAoX3JwZXJtIHx8IF93cGVybSkge1xuICAgIG91dHB1dC5BQ0wgPSB7fTtcblxuICAgIChfcnBlcm0gfHwgW10pLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgaWYgKCFvdXRwdXQuQUNMW2VudHJ5XSkge1xuICAgICAgICBvdXRwdXQuQUNMW2VudHJ5XSA9IHsgcmVhZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0LkFDTFtlbnRyeV1bJ3JlYWQnXSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAoX3dwZXJtIHx8IFtdKS5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgIGlmICghb3V0cHV0LkFDTFtlbnRyeV0pIHtcbiAgICAgICAgb3V0cHV0LkFDTFtlbnRyeV0gPSB7IHdyaXRlOiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQuQUNMW2VudHJ5XVsnd3JpdGUnXSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbi8qKlxuICogV2hlbiBxdWVyeWluZywgdGhlIGZpZWxkTmFtZSBtYXkgYmUgY29tcG91bmQsIGV4dHJhY3QgdGhlIHJvb3QgZmllbGROYW1lXG4gKiAgICAgYHRlbXBlcmF0dXJlLmNlbHNpdXNgIGJlY29tZXMgYHRlbXBlcmF0dXJlYFxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSB0aGF0IG1heSBiZSBhIGNvbXBvdW5kIGZpZWxkIG5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSByb290IG5hbWUgb2YgdGhlIGZpZWxkXG4gKi9cbmNvbnN0IGdldFJvb3RGaWVsZE5hbWUgPSAoZmllbGROYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gZmllbGROYW1lLnNwbGl0KCcuJylbMF07XG59O1xuXG5jb25zdCByZWxhdGlvblNjaGVtYSA9IHtcbiAgZmllbGRzOiB7IHJlbGF0ZWRJZDogeyB0eXBlOiAnU3RyaW5nJyB9LCBvd25pbmdJZDogeyB0eXBlOiAnU3RyaW5nJyB9IH0sXG59O1xuXG5jbGFzcyBEYXRhYmFzZUNvbnRyb2xsZXIge1xuICBhZGFwdGVyOiBTdG9yYWdlQWRhcHRlcjtcbiAgc2NoZW1hQ2FjaGU6IGFueTtcbiAgc2NoZW1hUHJvbWlzZTogP1Byb21pc2U8U2NoZW1hQ29udHJvbGxlci5TY2hlbWFDb250cm9sbGVyPjtcbiAgX3RyYW5zYWN0aW9uYWxTZXNzaW9uOiA/YW55O1xuXG4gIGNvbnN0cnVjdG9yKGFkYXB0ZXI6IFN0b3JhZ2VBZGFwdGVyKSB7XG4gICAgdGhpcy5hZGFwdGVyID0gYWRhcHRlcjtcbiAgICAvLyBXZSBkb24ndCB3YW50IGEgbXV0YWJsZSB0aGlzLnNjaGVtYSwgYmVjYXVzZSB0aGVuIHlvdSBjb3VsZCBoYXZlXG4gICAgLy8gb25lIHJlcXVlc3QgdGhhdCB1c2VzIGRpZmZlcmVudCBzY2hlbWFzIGZvciBkaWZmZXJlbnQgcGFydHMgb2ZcbiAgICAvLyBpdC4gSW5zdGVhZCwgdXNlIGxvYWRTY2hlbWEgdG8gZ2V0IGEgc2NoZW1hLlxuICAgIHRoaXMuc2NoZW1hUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24gPSBudWxsO1xuICB9XG5cbiAgY29sbGVjdGlvbkV4aXN0cyhjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuY2xhc3NFeGlzdHMoY2xhc3NOYW1lKTtcbiAgfVxuXG4gIHB1cmdlQ29sbGVjdGlvbihjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoKVxuICAgICAgLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiBzY2hlbWFDb250cm9sbGVyLmdldE9uZVNjaGVtYShjbGFzc05hbWUpKVxuICAgICAgLnRoZW4oc2NoZW1hID0+IHRoaXMuYWRhcHRlci5kZWxldGVPYmplY3RzQnlRdWVyeShjbGFzc05hbWUsIHNjaGVtYSwge30pKTtcbiAgfVxuXG4gIHZhbGlkYXRlQ2xhc3NOYW1lKGNsYXNzTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFTY2hlbWFDb250cm9sbGVyLmNsYXNzTmFtZUlzVmFsaWQoY2xhc3NOYW1lKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9DTEFTU19OQU1FLCAnaW52YWxpZCBjbGFzc05hbWU6ICcgKyBjbGFzc05hbWUpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBzY2hlbWFDb250cm9sbGVyLlxuICBsb2FkU2NoZW1hKFxuICAgIG9wdGlvbnM6IExvYWRTY2hlbWFPcHRpb25zID0geyBjbGVhckNhY2hlOiBmYWxzZSB9XG4gICk6IFByb21pc2U8U2NoZW1hQ29udHJvbGxlci5TY2hlbWFDb250cm9sbGVyPiB7XG4gICAgaWYgKHRoaXMuc2NoZW1hUHJvbWlzZSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlbWFQcm9taXNlO1xuICAgIH1cbiAgICB0aGlzLnNjaGVtYVByb21pc2UgPSBTY2hlbWFDb250cm9sbGVyLmxvYWQodGhpcy5hZGFwdGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLnNjaGVtYVByb21pc2UudGhlbihcbiAgICAgICgpID0+IGRlbGV0ZSB0aGlzLnNjaGVtYVByb21pc2UsXG4gICAgICAoKSA9PiBkZWxldGUgdGhpcy5zY2hlbWFQcm9taXNlXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5sb2FkU2NoZW1hKG9wdGlvbnMpO1xuICB9XG5cbiAgbG9hZFNjaGVtYUlmTmVlZGVkKFxuICAgIHNjaGVtYUNvbnRyb2xsZXI6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBvcHRpb25zOiBMb2FkU2NoZW1hT3B0aW9ucyA9IHsgY2xlYXJDYWNoZTogZmFsc2UgfVxuICApOiBQcm9taXNlPFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcj4ge1xuICAgIHJldHVybiBzY2hlbWFDb250cm9sbGVyID8gUHJvbWlzZS5yZXNvbHZlKHNjaGVtYUNvbnRyb2xsZXIpIDogdGhpcy5sb2FkU2NoZW1hKG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBjbGFzc25hbWUgdGhhdCBpcyByZWxhdGVkIHRvIHRoZSBnaXZlblxuICAvLyBjbGFzc25hbWUgdGhyb3VnaCB0aGUga2V5LlxuICAvLyBUT0RPOiBtYWtlIHRoaXMgbm90IGluIHRoZSBEYXRhYmFzZUNvbnRyb2xsZXIgaW50ZXJmYWNlXG4gIHJlZGlyZWN0Q2xhc3NOYW1lRm9yS2V5KGNsYXNzTmFtZTogc3RyaW5nLCBrZXk6IHN0cmluZyk6IFByb21pc2U8P3N0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoKS50aGVuKHNjaGVtYSA9PiB7XG4gICAgICB2YXIgdCA9IHNjaGVtYS5nZXRFeHBlY3RlZFR5cGUoY2xhc3NOYW1lLCBrZXkpO1xuICAgICAgaWYgKHQgIT0gbnVsbCAmJiB0eXBlb2YgdCAhPT0gJ3N0cmluZycgJiYgdC50eXBlID09PSAnUmVsYXRpb24nKSB7XG4gICAgICAgIHJldHVybiB0LnRhcmdldENsYXNzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFVzZXMgdGhlIHNjaGVtYSB0byB2YWxpZGF0ZSB0aGUgb2JqZWN0IChSRVNUIEFQSSBmb3JtYXQpLlxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBuZXcgc2NoZW1hLlxuICAvLyBUaGlzIGRvZXMgbm90IHVwZGF0ZSB0aGlzLnNjaGVtYSwgYmVjYXVzZSBpbiBhIHNpdHVhdGlvbiBsaWtlIGFcbiAgLy8gYmF0Y2ggcmVxdWVzdCwgdGhhdCBjb3VsZCBjb25mdXNlIG90aGVyIHVzZXJzIG9mIHRoZSBzY2hlbWEuXG4gIHZhbGlkYXRlT2JqZWN0KFxuICAgIGNsYXNzTmFtZTogc3RyaW5nLFxuICAgIG9iamVjdDogYW55LFxuICAgIHF1ZXJ5OiBhbnksXG4gICAgcnVuT3B0aW9uczogUXVlcnlPcHRpb25zXG4gICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGxldCBzY2hlbWE7XG4gICAgY29uc3QgYWNsID0gcnVuT3B0aW9ucy5hY2w7XG4gICAgY29uc3QgaXNNYXN0ZXIgPSBhY2wgPT09IHVuZGVmaW5lZDtcbiAgICB2YXIgYWNsR3JvdXA6IHN0cmluZ1tdID0gYWNsIHx8IFtdO1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoKVxuICAgICAgLnRoZW4ocyA9PiB7XG4gICAgICAgIHNjaGVtYSA9IHM7XG4gICAgICAgIGlmIChpc01hc3Rlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYW5BZGRGaWVsZChzY2hlbWEsIGNsYXNzTmFtZSwgb2JqZWN0LCBhY2xHcm91cCwgcnVuT3B0aW9ucyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gc2NoZW1hLnZhbGlkYXRlT2JqZWN0KGNsYXNzTmFtZSwgb2JqZWN0LCBxdWVyeSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZShcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBxdWVyeTogYW55LFxuICAgIHVwZGF0ZTogYW55LFxuICAgIHsgYWNsLCBtYW55LCB1cHNlcnQsIGFkZHNGaWVsZCB9OiBGdWxsUXVlcnlPcHRpb25zID0ge30sXG4gICAgc2tpcFNhbml0aXphdGlvbjogYm9vbGVhbiA9IGZhbHNlLFxuICAgIHZhbGlkYXRlT25seTogYm9vbGVhbiA9IGZhbHNlLFxuICAgIHZhbGlkU2NoZW1hQ29udHJvbGxlcjogU2NoZW1hQ29udHJvbGxlci5TY2hlbWFDb250cm9sbGVyXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxRdWVyeSA9IHF1ZXJ5O1xuICAgIGNvbnN0IG9yaWdpbmFsVXBkYXRlID0gdXBkYXRlO1xuICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRoZSBvYmplY3QsIHNvIHdlIGRvbid0IG11dGF0ZSB0aGUgaW5jb21pbmcgZGF0YS5cbiAgICB1cGRhdGUgPSBkZWVwY29weSh1cGRhdGUpO1xuICAgIHZhciByZWxhdGlvblVwZGF0ZXMgPSBbXTtcbiAgICB2YXIgaXNNYXN0ZXIgPSBhY2wgPT09IHVuZGVmaW5lZDtcbiAgICB2YXIgYWNsR3JvdXAgPSBhY2wgfHwgW107XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkU2NoZW1hSWZOZWVkZWQodmFsaWRTY2hlbWFDb250cm9sbGVyKS50aGVuKHNjaGVtYUNvbnRyb2xsZXIgPT4ge1xuICAgICAgcmV0dXJuIChpc01hc3RlclxuICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIDogc2NoZW1hQ29udHJvbGxlci52YWxpZGF0ZVBlcm1pc3Npb24oY2xhc3NOYW1lLCBhY2xHcm91cCwgJ3VwZGF0ZScpXG4gICAgICApXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZWxhdGlvblVwZGF0ZXMgPSB0aGlzLmNvbGxlY3RSZWxhdGlvblVwZGF0ZXMoY2xhc3NOYW1lLCBvcmlnaW5hbFF1ZXJ5Lm9iamVjdElkLCB1cGRhdGUpO1xuICAgICAgICAgIGlmICghaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gdGhpcy5hZGRQb2ludGVyUGVybWlzc2lvbnMoXG4gICAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgJ3VwZGF0ZScsXG4gICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICBhY2xHcm91cFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGFkZHNGaWVsZCkge1xuICAgICAgICAgICAgICBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUG9pbnRlclBlcm1pc3Npb25zKFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFDb250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICdhZGRGaWVsZCcsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBhY2xHcm91cFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhY2wpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gYWRkV3JpdGVBQ0wocXVlcnksIGFjbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRlUXVlcnkocXVlcnkpO1xuICAgICAgICAgIHJldHVybiBzY2hlbWFDb250cm9sbGVyXG4gICAgICAgICAgICAuZ2V0T25lU2NoZW1hKGNsYXNzTmFtZSwgdHJ1ZSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBzY2hlbWEgZG9lc24ndCBleGlzdCwgcHJldGVuZCBpdCBleGlzdHMgd2l0aCBubyBmaWVsZHMuIFRoaXMgYmVoYXZpb3JcbiAgICAgICAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCByZXZpc2l0aW5nLlxuICAgICAgICAgICAgICBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGZpZWxkczoge30gfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihzY2hlbWEgPT4ge1xuICAgICAgICAgICAgICBPYmplY3Qua2V5cyh1cGRhdGUpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGROYW1lLm1hdGNoKC9eYXV0aERhdGFcXC4oW2EtekEtWjAtOV9dKylcXC5pZCQvKSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FLFxuICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBmaWVsZCBuYW1lIGZvciB1cGRhdGU6ICR7ZmllbGROYW1lfWBcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RGaWVsZE5hbWUgPSBnZXRSb290RmllbGROYW1lKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIVNjaGVtYUNvbnRyb2xsZXIuZmllbGROYW1lSXNWYWxpZChyb290RmllbGROYW1lLCBjbGFzc05hbWUpICYmXG4gICAgICAgICAgICAgICAgICAhaXNTcGVjaWFsVXBkYXRlS2V5KHJvb3RGaWVsZE5hbWUpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsXG4gICAgICAgICAgICAgICAgICAgIGBJbnZhbGlkIGZpZWxkIG5hbWUgZm9yIHVwZGF0ZTogJHtmaWVsZE5hbWV9YFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZU9wZXJhdGlvbiBpbiB1cGRhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICB1cGRhdGVbdXBkYXRlT3BlcmF0aW9uXSAmJlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIHVwZGF0ZVt1cGRhdGVPcGVyYXRpb25dID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModXBkYXRlW3VwZGF0ZU9wZXJhdGlvbl0pLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgIGlubmVyS2V5ID0+IGlubmVyS2V5LmluY2x1ZGVzKCckJykgfHwgaW5uZXJLZXkuaW5jbHVkZXMoJy4nKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgICAgICBQYXJzZS5FcnJvci5JTlZBTElEX05FU1RFRF9LRVksXG4gICAgICAgICAgICAgICAgICAgIFwiTmVzdGVkIGtleXMgc2hvdWxkIG5vdCBjb250YWluIHRoZSAnJCcgb3IgJy4nIGNoYXJhY3RlcnNcIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdXBkYXRlID0gdHJhbnNmb3JtT2JqZWN0QUNMKHVwZGF0ZSk7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybUF1dGhEYXRhKGNsYXNzTmFtZSwgdXBkYXRlLCBzY2hlbWEpO1xuICAgICAgICAgICAgICBpZiAodmFsaWRhdGVPbmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5maW5kKGNsYXNzTmFtZSwgc2NoZW1hLCBxdWVyeSwge30pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFyZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobWFueSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIudXBkYXRlT2JqZWN0c0J5UXVlcnkoXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh1cHNlcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyLnVwc2VydE9uZU9iamVjdChcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgdXBkYXRlLFxuICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgdXBkYXRlLFxuICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbGlkYXRlT25seSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVsYXRpb25VcGRhdGVzKFxuICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAgb3JpZ2luYWxRdWVyeS5vYmplY3RJZCxcbiAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgIHJlbGF0aW9uVXBkYXRlc1xuICAgICAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIGlmIChza2lwU2FuaXRpemF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzYW5pdGl6ZURhdGFiYXNlUmVzdWx0KG9yaWdpbmFsVXBkYXRlLCByZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENvbGxlY3QgYWxsIHJlbGF0aW9uLXVwZGF0aW5nIG9wZXJhdGlvbnMgZnJvbSBhIFJFU1QtZm9ybWF0IHVwZGF0ZS5cbiAgLy8gUmV0dXJucyBhIGxpc3Qgb2YgYWxsIHJlbGF0aW9uIHVwZGF0ZXMgdG8gcGVyZm9ybVxuICAvLyBUaGlzIG11dGF0ZXMgdXBkYXRlLlxuICBjb2xsZWN0UmVsYXRpb25VcGRhdGVzKGNsYXNzTmFtZTogc3RyaW5nLCBvYmplY3RJZDogP3N0cmluZywgdXBkYXRlOiBhbnkpIHtcbiAgICB2YXIgb3BzID0gW107XG4gICAgdmFyIGRlbGV0ZU1lID0gW107XG4gICAgb2JqZWN0SWQgPSB1cGRhdGUub2JqZWN0SWQgfHwgb2JqZWN0SWQ7XG5cbiAgICB2YXIgcHJvY2VzcyA9IChvcCwga2V5KSA9PiB7XG4gICAgICBpZiAoIW9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChvcC5fX29wID09ICdBZGRSZWxhdGlvbicpIHtcbiAgICAgICAgb3BzLnB1c2goeyBrZXksIG9wIH0pO1xuICAgICAgICBkZWxldGVNZS5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcC5fX29wID09ICdSZW1vdmVSZWxhdGlvbicpIHtcbiAgICAgICAgb3BzLnB1c2goeyBrZXksIG9wIH0pO1xuICAgICAgICBkZWxldGVNZS5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcC5fX29wID09ICdCYXRjaCcpIHtcbiAgICAgICAgZm9yICh2YXIgeCBvZiBvcC5vcHMpIHtcbiAgICAgICAgICBwcm9jZXNzKHgsIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdXBkYXRlKSB7XG4gICAgICBwcm9jZXNzKHVwZGF0ZVtrZXldLCBrZXkpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBkZWxldGVNZSkge1xuICAgICAgZGVsZXRlIHVwZGF0ZVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gb3BzO1xuICB9XG5cbiAgLy8gUHJvY2Vzc2VzIHJlbGF0aW9uLXVwZGF0aW5nIG9wZXJhdGlvbnMgZnJvbSBhIFJFU1QtZm9ybWF0IHVwZGF0ZS5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCB1cGRhdGVzIGhhdmUgYmVlbiBwZXJmb3JtZWRcbiAgaGFuZGxlUmVsYXRpb25VcGRhdGVzKGNsYXNzTmFtZTogc3RyaW5nLCBvYmplY3RJZDogc3RyaW5nLCB1cGRhdGU6IGFueSwgb3BzOiBhbnkpIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuICAgIG9iamVjdElkID0gdXBkYXRlLm9iamVjdElkIHx8IG9iamVjdElkO1xuICAgIG9wcy5mb3JFYWNoKCh7IGtleSwgb3AgfSkgPT4ge1xuICAgICAgaWYgKCFvcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAob3AuX19vcCA9PSAnQWRkUmVsYXRpb24nKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIG9wLm9iamVjdHMpIHtcbiAgICAgICAgICBwZW5kaW5nLnB1c2godGhpcy5hZGRSZWxhdGlvbihrZXksIGNsYXNzTmFtZSwgb2JqZWN0SWQsIG9iamVjdC5vYmplY3RJZCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChvcC5fX29wID09ICdSZW1vdmVSZWxhdGlvbicpIHtcbiAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2Ygb3Aub2JqZWN0cykge1xuICAgICAgICAgIHBlbmRpbmcucHVzaCh0aGlzLnJlbW92ZVJlbGF0aW9uKGtleSwgY2xhc3NOYW1lLCBvYmplY3RJZCwgb2JqZWN0Lm9iamVjdElkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgfVxuXG4gIC8vIEFkZHMgYSByZWxhdGlvbi5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBzdWNjZXNzZnVsbHkgaWZmIHRoZSBhZGQgd2FzIHN1Y2Nlc3NmdWwuXG4gIGFkZFJlbGF0aW9uKGtleTogc3RyaW5nLCBmcm9tQ2xhc3NOYW1lOiBzdHJpbmcsIGZyb21JZDogc3RyaW5nLCB0b0lkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBkb2MgPSB7XG4gICAgICByZWxhdGVkSWQ6IHRvSWQsXG4gICAgICBvd25pbmdJZDogZnJvbUlkLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRlci51cHNlcnRPbmVPYmplY3QoXG4gICAgICBgX0pvaW46JHtrZXl9OiR7ZnJvbUNsYXNzTmFtZX1gLFxuICAgICAgcmVsYXRpb25TY2hlbWEsXG4gICAgICBkb2MsXG4gICAgICBkb2MsXG4gICAgICB0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvblxuICAgICk7XG4gIH1cblxuICAvLyBSZW1vdmVzIGEgcmVsYXRpb24uXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgc3VjY2Vzc2Z1bGx5IGlmZiB0aGUgcmVtb3ZlIHdhc1xuICAvLyBzdWNjZXNzZnVsLlxuICByZW1vdmVSZWxhdGlvbihrZXk6IHN0cmluZywgZnJvbUNsYXNzTmFtZTogc3RyaW5nLCBmcm9tSWQ6IHN0cmluZywgdG9JZDogc3RyaW5nKSB7XG4gICAgdmFyIGRvYyA9IHtcbiAgICAgIHJlbGF0ZWRJZDogdG9JZCxcbiAgICAgIG93bmluZ0lkOiBmcm9tSWQsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyXG4gICAgICAuZGVsZXRlT2JqZWN0c0J5UXVlcnkoXG4gICAgICAgIGBfSm9pbjoke2tleX06JHtmcm9tQ2xhc3NOYW1lfWAsXG4gICAgICAgIHJlbGF0aW9uU2NoZW1hLFxuICAgICAgICBkb2MsXG4gICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uXG4gICAgICApXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGlmIHRoZXkgdHJ5IHRvIGRlbGV0ZSBhIG5vbi1leGlzdGVudCByZWxhdGlvbi5cbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT0gUGFyc2UuRXJyb3IuT0JKRUNUX05PVF9GT1VORCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gUmVtb3ZlcyBvYmplY3RzIG1hdGNoZXMgdGhpcyBxdWVyeSBmcm9tIHRoZSBkYXRhYmFzZS5cbiAgLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBzdWNjZXNzZnVsbHkgaWZmIHRoZSBvYmplY3Qgd2FzXG4gIC8vIGRlbGV0ZWQuXG4gIC8vIE9wdGlvbnM6XG4gIC8vICAgYWNsOiAgYSBsaXN0IG9mIHN0cmluZ3MuIElmIHRoZSBvYmplY3QgdG8gYmUgdXBkYXRlZCBoYXMgYW4gQUNMLFxuICAvLyAgICAgICAgIG9uZSBvZiB0aGUgcHJvdmlkZWQgc3RyaW5ncyBtdXN0IHByb3ZpZGUgdGhlIGNhbGxlciB3aXRoXG4gIC8vICAgICAgICAgd3JpdGUgcGVybWlzc2lvbnMuXG4gIGRlc3Ryb3koXG4gICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgcXVlcnk6IGFueSxcbiAgICB7IGFjbCB9OiBRdWVyeU9wdGlvbnMgPSB7fSxcbiAgICB2YWxpZFNjaGVtYUNvbnRyb2xsZXI6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlclxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IGlzTWFzdGVyID0gYWNsID09PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgYWNsR3JvdXAgPSBhY2wgfHwgW107XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkU2NoZW1hSWZOZWVkZWQodmFsaWRTY2hlbWFDb250cm9sbGVyKS50aGVuKHNjaGVtYUNvbnRyb2xsZXIgPT4ge1xuICAgICAgcmV0dXJuIChpc01hc3RlclxuICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIDogc2NoZW1hQ29udHJvbGxlci52YWxpZGF0ZVBlcm1pc3Npb24oY2xhc3NOYW1lLCBhY2xHcm91cCwgJ2RlbGV0ZScpXG4gICAgICApLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoIWlzTWFzdGVyKSB7XG4gICAgICAgICAgcXVlcnkgPSB0aGlzLmFkZFBvaW50ZXJQZXJtaXNzaW9ucyhcbiAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAnZGVsZXRlJyxcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgYWNsR3JvdXBcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVsZXRlIGJ5IHF1ZXJ5XG4gICAgICAgIGlmIChhY2wpIHtcbiAgICAgICAgICBxdWVyeSA9IGFkZFdyaXRlQUNMKHF1ZXJ5LCBhY2wpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlUXVlcnkocXVlcnkpO1xuICAgICAgICByZXR1cm4gc2NoZW1hQ29udHJvbGxlclxuICAgICAgICAgIC5nZXRPbmVTY2hlbWEoY2xhc3NOYW1lKVxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgc2NoZW1hIGRvZXNuJ3QgZXhpc3QsIHByZXRlbmQgaXQgZXhpc3RzIHdpdGggbm8gZmllbGRzLiBUaGlzIGJlaGF2aW9yXG4gICAgICAgICAgICAvLyB3aWxsIGxpa2VseSBuZWVkIHJldmlzaXRpbmcuXG4gICAgICAgICAgICBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4geyBmaWVsZHM6IHt9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHBhcnNlRm9ybWF0U2NoZW1hID0+XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuZGVsZXRlT2JqZWN0c0J5UXVlcnkoXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgcGFyc2VGb3JtYXRTY2hlbWEsXG4gICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICB0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvblxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gV2hlbiBkZWxldGluZyBzZXNzaW9ucyB3aGlsZSBjaGFuZ2luZyBwYXNzd29yZHMsIGRvbid0IHRocm93IGFuIGVycm9yIGlmIHRoZXkgZG9uJ3QgaGF2ZSBhbnkgc2Vzc2lvbnMuXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lID09PSAnX1Nlc3Npb24nICYmIGVycm9yLmNvZGUgPT09IFBhcnNlLkVycm9yLk9CSkVDVF9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gSW5zZXJ0cyBhbiBvYmplY3QgaW50byB0aGUgZGF0YWJhc2UuXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgc3VjY2Vzc2Z1bGx5IGlmZiB0aGUgb2JqZWN0IHNhdmVkLlxuICBjcmVhdGUoXG4gICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgb2JqZWN0OiBhbnksXG4gICAgeyBhY2wgfTogUXVlcnlPcHRpb25zID0ge30sXG4gICAgdmFsaWRhdGVPbmx5OiBib29sZWFuID0gZmFsc2UsXG4gICAgdmFsaWRTY2hlbWFDb250cm9sbGVyOiBTY2hlbWFDb250cm9sbGVyLlNjaGVtYUNvbnRyb2xsZXJcbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgb2JqZWN0LCBzbyB3ZSBkb24ndCBtdXRhdGUgdGhlIGluY29taW5nIGRhdGEuXG4gICAgY29uc3Qgb3JpZ2luYWxPYmplY3QgPSBvYmplY3Q7XG4gICAgb2JqZWN0ID0gdHJhbnNmb3JtT2JqZWN0QUNMKG9iamVjdCk7XG5cbiAgICBvYmplY3QuY3JlYXRlZEF0ID0geyBpc286IG9iamVjdC5jcmVhdGVkQXQsIF9fdHlwZTogJ0RhdGUnIH07XG4gICAgb2JqZWN0LnVwZGF0ZWRBdCA9IHsgaXNvOiBvYmplY3QudXBkYXRlZEF0LCBfX3R5cGU6ICdEYXRlJyB9O1xuXG4gICAgdmFyIGlzTWFzdGVyID0gYWNsID09PSB1bmRlZmluZWQ7XG4gICAgdmFyIGFjbEdyb3VwID0gYWNsIHx8IFtdO1xuICAgIGNvbnN0IHJlbGF0aW9uVXBkYXRlcyA9IHRoaXMuY29sbGVjdFJlbGF0aW9uVXBkYXRlcyhjbGFzc05hbWUsIG51bGwsIG9iamVjdCk7XG5cbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUNsYXNzTmFtZShjbGFzc05hbWUpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmxvYWRTY2hlbWFJZk5lZWRlZCh2YWxpZFNjaGVtYUNvbnRyb2xsZXIpKVxuICAgICAgLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiB7XG4gICAgICAgIHJldHVybiAoaXNNYXN0ZXJcbiAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgOiBzY2hlbWFDb250cm9sbGVyLnZhbGlkYXRlUGVybWlzc2lvbihjbGFzc05hbWUsIGFjbEdyb3VwLCAnY3JlYXRlJylcbiAgICAgICAgKVxuICAgICAgICAgIC50aGVuKCgpID0+IHNjaGVtYUNvbnRyb2xsZXIuZW5mb3JjZUNsYXNzRXhpc3RzKGNsYXNzTmFtZSkpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gc2NoZW1hQ29udHJvbGxlci5nZXRPbmVTY2hlbWEoY2xhc3NOYW1lLCB0cnVlKSlcbiAgICAgICAgICAudGhlbihzY2hlbWEgPT4ge1xuICAgICAgICAgICAgdHJhbnNmb3JtQXV0aERhdGEoY2xhc3NOYW1lLCBvYmplY3QsIHNjaGVtYSk7XG4gICAgICAgICAgICBmbGF0dGVuVXBkYXRlT3BlcmF0b3JzRm9yQ3JlYXRlKG9iamVjdCk7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGVPbmx5KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuY3JlYXRlT2JqZWN0KFxuICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgIFNjaGVtYUNvbnRyb2xsZXIuY29udmVydFNjaGVtYVRvQWRhcHRlclNjaGVtYShzY2hlbWEpLFxuICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICAgIHRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZU9ubHkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT2JqZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVsYXRpb25VcGRhdGVzKFxuICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgIG9iamVjdC5vYmplY3RJZCxcbiAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgICByZWxhdGlvblVwZGF0ZXNcbiAgICAgICAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBzYW5pdGl6ZURhdGFiYXNlUmVzdWx0KG9yaWdpbmFsT2JqZWN0LCByZXN1bHQub3BzWzBdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBjYW5BZGRGaWVsZChcbiAgICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBvYmplY3Q6IGFueSxcbiAgICBhY2xHcm91cDogc3RyaW5nW10sXG4gICAgcnVuT3B0aW9uczogUXVlcnlPcHRpb25zXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNsYXNzU2NoZW1hID0gc2NoZW1hLnNjaGVtYURhdGFbY2xhc3NOYW1lXTtcbiAgICBpZiAoIWNsYXNzU2NoZW1hKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgY29uc3Qgc2NoZW1hRmllbGRzID0gT2JqZWN0LmtleXMoY2xhc3NTY2hlbWEuZmllbGRzKTtcbiAgICBjb25zdCBuZXdLZXlzID0gZmllbGRzLmZpbHRlcihmaWVsZCA9PiB7XG4gICAgICAvLyBTa2lwIGZpZWxkcyB0aGF0IGFyZSB1bnNldFxuICAgICAgaWYgKG9iamVjdFtmaWVsZF0gJiYgb2JqZWN0W2ZpZWxkXS5fX29wICYmIG9iamVjdFtmaWVsZF0uX19vcCA9PT0gJ0RlbGV0ZScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNjaGVtYUZpZWxkcy5pbmRleE9mKGdldFJvb3RGaWVsZE5hbWUoZmllbGQpKSA8IDA7XG4gICAgfSk7XG4gICAgaWYgKG5ld0tleXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gYWRkcyBhIG1hcmtlciB0aGF0IG5ldyBmaWVsZCBpcyBiZWluZyBhZGRpbmcgZHVyaW5nIHVwZGF0ZVxuICAgICAgcnVuT3B0aW9ucy5hZGRzRmllbGQgPSB0cnVlO1xuXG4gICAgICBjb25zdCBhY3Rpb24gPSBydW5PcHRpb25zLmFjdGlvbjtcbiAgICAgIHJldHVybiBzY2hlbWEudmFsaWRhdGVQZXJtaXNzaW9uKGNsYXNzTmFtZSwgYWNsR3JvdXAsICdhZGRGaWVsZCcsIGFjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8vIFdvbid0IGRlbGV0ZSBjb2xsZWN0aW9ucyBpbiB0aGUgc3lzdGVtIG5hbWVzcGFjZVxuICAvKipcbiAgICogRGVsZXRlIGFsbCBjbGFzc2VzIGFuZCBjbGVhcnMgdGhlIHNjaGVtYSBjYWNoZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZhc3Qgc2V0IHRvIHRydWUgaWYgaXQncyBvayB0byBqdXN0IGRlbGV0ZSByb3dzIGFuZCBub3QgaW5kZXhlc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gd2hlbiB0aGUgZGVsZXRpb25zIGNvbXBsZXRlc1xuICAgKi9cbiAgZGVsZXRlRXZlcnl0aGluZyhmYXN0OiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPGFueT4ge1xuICAgIHRoaXMuc2NoZW1hUHJvbWlzZSA9IG51bGw7XG4gICAgU2NoZW1hQ2FjaGUuY2xlYXIoKTtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmRlbGV0ZUFsbENsYXNzZXMoZmFzdCk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBsaXN0IG9mIHJlbGF0ZWQgaWRzIGdpdmVuIGFuIG93bmluZyBpZC5cbiAgLy8gY2xhc3NOYW1lIGhlcmUgaXMgdGhlIG93bmluZyBjbGFzc05hbWUuXG4gIHJlbGF0ZWRJZHMoXG4gICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgb3duaW5nSWQ6IHN0cmluZyxcbiAgICBxdWVyeU9wdGlvbnM6IFF1ZXJ5T3B0aW9uc1xuICApOiBQcm9taXNlPEFycmF5PHN0cmluZz4+IHtcbiAgICBjb25zdCB7IHNraXAsIGxpbWl0LCBzb3J0IH0gPSBxdWVyeU9wdGlvbnM7XG4gICAgY29uc3QgZmluZE9wdGlvbnMgPSB7fTtcbiAgICBpZiAoc29ydCAmJiBzb3J0LmNyZWF0ZWRBdCAmJiB0aGlzLmFkYXB0ZXIuY2FuU29ydE9uSm9pblRhYmxlcykge1xuICAgICAgZmluZE9wdGlvbnMuc29ydCA9IHsgX2lkOiBzb3J0LmNyZWF0ZWRBdCB9O1xuICAgICAgZmluZE9wdGlvbnMubGltaXQgPSBsaW1pdDtcbiAgICAgIGZpbmRPcHRpb25zLnNraXAgPSBza2lwO1xuICAgICAgcXVlcnlPcHRpb25zLnNraXAgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyXG4gICAgICAuZmluZChqb2luVGFibGVOYW1lKGNsYXNzTmFtZSwga2V5KSwgcmVsYXRpb25TY2hlbWEsIHsgb3duaW5nSWQgfSwgZmluZE9wdGlvbnMpXG4gICAgICAudGhlbihyZXN1bHRzID0+IHJlc3VsdHMubWFwKHJlc3VsdCA9PiByZXN1bHQucmVsYXRlZElkKSk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBsaXN0IG9mIG93bmluZyBpZHMgZ2l2ZW4gc29tZSByZWxhdGVkIGlkcy5cbiAgLy8gY2xhc3NOYW1lIGhlcmUgaXMgdGhlIG93bmluZyBjbGFzc05hbWUuXG4gIG93bmluZ0lkcyhjbGFzc05hbWU6IHN0cmluZywga2V5OiBzdHJpbmcsIHJlbGF0ZWRJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybiB0aGlzLmFkYXB0ZXJcbiAgICAgIC5maW5kKFxuICAgICAgICBqb2luVGFibGVOYW1lKGNsYXNzTmFtZSwga2V5KSxcbiAgICAgICAgcmVsYXRpb25TY2hlbWEsXG4gICAgICAgIHsgcmVsYXRlZElkOiB7ICRpbjogcmVsYXRlZElkcyB9IH0sXG4gICAgICAgIHsga2V5czogWydvd25pbmdJZCddIH1cbiAgICAgIClcbiAgICAgIC50aGVuKHJlc3VsdHMgPT4gcmVzdWx0cy5tYXAocmVzdWx0ID0+IHJlc3VsdC5vd25pbmdJZCkpO1xuICB9XG5cbiAgLy8gTW9kaWZpZXMgcXVlcnkgc28gdGhhdCBpdCBubyBsb25nZXIgaGFzICRpbiBvbiByZWxhdGlvbiBmaWVsZHMsIG9yXG4gIC8vIGVxdWFsLXRvLXBvaW50ZXIgY29uc3RyYWludHMgb24gcmVsYXRpb24gZmllbGRzLlxuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcXVlcnkgaXMgbXV0YXRlZFxuICByZWR1Y2VJblJlbGF0aW9uKGNsYXNzTmFtZTogc3RyaW5nLCBxdWVyeTogYW55LCBzY2hlbWE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgLy8gU2VhcmNoIGZvciBhbiBpbi1yZWxhdGlvbiBvciBlcXVhbC10by1yZWxhdGlvblxuICAgIC8vIE1ha2UgaXQgc2VxdWVudGlhbCBmb3Igbm93LCBub3Qgc3VyZSBvZiBwYXJhbGxlaXphdGlvbiBzaWRlIGVmZmVjdHNcbiAgICBpZiAocXVlcnlbJyRvciddKSB7XG4gICAgICBjb25zdCBvcnMgPSBxdWVyeVsnJG9yJ107XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIG9ycy5tYXAoKGFRdWVyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZWR1Y2VJblJlbGF0aW9uKGNsYXNzTmFtZSwgYVF1ZXJ5LCBzY2hlbWEpLnRoZW4oYVF1ZXJ5ID0+IHtcbiAgICAgICAgICAgIHF1ZXJ5Wyckb3InXVtpbmRleF0gPSBhUXVlcnk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICApLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHF1ZXJ5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocXVlcnlbJyRhbmQnXSkge1xuICAgICAgY29uc3QgYW5kcyA9IHF1ZXJ5WyckYW5kJ107XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIGFuZHMubWFwKChhUXVlcnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlSW5SZWxhdGlvbihjbGFzc05hbWUsIGFRdWVyeSwgc2NoZW1hKS50aGVuKGFRdWVyeSA9PiB7XG4gICAgICAgICAgICBxdWVyeVsnJGFuZCddW2luZGV4XSA9IGFRdWVyeTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocXVlcnkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBPYmplY3Qua2V5cyhxdWVyeSkubWFwKGtleSA9PiB7XG4gICAgICBjb25zdCB0ID0gc2NoZW1hLmdldEV4cGVjdGVkVHlwZShjbGFzc05hbWUsIGtleSk7XG4gICAgICBpZiAoIXQgfHwgdC50eXBlICE9PSAnUmVsYXRpb24nKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocXVlcnkpO1xuICAgICAgfVxuICAgICAgbGV0IHF1ZXJpZXM6ID8oYW55W10pID0gbnVsbDtcbiAgICAgIGlmIChcbiAgICAgICAgcXVlcnlba2V5XSAmJlxuICAgICAgICAocXVlcnlba2V5XVsnJGluJ10gfHxcbiAgICAgICAgICBxdWVyeVtrZXldWyckbmUnXSB8fFxuICAgICAgICAgIHF1ZXJ5W2tleV1bJyRuaW4nXSB8fFxuICAgICAgICAgIHF1ZXJ5W2tleV0uX190eXBlID09ICdQb2ludGVyJylcbiAgICAgICkge1xuICAgICAgICAvLyBCdWlsZCB0aGUgbGlzdCBvZiBxdWVyaWVzXG4gICAgICAgIHF1ZXJpZXMgPSBPYmplY3Qua2V5cyhxdWVyeVtrZXldKS5tYXAoY29uc3RyYWludEtleSA9PiB7XG4gICAgICAgICAgbGV0IHJlbGF0ZWRJZHM7XG4gICAgICAgICAgbGV0IGlzTmVnYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICBpZiAoY29uc3RyYWludEtleSA9PT0gJ29iamVjdElkJykge1xuICAgICAgICAgICAgcmVsYXRlZElkcyA9IFtxdWVyeVtrZXldLm9iamVjdElkXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cmFpbnRLZXkgPT0gJyRpbicpIHtcbiAgICAgICAgICAgIHJlbGF0ZWRJZHMgPSBxdWVyeVtrZXldWyckaW4nXS5tYXAociA9PiByLm9iamVjdElkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cmFpbnRLZXkgPT0gJyRuaW4nKSB7XG4gICAgICAgICAgICBpc05lZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlbGF0ZWRJZHMgPSBxdWVyeVtrZXldWyckbmluJ10ubWFwKHIgPT4gci5vYmplY3RJZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb25zdHJhaW50S2V5ID09ICckbmUnKSB7XG4gICAgICAgICAgICBpc05lZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlbGF0ZWRJZHMgPSBbcXVlcnlba2V5XVsnJG5lJ10ub2JqZWN0SWRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc05lZ2F0aW9uLFxuICAgICAgICAgICAgcmVsYXRlZElkcyxcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXJpZXMgPSBbeyBpc05lZ2F0aW9uOiBmYWxzZSwgcmVsYXRlZElkczogW10gfV07XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgY3VycmVudCBxdWVyeUtleSBhcyB3ZSBkb24sdCBuZWVkIGl0IGFueW1vcmVcbiAgICAgIGRlbGV0ZSBxdWVyeVtrZXldO1xuICAgICAgLy8gZXhlY3V0ZSBlYWNoIHF1ZXJ5IGluZGVwZW5kZW50bHkgdG8gYnVpbGQgdGhlIGxpc3Qgb2ZcbiAgICAgIC8vICRpbiAvICRuaW5cbiAgICAgIGNvbnN0IHByb21pc2VzID0gcXVlcmllcy5tYXAocSA9PiB7XG4gICAgICAgIGlmICghcSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vd25pbmdJZHMoY2xhc3NOYW1lLCBrZXksIHEucmVsYXRlZElkcykudGhlbihpZHMgPT4ge1xuICAgICAgICAgIGlmIChxLmlzTmVnYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTm90SW5PYmplY3RJZHNJZHMoaWRzLCBxdWVyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSW5PYmplY3RJZHNJZHMoaWRzLCBxdWVyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShxdWVyeSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBNb2RpZmllcyBxdWVyeSBzbyB0aGF0IGl0IG5vIGxvbmdlciBoYXMgJHJlbGF0ZWRUb1xuICAvLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcXVlcnkgaXMgbXV0YXRlZFxuICByZWR1Y2VSZWxhdGlvbktleXMoY2xhc3NOYW1lOiBzdHJpbmcsIHF1ZXJ5OiBhbnksIHF1ZXJ5T3B0aW9uczogYW55KTogP1Byb21pc2U8dm9pZD4ge1xuICAgIGlmIChxdWVyeVsnJG9yJ10pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgcXVlcnlbJyRvciddLm1hcChhUXVlcnkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlZHVjZVJlbGF0aW9uS2V5cyhjbGFzc05hbWUsIGFRdWVyeSwgcXVlcnlPcHRpb25zKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChxdWVyeVsnJGFuZCddKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIHF1ZXJ5WyckYW5kJ10ubWFwKGFRdWVyeSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlUmVsYXRpb25LZXlzKGNsYXNzTmFtZSwgYVF1ZXJ5LCBxdWVyeU9wdGlvbnMpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIHJlbGF0ZWRUbyA9IHF1ZXJ5WyckcmVsYXRlZFRvJ107XG4gICAgaWYgKHJlbGF0ZWRUbykge1xuICAgICAgcmV0dXJuIHRoaXMucmVsYXRlZElkcyhcbiAgICAgICAgcmVsYXRlZFRvLm9iamVjdC5jbGFzc05hbWUsXG4gICAgICAgIHJlbGF0ZWRUby5rZXksXG4gICAgICAgIHJlbGF0ZWRUby5vYmplY3Qub2JqZWN0SWQsXG4gICAgICAgIHF1ZXJ5T3B0aW9uc1xuICAgICAgKVxuICAgICAgICAudGhlbihpZHMgPT4ge1xuICAgICAgICAgIGRlbGV0ZSBxdWVyeVsnJHJlbGF0ZWRUbyddO1xuICAgICAgICAgIHRoaXMuYWRkSW5PYmplY3RJZHNJZHMoaWRzLCBxdWVyeSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlUmVsYXRpb25LZXlzKGNsYXNzTmFtZSwgcXVlcnksIHF1ZXJ5T3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHt9KTtcbiAgICB9XG4gIH1cblxuICBhZGRJbk9iamVjdElkc0lkcyhpZHM6ID9BcnJheTxzdHJpbmc+ID0gbnVsbCwgcXVlcnk6IGFueSkge1xuICAgIGNvbnN0IGlkc0Zyb21TdHJpbmc6ID9BcnJheTxzdHJpbmc+ID1cbiAgICAgIHR5cGVvZiBxdWVyeS5vYmplY3RJZCA9PT0gJ3N0cmluZycgPyBbcXVlcnkub2JqZWN0SWRdIDogbnVsbDtcbiAgICBjb25zdCBpZHNGcm9tRXE6ID9BcnJheTxzdHJpbmc+ID1cbiAgICAgIHF1ZXJ5Lm9iamVjdElkICYmIHF1ZXJ5Lm9iamVjdElkWyckZXEnXSA/IFtxdWVyeS5vYmplY3RJZFsnJGVxJ11dIDogbnVsbDtcbiAgICBjb25zdCBpZHNGcm9tSW46ID9BcnJheTxzdHJpbmc+ID1cbiAgICAgIHF1ZXJ5Lm9iamVjdElkICYmIHF1ZXJ5Lm9iamVjdElkWyckaW4nXSA/IHF1ZXJ5Lm9iamVjdElkWyckaW4nXSA6IG51bGw7XG5cbiAgICAvLyBAZmxvdy1kaXNhYmxlLW5leHRcbiAgICBjb25zdCBhbGxJZHM6IEFycmF5PEFycmF5PHN0cmluZz4+ID0gW2lkc0Zyb21TdHJpbmcsIGlkc0Zyb21FcSwgaWRzRnJvbUluLCBpZHNdLmZpbHRlcihcbiAgICAgIGxpc3QgPT4gbGlzdCAhPT0gbnVsbFxuICAgICk7XG4gICAgY29uc3QgdG90YWxMZW5ndGggPSBhbGxJZHMucmVkdWNlKChtZW1vLCBsaXN0KSA9PiBtZW1vICsgbGlzdC5sZW5ndGgsIDApO1xuXG4gICAgbGV0IGlkc0ludGVyc2VjdGlvbiA9IFtdO1xuICAgIGlmICh0b3RhbExlbmd0aCA+IDEyNSkge1xuICAgICAgaWRzSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0LmJpZyhhbGxJZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHNJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3QoYWxsSWRzKTtcbiAgICB9XG5cbiAgICAvLyBOZWVkIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBjbG9iYmVyIGV4aXN0aW5nIHNob3J0aGFuZCAkZXEgY29uc3RyYWludHMgb24gb2JqZWN0SWQuXG4gICAgaWYgKCEoJ29iamVjdElkJyBpbiBxdWVyeSkpIHtcbiAgICAgIHF1ZXJ5Lm9iamVjdElkID0ge1xuICAgICAgICAkaW46IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnkub2JqZWN0SWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBxdWVyeS5vYmplY3RJZCA9IHtcbiAgICAgICAgJGluOiB1bmRlZmluZWQsXG4gICAgICAgICRlcTogcXVlcnkub2JqZWN0SWQsXG4gICAgICB9O1xuICAgIH1cbiAgICBxdWVyeS5vYmplY3RJZFsnJGluJ10gPSBpZHNJbnRlcnNlY3Rpb247XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICBhZGROb3RJbk9iamVjdElkc0lkcyhpZHM6IHN0cmluZ1tdID0gW10sIHF1ZXJ5OiBhbnkpIHtcbiAgICBjb25zdCBpZHNGcm9tTmluID0gcXVlcnkub2JqZWN0SWQgJiYgcXVlcnkub2JqZWN0SWRbJyRuaW4nXSA/IHF1ZXJ5Lm9iamVjdElkWyckbmluJ10gOiBbXTtcbiAgICBsZXQgYWxsSWRzID0gWy4uLmlkc0Zyb21OaW4sIC4uLmlkc10uZmlsdGVyKGxpc3QgPT4gbGlzdCAhPT0gbnVsbCk7XG5cbiAgICAvLyBtYWtlIGEgc2V0IGFuZCBzcHJlYWQgdG8gcmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICBhbGxJZHMgPSBbLi4ubmV3IFNldChhbGxJZHMpXTtcblxuICAgIC8vIE5lZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IGNsb2JiZXIgZXhpc3Rpbmcgc2hvcnRoYW5kICRlcSBjb25zdHJhaW50cyBvbiBvYmplY3RJZC5cbiAgICBpZiAoISgnb2JqZWN0SWQnIGluIHF1ZXJ5KSkge1xuICAgICAgcXVlcnkub2JqZWN0SWQgPSB7XG4gICAgICAgICRuaW46IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnkub2JqZWN0SWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBxdWVyeS5vYmplY3RJZCA9IHtcbiAgICAgICAgJG5pbjogdW5kZWZpbmVkLFxuICAgICAgICAkZXE6IHF1ZXJ5Lm9iamVjdElkLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBxdWVyeS5vYmplY3RJZFsnJG5pbiddID0gYWxsSWRzO1xuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIC8vIFJ1bnMgYSBxdWVyeSBvbiB0aGUgZGF0YWJhc2UuXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBsaXN0IG9mIGl0ZW1zLlxuICAvLyBPcHRpb25zOlxuICAvLyAgIHNraXAgICAgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC5cbiAgLy8gICBsaW1pdCAgIGxpbWl0IHRvIHRoaXMgbnVtYmVyIG9mIHJlc3VsdHMuXG4gIC8vICAgc29ydCAgICBhbiBvYmplY3Qgd2hlcmUga2V5cyBhcmUgdGhlIGZpZWxkcyB0byBzb3J0IGJ5LlxuICAvLyAgICAgICAgICAgdGhlIHZhbHVlIGlzICsxIGZvciBhc2NlbmRpbmcsIC0xIGZvciBkZXNjZW5kaW5nLlxuICAvLyAgIGNvdW50ICAgcnVuIGEgY291bnQgaW5zdGVhZCBvZiByZXR1cm5pbmcgcmVzdWx0cy5cbiAgLy8gICBhY2wgICAgIHJlc3RyaWN0IHRoaXMgb3BlcmF0aW9uIHdpdGggYW4gQUNMIGZvciB0aGUgcHJvdmlkZWQgYXJyYXlcbiAgLy8gICAgICAgICAgIG9mIHVzZXIgb2JqZWN0SWRzIGFuZCByb2xlcy4gYWNsOiBudWxsIG1lYW5zIG5vIHVzZXIuXG4gIC8vICAgICAgICAgICB3aGVuIHRoaXMgZmllbGQgaXMgbm90IHByZXNlbnQsIGRvbid0IGRvIGFueXRoaW5nIHJlZ2FyZGluZyBBQ0xzLlxuICAvLyAgY2FzZUluc2Vuc2l0aXZlIG1ha2Ugc3RyaW5nIGNvbXBhcmlzb25zIGNhc2UgaW5zZW5zaXRpdmVcbiAgLy8gVE9ETzogbWFrZSB1c2VySWRzIG5vdCBuZWVkZWQgaGVyZS4gVGhlIGRiIGFkYXB0ZXIgc2hvdWxkbid0IGtub3dcbiAgLy8gYW55dGhpbmcgYWJvdXQgdXNlcnMsIGlkZWFsbHkuIFRoZW4sIGltcHJvdmUgdGhlIGZvcm1hdCBvZiB0aGUgQUNMXG4gIC8vIGFyZyB0byB3b3JrIGxpa2UgdGhlIG90aGVycy5cbiAgZmluZChcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBxdWVyeTogYW55LFxuICAgIHtcbiAgICAgIHNraXAsXG4gICAgICBsaW1pdCxcbiAgICAgIGFjbCxcbiAgICAgIHNvcnQgPSB7fSxcbiAgICAgIGNvdW50LFxuICAgICAga2V5cyxcbiAgICAgIG9wLFxuICAgICAgZGlzdGluY3QsXG4gICAgICBwaXBlbGluZSxcbiAgICAgIHJlYWRQcmVmZXJlbmNlLFxuICAgICAgaGludCxcbiAgICAgIGNhc2VJbnNlbnNpdGl2ZSA9IGZhbHNlLFxuICAgICAgZXhwbGFpbixcbiAgICB9OiBhbnkgPSB7fSxcbiAgICBhdXRoOiBhbnkgPSB7fSxcbiAgICB2YWxpZFNjaGVtYUNvbnRyb2xsZXI6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlclxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IGlzTWFzdGVyID0gYWNsID09PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgYWNsR3JvdXAgPSBhY2wgfHwgW107XG4gICAgb3AgPVxuICAgICAgb3AgfHwgKHR5cGVvZiBxdWVyeS5vYmplY3RJZCA9PSAnc3RyaW5nJyAmJiBPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoID09PSAxID8gJ2dldCcgOiAnZmluZCcpO1xuICAgIC8vIENvdW50IG9wZXJhdGlvbiBpZiBjb3VudGluZ1xuICAgIG9wID0gY291bnQgPT09IHRydWUgPyAnY291bnQnIDogb3A7XG5cbiAgICBsZXQgY2xhc3NFeGlzdHMgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWFJZk5lZWRlZCh2YWxpZFNjaGVtYUNvbnRyb2xsZXIpLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiB7XG4gICAgICAvL0FsbG93IHZvbGF0aWxlIGNsYXNzZXMgaWYgcXVlcnlpbmcgd2l0aCBNYXN0ZXIgKGZvciBfUHVzaFN0YXR1cylcbiAgICAgIC8vVE9ETzogTW92ZSB2b2xhdGlsZSBjbGFzc2VzIGNvbmNlcHQgaW50byBtb25nbyBhZGFwdGVyLCBwb3N0Z3JlcyBhZGFwdGVyIHNob3VsZG4ndCBjYXJlXG4gICAgICAvL3RoYXQgYXBpLnBhcnNlLmNvbSBicmVha3Mgd2hlbiBfUHVzaFN0YXR1cyBleGlzdHMgaW4gbW9uZ28uXG4gICAgICByZXR1cm4gc2NoZW1hQ29udHJvbGxlclxuICAgICAgICAuZ2V0T25lU2NoZW1hKGNsYXNzTmFtZSwgaXNNYXN0ZXIpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgLy8gQmVoYXZpb3IgZm9yIG5vbi1leGlzdGVudCBjbGFzc2VzIGlzIGtpbmRhIHdlaXJkIG9uIFBhcnNlLmNvbS4gUHJvYmFibHkgZG9lc24ndCBtYXR0ZXIgdG9vIG11Y2guXG4gICAgICAgICAgLy8gRm9yIG5vdywgcHJldGVuZCB0aGUgY2xhc3MgZXhpc3RzIGJ1dCBoYXMgbm8gb2JqZWN0cyxcbiAgICAgICAgICBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2xhc3NFeGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB7IGZpZWxkczoge30gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHNjaGVtYSA9PiB7XG4gICAgICAgICAgLy8gUGFyc2UuY29tIHRyZWF0cyBxdWVyaWVzIG9uIF9jcmVhdGVkX2F0IGFuZCBfdXBkYXRlZF9hdCBhcyBpZiB0aGV5IHdlcmUgcXVlcmllcyBvbiBjcmVhdGVkQXQgYW5kIHVwZGF0ZWRBdCxcbiAgICAgICAgICAvLyBzbyBkdXBsaWNhdGUgdGhhdCBiZWhhdmlvciBoZXJlLiBJZiBib3RoIGFyZSBzcGVjaWZpZWQsIHRoZSBjb3JyZWN0IGJlaGF2aW9yIHRvIG1hdGNoIFBhcnNlLmNvbSBpcyB0b1xuICAgICAgICAgIC8vIHVzZSB0aGUgb25lIHRoYXQgYXBwZWFycyBmaXJzdCBpbiB0aGUgc29ydCBsaXN0LlxuICAgICAgICAgIGlmIChzb3J0Ll9jcmVhdGVkX2F0KSB7XG4gICAgICAgICAgICBzb3J0LmNyZWF0ZWRBdCA9IHNvcnQuX2NyZWF0ZWRfYXQ7XG4gICAgICAgICAgICBkZWxldGUgc29ydC5fY3JlYXRlZF9hdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNvcnQuX3VwZGF0ZWRfYXQpIHtcbiAgICAgICAgICAgIHNvcnQudXBkYXRlZEF0ID0gc29ydC5fdXBkYXRlZF9hdDtcbiAgICAgICAgICAgIGRlbGV0ZSBzb3J0Ll91cGRhdGVkX2F0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBxdWVyeU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBza2lwLFxuICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIHJlYWRQcmVmZXJlbmNlLFxuICAgICAgICAgICAgaGludCxcbiAgICAgICAgICAgIGNhc2VJbnNlbnNpdGl2ZSxcbiAgICAgICAgICAgIGV4cGxhaW4sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhzb3J0KS5mb3JFYWNoKGZpZWxkTmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAoZmllbGROYW1lLm1hdGNoKC9eYXV0aERhdGFcXC4oW2EtekEtWjAtOV9dKylcXC5pZCQvKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9LRVlfTkFNRSwgYENhbm5vdCBzb3J0IGJ5ICR7ZmllbGROYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm9vdEZpZWxkTmFtZSA9IGdldFJvb3RGaWVsZE5hbWUoZmllbGROYW1lKTtcbiAgICAgICAgICAgIGlmICghU2NoZW1hQ29udHJvbGxlci5maWVsZE5hbWVJc1ZhbGlkKHJvb3RGaWVsZE5hbWUsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgZmllbGQgbmFtZTogJHtmaWVsZE5hbWV9LmBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gKGlzTWFzdGVyXG4gICAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICA6IHNjaGVtYUNvbnRyb2xsZXIudmFsaWRhdGVQZXJtaXNzaW9uKGNsYXNzTmFtZSwgYWNsR3JvdXAsIG9wKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMucmVkdWNlUmVsYXRpb25LZXlzKGNsYXNzTmFtZSwgcXVlcnksIHF1ZXJ5T3B0aW9ucykpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLnJlZHVjZUluUmVsYXRpb24oY2xhc3NOYW1lLCBxdWVyeSwgc2NoZW1hQ29udHJvbGxlcikpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBwcm90ZWN0ZWRGaWVsZHM7XG4gICAgICAgICAgICAgIGlmICghaXNNYXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHRoaXMuYWRkUG9pbnRlclBlcm1pc3Npb25zKFxuICAgICAgICAgICAgICAgICAgc2NoZW1hQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgIG9wLFxuICAgICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgICBhY2xHcm91cFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLyogRG9uJ3QgdXNlIHByb2plY3Rpb25zIHRvIG9wdGltaXplIHRoZSBwcm90ZWN0ZWRGaWVsZHMgc2luY2UgdGhlIHByb3RlY3RlZEZpZWxkc1xuICAgICAgICAgICAgICAgICAgYmFzZWQgb24gcG9pbnRlci1wZXJtaXNzaW9ucyBhcmUgZGV0ZXJtaW5lZCBhZnRlciBxdWVyeWluZy4gVGhlIGZpbHRlcmluZyBjYW5cbiAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZSB0aGUgcHJvdGVjdGVkIGZpZWxkcy4gKi9cbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWRGaWVsZHMgPSB0aGlzLmFkZFByb3RlY3RlZEZpZWxkcyhcbiAgICAgICAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIGFjbEdyb3VwLFxuICAgICAgICAgICAgICAgICAgYXV0aCxcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5T3B0aW9uc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICAgICAgICAgIGlmIChvcCA9PT0gJ2dldCcpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWlzTWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wID09PSAndXBkYXRlJyB8fCBvcCA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gYWRkV3JpdGVBQ0wocXVlcnksIGFjbEdyb3VwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcXVlcnkgPSBhZGRSZWFkQUNMKHF1ZXJ5LCBhY2xHcm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhbGlkYXRlUXVlcnkocXVlcnkpO1xuICAgICAgICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNsYXNzRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5jb3VudChcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICByZWFkUHJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBoaW50XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0aW5jdCkge1xuICAgICAgICAgICAgICAgIGlmICghY2xhc3NFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5kaXN0aW5jdChjbGFzc05hbWUsIHNjaGVtYSwgcXVlcnksIGRpc3RpbmN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlwZWxpbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNsYXNzRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuYWdncmVnYXRlKFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmUsXG4gICAgICAgICAgICAgICAgICAgIHJlYWRQcmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICBoaW50LFxuICAgICAgICAgICAgICAgICAgICBleHBsYWluXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChleHBsYWluKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5maW5kKGNsYXNzTmFtZSwgc2NoZW1hLCBxdWVyeSwgcXVlcnlPcHRpb25zKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGFwdGVyXG4gICAgICAgICAgICAgICAgICAuZmluZChjbGFzc05hbWUsIHNjaGVtYSwgcXVlcnksIHF1ZXJ5T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgIC50aGVuKG9iamVjdHMgPT5cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0cy5tYXAob2JqZWN0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSB1bnRyYW5zZm9ybU9iamVjdEFDTChvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTZW5zaXRpdmVEYXRhKFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXN0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2xHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm90ZWN0ZWRGaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVEVSTkFMX1NFUlZFUl9FUlJPUiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZVNjaGVtYShjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxldCBzY2hlbWFDb250cm9sbGVyO1xuICAgIHJldHVybiB0aGlzLmxvYWRTY2hlbWEoeyBjbGVhckNhY2hlOiB0cnVlIH0pXG4gICAgICAudGhlbihzID0+IHtcbiAgICAgICAgc2NoZW1hQ29udHJvbGxlciA9IHM7XG4gICAgICAgIHJldHVybiBzY2hlbWFDb250cm9sbGVyLmdldE9uZVNjaGVtYShjbGFzc05hbWUsIHRydWUpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGlmIChlcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZmllbGRzOiB7fSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKHNjaGVtYTogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25FeGlzdHMoY2xhc3NOYW1lKVxuICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuYWRhcHRlci5jb3VudChjbGFzc05hbWUsIHsgZmllbGRzOiB7fSB9LCBudWxsLCAnJywgZmFsc2UpKVxuICAgICAgICAgIC50aGVuKGNvdW50ID0+IHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICBgQ2xhc3MgJHtjbGFzc05hbWV9IGlzIG5vdCBlbXB0eSwgY29udGFpbnMgJHtjb3VudH0gb2JqZWN0cywgY2Fubm90IGRyb3Agc2NoZW1hLmBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZGVsZXRlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHdhc1BhcnNlQ29sbGVjdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAod2FzUGFyc2VDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uRmllbGROYW1lcyA9IE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpLmZpbHRlcihcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPT4gc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdLnR5cGUgPT09ICdSZWxhdGlvbidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uRmllbGROYW1lcy5tYXAobmFtZSA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmRlbGV0ZUNsYXNzKGpvaW5UYWJsZU5hbWUoY2xhc3NOYW1lLCBuYW1lKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgU2NoZW1hQ2FjaGUuZGVsKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVtYUNvbnRyb2xsZXIucmVsb2FkRGF0YSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gVGhpcyBoZWxwcyB0byBjcmVhdGUgaW50ZXJtZWRpYXRlIG9iamVjdHMgZm9yIHNpbXBsZXIgY29tcGFyaXNvbiBvZlxuICAvLyBrZXkgdmFsdWUgcGFpcnMgdXNlZCBpbiBxdWVyeSBvYmplY3RzLiBFYWNoIGtleSB2YWx1ZSBwYWlyIHdpbGwgcmVwcmVzZW50ZWRcbiAgLy8gaW4gYSBzaW1pbGFyIHdheSB0byBqc29uXG4gIG9iamVjdFRvRW50cmllc1N0cmluZ3MocXVlcnk6IGFueSk6IEFycmF5PHN0cmluZz4ge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhxdWVyeSkubWFwKGEgPT4gYS5tYXAocyA9PiBKU09OLnN0cmluZ2lmeShzKSkuam9pbignOicpKTtcbiAgfVxuXG4gIC8vIE5haXZlIGxvZ2ljIHJlZHVjZXIgZm9yIE9SIG9wZXJhdGlvbnMgbWVhbnQgdG8gYmUgdXNlZCBvbmx5IGZvciBwb2ludGVyIHBlcm1pc3Npb25zLlxuICByZWR1Y2VPck9wZXJhdGlvbihxdWVyeTogeyAkb3I6IEFycmF5PGFueT4gfSk6IGFueSB7XG4gICAgaWYgKCFxdWVyeS4kb3IpIHtcbiAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9XG4gICAgY29uc3QgcXVlcmllcyA9IHF1ZXJ5LiRvci5tYXAocSA9PiB0aGlzLm9iamVjdFRvRW50cmllc1N0cmluZ3MocSkpO1xuICAgIGxldCByZXBlYXQgPSBmYWxzZTtcbiAgICBkbyB7XG4gICAgICByZXBlYXQgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcmllcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgcXVlcmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IFtzaG9ydGVyLCBsb25nZXJdID0gcXVlcmllc1tpXS5sZW5ndGggPiBxdWVyaWVzW2pdLmxlbmd0aCA/IFtqLCBpXSA6IFtpLCBqXTtcbiAgICAgICAgICBjb25zdCBmb3VuZEVudHJpZXMgPSBxdWVyaWVzW3Nob3J0ZXJdLnJlZHVjZShcbiAgICAgICAgICAgIChhY2MsIGVudHJ5KSA9PiBhY2MgKyAocXVlcmllc1tsb25nZXJdLmluY2x1ZGVzKGVudHJ5KSA/IDEgOiAwKSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHNob3J0ZXJFbnRyaWVzID0gcXVlcmllc1tzaG9ydGVyXS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGZvdW5kRW50cmllcyA9PT0gc2hvcnRlckVudHJpZXMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBzaG9ydGVyIHF1ZXJ5IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkIGluIHRoZSBsb25nZXIgb25lLCB3ZSBjYW4gc3RyaWtlXG4gICAgICAgICAgICAvLyBvdXQgdGhlIGxvbmdlciBxdWVyeS5cbiAgICAgICAgICAgIHF1ZXJ5LiRvci5zcGxpY2UobG9uZ2VyLCAxKTtcbiAgICAgICAgICAgIHF1ZXJpZXMuc3BsaWNlKGxvbmdlciwgMSk7XG4gICAgICAgICAgICByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAocmVwZWF0KTtcbiAgICBpZiAocXVlcnkuJG9yLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcXVlcnkgPSB7IC4uLnF1ZXJ5LCAuLi5xdWVyeS4kb3JbMF0gfTtcbiAgICAgIGRlbGV0ZSBxdWVyeS4kb3I7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIC8vIE5haXZlIGxvZ2ljIHJlZHVjZXIgZm9yIEFORCBvcGVyYXRpb25zIG1lYW50IHRvIGJlIHVzZWQgb25seSBmb3IgcG9pbnRlciBwZXJtaXNzaW9ucy5cbiAgcmVkdWNlQW5kT3BlcmF0aW9uKHF1ZXJ5OiB7ICRhbmQ6IEFycmF5PGFueT4gfSk6IGFueSB7XG4gICAgaWYgKCFxdWVyeS4kYW5kKSB7XG4gICAgICByZXR1cm4gcXVlcnk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJpZXMgPSBxdWVyeS4kYW5kLm1hcChxID0+IHRoaXMub2JqZWN0VG9FbnRyaWVzU3RyaW5ncyhxKSk7XG4gICAgbGV0IHJlcGVhdCA9IGZhbHNlO1xuICAgIGRvIHtcbiAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWVyaWVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBxdWVyaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgW3Nob3J0ZXIsIGxvbmdlcl0gPSBxdWVyaWVzW2ldLmxlbmd0aCA+IHF1ZXJpZXNbal0ubGVuZ3RoID8gW2osIGldIDogW2ksIGpdO1xuICAgICAgICAgIGNvbnN0IGZvdW5kRW50cmllcyA9IHF1ZXJpZXNbc2hvcnRlcl0ucmVkdWNlKFxuICAgICAgICAgICAgKGFjYywgZW50cnkpID0+IGFjYyArIChxdWVyaWVzW2xvbmdlcl0uaW5jbHVkZXMoZW50cnkpID8gMSA6IDApLFxuICAgICAgICAgICAgMFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgc2hvcnRlckVudHJpZXMgPSBxdWVyaWVzW3Nob3J0ZXJdLmxlbmd0aDtcbiAgICAgICAgICBpZiAoZm91bmRFbnRyaWVzID09PSBzaG9ydGVyRW50cmllcykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHNob3J0ZXIgcXVlcnkgaXMgY29tcGxldGVseSBjb250YWluZWQgaW4gdGhlIGxvbmdlciBvbmUsIHdlIGNhbiBzdHJpa2VcbiAgICAgICAgICAgIC8vIG91dCB0aGUgc2hvcnRlciBxdWVyeS5cbiAgICAgICAgICAgIHF1ZXJ5LiRhbmQuc3BsaWNlKHNob3J0ZXIsIDEpO1xuICAgICAgICAgICAgcXVlcmllcy5zcGxpY2Uoc2hvcnRlciwgMSk7XG4gICAgICAgICAgICByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAocmVwZWF0KTtcbiAgICBpZiAocXVlcnkuJGFuZC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHF1ZXJ5ID0geyAuLi5xdWVyeSwgLi4ucXVlcnkuJGFuZFswXSB9O1xuICAgICAgZGVsZXRlIHF1ZXJ5LiRhbmQ7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIC8vIENvbnN0cmFpbnRzIHF1ZXJ5IHVzaW5nIENMUCdzIHBvaW50ZXIgcGVybWlzc2lvbnMgKFBQKSBpZiBhbnkuXG4gIC8vIDEuIEV0cmFjdCB0aGUgdXNlciBpZCBmcm9tIGNhbGxlcidzIEFDTGdyb3VwO1xuICAvLyAyLiBFeGN0cmFjdCBhIGxpc3Qgb2YgZmllbGQgbmFtZXMgdGhhdCBhcmUgUFAgZm9yIHRhcmdldCBjb2xsZWN0aW9uIGFuZCBvcGVyYXRpb247XG4gIC8vIDMuIENvbnN0cmFpbnQgdGhlIG9yaWdpbmFsIHF1ZXJ5IHNvIHRoYXQgZWFjaCBQUCBmaWVsZCBtdXN0XG4gIC8vIHBvaW50IHRvIGNhbGxlcidzIGlkIChvciBjb250YWluIGl0IGluIGNhc2Ugb2YgUFAgZmllbGQgYmVpbmcgYW4gYXJyYXkpXG4gIGFkZFBvaW50ZXJQZXJtaXNzaW9ucyhcbiAgICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBvcGVyYXRpb246IHN0cmluZyxcbiAgICBxdWVyeTogYW55LFxuICAgIGFjbEdyb3VwOiBhbnlbXSA9IFtdXG4gICk6IGFueSB7XG4gICAgLy8gQ2hlY2sgaWYgY2xhc3MgaGFzIHB1YmxpYyBwZXJtaXNzaW9uIGZvciBvcGVyYXRpb25cbiAgICAvLyBJZiB0aGUgQmFzZUNMUCBwYXNzLCBsZXQgZ28gdGhyb3VnaFxuICAgIGlmIChzY2hlbWEudGVzdFBlcm1pc3Npb25zRm9yQ2xhc3NOYW1lKGNsYXNzTmFtZSwgYWNsR3JvdXAsIG9wZXJhdGlvbikpIHtcbiAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9XG4gICAgY29uc3QgcGVybXMgPSBzY2hlbWEuZ2V0Q2xhc3NMZXZlbFBlcm1pc3Npb25zKGNsYXNzTmFtZSk7XG5cbiAgICBjb25zdCB1c2VyQUNMID0gYWNsR3JvdXAuZmlsdGVyKGFjbCA9PiB7XG4gICAgICByZXR1cm4gYWNsLmluZGV4T2YoJ3JvbGU6JykgIT0gMCAmJiBhY2wgIT0gJyonO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZ3JvdXBLZXkgPVxuICAgICAgWydnZXQnLCAnZmluZCcsICdjb3VudCddLmluZGV4T2Yob3BlcmF0aW9uKSA+IC0xID8gJ3JlYWRVc2VyRmllbGRzJyA6ICd3cml0ZVVzZXJGaWVsZHMnO1xuXG4gICAgY29uc3QgcGVybUZpZWxkcyA9IFtdO1xuXG4gICAgaWYgKHBlcm1zW29wZXJhdGlvbl0gJiYgcGVybXNbb3BlcmF0aW9uXS5wb2ludGVyRmllbGRzKSB7XG4gICAgICBwZXJtRmllbGRzLnB1c2goLi4ucGVybXNbb3BlcmF0aW9uXS5wb2ludGVyRmllbGRzKTtcbiAgICB9XG5cbiAgICBpZiAocGVybXNbZ3JvdXBLZXldKSB7XG4gICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHBlcm1zW2dyb3VwS2V5XSkge1xuICAgICAgICBpZiAoIXBlcm1GaWVsZHMuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgICAgcGVybUZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyB0aGUgQUNMIHNob3VsZCBoYXZlIGV4YWN0bHkgMSB1c2VyXG4gICAgaWYgKHBlcm1GaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gdGhlIEFDTCBzaG91bGQgaGF2ZSBleGFjdGx5IDEgdXNlclxuICAgICAgLy8gTm8gdXNlciBzZXQgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgLy8gSWYgdGhlIGxlbmd0aCBpcyA+IDEsIHRoYXQgbWVhbnMgd2UgZGlkbid0IGRlLWR1cGUgdXNlcnMgY29ycmVjdGx5XG4gICAgICBpZiAodXNlckFDTC5sZW5ndGggIT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB1c2VySWQgPSB1c2VyQUNMWzBdO1xuICAgICAgY29uc3QgdXNlclBvaW50ZXIgPSB7XG4gICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICBjbGFzc05hbWU6ICdfVXNlcicsXG4gICAgICAgIG9iamVjdElkOiB1c2VySWQsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBxdWVyaWVzID0gcGVybUZpZWxkcy5tYXAoa2V5ID0+IHtcbiAgICAgICAgY29uc3QgZmllbGREZXNjcmlwdG9yID0gc2NoZW1hLmdldEV4cGVjdGVkVHlwZShjbGFzc05hbWUsIGtleSk7XG4gICAgICAgIGNvbnN0IGZpZWxkVHlwZSA9XG4gICAgICAgICAgZmllbGREZXNjcmlwdG9yICYmXG4gICAgICAgICAgdHlwZW9mIGZpZWxkRGVzY3JpcHRvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZmllbGREZXNjcmlwdG9yLCAndHlwZScpXG4gICAgICAgICAgICA/IGZpZWxkRGVzY3JpcHRvci50eXBlXG4gICAgICAgICAgICA6IG51bGw7XG5cbiAgICAgICAgbGV0IHF1ZXJ5Q2xhdXNlO1xuXG4gICAgICAgIGlmIChmaWVsZFR5cGUgPT09ICdQb2ludGVyJykge1xuICAgICAgICAgIC8vIGNvbnN0cmFpbnQgZm9yIHNpbmdsZSBwb2ludGVyIHNldHVwXG4gICAgICAgICAgcXVlcnlDbGF1c2UgPSB7IFtrZXldOiB1c2VyUG9pbnRlciB9O1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkVHlwZSA9PT0gJ0FycmF5Jykge1xuICAgICAgICAgIC8vIGNvbnN0cmFpbnQgZm9yIHVzZXJzLWFycmF5IHNldHVwXG4gICAgICAgICAgcXVlcnlDbGF1c2UgPSB7IFtrZXldOiB7ICRhbGw6IFt1c2VyUG9pbnRlcl0gfSB9O1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkVHlwZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAvLyBjb25zdHJhaW50IGZvciBvYmplY3Qgc2V0dXBcbiAgICAgICAgICBxdWVyeUNsYXVzZSA9IHsgW2tleV06IHVzZXJQb2ludGVyIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHRoZXJlIGlzIGEgQ0xQIGZpZWxkIG9mIGFuIHVuZXhwZWN0ZWQgdHlwZS4gVGhpcyBjb25kaXRpb24gc2hvdWxkIG5vdCBoYXBwZW4sIHdoaWNoIGlzXG4gICAgICAgICAgLy8gd2h5IGlzIGJlaW5nIHRyZWF0ZWQgYXMgYW4gZXJyb3IuXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBgQW4gdW5leHBlY3RlZCBjb25kaXRpb24gb2NjdXJyZWQgd2hlbiByZXNvbHZpbmcgcG9pbnRlciBwZXJtaXNzaW9uczogJHtjbGFzc05hbWV9ICR7a2V5fWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGNvbnN0cmFpbnQgb24gdGhlIGtleSwgdXNlIHRoZSAkYW5kXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocXVlcnksIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZWR1Y2VBbmRPcGVyYXRpb24oeyAkYW5kOiBbcXVlcnlDbGF1c2UsIHF1ZXJ5XSB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UganVzdCBhZGQgdGhlIGNvbnN0YWludFxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcXVlcnksIHF1ZXJ5Q2xhdXNlKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcXVlcmllcy5sZW5ndGggPT09IDEgPyBxdWVyaWVzWzBdIDogdGhpcy5yZWR1Y2VPck9wZXJhdGlvbih7ICRvcjogcXVlcmllcyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgIH1cbiAgfVxuXG4gIGFkZFByb3RlY3RlZEZpZWxkcyhcbiAgICBzY2hlbWE6IFNjaGVtYUNvbnRyb2xsZXIuU2NoZW1hQ29udHJvbGxlcixcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICBxdWVyeTogYW55ID0ge30sXG4gICAgYWNsR3JvdXA6IGFueVtdID0gW10sXG4gICAgYXV0aDogYW55ID0ge30sXG4gICAgcXVlcnlPcHRpb25zOiBGdWxsUXVlcnlPcHRpb25zID0ge31cbiAgKTogbnVsbCB8IHN0cmluZ1tdIHtcbiAgICBjb25zdCBwZXJtcyA9IHNjaGVtYS5nZXRDbGFzc0xldmVsUGVybWlzc2lvbnMoY2xhc3NOYW1lKTtcbiAgICBpZiAoIXBlcm1zKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHByb3RlY3RlZEZpZWxkcyA9IHBlcm1zLnByb3RlY3RlZEZpZWxkcztcbiAgICBpZiAoIXByb3RlY3RlZEZpZWxkcykgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoYWNsR3JvdXAuaW5kZXhPZihxdWVyeS5vYmplY3RJZCkgPiAtMSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBmb3IgcXVlcmllcyB3aGVyZSBcImtleXNcIiBhcmUgc2V0IGFuZCBkbyBub3QgaW5jbHVkZSBhbGwgJ3VzZXJGaWVsZCc6e2ZpZWxkfSxcbiAgICAvLyB3ZSBoYXZlIHRvIHRyYW5zcGFyZW50bHkgaW5jbHVkZSBpdCwgYW5kIHRoZW4gcmVtb3ZlIGJlZm9yZSByZXR1cm5pbmcgdG8gY2xpZW50XG4gICAgLy8gQmVjYXVzZSBpZiBzdWNoIGtleSBub3QgcHJvamVjdGVkIHRoZSBwZXJtaXNzaW9uIHdvbid0IGJlIGVuZm9yY2VkIHByb3Blcmx5XG4gICAgLy8gUFMgdGhpcyBpcyBjYWxsZWQgd2hlbiAnZXhjbHVkZUtleXMnIGFscmVhZHkgcmVkdWNlZCB0byAna2V5cydcbiAgICBjb25zdCBwcmVzZXJ2ZUtleXMgPSBxdWVyeU9wdGlvbnMua2V5cztcblxuICAgIC8vIHRoZXNlIGFyZSBrZXlzIHRoYXQgbmVlZCB0byBiZSBpbmNsdWRlZCBvbmx5XG4gICAgLy8gdG8gYmUgYWJsZSB0byBhcHBseSBwcm90ZWN0ZWRGaWVsZHMgYnkgcG9pbnRlclxuICAgIC8vIGFuZCB0aGVuIHVuc2V0IGJlZm9yZSByZXR1cm5pbmcgdG8gY2xpZW50IChsYXRlciBpbiAgZmlsdGVyU2Vuc2l0aXZlRmllbGRzKVxuICAgIGNvbnN0IHNlcnZlck9ubHlLZXlzID0gW107XG5cbiAgICBjb25zdCBhdXRoZW50aWNhdGVkID0gYXV0aC51c2VyO1xuXG4gICAgLy8gbWFwIHRvIGFsbG93IGNoZWNrIHdpdGhvdXQgYXJyYXkgc2VhcmNoXG4gICAgY29uc3Qgcm9sZXMgPSAoYXV0aC51c2VyUm9sZXMgfHwgW10pLnJlZHVjZSgoYWNjLCByKSA9PiB7XG4gICAgICBhY2Nbcl0gPSBwcm90ZWN0ZWRGaWVsZHNbcl07XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcblxuICAgIC8vIGFycmF5IG9mIHNldHMgb2YgcHJvdGVjdGVkIGZpZWxkcy4gc2VwYXJhdGUgaXRlbSBmb3IgZWFjaCBhcHBsaWNhYmxlIGNyaXRlcmlhXG4gICAgY29uc3QgcHJvdGVjdGVkS2V5c1NldHMgPSBbXTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3RlY3RlZEZpZWxkcykge1xuICAgICAgLy8gc2tpcCB1c2VyRmllbGRzXG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ3VzZXJGaWVsZDonKSkge1xuICAgICAgICBpZiAocHJlc2VydmVLZXlzKSB7XG4gICAgICAgICAgY29uc3QgZmllbGROYW1lID0ga2V5LnN1YnN0cmluZygxMCk7XG4gICAgICAgICAgaWYgKCFwcmVzZXJ2ZUtleXMuaW5jbHVkZXMoZmllbGROYW1lKSkge1xuICAgICAgICAgICAgLy8gMS4gcHV0IGl0IHRoZXJlIHRlbXBvcmFyaWx5XG4gICAgICAgICAgICBxdWVyeU9wdGlvbnMua2V5cyAmJiBxdWVyeU9wdGlvbnMua2V5cy5wdXNoKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAvLyAyLiBwcmVzZXJ2ZSBpdCBkZWxldGUgbGF0ZXJcbiAgICAgICAgICAgIHNlcnZlck9ubHlLZXlzLnB1c2goZmllbGROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCBwdWJsaWMgdGllclxuICAgICAgaWYgKGtleSA9PT0gJyonKSB7XG4gICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocHJvdGVjdGVkRmllbGRzW2tleV0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2F1dGhlbnRpY2F0ZWQnKSB7XG4gICAgICAgICAgLy8gZm9yIGxvZ2dlZCBpbiB1c2Vyc1xuICAgICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocHJvdGVjdGVkRmllbGRzW2tleV0pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvbGVzW2tleV0gJiYga2V5LnN0YXJ0c1dpdGgoJ3JvbGU6JykpIHtcbiAgICAgICAgICAvLyBhZGQgYXBwbGljYWJsZSByb2xlc1xuICAgICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocm9sZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiB0aGVyZSdzIGEgcnVsZSBmb3IgY3VycmVudCB1c2VyJ3MgaWRcbiAgICBpZiAoYXV0aGVudGljYXRlZCkge1xuICAgICAgY29uc3QgdXNlcklkID0gYXV0aC51c2VyLmlkO1xuICAgICAgaWYgKHBlcm1zLnByb3RlY3RlZEZpZWxkc1t1c2VySWRdKSB7XG4gICAgICAgIHByb3RlY3RlZEtleXNTZXRzLnB1c2gocGVybXMucHJvdGVjdGVkRmllbGRzW3VzZXJJZF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHByZXNlcnZlIGZpZWxkcyB0byBiZSByZW1vdmVkIGJlZm9yZSBzZW5kaW5nIHJlc3BvbnNlIHRvIGNsaWVudFxuICAgIGlmIChzZXJ2ZXJPbmx5S2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICBwZXJtcy5wcm90ZWN0ZWRGaWVsZHMudGVtcG9yYXJ5S2V5cyA9IHNlcnZlck9ubHlLZXlzO1xuICAgIH1cblxuICAgIGxldCBwcm90ZWN0ZWRLZXlzID0gcHJvdGVjdGVkS2V5c1NldHMucmVkdWNlKChhY2MsIG5leHQpID0+IHtcbiAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgIGFjYy5wdXNoKC4uLm5leHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSk7XG5cbiAgICAvLyBpbnRlcnNlY3QgYWxsIHNldHMgb2YgcHJvdGVjdGVkRmllbGRzXG4gICAgcHJvdGVjdGVkS2V5c1NldHMuZm9yRWFjaChmaWVsZHMgPT4ge1xuICAgICAgaWYgKGZpZWxkcykge1xuICAgICAgICBwcm90ZWN0ZWRLZXlzID0gcHJvdGVjdGVkS2V5cy5maWx0ZXIodiA9PiBmaWVsZHMuaW5jbHVkZXModikpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb3RlY3RlZEtleXM7XG4gIH1cblxuICBjcmVhdGVUcmFuc2FjdGlvbmFsU2Vzc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmNyZWF0ZVRyYW5zYWN0aW9uYWxTZXNzaW9uKCkudGhlbih0cmFuc2FjdGlvbmFsU2Vzc2lvbiA9PiB7XG4gICAgICB0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvbiA9IHRyYW5zYWN0aW9uYWxTZXNzaW9uO1xuICAgIH0pO1xuICB9XG5cbiAgY29tbWl0VHJhbnNhY3Rpb25hbFNlc3Npb24oKSB7XG4gICAgaWYgKCF0aGlzLl90cmFuc2FjdGlvbmFsU2Vzc2lvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyB0cmFuc2FjdGlvbmFsIHNlc3Npb24gdG8gY29tbWl0Jyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuY29tbWl0VHJhbnNhY3Rpb25hbFNlc3Npb24odGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24gPSBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgYWJvcnRUcmFuc2FjdGlvbmFsU2Vzc2lvbigpIHtcbiAgICBpZiAoIXRoaXMuX3RyYW5zYWN0aW9uYWxTZXNzaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIHRyYW5zYWN0aW9uYWwgc2Vzc2lvbiB0byBhYm9ydCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyLmFib3J0VHJhbnNhY3Rpb25hbFNlc3Npb24odGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdHJhbnNhY3Rpb25hbFNlc3Npb24gPSBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETzogY3JlYXRlIGluZGV4ZXMgb24gZmlyc3QgY3JlYXRpb24gb2YgYSBfVXNlciBvYmplY3QuIE90aGVyd2lzZSBpdCdzIGltcG9zc2libGUgdG9cbiAgLy8gaGF2ZSBhIFBhcnNlIGFwcCB3aXRob3V0IGl0IGhhdmluZyBhIF9Vc2VyIGNvbGxlY3Rpb24uXG4gIGFzeW5jIHBlcmZvcm1Jbml0aWFsaXphdGlvbigpIHtcbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXIucGVyZm9ybUluaXRpYWxpemF0aW9uKHtcbiAgICAgIFZvbGF0aWxlQ2xhc3Nlc1NjaGVtYXM6IFNjaGVtYUNvbnRyb2xsZXIuVm9sYXRpbGVDbGFzc2VzU2NoZW1hcyxcbiAgICB9KTtcbiAgICBjb25zdCByZXF1aXJlZFVzZXJGaWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fRGVmYXVsdCxcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fVXNlcixcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCByZXF1aXJlZFJvbGVGaWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fRGVmYXVsdCxcbiAgICAgICAgLi4uU2NoZW1hQ29udHJvbGxlci5kZWZhdWx0Q29sdW1ucy5fUm9sZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCByZXF1aXJlZElkZW1wb3RlbmN5RmllbGRzID0ge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIC4uLlNjaGVtYUNvbnRyb2xsZXIuZGVmYXVsdENvbHVtbnMuX0RlZmF1bHQsXG4gICAgICAgIC4uLlNjaGVtYUNvbnRyb2xsZXIuZGVmYXVsdENvbHVtbnMuX0lkZW1wb3RlbmN5LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGF3YWl0IHRoaXMubG9hZFNjaGVtYSgpLnRoZW4oc2NoZW1hID0+IHNjaGVtYS5lbmZvcmNlQ2xhc3NFeGlzdHMoJ19Vc2VyJykpO1xuICAgIGF3YWl0IHRoaXMubG9hZFNjaGVtYSgpLnRoZW4oc2NoZW1hID0+IHNjaGVtYS5lbmZvcmNlQ2xhc3NFeGlzdHMoJ19Sb2xlJykpO1xuICAgIGlmICh0aGlzLmFkYXB0ZXIgaW5zdGFuY2VvZiBNb25nb1N0b3JhZ2VBZGFwdGVyKSB7XG4gICAgICBhd2FpdCB0aGlzLmxvYWRTY2hlbWEoKS50aGVuKHNjaGVtYSA9PiBzY2hlbWEuZW5mb3JjZUNsYXNzRXhpc3RzKCdfSWRlbXBvdGVuY3knKSk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hZGFwdGVyLmVuc3VyZVVuaXF1ZW5lc3MoJ19Vc2VyJywgcmVxdWlyZWRVc2VyRmllbGRzLCBbJ3VzZXJuYW1lJ10pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gZW5zdXJlIHVuaXF1ZW5lc3MgZm9yIHVzZXJuYW1lczogJywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXJcbiAgICAgIC5lbnN1cmVJbmRleCgnX1VzZXInLCByZXF1aXJlZFVzZXJGaWVsZHMsIFsndXNlcm5hbWUnXSwgJ2Nhc2VfaW5zZW5zaXRpdmVfdXNlcm5hbWUnLCB0cnVlKVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBjcmVhdGUgY2FzZSBpbnNlbnNpdGl2ZSB1c2VybmFtZSBpbmRleDogJywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICAgIGF3YWl0IHRoaXMuYWRhcHRlclxuICAgICAgLmVuc3VyZUluZGV4KCdfVXNlcicsIHJlcXVpcmVkVXNlckZpZWxkcywgWyd1c2VybmFtZSddLCAnY2FzZV9pbnNlbnNpdGl2ZV91c2VybmFtZScsIHRydWUpXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBsb2dnZXIud2FybignVW5hYmxlIHRvIGNyZWF0ZSBjYXNlIGluc2Vuc2l0aXZlIHVzZXJuYW1lIGluZGV4OiAnLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXIuZW5zdXJlVW5pcXVlbmVzcygnX1VzZXInLCByZXF1aXJlZFVzZXJGaWVsZHMsIFsnZW1haWwnXSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgbG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBlbnN1cmUgdW5pcXVlbmVzcyBmb3IgdXNlciBlbWFpbCBhZGRyZXNzZXM6ICcsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5hZGFwdGVyXG4gICAgICAuZW5zdXJlSW5kZXgoJ19Vc2VyJywgcmVxdWlyZWRVc2VyRmllbGRzLCBbJ2VtYWlsJ10sICdjYXNlX2luc2Vuc2l0aXZlX2VtYWlsJywgdHJ1ZSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gY3JlYXRlIGNhc2UgaW5zZW5zaXRpdmUgZW1haWwgaW5kZXg6ICcsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcblxuICAgIGF3YWl0IHRoaXMuYWRhcHRlci5lbnN1cmVVbmlxdWVuZXNzKCdfUm9sZScsIHJlcXVpcmVkUm9sZUZpZWxkcywgWyduYW1lJ10pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gZW5zdXJlIHVuaXF1ZW5lc3MgZm9yIHJvbGUgbmFtZTogJywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuYWRhcHRlciBpbnN0YW5jZW9mIE1vbmdvU3RvcmFnZUFkYXB0ZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMuYWRhcHRlclxuICAgICAgICAuZW5zdXJlVW5pcXVlbmVzcygnX0lkZW1wb3RlbmN5JywgcmVxdWlyZWRJZGVtcG90ZW5jeUZpZWxkcywgWydyZXFJZCddKVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gZW5zdXJlIHVuaXF1ZW5lc3MgZm9yIGlkZW1wb3RlbmN5IHJlcXVlc3QgSUQ6ICcsIGVycm9yKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHRoaXMuYWRhcHRlclxuICAgICAgICAuZW5zdXJlSW5kZXgoJ19JZGVtcG90ZW5jeScsIHJlcXVpcmVkSWRlbXBvdGVuY3lGaWVsZHMsIFsnZXhwaXJlJ10sICd0dGwnLCBmYWxzZSwge1xuICAgICAgICAgIHR0bDogMCxcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBsb2dnZXIud2FybignVW5hYmxlIHRvIGNyZWF0ZSBUVEwgaW5kZXggZm9yIGlkZW1wb3RlbmN5IGV4cGlyZSBkYXRlOiAnLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLmFkYXB0ZXIudXBkYXRlU2NoZW1hV2l0aEluZGV4ZXMoKTtcbiAgfVxuXG4gIHN0YXRpYyBfdmFsaWRhdGVRdWVyeTogYW55ID0+IHZvaWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YWJhc2VDb250cm9sbGVyO1xuLy8gRXhwb3NlIHZhbGlkYXRlUXVlcnkgZm9yIHRlc3RzXG5tb2R1bGUuZXhwb3J0cy5fdmFsaWRhdGVRdWVyeSA9IHZhbGlkYXRlUXVlcnk7XG4iXX0=