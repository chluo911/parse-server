"use strict";function cov_2hpl0ugve1(){var path="/parse-server/lib/Controllers/AnalyticsController.js";var hash="ddeb89fc9e4b8f519adf0f35e38963463aa2ac9b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Controllers/AnalyticsController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:55}},"2":{start:{line:8,column:27},end:{line:8,column:83}},"3":{start:{line:10,column:24},end:{line:10,column:73}},"4":{start:{line:12,column:39},end:{line:12,column:93}},"5":{start:{line:16,column:4},end:{line:26,column:7}},"6":{start:{line:17,column:6},end:{line:17,column:51}},"7":{start:{line:19,column:6},end:{line:21,column:8}},"8":{start:{line:23,column:6},end:{line:25,column:8}},"9":{start:{line:30,column:4},end:{line:40,column:7}},"10":{start:{line:31,column:6},end:{line:31,column:74}},"11":{start:{line:33,column:6},end:{line:35,column:8}},"12":{start:{line:37,column:6},end:{line:39,column:8}},"13":{start:{line:44,column:4},end:{line:44,column:46}},"14":{start:{line:49,column:0},end:{line:49,column:50}},"15":{start:{line:50,column:15},end:{line:50,column:34}},"16":{start:{line:51,column:0},end:{line:51,column:27}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:37},end:{line:12,column:95}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:17},end:{line:27,column:3}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:34},end:{line:16,column:35}},loc:{start:{line:16,column:40},end:{line:18,column:5}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:18,column:12},end:{line:18,column:13}},loc:{start:{line:18,column:24},end:{line:22,column:5}},line:18},"4":{name:"(anonymous_4)",decl:{start:{line:22,column:13},end:{line:22,column:14}},loc:{start:{line:22,column:19},end:{line:26,column:5}},line:22},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:18},end:{line:41,column:3}},line:29},"6":{name:"(anonymous_6)",decl:{start:{line:30,column:34},end:{line:30,column:35}},loc:{start:{line:30,column:40},end:{line:32,column:5}},line:30},"7":{name:"(anonymous_7)",decl:{start:{line:32,column:12},end:{line:32,column:13}},loc:{start:{line:32,column:24},end:{line:36,column:5}},line:32},"8":{name:"(anonymous_8)",decl:{start:{line:36,column:13},end:{line:36,column:14}},loc:{start:{line:36,column:19},end:{line:40,column:5}},line:36},"9":{name:"(anonymous_9)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:24},end:{line:45,column:3}},line:43}},branchMap:{"0":{loc:{start:{line:12,column:46},end:{line:12,column:92}},type:"cond-expr",locations:[{start:{line:12,column:70},end:{line:12,column:73}},{start:{line:12,column:76},end:{line:12,column:92}}],line:12},"1":{loc:{start:{line:12,column:46},end:{line:12,column:67}},type:"binary-expr",locations:[{start:{line:12,column:46},end:{line:12,column:49}},{start:{line:12,column:53},end:{line:12,column:67}}],line:12},"2":{loc:{start:{line:20,column:18},end:{line:20,column:32}},type:"binary-expr",locations:[{start:{line:20,column:18},end:{line:20,column:26}},{start:{line:20,column:30},end:{line:20,column:32}}],line:20},"3":{loc:{start:{line:34,column:18},end:{line:34,column:32}},type:"binary-expr",locations:[{start:{line:34,column:18},end:{line:34,column:26}},{start:{line:34,column:30},end:{line:34,column:32}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,sources:["../../src/Controllers/AnalyticsController.js"],names:["AnalyticsController","AdaptableController","appOpened","req","Promise","resolve","then","adapter","body","response","catch","trackEvent","params","eventName","expectedAdapterType","AnalyticsAdapter"],mappings:";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,mBAAN,SAAkCC,4BAAlC,CAAsD;AAC3DC,EAAAA,SAAS,CAACC,GAAD,EAAM;AACb,WAAOC,OAAO,CAACC,OAAR,GACJC,IADI,CACC,MAAM;AACV,aAAO,KAAKC,OAAL,CAAaL,SAAb,CAAuBC,GAAG,CAACK,IAA3B,EAAiCL,GAAjC,CAAP;AACD,KAHI,EAIJG,IAJI,CAICG,QAAQ,IAAI;AAChB,aAAO;AAAEA,QAAAA,QAAQ,EAAEA,QAAQ,IAAI;AAAxB,OAAP;AACD,KANI,EAOJC,KAPI,CAOE,MAAM;AACX,aAAO;AAAED,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD,KATI,CAAP;AAUD;;AAEDE,EAAAA,UAAU,CAACR,GAAD,EAAM;AACd,WAAOC,OAAO,CAACC,OAAR,GACJC,IADI,CACC,MAAM;AACV,aAAO,KAAKC,OAAL,CAAaI,UAAb,CAAwBR,GAAG,CAACS,MAAJ,CAAWC,SAAnC,EAA8CV,GAAG,CAACK,IAAlD,EAAwDL,GAAxD,CAAP;AACD,KAHI,EAIJG,IAJI,CAICG,QAAQ,IAAI;AAChB,aAAO;AAAEA,QAAAA,QAAQ,EAAEA,QAAQ,IAAI;AAAxB,OAAP;AACD,KANI,EAOJC,KAPI,CAOE,MAAM;AACX,aAAO;AAAED,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD,KATI,CAAP;AAUD;;AAEDK,EAAAA,mBAAmB,GAAG;AACpB,WAAOC,kCAAP;AACD;;AA7B0D;;;eAgC9Cf,mB",sourcesContent:["import AdaptableController from './AdaptableController';\nimport { AnalyticsAdapter } from '../Adapters/Analytics/AnalyticsAdapter';\n\nexport class AnalyticsController extends AdaptableController {\n  appOpened(req) {\n    return Promise.resolve()\n      .then(() => {\n        return this.adapter.appOpened(req.body, req);\n      })\n      .then(response => {\n        return { response: response || {} };\n      })\n      .catch(() => {\n        return { response: {} };\n      });\n  }\n\n  trackEvent(req) {\n    return Promise.resolve()\n      .then(() => {\n        return this.adapter.trackEvent(req.params.eventName, req.body, req);\n      })\n      .then(response => {\n        return { response: response || {} };\n      })\n      .catch(() => {\n        return { response: {} };\n      });\n  }\n\n  expectedAdapterType() {\n    return AnalyticsAdapter;\n  }\n}\n\nexport default AnalyticsController;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ddeb89fc9e4b8f519adf0f35e38963463aa2ac9b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2hpl0ugve1=function(){return actualCoverage;};}return actualCoverage;}cov_2hpl0ugve1();cov_2hpl0ugve1().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2hpl0ugve1().s[1]++;exports.default=exports.AnalyticsController=void 0;var _AdaptableController=(cov_2hpl0ugve1().s[2]++,_interopRequireDefault(require("./AdaptableController")));var _AnalyticsAdapter=(cov_2hpl0ugve1().s[3]++,require("../Adapters/Analytics/AnalyticsAdapter"));function _interopRequireDefault(obj){cov_2hpl0ugve1().f[0]++;cov_2hpl0ugve1().s[4]++;return(cov_2hpl0ugve1().b[1][0]++,obj)&&(cov_2hpl0ugve1().b[1][1]++,obj.__esModule)?(cov_2hpl0ugve1().b[0][0]++,obj):(cov_2hpl0ugve1().b[0][1]++,{default:obj});}class AnalyticsController extends(_AdaptableController.default){appOpened(req){cov_2hpl0ugve1().f[1]++;cov_2hpl0ugve1().s[5]++;return Promise.resolve().then(()=>{cov_2hpl0ugve1().f[2]++;cov_2hpl0ugve1().s[6]++;return this.adapter.appOpened(req.body,req);}).then(response=>{cov_2hpl0ugve1().f[3]++;cov_2hpl0ugve1().s[7]++;return{response:(cov_2hpl0ugve1().b[2][0]++,response)||(cov_2hpl0ugve1().b[2][1]++,{})};}).catch(()=>{cov_2hpl0ugve1().f[4]++;cov_2hpl0ugve1().s[8]++;return{response:{}};});}trackEvent(req){cov_2hpl0ugve1().f[5]++;cov_2hpl0ugve1().s[9]++;return Promise.resolve().then(()=>{cov_2hpl0ugve1().f[6]++;cov_2hpl0ugve1().s[10]++;return this.adapter.trackEvent(req.params.eventName,req.body,req);}).then(response=>{cov_2hpl0ugve1().f[7]++;cov_2hpl0ugve1().s[11]++;return{response:(cov_2hpl0ugve1().b[3][0]++,response)||(cov_2hpl0ugve1().b[3][1]++,{})};}).catch(()=>{cov_2hpl0ugve1().f[8]++;cov_2hpl0ugve1().s[12]++;return{response:{}};});}expectedAdapterType(){cov_2hpl0ugve1().f[9]++;cov_2hpl0ugve1().s[13]++;return _AnalyticsAdapter.AnalyticsAdapter;}}cov_2hpl0ugve1().s[14]++;exports.AnalyticsController=AnalyticsController;var _default=(cov_2hpl0ugve1().s[15]++,AnalyticsController);cov_2hpl0ugve1().s[16]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Db250cm9sbGVycy9BbmFseXRpY3NDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIkFuYWx5dGljc0NvbnRyb2xsZXIiLCJBZGFwdGFibGVDb250cm9sbGVyIiwiYXBwT3BlbmVkIiwicmVxIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiYWRhcHRlciIsImJvZHkiLCJyZXNwb25zZSIsImNhdGNoIiwidHJhY2tFdmVudCIsInBhcmFtcyIsImV2ZW50TmFtZSIsImV4cGVjdGVkQWRhcHRlclR5cGUiLCJBbmFseXRpY3NBZGFwdGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxNQUFNQSxtQkFBTixTQUFrQ0MsNEJBQWxDLENBQXNEO0FBQzNEQyxFQUFBQSxTQUFTLENBQUNDLEdBQUQsRUFBTTtBQUNiLFdBQU9DLE9BQU8sQ0FBQ0MsT0FBUixHQUNKQyxJQURJLENBQ0MsTUFBTTtBQUNWLGFBQU8sS0FBS0MsT0FBTCxDQUFhTCxTQUFiLENBQXVCQyxHQUFHLENBQUNLLElBQTNCLEVBQWlDTCxHQUFqQyxDQUFQO0FBQ0QsS0FISSxFQUlKRyxJQUpJLENBSUNHLFFBQVEsSUFBSTtBQUNoQixhQUFPO0FBQUVBLFFBQUFBLFFBQVEsRUFBRUEsUUFBUSxJQUFJO0FBQXhCLE9BQVA7QUFDRCxLQU5JLEVBT0pDLEtBUEksQ0FPRSxNQUFNO0FBQ1gsYUFBTztBQUFFRCxRQUFBQSxRQUFRLEVBQUU7QUFBWixPQUFQO0FBQ0QsS0FUSSxDQUFQO0FBVUQ7O0FBRURFLEVBQUFBLFVBQVUsQ0FBQ1IsR0FBRCxFQUFNO0FBQ2QsV0FBT0MsT0FBTyxDQUFDQyxPQUFSLEdBQ0pDLElBREksQ0FDQyxNQUFNO0FBQ1YsYUFBTyxLQUFLQyxPQUFMLENBQWFJLFVBQWIsQ0FBd0JSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXQyxTQUFuQyxFQUE4Q1YsR0FBRyxDQUFDSyxJQUFsRCxFQUF3REwsR0FBeEQsQ0FBUDtBQUNELEtBSEksRUFJSkcsSUFKSSxDQUlDRyxRQUFRLElBQUk7QUFDaEIsYUFBTztBQUFFQSxRQUFBQSxRQUFRLEVBQUVBLFFBQVEsSUFBSTtBQUF4QixPQUFQO0FBQ0QsS0FOSSxFQU9KQyxLQVBJLENBT0UsTUFBTTtBQUNYLGFBQU87QUFBRUQsUUFBQUEsUUFBUSxFQUFFO0FBQVosT0FBUDtBQUNELEtBVEksQ0FBUDtBQVVEOztBQUVESyxFQUFBQSxtQkFBbUIsR0FBRztBQUNwQixXQUFPQyxrQ0FBUDtBQUNEOztBQTdCMEQ7OztlQWdDOUNmLG1CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFkYXB0YWJsZUNvbnRyb2xsZXIgZnJvbSAnLi9BZGFwdGFibGVDb250cm9sbGVyJztcbmltcG9ydCB7IEFuYWx5dGljc0FkYXB0ZXIgfSBmcm9tICcuLi9BZGFwdGVycy9BbmFseXRpY3MvQW5hbHl0aWNzQWRhcHRlcic7XG5cbmV4cG9ydCBjbGFzcyBBbmFseXRpY3NDb250cm9sbGVyIGV4dGVuZHMgQWRhcHRhYmxlQ29udHJvbGxlciB7XG4gIGFwcE9wZW5lZChyZXEpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5hcHBPcGVuZWQocmVxLmJvZHksIHJlcSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXR1cm4geyByZXNwb25zZTogcmVzcG9uc2UgfHwge30gfTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICByZXR1cm4geyByZXNwb25zZToge30gfTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdHJhY2tFdmVudChyZXEpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci50cmFja0V2ZW50KHJlcS5wYXJhbXMuZXZlbnROYW1lLCByZXEuYm9keSwgcmVxKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJldHVybiB7IHJlc3BvbnNlOiByZXNwb25zZSB8fCB7fSB9O1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIHJldHVybiB7IHJlc3BvbnNlOiB7fSB9O1xuICAgICAgfSk7XG4gIH1cblxuICBleHBlY3RlZEFkYXB0ZXJUeXBlKCkge1xuICAgIHJldHVybiBBbmFseXRpY3NBZGFwdGVyO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFuYWx5dGljc0NvbnRyb2xsZXI7XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Db250cm9sbGVycy9BbmFseXRpY3NDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIkFkYXB0YWJsZUNvbnRyb2xsZXIiLCJhcHBPcGVuZWQiLCJyZXEiLCJyZXNwb25zZSIsInRyYWNrRXZlbnQiLCJleHBlY3RlZEFkYXB0ZXJUeXBlIiwiQW5hbHl0aWNzQWRhcHRlciIsIkFuYWx5dGljc0NvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJ5K0xBS1c7dVBBTFgsR0FBQSxDQUFBLG9CQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLHVCQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLGlCQUFBLDBCQUFBLE9BQUEsQ0FBQSx3Q0FBQSxDQUFBLENBQUEsQyxzUEFFTyxLQUFBLENBQUEsbUJBQUEsU0FBa0NBLG9CQUFBQSxDQUFsQyxPQUFBLENBQXNELENBQzNEQyxTQUFTLENBQUEsR0FBQSxDQUFNLGlEQUNiLE1BQU8sQ0FBQSxPQUFPLENBQVAsT0FBQSxHQUFBLElBQUEsQ0FDQyxJQUFNLGlEQUNWLE1BQU8sTUFBQSxPQUFBLENBQUEsU0FBQSxDQUF1QkMsR0FBRyxDQUExQixJQUFBLENBQVAsR0FBTyxDQUFQLENBRkcsQ0FBQSxFQUFBLElBQUEsQ0FJQ0MsUUFBUSxFQUFJLGlEQUNoQixNQUFPLENBQUVBLFFBQVEsQ0FBRUEsNEJBQUFBLFFBQVEsK0JBQUksRUFBSixDQUFwQixDQUFQLENBTEcsQ0FBQSxFQUFBLEtBQUEsQ0FPRSxJQUFNLGlEQUNYLE1BQU8sQ0FBRUEsUUFBUSxDQUFFLEVBQVosQ0FBUCxDQVJKLENBQU8sQ0FBUCxDQVVELENBRURDLFVBQVUsQ0FBQSxHQUFBLENBQU0saURBQ2QsTUFBTyxDQUFBLE9BQU8sQ0FBUCxPQUFBLEdBQUEsSUFBQSxDQUNDLElBQU0sa0RBQ1YsTUFBTyxNQUFBLE9BQUEsQ0FBQSxVQUFBLENBQXdCRixHQUFHLENBQUhBLE1BQUFBLENBQXhCLFNBQUEsQ0FBOENBLEdBQUcsQ0FBakQsSUFBQSxDQUFQLEdBQU8sQ0FBUCxDQUZHLENBQUEsRUFBQSxJQUFBLENBSUNDLFFBQVEsRUFBSSxrREFDaEIsTUFBTyxDQUFFQSxRQUFRLENBQUVBLDRCQUFBQSxRQUFRLCtCQUFJLEVBQUosQ0FBcEIsQ0FBUCxDQUxHLENBQUEsRUFBQSxLQUFBLENBT0UsSUFBTSxrREFDWCxNQUFPLENBQUVBLFFBQVEsQ0FBRSxFQUFaLENBQVAsQ0FSSixDQUFPLENBQVAsQ0FVRCxDQUVERSxtQkFBbUIsRUFBRyxrREFDcEIsTUFBT0MsQ0FBQUEsaUJBQUFBLENBQVAsZ0JBQUEsQ0FDRCxDQTdCMEQsQyxnSEFnQzlDQyxtQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBZGFwdGFibGVDb250cm9sbGVyIGZyb20gJy4vQWRhcHRhYmxlQ29udHJvbGxlcic7XG5pbXBvcnQgeyBBbmFseXRpY3NBZGFwdGVyIH0gZnJvbSAnLi4vQWRhcHRlcnMvQW5hbHl0aWNzL0FuYWx5dGljc0FkYXB0ZXInO1xuXG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzQ29udHJvbGxlciBleHRlbmRzIEFkYXB0YWJsZUNvbnRyb2xsZXIge1xuICBhcHBPcGVuZWQocmVxKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuYXBwT3BlbmVkKHJlcS5ib2R5LCByZXEpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2U6IHJlc3BvbnNlIHx8IHt9IH07XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2U6IHt9IH07XG4gICAgICB9KTtcbiAgfVxuXG4gIHRyYWNrRXZlbnQocmVxKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIudHJhY2tFdmVudChyZXEucGFyYW1zLmV2ZW50TmFtZSwgcmVxLmJvZHksIHJlcSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXR1cm4geyByZXNwb25zZTogcmVzcG9uc2UgfHwge30gfTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICByZXR1cm4geyByZXNwb25zZToge30gfTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhwZWN0ZWRBZGFwdGVyVHlwZSgpIHtcbiAgICByZXR1cm4gQW5hbHl0aWNzQWRhcHRlcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBbmFseXRpY3NDb250cm9sbGVyO1xuIl19