"use strict";function cov_1z5tl85lpt(){var path="/parse-server/lib/LiveQuery/equalObjects.js";var hash="b490866cc7393a6fd6dca1b3014b01bc13ac05c5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/LiveQuery/equalObjects.js",statementMap:{"0":{start:{line:3,column:15},end:{line:3,column:40}},"1":{start:{line:10,column:2},end:{line:12,column:3}},"2":{start:{line:11,column:4},end:{line:11,column:17}},"3":{start:{line:14,column:2},end:{line:16,column:3}},"4":{start:{line:15,column:4},end:{line:15,column:19}},"5":{start:{line:18,column:2},end:{line:20,column:3}},"6":{start:{line:19,column:4},end:{line:19,column:16}},"7":{start:{line:22,column:2},end:{line:28,column:3}},"8":{start:{line:23,column:4},end:{line:25,column:5}},"9":{start:{line:24,column:6},end:{line:24,column:23}},"10":{start:{line:27,column:4},end:{line:27,column:17}},"11":{start:{line:30,column:2},end:{line:46,column:3}},"12":{start:{line:31,column:4},end:{line:43,column:5}},"13":{start:{line:32,column:6},end:{line:34,column:7}},"14":{start:{line:33,column:8},end:{line:33,column:21}},"15":{start:{line:36,column:6},end:{line:40,column:7}},"16":{start:{line:36,column:19},end:{line:36,column:20}},"17":{start:{line:37,column:8},end:{line:39,column:9}},"18":{start:{line:38,column:10},end:{line:38,column:23}},"19":{start:{line:42,column:6},end:{line:42,column:18}},"20":{start:{line:45,column:4},end:{line:45,column:17}},"21":{start:{line:48,column:2},end:{line:50,column:3}},"22":{start:{line:49,column:4},end:{line:49,column:17}},"23":{start:{line:52,column:2},end:{line:56,column:3}},"24":{start:{line:53,column:4},end:{line:55,column:5}},"25":{start:{line:54,column:6},end:{line:54,column:19}},"26":{start:{line:58,column:2},end:{line:58,column:14}},"27":{start:{line:61,column:0},end:{line:61,column:30}}},fnMap:{"0":{name:"equalObjects",decl:{start:{line:9,column:9},end:{line:9,column:21}},loc:{start:{line:9,column:28},end:{line:59,column:1}},line:9}},branchMap:{"0":{loc:{start:{line:10,column:2},end:{line:12,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:12,column:3}},{start:{line:10,column:2},end:{line:12,column:3}}],line:10},"1":{loc:{start:{line:14,column:2},end:{line:16,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:16,column:3}},{start:{line:14,column:2},end:{line:16,column:3}}],line:14},"2":{loc:{start:{line:18,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:20,column:3}},{start:{line:18,column:2},end:{line:20,column:3}}],line:18},"3":{loc:{start:{line:22,column:2},end:{line:28,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:28,column:3}},{start:{line:22,column:2},end:{line:28,column:3}}],line:22},"4":{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:23,column:4},end:{line:25,column:5}}],line:23},"5":{loc:{start:{line:30,column:2},end:{line:46,column:3}},type:"if",locations:[{start:{line:30,column:2},end:{line:46,column:3}},{start:{line:30,column:2},end:{line:46,column:3}}],line:30},"6":{loc:{start:{line:31,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:31,column:4},end:{line:43,column:5}},{start:{line:31,column:4},end:{line:43,column:5}}],line:31},"7":{loc:{start:{line:32,column:6},end:{line:34,column:7}},type:"if",locations:[{start:{line:32,column:6},end:{line:34,column:7}},{start:{line:32,column:6},end:{line:34,column:7}}],line:32},"8":{loc:{start:{line:37,column:8},end:{line:39,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:39,column:9}},{start:{line:37,column:8},end:{line:39,column:9}}],line:37},"9":{loc:{start:{line:48,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:48,column:2},end:{line:50,column:3}},{start:{line:48,column:2},end:{line:50,column:3}}],line:48},"10":{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:53,column:4},end:{line:55,column:5}}],line:53}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},inputSourceMap:{version:3,sources:["../../src/LiveQuery/equalObjects.js"],names:["toString","Object","prototype","equalObjects","a","b","call","Array","isArray","length","i","keys","key","module","exports"],mappings:";;AAAA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,SAAP,CAAiBF,QAAhC;AAEA;AACA;AACA;AACA;;AACA,SAASG,YAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;AAC1B,MAAI,OAAOD,CAAP,KAAa,OAAOC,CAAxB,EAA2B;AACzB,WAAO,KAAP;AACD;;AACD,MAAI,OAAOD,CAAP,KAAa,QAAjB,EAA2B;AACzB,WAAOA,CAAC,KAAKC,CAAb;AACD;;AACD,MAAID,CAAC,KAAKC,CAAV,EAAa;AACX,WAAO,IAAP;AACD;;AACD,MAAIL,QAAQ,CAACM,IAAT,CAAcF,CAAd,MAAqB,eAAzB,EAA0C;AACxC,QAAIJ,QAAQ,CAACM,IAAT,CAAcD,CAAd,MAAqB,eAAzB,EAA0C;AACxC,aAAO,CAACD,CAAD,KAAO,CAACC,CAAf;AACD;;AACD,WAAO,KAAP;AACD;;AACD,MAAIE,KAAK,CAACC,OAAN,CAAcJ,CAAd,CAAJ,EAAsB;AACpB,QAAIG,KAAK,CAACC,OAAN,CAAcH,CAAd,CAAJ,EAAsB;AACpB,UAAID,CAAC,CAACK,MAAF,KAAaJ,CAAC,CAACI,MAAnB,EAA2B;AACzB,eAAO,KAAP;AACD;;AACD,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,CAAC,CAACK,MAAtB,EAA8BC,CAAC,EAA/B,EAAmC;AACjC,YAAI,CAACP,YAAY,CAACC,CAAC,CAACM,CAAD,CAAF,EAAOL,CAAC,CAACK,CAAD,CAAR,CAAjB,EAA+B;AAC7B,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD;;AACD,WAAO,KAAP;AACD;;AACD,MAAIT,MAAM,CAACU,IAAP,CAAYP,CAAZ,EAAeK,MAAf,KAA0BR,MAAM,CAACU,IAAP,CAAYN,CAAZ,EAAeI,MAA7C,EAAqD;AACnD,WAAO,KAAP;AACD;;AACD,OAAK,IAAIG,GAAT,IAAgBR,CAAhB,EAAmB;AACjB,QAAI,CAACD,YAAY,CAACC,CAAC,CAACQ,GAAD,CAAF,EAASP,CAAC,CAACO,GAAD,CAAV,CAAjB,EAAmC;AACjC,aAAO,KAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiBX,YAAjB",sourcesContent:["var toString = Object.prototype.toString;\n\n/**\n * Determines whether two objects represent the same primitive, special Parse\n * type, or full Parse Object.\n */\nfunction equalObjects(a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a !== 'object') {\n    return a === b;\n  }\n  if (a === b) {\n    return true;\n  }\n  if (toString.call(a) === '[object Date]') {\n    if (toString.call(b) === '[object Date]') {\n      return +a === +b;\n    }\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (Array.isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n      for (var i = 0; i < a.length; i++) {\n        if (!equalObjects(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (var key in a) {\n    if (!equalObjects(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = equalObjects;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b490866cc7393a6fd6dca1b3014b01bc13ac05c5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1z5tl85lpt=function(){return actualCoverage;};}return actualCoverage;}cov_1z5tl85lpt();var toString=(cov_1z5tl85lpt().s[0]++,Object.prototype.toString);/**
 * Determines whether two objects represent the same primitive, special Parse
 * type, or full Parse Object.
 */function equalObjects(a,b){cov_1z5tl85lpt().f[0]++;cov_1z5tl85lpt().s[1]++;if(typeof a!==typeof b){cov_1z5tl85lpt().b[0][0]++;cov_1z5tl85lpt().s[2]++;return false;}else{cov_1z5tl85lpt().b[0][1]++;}cov_1z5tl85lpt().s[3]++;if(typeof a!=='object'){cov_1z5tl85lpt().b[1][0]++;cov_1z5tl85lpt().s[4]++;return a===b;}else{cov_1z5tl85lpt().b[1][1]++;}cov_1z5tl85lpt().s[5]++;if(a===b){cov_1z5tl85lpt().b[2][0]++;cov_1z5tl85lpt().s[6]++;return true;}else{cov_1z5tl85lpt().b[2][1]++;}cov_1z5tl85lpt().s[7]++;if(toString.call(a)==='[object Date]'){cov_1z5tl85lpt().b[3][0]++;cov_1z5tl85lpt().s[8]++;if(toString.call(b)==='[object Date]'){cov_1z5tl85lpt().b[4][0]++;cov_1z5tl85lpt().s[9]++;return+a===+b;}else{cov_1z5tl85lpt().b[4][1]++;}cov_1z5tl85lpt().s[10]++;return false;}else{cov_1z5tl85lpt().b[3][1]++;}cov_1z5tl85lpt().s[11]++;if(Array.isArray(a)){cov_1z5tl85lpt().b[5][0]++;cov_1z5tl85lpt().s[12]++;if(Array.isArray(b)){cov_1z5tl85lpt().b[6][0]++;cov_1z5tl85lpt().s[13]++;if(a.length!==b.length){cov_1z5tl85lpt().b[7][0]++;cov_1z5tl85lpt().s[14]++;return false;}else{cov_1z5tl85lpt().b[7][1]++;}cov_1z5tl85lpt().s[15]++;for(var i=(cov_1z5tl85lpt().s[16]++,0);i<a.length;i++){cov_1z5tl85lpt().s[17]++;if(!equalObjects(a[i],b[i])){cov_1z5tl85lpt().b[8][0]++;cov_1z5tl85lpt().s[18]++;return false;}else{cov_1z5tl85lpt().b[8][1]++;}}cov_1z5tl85lpt().s[19]++;return true;}else{cov_1z5tl85lpt().b[6][1]++;}cov_1z5tl85lpt().s[20]++;return false;}else{cov_1z5tl85lpt().b[5][1]++;}cov_1z5tl85lpt().s[21]++;if(Object.keys(a).length!==Object.keys(b).length){cov_1z5tl85lpt().b[9][0]++;cov_1z5tl85lpt().s[22]++;return false;}else{cov_1z5tl85lpt().b[9][1]++;}cov_1z5tl85lpt().s[23]++;for(var key in a){cov_1z5tl85lpt().s[24]++;if(!equalObjects(a[key],b[key])){cov_1z5tl85lpt().b[10][0]++;cov_1z5tl85lpt().s[25]++;return false;}else{cov_1z5tl85lpt().b[10][1]++;}}cov_1z5tl85lpt().s[26]++;return true;}cov_1z5tl85lpt().s[27]++;module.exports=equalObjects;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9MaXZlUXVlcnkvZXF1YWxPYmplY3RzLmpzIl0sIm5hbWVzIjpbInRvU3RyaW5nIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiZXF1YWxPYmplY3RzIiwiYSIsImIiLCJjYWxsIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaSIsImtleXMiLCJrZXkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVEsR0FBR0MsTUFBTSxDQUFDQyxTQUFQLENBQWlCRixRQUFoQztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFNBQVNHLFlBQVQsQ0FBc0JDLENBQXRCLEVBQXlCQyxDQUF6QixFQUE0QjtBQUMxQixNQUFJLE9BQU9ELENBQVAsS0FBYSxPQUFPQyxDQUF4QixFQUEyQjtBQUN6QixXQUFPLEtBQVA7QUFDRDs7QUFDRCxNQUFJLE9BQU9ELENBQVAsS0FBYSxRQUFqQixFQUEyQjtBQUN6QixXQUFPQSxDQUFDLEtBQUtDLENBQWI7QUFDRDs7QUFDRCxNQUFJRCxDQUFDLEtBQUtDLENBQVYsRUFBYTtBQUNYLFdBQU8sSUFBUDtBQUNEOztBQUNELE1BQUlMLFFBQVEsQ0FBQ00sSUFBVCxDQUFjRixDQUFkLE1BQXFCLGVBQXpCLEVBQTBDO0FBQ3hDLFFBQUlKLFFBQVEsQ0FBQ00sSUFBVCxDQUFjRCxDQUFkLE1BQXFCLGVBQXpCLEVBQTBDO0FBQ3hDLGFBQU8sQ0FBQ0QsQ0FBRCxLQUFPLENBQUNDLENBQWY7QUFDRDs7QUFDRCxXQUFPLEtBQVA7QUFDRDs7QUFDRCxNQUFJRSxLQUFLLENBQUNDLE9BQU4sQ0FBY0osQ0FBZCxDQUFKLEVBQXNCO0FBQ3BCLFFBQUlHLEtBQUssQ0FBQ0MsT0FBTixDQUFjSCxDQUFkLENBQUosRUFBc0I7QUFDcEIsVUFBSUQsQ0FBQyxDQUFDSyxNQUFGLEtBQWFKLENBQUMsQ0FBQ0ksTUFBbkIsRUFBMkI7QUFDekIsZUFBTyxLQUFQO0FBQ0Q7O0FBQ0QsV0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHTixDQUFDLENBQUNLLE1BQXRCLEVBQThCQyxDQUFDLEVBQS9CLEVBQW1DO0FBQ2pDLFlBQUksQ0FBQ1AsWUFBWSxDQUFDQyxDQUFDLENBQUNNLENBQUQsQ0FBRixFQUFPTCxDQUFDLENBQUNLLENBQUQsQ0FBUixDQUFqQixFQUErQjtBQUM3QixpQkFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFDRCxhQUFPLElBQVA7QUFDRDs7QUFDRCxXQUFPLEtBQVA7QUFDRDs7QUFDRCxNQUFJVCxNQUFNLENBQUNVLElBQVAsQ0FBWVAsQ0FBWixFQUFlSyxNQUFmLEtBQTBCUixNQUFNLENBQUNVLElBQVAsQ0FBWU4sQ0FBWixFQUFlSSxNQUE3QyxFQUFxRDtBQUNuRCxXQUFPLEtBQVA7QUFDRDs7QUFDRCxPQUFLLElBQUlHLEdBQVQsSUFBZ0JSLENBQWhCLEVBQW1CO0FBQ2pCLFFBQUksQ0FBQ0QsWUFBWSxDQUFDQyxDQUFDLENBQUNRLEdBQUQsQ0FBRixFQUFTUCxDQUFDLENBQUNPLEdBQUQsQ0FBVixDQUFqQixFQUFtQztBQUNqQyxhQUFPLEtBQVA7QUFDRDtBQUNGOztBQUNELFNBQU8sSUFBUDtBQUNEOztBQUVEQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLFlBQWpCIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdHdvIG9iamVjdHMgcmVwcmVzZW50IHRoZSBzYW1lIHByaW1pdGl2ZSwgc3BlY2lhbCBQYXJzZVxuICogdHlwZSwgb3IgZnVsbCBQYXJzZSBPYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhhLCBiKSB7XG4gIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBhICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHRvU3RyaW5nLmNhbGwoYSkgPT09ICdbb2JqZWN0IERhdGVdJykge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKGIpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWVxdWFsT2JqZWN0cyhhW2ldLCBiW2ldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoT2JqZWN0LmtleXMoYSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIGEpIHtcbiAgICBpZiAoIWVxdWFsT2JqZWN0cyhhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXF1YWxPYmplY3RzO1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9MaXZlUXVlcnkvZXF1YWxPYmplY3RzLmpzIl0sIm5hbWVzIjpbInRvU3RyaW5nIiwiT2JqZWN0IiwiYSIsIkFycmF5IiwiYiIsImkiLCJlcXVhbE9iamVjdHMiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJxaU9BWUc7MkZBWkgsR0FBSUEsQ0FBQUEsUUFBUSwwQkFBR0MsTUFBTSxDQUFOQSxTQUFBQSxDQUFmLFFBQVksQ0FBWixDQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQ0EsUUFBQSxDQUFBLFlBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUE0QixpREFDMUIsR0FBSSxNQUFBLENBQUEsQ0FBQSxHQUFhLE1BQWpCLENBQUEsQ0FBQSxDQUEyQixvREFDekIsTUFBQSxNQUFBLENBQ0QsQ0FGRCxpQ0FEMEIsd0JBSTFCLEdBQUksTUFBQSxDQUFBLENBQUEsR0FBSixRQUFBLENBQTJCLG9EQUN6QixNQUFPQyxDQUFBQSxDQUFDLEdBQVIsQ0FBQSxDQUNELENBRkQsaUNBSjBCLHdCQU8xQixHQUFJQSxDQUFDLEdBQUwsQ0FBQSxDQUFhLG9EQUNYLE1BQUEsS0FBQSxDQUNELENBRkQsaUNBUDBCLHdCQVUxQixHQUFJRixRQUFRLENBQVJBLElBQUFBLENBQUFBLENBQUFBLElBQUosZUFBQSxDQUEwQyxvREFDeEMsR0FBSUEsUUFBUSxDQUFSQSxJQUFBQSxDQUFBQSxDQUFBQSxJQUFKLGVBQUEsQ0FBMEMsb0RBQ3hDLE1BQU8sQ0FBQSxDQUFBLEdBQU8sQ0FBZCxDQUFBLENBQ0QsQ0FGRCxpQ0FEd0MseUJBSXhDLE1BQUEsTUFBQSxDQUNELENBTEQsaUNBVjBCLHlCQWdCMUIsR0FBSUcsS0FBSyxDQUFMQSxPQUFBQSxDQUFKLENBQUlBLENBQUosQ0FBc0IscURBQ3BCLEdBQUlBLEtBQUssQ0FBTEEsT0FBQUEsQ0FBSixDQUFJQSxDQUFKLENBQXNCLHFEQUNwQixHQUFJRCxDQUFDLENBQURBLE1BQUFBLEdBQWFFLENBQUMsQ0FBbEIsTUFBQSxDQUEyQixxREFDekIsTUFBQSxNQUFBLENBQ0QsQ0FGRCxpQ0FEb0IseUJBSXBCLElBQUssR0FBSUMsQ0FBQUEsQ0FBQywyQkFBVixDQUFVLENBQVYsQ0FBZ0JBLENBQUMsQ0FBR0gsQ0FBQyxDQUFyQixNQUFBLENBQThCRyxDQUE5QixFQUFBLENBQW1DLDBCQUNqQyxHQUFJLENBQUNDLFlBQVksQ0FBQ0osQ0FBQyxDQUFGLENBQUUsQ0FBRixDQUFPRSxDQUFDLENBQXpCLENBQXlCLENBQVIsQ0FBakIsQ0FBK0IscURBQzdCLE1BQUEsTUFBQSxDQUNELENBRkQsaUNBR0QsQ0FSbUIseUJBU3BCLE1BQUEsS0FBQSxDQUNELENBVkQsaUNBRG9CLHlCQVlwQixNQUFBLE1BQUEsQ0FDRCxDQWJELGlDQWhCMEIseUJBOEIxQixHQUFJSCxNQUFNLENBQU5BLElBQUFBLENBQUFBLENBQUFBLEVBQUFBLE1BQUFBLEdBQTBCQSxNQUFNLENBQU5BLElBQUFBLENBQUFBLENBQUFBLEVBQTlCLE1BQUEsQ0FBcUQscURBQ25ELE1BQUEsTUFBQSxDQUNELENBRkQsaUNBOUIwQix5QkFpQzFCLElBQUssR0FBTCxDQUFBLEdBQUEsR0FBQSxDQUFBLENBQUEsQ0FBbUIsMEJBQ2pCLEdBQUksQ0FBQ0ssWUFBWSxDQUFDSixDQUFDLENBQUYsR0FBRSxDQUFGLENBQVNFLENBQUMsQ0FBM0IsR0FBMkIsQ0FBVixDQUFqQixDQUFtQyxzREFDakMsTUFBQSxNQUFBLENBQ0QsQ0FGRCxrQ0FHRCxDQXJDeUIseUJBc0MxQixNQUFBLEtBQUEsQ0FDRCxDLHlCQUVERyxNQUFNLENBQU5BLE9BQUFBLENBQUFBLFlBQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0d28gb2JqZWN0cyByZXByZXNlbnQgdGhlIHNhbWUgcHJpbWl0aXZlLCBzcGVjaWFsIFBhcnNlXG4gKiB0eXBlLCBvciBmdWxsIFBhcnNlIE9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGEgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodG9TdHJpbmcuY2FsbChhKSA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwoYikgPT09ICdbb2JqZWN0IERhdGVdJykge1xuICAgICAgcmV0dXJuICthID09PSArYjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghZXF1YWxPYmplY3RzKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChPYmplY3Qua2V5cyhhKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKHZhciBrZXkgaW4gYSkge1xuICAgIGlmICghZXF1YWxPYmplY3RzKGFba2V5XSwgYltrZXldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcXVhbE9iamVjdHM7XG4iXX0=