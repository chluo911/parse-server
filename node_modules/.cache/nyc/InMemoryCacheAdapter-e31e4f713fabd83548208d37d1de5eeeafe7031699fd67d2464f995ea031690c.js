"use strict";function cov_1oot7d0cbf(){var path="/parse-server/lib/Adapters/Cache/InMemoryCacheAdapter.js";var hash="3dbf2911e0373056aae9981daf30debc674c5bb8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Adapters/Cache/InMemoryCacheAdapter.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:56}},"2":{start:{line:8,column:16},end:{line:8,column:37}},"3":{start:{line:12,column:4},end:{line:12,column:45}},"4":{start:{line:16,column:19},end:{line:16,column:38}},"5":{start:{line:18,column:4},end:{line:20,column:5}},"6":{start:{line:19,column:6},end:{line:19,column:35}},"7":{start:{line:22,column:4},end:{line:22,column:35}},"8":{start:{line:26,column:4},end:{line:26,column:36}},"9":{start:{line:27,column:4},end:{line:27,column:29}},"10":{start:{line:31,column:4},end:{line:31,column:24}},"11":{start:{line:32,column:4},end:{line:32,column:29}},"12":{start:{line:36,column:4},end:{line:36,column:23}},"13":{start:{line:37,column:4},end:{line:37,column:29}},"14":{start:{line:42,column:0},end:{line:42,column:52}},"15":{start:{line:43,column:15},end:{line:43,column:35}},"16":{start:{line:44,column:0},end:{line:44,column:27}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:19},end:{line:13,column:3}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:23,column:3}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:23},end:{line:28,column:3}},line:25},"3":{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:11},end:{line:33,column:3}},line:30},"4":{name:"(anonymous_4)",decl:{start:{line:35,column:2},end:{line:35,column:3}},loc:{start:{line:35,column:10},end:{line:38,column:3}},line:35}},branchMap:{"0":{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:18,column:4},end:{line:20,column:5}}],line:18}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0]},inputSourceMap:{version:3,sources:["../../../src/Adapters/Cache/InMemoryCacheAdapter.js"],names:["InMemoryCacheAdapter","constructor","ctx","cache","LRUCache","get","key","record","Promise","resolve","put","value","ttl","del","clear"],mappings:";;;;;;;AAAA;;AAEO,MAAMA,oBAAN,CAA2B;AAChCC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,SAAKC,KAAL,GAAa,IAAIC,kBAAJ,CAAaF,GAAb,CAAb;AACD;;AAEDG,EAAAA,GAAG,CAACC,GAAD,EAAM;AACP,UAAMC,MAAM,GAAG,KAAKJ,KAAL,CAAWE,GAAX,CAAeC,GAAf,CAAf;;AACA,QAAIC,MAAM,KAAK,IAAf,EAAqB;AACnB,aAAOC,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACD;;AACD,WAAOD,OAAO,CAACC,OAAR,CAAgBF,MAAhB,CAAP;AACD;;AAEDG,EAAAA,GAAG,CAACJ,GAAD,EAAMK,KAAN,EAAaC,GAAb,EAAkB;AACnB,SAAKT,KAAL,CAAWO,GAAX,CAAeJ,GAAf,EAAoBK,KAApB,EAA2BC,GAA3B;AACA,WAAOJ,OAAO,CAACC,OAAR,EAAP;AACD;;AAEDI,EAAAA,GAAG,CAACP,GAAD,EAAM;AACP,SAAKH,KAAL,CAAWU,GAAX,CAAeP,GAAf;AACA,WAAOE,OAAO,CAACC,OAAR,EAAP;AACD;;AAEDK,EAAAA,KAAK,GAAG;AACN,SAAKX,KAAL,CAAWW,KAAX;AACA,WAAON,OAAO,CAACC,OAAR,EAAP;AACD;;AA1B+B;;;eA6BnBT,oB",sourcesContent:["import { LRUCache } from './LRUCache';\n\nexport class InMemoryCacheAdapter {\n  constructor(ctx) {\n    this.cache = new LRUCache(ctx);\n  }\n\n  get(key) {\n    const record = this.cache.get(key);\n    if (record === null) {\n      return Promise.resolve(null);\n    }\n    return Promise.resolve(record);\n  }\n\n  put(key, value, ttl) {\n    this.cache.put(key, value, ttl);\n    return Promise.resolve();\n  }\n\n  del(key) {\n    this.cache.del(key);\n    return Promise.resolve();\n  }\n\n  clear() {\n    this.cache.clear();\n    return Promise.resolve();\n  }\n}\n\nexport default InMemoryCacheAdapter;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3dbf2911e0373056aae9981daf30debc674c5bb8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1oot7d0cbf=function(){return actualCoverage;};}return actualCoverage;}cov_1oot7d0cbf();cov_1oot7d0cbf().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1oot7d0cbf().s[1]++;exports.default=exports.InMemoryCacheAdapter=void 0;var _LRUCache=(cov_1oot7d0cbf().s[2]++,require("./LRUCache"));class InMemoryCacheAdapter{constructor(ctx){cov_1oot7d0cbf().f[0]++;cov_1oot7d0cbf().s[3]++;this.cache=new _LRUCache.LRUCache(ctx);}get(key){cov_1oot7d0cbf().f[1]++;const record=(cov_1oot7d0cbf().s[4]++,this.cache.get(key));cov_1oot7d0cbf().s[5]++;if(record===null){cov_1oot7d0cbf().b[0][0]++;cov_1oot7d0cbf().s[6]++;return Promise.resolve(null);}else{cov_1oot7d0cbf().b[0][1]++;}cov_1oot7d0cbf().s[7]++;return Promise.resolve(record);}put(key,value,ttl){cov_1oot7d0cbf().f[2]++;cov_1oot7d0cbf().s[8]++;this.cache.put(key,value,ttl);cov_1oot7d0cbf().s[9]++;return Promise.resolve();}del(key){cov_1oot7d0cbf().f[3]++;cov_1oot7d0cbf().s[10]++;this.cache.del(key);cov_1oot7d0cbf().s[11]++;return Promise.resolve();}clear(){cov_1oot7d0cbf().f[4]++;cov_1oot7d0cbf().s[12]++;this.cache.clear();cov_1oot7d0cbf().s[13]++;return Promise.resolve();}}cov_1oot7d0cbf().s[14]++;exports.InMemoryCacheAdapter=InMemoryCacheAdapter;var _default=(cov_1oot7d0cbf().s[15]++,InMemoryCacheAdapter);cov_1oot7d0cbf().s[16]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9DYWNoZS9Jbk1lbW9yeUNhY2hlQWRhcHRlci5qcyJdLCJuYW1lcyI6WyJJbk1lbW9yeUNhY2hlQWRhcHRlciIsImNvbnN0cnVjdG9yIiwiY3R4IiwiY2FjaGUiLCJMUlVDYWNoZSIsImdldCIsImtleSIsInJlY29yZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicHV0IiwidmFsdWUiLCJ0dGwiLCJkZWwiLCJjbGVhciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVPLE1BQU1BLG9CQUFOLENBQTJCO0FBQ2hDQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTTtBQUNmLFNBQUtDLEtBQUwsR0FBYSxJQUFJQyxrQkFBSixDQUFhRixHQUFiLENBQWI7QUFDRDs7QUFFREcsRUFBQUEsR0FBRyxDQUFDQyxHQUFELEVBQU07QUFDUCxVQUFNQyxNQUFNLEdBQUcsS0FBS0osS0FBTCxDQUFXRSxHQUFYLENBQWVDLEdBQWYsQ0FBZjs7QUFDQSxRQUFJQyxNQUFNLEtBQUssSUFBZixFQUFxQjtBQUNuQixhQUFPQyxPQUFPLENBQUNDLE9BQVIsQ0FBZ0IsSUFBaEIsQ0FBUDtBQUNEOztBQUNELFdBQU9ELE9BQU8sQ0FBQ0MsT0FBUixDQUFnQkYsTUFBaEIsQ0FBUDtBQUNEOztBQUVERyxFQUFBQSxHQUFHLENBQUNKLEdBQUQsRUFBTUssS0FBTixFQUFhQyxHQUFiLEVBQWtCO0FBQ25CLFNBQUtULEtBQUwsQ0FBV08sR0FBWCxDQUFlSixHQUFmLEVBQW9CSyxLQUFwQixFQUEyQkMsR0FBM0I7QUFDQSxXQUFPSixPQUFPLENBQUNDLE9BQVIsRUFBUDtBQUNEOztBQUVESSxFQUFBQSxHQUFHLENBQUNQLEdBQUQsRUFBTTtBQUNQLFNBQUtILEtBQUwsQ0FBV1UsR0FBWCxDQUFlUCxHQUFmO0FBQ0EsV0FBT0UsT0FBTyxDQUFDQyxPQUFSLEVBQVA7QUFDRDs7QUFFREssRUFBQUEsS0FBSyxHQUFHO0FBQ04sU0FBS1gsS0FBTCxDQUFXVyxLQUFYO0FBQ0EsV0FBT04sT0FBTyxDQUFDQyxPQUFSLEVBQVA7QUFDRDs7QUExQitCOzs7ZUE2Qm5CVCxvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExSVUNhY2hlIH0gZnJvbSAnLi9MUlVDYWNoZSc7XG5cbmV4cG9ydCBjbGFzcyBJbk1lbW9yeUNhY2hlQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKGN0eCkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTFJVQ2FjaGUoY3R4KTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBjb25zdCByZWNvcmQgPSB0aGlzLmNhY2hlLmdldChrZXkpO1xuICAgIGlmIChyZWNvcmQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVjb3JkKTtcbiAgfVxuXG4gIHB1dChrZXksIHZhbHVlLCB0dGwpIHtcbiAgICB0aGlzLmNhY2hlLnB1dChrZXksIHZhbHVlLCB0dGwpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGRlbChrZXkpIHtcbiAgICB0aGlzLmNhY2hlLmRlbChrZXkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2FjaGUuY2xlYXIoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5NZW1vcnlDYWNoZUFkYXB0ZXI7XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9DYWNoZS9Jbk1lbW9yeUNhY2hlQWRhcHRlci5qcyJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsIkxSVUNhY2hlIiwiZ2V0IiwicmVjb3JkIiwiUHJvbWlzZSIsInB1dCIsImRlbCIsImNsZWFyIiwiSW5NZW1vcnlDYWNoZUFkYXB0ZXIiXSwibWFwcGluZ3MiOiIrbklBUVVHO3dQQVJWLEdBQUEsQ0FBQSxTQUFBLDBCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUVPLEtBQUEsQ0FBQSxvQkFBMkIsQ0FDaENILFdBQVcsQ0FBQSxHQUFBLENBQU0saURBQ2YsS0FBQSxLQUFBLENBQWEsR0FBSUMsQ0FBQUEsU0FBQUEsQ0FBSixRQUFBLENBQWIsR0FBYSxDQUFiLENBQ0QsQ0FFREMsR0FBRyxDQUFBLEdBQUEsQ0FBTSx5QkFDUCxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLEtBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBZixHQUFlLENBQUgsQ0FBWixDQURPLHdCQUVQLEdBQUlBLE1BQU0sR0FBVixJQUFBLENBQXFCLG9EQUNuQixNQUFPQyxDQUFBQSxPQUFPLENBQVBBLE9BQUFBLENBQVAsSUFBT0EsQ0FBUCxDQUNELENBRkQsaUNBRk8sd0JBS1AsTUFBT0EsQ0FBQUEsT0FBTyxDQUFQQSxPQUFBQSxDQUFQLE1BQU9BLENBQVAsQ0FDRCxDQUVEQyxHQUFHLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQSxHQUFBLENBQWtCLGlEQUNuQixLQUFBLEtBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQSxHQUFBLEVBRG1CLHdCQUVuQixNQUFPRCxDQUFBQSxPQUFPLENBQWQsT0FBT0EsRUFBUCxDQUNELENBRURFLEdBQUcsQ0FBQSxHQUFBLENBQU0sa0RBQ1AsS0FBQSxLQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsRUFETyx5QkFFUCxNQUFPRixDQUFBQSxPQUFPLENBQWQsT0FBT0EsRUFBUCxDQUNELENBRURHLEtBQUssRUFBRyxrREFDTixLQUFBLEtBQUEsQ0FBQSxLQUFBLEdBRE0seUJBRU4sTUFBT0gsQ0FBQUEsT0FBTyxDQUFkLE9BQU9BLEVBQVAsQ0FDRCxDQTFCK0IsQyxrSEE2Qm5CSSxvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExSVUNhY2hlIH0gZnJvbSAnLi9MUlVDYWNoZSc7XG5cbmV4cG9ydCBjbGFzcyBJbk1lbW9yeUNhY2hlQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKGN0eCkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTFJVQ2FjaGUoY3R4KTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBjb25zdCByZWNvcmQgPSB0aGlzLmNhY2hlLmdldChrZXkpO1xuICAgIGlmIChyZWNvcmQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVjb3JkKTtcbiAgfVxuXG4gIHB1dChrZXksIHZhbHVlLCB0dGwpIHtcbiAgICB0aGlzLmNhY2hlLnB1dChrZXksIHZhbHVlLCB0dGwpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGRlbChrZXkpIHtcbiAgICB0aGlzLmNhY2hlLmRlbChrZXkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2FjaGUuY2xlYXIoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5NZW1vcnlDYWNoZUFkYXB0ZXI7XG4iXX0=