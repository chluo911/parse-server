"use strict";function cov_22sxyjee7j(){var path="/parse-server/lib/Config.js";var hash="69e1408bde129cbfa1c72df1bbc0d5da8f2ebffc";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Config.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:42}},"2":{start:{line:8,column:13},end:{line:8,column:55}},"3":{start:{line:10,column:26},end:{line:10,column:93}},"4":{start:{line:12,column:11},end:{line:12,column:49}},"5":{start:{line:14,column:19},end:{line:14,column:51}},"6":{start:{line:16,column:14},end:{line:16,column:31}},"7":{start:{line:18,column:39},end:{line:18,column:93}},"8":{start:{line:24,column:2},end:{line:26,column:3}},"9":{start:{line:25,column:4},end:{line:25,column:15}},"10":{start:{line:28,column:2},end:{line:30,column:3}},"11":{start:{line:29,column:4},end:{line:29,column:40}},"12":{start:{line:32,column:2},end:{line:32,column:13}},"13":{start:{line:37,column:22},end:{line:37,column:55}},"14":{start:{line:39,column:4},end:{line:41,column:5}},"15":{start:{line:40,column:6},end:{line:40,column:13}},"16":{start:{line:43,column:19},end:{line:43,column:31}},"17":{start:{line:44,column:4},end:{line:44,column:41}},"18":{start:{line:45,column:4},end:{line:51,column:7}},"19":{start:{line:46,column:6},end:{line:50,column:7}},"20":{start:{line:47,column:8},end:{line:47,column:96}},"21":{start:{line:49,column:8},end:{line:49,column:37}},"22":{start:{line:52,column:4},end:{line:52,column:46}},"23":{start:{line:53,column:4},end:{line:53,column:83}},"24":{start:{line:54,column:4},end:{line:54,column:101}},"25":{start:{line:55,column:4},end:{line:55,column:18}},"26":{start:{line:59,column:4},end:{line:59,column:41}},"27":{start:{line:61,column:4},end:{line:61,column:71}},"28":{start:{line:63,column:4},end:{line:63,column:70}},"29":{start:{line:64,column:4},end:{line:64,column:31}},"30":{start:{line:91,column:4},end:{line:93,column:5}},"31":{start:{line:92,column:6},end:{line:92,column:77}},"32":{start:{line:95,column:25},end:{line:95,column:47}},"33":{start:{line:97,column:4},end:{line:105,column:5}},"34":{start:{line:98,column:6},end:{line:104,column:9}},"35":{start:{line:107,column:4},end:{line:107,column:54}},"36":{start:{line:108,column:4},end:{line:108,column:48}},"37":{start:{line:109,column:4},end:{line:109,column:47}},"38":{start:{line:111,column:4},end:{line:113,column:5}},"39":{start:{line:112,column:6},end:{line:112,column:67}},"40":{start:{line:115,column:4},end:{line:119,column:5}},"41":{start:{line:116,column:6},end:{line:118,column:7}},"42":{start:{line:117,column:8},end:{line:117,column:83}},"43":{start:{line:121,column:4},end:{line:121,column:77}},"44":{start:{line:122,column:4},end:{line:122,column:44}},"45":{start:{line:123,column:4},end:{line:123,column:36}},"46":{start:{line:124,column:4},end:{line:124,column:44}},"47":{start:{line:125,column:4},end:{line:125,column:56}},"48":{start:{line:126,column:4},end:{line:126,column:37}},"49":{start:{line:127,column:4},end:{line:127,column:43}},"50":{start:{line:128,column:4},end:{line:128,column:39}},"51":{start:{line:129,column:4},end:{line:129,column:58}},"52":{start:{line:133,column:4},end:{line:135,column:5}},"53":{start:{line:134,column:6},end:{line:134,column:73}},"54":{start:{line:139,column:4},end:{line:141,column:5}},"55":{start:{line:140,column:6},end:{line:140,column:62}},"56":{start:{line:143,column:4},end:{line:147,column:5}},"57":{start:{line:144,column:6},end:{line:144,column:78}},"58":{start:{line:145,column:11},end:{line:147,column:5}},"59":{start:{line:146,column:6},end:{line:146,column:74}},"60":{start:{line:149,column:4},end:{line:153,column:5}},"61":{start:{line:150,column:6},end:{line:150,column:84}},"62":{start:{line:151,column:11},end:{line:153,column:5}},"63":{start:{line:152,column:6},end:{line:152,column:77}},"64":{start:{line:157,column:4},end:{line:157,column:24}},"65":{start:{line:157,column:17},end:{line:157,column:24}},"66":{start:{line:159,column:4},end:{line:161,column:5}},"67":{start:{line:160,column:6},end:{line:160,column:60}},"68":{start:{line:163,column:4},end:{line:167,column:5}},"69":{start:{line:164,column:6},end:{line:164,column:74}},"70":{start:{line:165,column:11},end:{line:167,column:5}},"71":{start:{line:166,column:6},end:{line:166,column:71}},"72":{start:{line:169,column:4},end:{line:173,column:5}},"73":{start:{line:170,column:6},end:{line:170,column:64}},"74":{start:{line:171,column:11},end:{line:173,column:5}},"75":{start:{line:172,column:6},end:{line:172,column:67}},"76":{start:{line:175,column:4},end:{line:179,column:5}},"77":{start:{line:176,column:6},end:{line:176,column:86}},"78":{start:{line:177,column:11},end:{line:179,column:5}},"79":{start:{line:178,column:6},end:{line:178,column:78}},"80":{start:{line:181,column:4},end:{line:185,column:5}},"81":{start:{line:182,column:6},end:{line:182,column:96}},"82":{start:{line:183,column:11},end:{line:185,column:5}},"83":{start:{line:184,column:6},end:{line:184,column:83}},"84":{start:{line:187,column:4},end:{line:191,column:5}},"85":{start:{line:188,column:6},end:{line:188,column:74}},"86":{start:{line:189,column:11},end:{line:191,column:5}},"87":{start:{line:190,column:6},end:{line:190,column:72}},"88":{start:{line:193,column:4},end:{line:197,column:5}},"89":{start:{line:194,column:6},end:{line:194,column:36}},"90":{start:{line:195,column:11},end:{line:197,column:5}},"91":{start:{line:196,column:6},end:{line:196,column:77}},"92":{start:{line:199,column:4},end:{line:203,column:5}},"93":{start:{line:200,column:6},end:{line:200,column:35}},"94":{start:{line:201,column:11},end:{line:203,column:5}},"95":{start:{line:202,column:6},end:{line:202,column:76}},"96":{start:{line:207,column:4},end:{line:209,column:5}},"97":{start:{line:208,column:6},end:{line:208,column:59}},"98":{start:{line:211,column:4},end:{line:215,column:5}},"99":{start:{line:212,column:6},end:{line:212,column:74}},"100":{start:{line:213,column:11},end:{line:215,column:5}},"101":{start:{line:214,column:6},end:{line:214,column:72}},"102":{start:{line:217,column:4},end:{line:221,column:5}},"103":{start:{line:218,column:6},end:{line:218,column:86}},"104":{start:{line:219,column:11},end:{line:221,column:5}},"105":{start:{line:220,column:6},end:{line:220,column:78}},"106":{start:{line:223,column:4},end:{line:227,column:5}},"107":{start:{line:224,column:6},end:{line:224,column:90}},"108":{start:{line:225,column:11},end:{line:227,column:5}},"109":{start:{line:226,column:6},end:{line:226,column:79}},"110":{start:{line:229,column:4},end:{line:233,column:5}},"111":{start:{line:230,column:6},end:{line:230,column:102}},"112":{start:{line:231,column:11},end:{line:233,column:5}},"113":{start:{line:232,column:6},end:{line:232,column:85}},"114":{start:{line:235,column:4},end:{line:239,column:5}},"115":{start:{line:236,column:6},end:{line:236,column:74}},"116":{start:{line:237,column:11},end:{line:239,column:5}},"117":{start:{line:238,column:6},end:{line:238,column:86}},"118":{start:{line:241,column:4},end:{line:245,column:5}},"119":{start:{line:242,column:6},end:{line:242,column:76}},"120":{start:{line:243,column:11},end:{line:245,column:5}},"121":{start:{line:244,column:6},end:{line:244,column:73}},"122":{start:{line:247,column:4},end:{line:251,column:5}},"123":{start:{line:248,column:6},end:{line:248,column:68}},"124":{start:{line:249,column:11},end:{line:251,column:5}},"125":{start:{line:250,column:6},end:{line:250,column:68}},"126":{start:{line:253,column:4},end:{line:257,column:5}},"127":{start:{line:254,column:6},end:{line:254,column:76}},"128":{start:{line:255,column:11},end:{line:257,column:5}},"129":{start:{line:256,column:6},end:{line:256,column:72}},"130":{start:{line:259,column:4},end:{line:263,column:5}},"131":{start:{line:260,column:6},end:{line:260,column:70}},"132":{start:{line:261,column:11},end:{line:263,column:5}},"133":{start:{line:262,column:6},end:{line:262,column:70}},"134":{start:{line:265,column:4},end:{line:269,column:5}},"135":{start:{line:266,column:6},end:{line:266,column:74}},"136":{start:{line:267,column:11},end:{line:269,column:5}},"137":{start:{line:268,column:6},end:{line:268,column:71}},"138":{start:{line:273,column:4},end:{line:275,column:5}},"139":{start:{line:274,column:6},end:{line:274,column:13}},"140":{start:{line:277,column:4},end:{line:283,column:5}},"141":{start:{line:278,column:6},end:{line:278,column:75}},"142":{start:{line:279,column:11},end:{line:283,column:5}},"143":{start:{line:280,column:6},end:{line:280,column:67}},"144":{start:{line:281,column:11},end:{line:283,column:5}},"145":{start:{line:282,column:6},end:{line:282,column:53}},"146":{start:{line:285,column:4},end:{line:289,column:5}},"147":{start:{line:286,column:6},end:{line:286,column:79}},"148":{start:{line:287,column:11},end:{line:289,column:5}},"149":{start:{line:288,column:6},end:{line:288,column:63}},"150":{start:{line:293,column:4},end:{line:307,column:5}},"151":{start:{line:294,column:6},end:{line:296,column:7}},"152":{start:{line:295,column:8},end:{line:295,column:87}},"153":{start:{line:298,column:6},end:{line:300,column:7}},"154":{start:{line:299,column:8},end:{line:299,column:97}},"155":{start:{line:302,column:6},end:{line:306,column:7}},"156":{start:{line:303,column:8},end:{line:303,column:112}},"157":{start:{line:304,column:13},end:{line:306,column:7}},"158":{start:{line:305,column:8},end:{line:305,column:92}},"159":{start:{line:311,column:4},end:{line:347,column:5}},"160":{start:{line:312,column:6},end:{line:314,column:7}},"161":{start:{line:313,column:8},end:{line:313,column:72}},"162":{start:{line:316,column:6},end:{line:318,column:7}},"163":{start:{line:317,column:8},end:{line:317,column:84}},"164":{start:{line:320,column:6},end:{line:326,column:7}},"165":{start:{line:321,column:8},end:{line:325,column:9}},"166":{start:{line:322,column:10},end:{line:322,column:88}},"167":{start:{line:323,column:15},end:{line:325,column:9}},"168":{start:{line:324,column:10},end:{line:324,column:91}},"169":{start:{line:328,column:6},end:{line:330,column:7}},"170":{start:{line:329,column:8},end:{line:329,column:69}},"171":{start:{line:332,column:6},end:{line:334,column:7}},"172":{start:{line:333,column:8},end:{line:333,column:75}},"173":{start:{line:336,column:6},end:{line:338,column:7}},"174":{start:{line:337,column:8},end:{line:337,column:84}},"175":{start:{line:340,column:6},end:{line:342,column:7}},"176":{start:{line:341,column:8},end:{line:341,column:63}},"177":{start:{line:344,column:6},end:{line:346,column:7}},"178":{start:{line:345,column:8},end:{line:345,column:89}},"179":{start:{line:352,column:4},end:{line:356,column:5}},"180":{start:{line:353,column:6},end:{line:355,column:8}},"181":{start:{line:354,column:8},end:{line:354,column:59}},"182":{start:{line:366,column:4},end:{line:368,column:5}},"183":{start:{line:367,column:6},end:{line:367,column:87}},"184":{start:{line:370,column:4},end:{line:372,column:5}},"185":{start:{line:371,column:6},end:{line:371,column:83}},"186":{start:{line:374,column:4},end:{line:376,column:5}},"187":{start:{line:375,column:6},end:{line:375,column:91}},"188":{start:{line:378,column:4},end:{line:384,column:5}},"189":{start:{line:379,column:6},end:{line:383,column:7}},"190":{start:{line:380,column:8},end:{line:380,column:77}},"191":{start:{line:381,column:13},end:{line:383,column:7}},"192":{start:{line:382,column:8},end:{line:382,column:85}},"193":{start:{line:386,column:4},end:{line:388,column:5}},"194":{start:{line:387,column:6},end:{line:387,column:67}},"195":{start:{line:390,column:4},end:{line:392,column:5}},"196":{start:{line:391,column:6},end:{line:391,column:99}},"197":{start:{line:396,column:4},end:{line:406,column:5}},"198":{start:{line:397,column:6},end:{line:399,column:7}},"199":{start:{line:398,column:8},end:{line:398,column:52}},"200":{start:{line:401,column:6},end:{line:403,column:7}},"201":{start:{line:402,column:8},end:{line:402,column:15}},"202":{start:{line:405,column:6},end:{line:405,column:14}},"203":{start:{line:408,column:4},end:{line:412,column:5}},"204":{start:{line:409,column:6},end:{line:409,column:104}},"205":{start:{line:410,column:11},end:{line:412,column:5}},"206":{start:{line:411,column:6},end:{line:411,column:73}},"207":{start:{line:414,column:4},end:{line:418,column:5}},"208":{start:{line:415,column:6},end:{line:415,column:90}},"209":{start:{line:416,column:11},end:{line:418,column:5}},"210":{start:{line:417,column:6},end:{line:417,column:66}},"211":{start:{line:420,column:4},end:{line:424,column:5}},"212":{start:{line:421,column:6},end:{line:421,column:112}},"213":{start:{line:422,column:11},end:{line:424,column:5}},"214":{start:{line:423,column:6},end:{line:423,column:77}},"215":{start:{line:428,column:4},end:{line:432,column:5}},"216":{start:{line:429,column:6},end:{line:431,column:7}},"217":{start:{line:430,column:8},end:{line:430,column:50}},"218":{start:{line:436,column:16},end:{line:436,column:27}},"219":{start:{line:438,column:4},end:{line:440,column:5}},"220":{start:{line:439,column:6},end:{line:439,column:35}},"221":{start:{line:442,column:4},end:{line:442,column:17}},"222":{start:{line:446,column:4},end:{line:446,column:27}},"223":{start:{line:450,column:4},end:{line:456,column:5}},"224":{start:{line:451,column:6},end:{line:455,column:7}},"225":{start:{line:452,column:8},end:{line:452,column:55}},"226":{start:{line:453,column:13},end:{line:455,column:7}},"227":{start:{line:454,column:8},end:{line:454,column:63}},"228":{start:{line:460,column:4},end:{line:462,column:5}},"229":{start:{line:461,column:6},end:{line:461,column:56}},"230":{start:{line:466,column:4},end:{line:478,column:5}},"231":{start:{line:467,column:6},end:{line:477,column:7}},"232":{start:{line:468,column:8},end:{line:474,column:11}},"233":{start:{line:469,column:10},end:{line:473,column:11}},"234":{start:{line:470,column:12},end:{line:470,column:60}},"235":{start:{line:471,column:17},end:{line:473,column:11}},"236":{start:{line:472,column:12},end:{line:472,column:65}},"237":{start:{line:476,column:8},end:{line:476,column:47}},"238":{start:{line:482,column:4},end:{line:484,column:5}},"239":{start:{line:483,column:6},end:{line:483,column:23}},"240":{start:{line:486,column:14},end:{line:486,column:24}},"241":{start:{line:487,column:4},end:{line:487,column:82}},"242":{start:{line:491,column:4},end:{line:493,column:5}},"243":{start:{line:492,column:6},end:{line:492,column:23}},"244":{start:{line:495,column:16},end:{line:495,column:26}},"245":{start:{line:496,column:4},end:{line:496,column:91}},"246":{start:{line:500,column:4},end:{line:502,column:5}},"247":{start:{line:501,column:6},end:{line:501,column:23}},"248":{start:{line:504,column:14},end:{line:504,column:24}},"249":{start:{line:505,column:4},end:{line:505,column:63}},"250":{start:{line:509,column:4},end:{line:509,column:92}},"251":{start:{line:513,column:4},end:{line:513,column:117}},"252":{start:{line:517,column:4},end:{line:517,column:101}},"253":{start:{line:521,column:4},end:{line:521,column:95}},"254":{start:{line:525,column:4},end:{line:525,column:107}},"255":{start:{line:529,column:4},end:{line:529,column:93}},"256":{start:{line:533,column:4},end:{line:533,column:104}},"257":{start:{line:537,column:4},end:{line:537,column:111}},"258":{start:{line:541,column:4},end:{line:541,column:42}},"259":{start:{line:545,column:4},end:{line:545,column:94}},"260":{start:{line:551,column:4},end:{line:551,column:113}},"261":{start:{line:556,column:0},end:{line:556,column:24}},"262":{start:{line:557,column:15},end:{line:557,column:21}},"263":{start:{line:558,column:0},end:{line:558,column:27}},"264":{start:{line:559,column:0},end:{line:559,column:24}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:37},end:{line:18,column:95}},line:18},"1":{name:"removeTrailingSlash",decl:{start:{line:23,column:9},end:{line:23,column:28}},loc:{start:{line:23,column:34},end:{line:33,column:1}},line:23},"2":{name:"(anonymous_2)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:35},end:{line:56,column:3}},line:36},"3":{name:"(anonymous_3)",decl:{start:{line:45,column:35},end:{line:45,column:36}},loc:{start:{line:45,column:42},end:{line:51,column:5}},line:45},"4":{name:"(anonymous_4)",decl:{start:{line:58,column:2},end:{line:58,column:3}},loc:{start:{line:58,column:34},end:{line:65,column:3}},line:58},"5":{name:"(anonymous_5)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:90,column:5},end:{line:130,column:3}},line:90},"6":{name:"(anonymous_6)",decl:{start:{line:132,column:2},end:{line:132,column:3}},loc:{start:{line:132,column:58},end:{line:136,column:3}},line:132},"7":{name:"(anonymous_7)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:43},end:{line:154,column:3}},line:138},"8":{name:"(anonymous_8)",decl:{start:{line:156,column:2},end:{line:156,column:3}},loc:{start:{line:156,column:39},end:{line:204,column:3}},line:156},"9":{name:"(anonymous_9)",decl:{start:{line:206,column:2},end:{line:206,column:3}},loc:{start:{line:206,column:37},end:{line:270,column:3}},line:206},"10":{name:"(anonymous_10)",decl:{start:{line:272,column:2},end:{line:272,column:3}},loc:{start:{line:272,column:56},end:{line:290,column:3}},line:272},"11":{name:"(anonymous_11)",decl:{start:{line:292,column:2},end:{line:292,column:3}},loc:{start:{line:292,column:54},end:{line:308,column:3}},line:292},"12":{name:"(anonymous_12)",decl:{start:{line:310,column:2},end:{line:310,column:3}},loc:{start:{line:310,column:48},end:{line:348,column:3}},line:310},"13":{name:"(anonymous_13)",decl:{start:{line:351,column:2},end:{line:351,column:3}},loc:{start:{line:351,column:48},end:{line:357,column:3}},line:351},"14":{name:"(anonymous_14)",decl:{start:{line:353,column:40},end:{line:353,column:41}},loc:{start:{line:353,column:49},end:{line:355,column:7}},line:353},"15":{name:"(anonymous_15)",decl:{start:{line:359,column:2},end:{line:359,column:3}},loc:{start:{line:365,column:5},end:{line:393,column:3}},line:365},"16":{name:"(anonymous_16)",decl:{start:{line:395,column:2},end:{line:395,column:3}},loc:{start:{line:395,column:47},end:{line:425,column:3}},line:395},"17":{name:"(anonymous_17)",decl:{start:{line:427,column:2},end:{line:427,column:3}},loc:{start:{line:427,column:44},end:{line:433,column:3}},line:427},"18":{name:"(anonymous_18)",decl:{start:{line:435,column:2},end:{line:435,column:3}},loc:{start:{line:435,column:14},end:{line:443,column:3}},line:435},"19":{name:"(anonymous_19)",decl:{start:{line:445,column:2},end:{line:445,column:3}},loc:{start:{line:445,column:22},end:{line:447,column:3}},line:445},"20":{name:"(anonymous_20)",decl:{start:{line:449,column:2},end:{line:449,column:3}},loc:{start:{line:449,column:77},end:{line:457,column:3}},line:449},"21":{name:"(anonymous_21)",decl:{start:{line:459,column:2},end:{line:459,column:3}},loc:{start:{line:459,column:36},end:{line:463,column:3}},line:459},"22":{name:"(anonymous_22)",decl:{start:{line:465,column:2},end:{line:465,column:3}},loc:{start:{line:465,column:44},end:{line:479,column:3}},line:465},"23":{name:"(anonymous_23)",decl:{start:{line:468,column:29},end:{line:468,column:30}},loc:{start:{line:468,column:39},end:{line:474,column:9}},line:468},"24":{name:"(anonymous_24)",decl:{start:{line:481,column:2},end:{line:481,column:3}},loc:{start:{line:481,column:38},end:{line:488,column:3}},line:481},"25":{name:"(anonymous_25)",decl:{start:{line:490,column:2},end:{line:490,column:3}},loc:{start:{line:490,column:40},end:{line:497,column:3}},line:490},"26":{name:"(anonymous_26)",decl:{start:{line:499,column:2},end:{line:499,column:3}},loc:{start:{line:499,column:29},end:{line:506,column:3}},line:499},"27":{name:"(anonymous_27)",decl:{start:{line:508,column:2},end:{line:508,column:3}},loc:{start:{line:508,column:23},end:{line:510,column:3}},line:508},"28":{name:"(anonymous_28)",decl:{start:{line:512,column:2},end:{line:512,column:3}},loc:{start:{line:512,column:35},end:{line:514,column:3}},line:512},"29":{name:"(anonymous_29)",decl:{start:{line:516,column:2},end:{line:516,column:3}},loc:{start:{line:516,column:27},end:{line:518,column:3}},line:516},"30":{name:"(anonymous_30)",decl:{start:{line:520,column:2},end:{line:520,column:3}},loc:{start:{line:520,column:24},end:{line:522,column:3}},line:520},"31":{name:"(anonymous_31)",decl:{start:{line:524,column:2},end:{line:524,column:3}},loc:{start:{line:524,column:30},end:{line:526,column:3}},line:524},"32":{name:"(anonymous_32)",decl:{start:{line:528,column:2},end:{line:528,column:3}},loc:{start:{line:528,column:26},end:{line:530,column:3}},line:528},"33":{name:"(anonymous_33)",decl:{start:{line:532,column:2},end:{line:532,column:3}},loc:{start:{line:532,column:32},end:{line:534,column:3}},line:532},"34":{name:"(anonymous_34)",decl:{start:{line:536,column:2},end:{line:536,column:3}},loc:{start:{line:536,column:32},end:{line:538,column:3}},line:536},"35":{name:"(anonymous_35)",decl:{start:{line:540,column:2},end:{line:540,column:3}},loc:{start:{line:540,column:22},end:{line:542,column:3}},line:540},"36":{name:"(anonymous_36)",decl:{start:{line:544,column:2},end:{line:544,column:3}},loc:{start:{line:544,column:23},end:{line:546,column:3}},line:544},"37":{name:"(anonymous_37)",decl:{start:{line:550,column:2},end:{line:550,column:3}},loc:{start:{line:550,column:22},end:{line:552,column:3}},line:550}},branchMap:{"0":{loc:{start:{line:18,column:46},end:{line:18,column:92}},type:"cond-expr",locations:[{start:{line:18,column:70},end:{line:18,column:73}},{start:{line:18,column:76},end:{line:18,column:92}}],line:18},"1":{loc:{start:{line:18,column:46},end:{line:18,column:67}},type:"binary-expr",locations:[{start:{line:18,column:46},end:{line:18,column:49}},{start:{line:18,column:53},end:{line:18,column:67}}],line:18},"2":{loc:{start:{line:24,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:24,column:2},end:{line:26,column:3}},{start:{line:24,column:2},end:{line:26,column:3}}],line:24},"3":{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:28,column:2},end:{line:30,column:3}}],line:28},"4":{loc:{start:{line:39,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:41,column:5}},{start:{line:39,column:4},end:{line:41,column:5}}],line:39},"5":{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:46,column:6},end:{line:50,column:7}}],line:46},"6":{loc:{start:{line:91,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:93,column:5}},{start:{line:91,column:4},end:{line:93,column:5}}],line:91},"7":{loc:{start:{line:97,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:105,column:5}},{start:{line:97,column:4},end:{line:105,column:5}}],line:97},"8":{loc:{start:{line:111,column:4},end:{line:113,column:5}},type:"if",locations:[{start:{line:111,column:4},end:{line:113,column:5}},{start:{line:111,column:4},end:{line:113,column:5}}],line:111},"9":{loc:{start:{line:115,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:115,column:4},end:{line:119,column:5}},{start:{line:115,column:4},end:{line:119,column:5}}],line:115},"10":{loc:{start:{line:116,column:6},end:{line:118,column:7}},type:"if",locations:[{start:{line:116,column:6},end:{line:118,column:7}},{start:{line:116,column:6},end:{line:118,column:7}}],line:116},"11":{loc:{start:{line:116,column:10},end:{line:116,column:91}},type:"binary-expr",locations:[{start:{line:116,column:10},end:{line:116,column:48}},{start:{line:116,column:52},end:{line:116,column:91}}],line:116},"12":{loc:{start:{line:133,column:4},end:{line:135,column:5}},type:"if",locations:[{start:{line:133,column:4},end:{line:135,column:5}},{start:{line:133,column:4},end:{line:135,column:5}}],line:133},"13":{loc:{start:{line:139,column:4},end:{line:141,column:5}},type:"if",locations:[{start:{line:139,column:4},end:{line:141,column:5}},{start:{line:139,column:4},end:{line:141,column:5}}],line:139},"14":{loc:{start:{line:143,column:4},end:{line:147,column:5}},type:"if",locations:[{start:{line:143,column:4},end:{line:147,column:5}},{start:{line:143,column:4},end:{line:147,column:5}}],line:143},"15":{loc:{start:{line:145,column:11},end:{line:147,column:5}},type:"if",locations:[{start:{line:145,column:11},end:{line:147,column:5}},{start:{line:145,column:11},end:{line:147,column:5}}],line:145},"16":{loc:{start:{line:149,column:4},end:{line:153,column:5}},type:"if",locations:[{start:{line:149,column:4},end:{line:153,column:5}},{start:{line:149,column:4},end:{line:153,column:5}}],line:149},"17":{loc:{start:{line:151,column:11},end:{line:153,column:5}},type:"if",locations:[{start:{line:151,column:11},end:{line:153,column:5}},{start:{line:151,column:11},end:{line:153,column:5}}],line:151},"18":{loc:{start:{line:157,column:4},end:{line:157,column:24}},type:"if",locations:[{start:{line:157,column:4},end:{line:157,column:24}},{start:{line:157,column:4},end:{line:157,column:24}}],line:157},"19":{loc:{start:{line:159,column:4},end:{line:161,column:5}},type:"if",locations:[{start:{line:159,column:4},end:{line:161,column:5}},{start:{line:159,column:4},end:{line:161,column:5}}],line:159},"20":{loc:{start:{line:163,column:4},end:{line:167,column:5}},type:"if",locations:[{start:{line:163,column:4},end:{line:167,column:5}},{start:{line:163,column:4},end:{line:167,column:5}}],line:163},"21":{loc:{start:{line:165,column:11},end:{line:167,column:5}},type:"if",locations:[{start:{line:165,column:11},end:{line:167,column:5}},{start:{line:165,column:11},end:{line:167,column:5}}],line:165},"22":{loc:{start:{line:169,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:169,column:4},end:{line:173,column:5}},{start:{line:169,column:4},end:{line:173,column:5}}],line:169},"23":{loc:{start:{line:171,column:11},end:{line:173,column:5}},type:"if",locations:[{start:{line:171,column:11},end:{line:173,column:5}},{start:{line:171,column:11},end:{line:173,column:5}}],line:171},"24":{loc:{start:{line:175,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:4},end:{line:179,column:5}},{start:{line:175,column:4},end:{line:179,column:5}}],line:175},"25":{loc:{start:{line:177,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:177,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:177},"26":{loc:{start:{line:181,column:4},end:{line:185,column:5}},type:"if",locations:[{start:{line:181,column:4},end:{line:185,column:5}},{start:{line:181,column:4},end:{line:185,column:5}}],line:181},"27":{loc:{start:{line:183,column:11},end:{line:185,column:5}},type:"if",locations:[{start:{line:183,column:11},end:{line:185,column:5}},{start:{line:183,column:11},end:{line:185,column:5}}],line:183},"28":{loc:{start:{line:187,column:4},end:{line:191,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:191,column:5}},{start:{line:187,column:4},end:{line:191,column:5}}],line:187},"29":{loc:{start:{line:189,column:11},end:{line:191,column:5}},type:"if",locations:[{start:{line:189,column:11},end:{line:191,column:5}},{start:{line:189,column:11},end:{line:191,column:5}}],line:189},"30":{loc:{start:{line:193,column:4},end:{line:197,column:5}},type:"if",locations:[{start:{line:193,column:4},end:{line:197,column:5}},{start:{line:193,column:4},end:{line:197,column:5}}],line:193},"31":{loc:{start:{line:195,column:11},end:{line:197,column:5}},type:"if",locations:[{start:{line:195,column:11},end:{line:197,column:5}},{start:{line:195,column:11},end:{line:197,column:5}}],line:195},"32":{loc:{start:{line:195,column:15},end:{line:195,column:94}},type:"binary-expr",locations:[{start:{line:195,column:15},end:{line:195,column:46}},{start:{line:195,column:50},end:{line:195,column:94}}],line:195},"33":{loc:{start:{line:199,column:4},end:{line:203,column:5}},type:"if",locations:[{start:{line:199,column:4},end:{line:203,column:5}},{start:{line:199,column:4},end:{line:203,column:5}}],line:199},"34":{loc:{start:{line:201,column:11},end:{line:203,column:5}},type:"if",locations:[{start:{line:201,column:11},end:{line:203,column:5}},{start:{line:201,column:11},end:{line:203,column:5}}],line:201},"35":{loc:{start:{line:201,column:15},end:{line:201,column:92}},type:"binary-expr",locations:[{start:{line:201,column:15},end:{line:201,column:45}},{start:{line:201,column:49},end:{line:201,column:92}}],line:201},"36":{loc:{start:{line:207,column:4},end:{line:209,column:5}},type:"if",locations:[{start:{line:207,column:4},end:{line:209,column:5}},{start:{line:207,column:4},end:{line:209,column:5}}],line:207},"37":{loc:{start:{line:211,column:4},end:{line:215,column:5}},type:"if",locations:[{start:{line:211,column:4},end:{line:215,column:5}},{start:{line:211,column:4},end:{line:215,column:5}}],line:211},"38":{loc:{start:{line:213,column:11},end:{line:215,column:5}},type:"if",locations:[{start:{line:213,column:11},end:{line:215,column:5}},{start:{line:213,column:11},end:{line:215,column:5}}],line:213},"39":{loc:{start:{line:217,column:4},end:{line:221,column:5}},type:"if",locations:[{start:{line:217,column:4},end:{line:221,column:5}},{start:{line:217,column:4},end:{line:221,column:5}}],line:217},"40":{loc:{start:{line:219,column:11},end:{line:221,column:5}},type:"if",locations:[{start:{line:219,column:11},end:{line:221,column:5}},{start:{line:219,column:11},end:{line:221,column:5}}],line:219},"41":{loc:{start:{line:223,column:4},end:{line:227,column:5}},type:"if",locations:[{start:{line:223,column:4},end:{line:227,column:5}},{start:{line:223,column:4},end:{line:227,column:5}}],line:223},"42":{loc:{start:{line:225,column:11},end:{line:227,column:5}},type:"if",locations:[{start:{line:225,column:11},end:{line:227,column:5}},{start:{line:225,column:11},end:{line:227,column:5}}],line:225},"43":{loc:{start:{line:229,column:4},end:{line:233,column:5}},type:"if",locations:[{start:{line:229,column:4},end:{line:233,column:5}},{start:{line:229,column:4},end:{line:233,column:5}}],line:229},"44":{loc:{start:{line:231,column:11},end:{line:233,column:5}},type:"if",locations:[{start:{line:231,column:11},end:{line:233,column:5}},{start:{line:231,column:11},end:{line:233,column:5}}],line:231},"45":{loc:{start:{line:235,column:4},end:{line:239,column:5}},type:"if",locations:[{start:{line:235,column:4},end:{line:239,column:5}},{start:{line:235,column:4},end:{line:239,column:5}}],line:235},"46":{loc:{start:{line:237,column:11},end:{line:239,column:5}},type:"if",locations:[{start:{line:237,column:11},end:{line:239,column:5}},{start:{line:237,column:11},end:{line:239,column:5}}],line:237},"47":{loc:{start:{line:237,column:15},end:{line:237,column:131}},type:"binary-expr",locations:[{start:{line:237,column:15},end:{line:237,column:87}},{start:{line:237,column:91},end:{line:237,column:131}}],line:237},"48":{loc:{start:{line:241,column:4},end:{line:245,column:5}},type:"if",locations:[{start:{line:241,column:4},end:{line:245,column:5}},{start:{line:241,column:4},end:{line:245,column:5}}],line:241},"49":{loc:{start:{line:243,column:11},end:{line:245,column:5}},type:"if",locations:[{start:{line:243,column:11},end:{line:245,column:5}},{start:{line:243,column:11},end:{line:245,column:5}}],line:243},"50":{loc:{start:{line:247,column:4},end:{line:251,column:5}},type:"if",locations:[{start:{line:247,column:4},end:{line:251,column:5}},{start:{line:247,column:4},end:{line:251,column:5}}],line:247},"51":{loc:{start:{line:249,column:11},end:{line:251,column:5}},type:"if",locations:[{start:{line:249,column:11},end:{line:251,column:5}},{start:{line:249,column:11},end:{line:251,column:5}}],line:249},"52":{loc:{start:{line:253,column:4},end:{line:257,column:5}},type:"if",locations:[{start:{line:253,column:4},end:{line:257,column:5}},{start:{line:253,column:4},end:{line:257,column:5}}],line:253},"53":{loc:{start:{line:255,column:11},end:{line:257,column:5}},type:"if",locations:[{start:{line:255,column:11},end:{line:257,column:5}},{start:{line:255,column:11},end:{line:257,column:5}}],line:255},"54":{loc:{start:{line:259,column:4},end:{line:263,column:5}},type:"if",locations:[{start:{line:259,column:4},end:{line:263,column:5}},{start:{line:259,column:4},end:{line:263,column:5}}],line:259},"55":{loc:{start:{line:261,column:11},end:{line:263,column:5}},type:"if",locations:[{start:{line:261,column:11},end:{line:263,column:5}},{start:{line:261,column:11},end:{line:263,column:5}}],line:261},"56":{loc:{start:{line:265,column:4},end:{line:269,column:5}},type:"if",locations:[{start:{line:265,column:4},end:{line:269,column:5}},{start:{line:265,column:4},end:{line:269,column:5}}],line:265},"57":{loc:{start:{line:267,column:11},end:{line:269,column:5}},type:"if",locations:[{start:{line:267,column:11},end:{line:269,column:5}},{start:{line:267,column:11},end:{line:269,column:5}}],line:267},"58":{loc:{start:{line:273,column:4},end:{line:275,column:5}},type:"if",locations:[{start:{line:273,column:4},end:{line:275,column:5}},{start:{line:273,column:4},end:{line:275,column:5}}],line:273},"59":{loc:{start:{line:277,column:4},end:{line:283,column:5}},type:"if",locations:[{start:{line:277,column:4},end:{line:283,column:5}},{start:{line:277,column:4},end:{line:283,column:5}}],line:277},"60":{loc:{start:{line:279,column:11},end:{line:283,column:5}},type:"if",locations:[{start:{line:279,column:11},end:{line:283,column:5}},{start:{line:279,column:11},end:{line:283,column:5}}],line:279},"61":{loc:{start:{line:279,column:15},end:{line:279,column:76}},type:"binary-expr",locations:[{start:{line:279,column:15},end:{line:279,column:45}},{start:{line:279,column:49},end:{line:279,column:76}}],line:279},"62":{loc:{start:{line:281,column:11},end:{line:283,column:5}},type:"if",locations:[{start:{line:281,column:11},end:{line:283,column:5}},{start:{line:281,column:11},end:{line:283,column:5}}],line:281},"63":{loc:{start:{line:285,column:4},end:{line:289,column:5}},type:"if",locations:[{start:{line:285,column:4},end:{line:289,column:5}},{start:{line:285,column:4},end:{line:289,column:5}}],line:285},"64":{loc:{start:{line:287,column:11},end:{line:289,column:5}},type:"if",locations:[{start:{line:287,column:11},end:{line:289,column:5}},{start:{line:287,column:11},end:{line:289,column:5}}],line:287},"65":{loc:{start:{line:293,column:4},end:{line:307,column:5}},type:"if",locations:[{start:{line:293,column:4},end:{line:307,column:5}},{start:{line:293,column:4},end:{line:307,column:5}}],line:293},"66":{loc:{start:{line:294,column:6},end:{line:296,column:7}},type:"if",locations:[{start:{line:294,column:6},end:{line:296,column:7}},{start:{line:294,column:6},end:{line:296,column:7}}],line:294},"67":{loc:{start:{line:294,column:10},end:{line:294,column:120}},type:"binary-expr",locations:[{start:{line:294,column:10},end:{line:294,column:53}},{start:{line:294,column:57},end:{line:294,column:85}},{start:{line:294,column:89},end:{line:294,column:120}}],line:294},"68":{loc:{start:{line:298,column:6},end:{line:300,column:7}},type:"if",locations:[{start:{line:298,column:6},end:{line:300,column:7}},{start:{line:298,column:6},end:{line:300,column:7}}],line:298},"69":{loc:{start:{line:298,column:10},end:{line:298,column:119}},type:"binary-expr",locations:[{start:{line:298,column:10},end:{line:298,column:53}},{start:{line:298,column:57},end:{line:298,column:85}},{start:{line:298,column:89},end:{line:298,column:119}}],line:298},"70":{loc:{start:{line:302,column:6},end:{line:306,column:7}},type:"if",locations:[{start:{line:302,column:6},end:{line:306,column:7}},{start:{line:302,column:6},end:{line:306,column:7}}],line:302},"71":{loc:{start:{line:304,column:13},end:{line:306,column:7}},type:"if",locations:[{start:{line:304,column:13},end:{line:306,column:7}},{start:{line:304,column:13},end:{line:306,column:7}}],line:304},"72":{loc:{start:{line:311,column:4},end:{line:347,column:5}},type:"if",locations:[{start:{line:311,column:4},end:{line:347,column:5}},{start:{line:311,column:4},end:{line:347,column:5}}],line:311},"73":{loc:{start:{line:312,column:6},end:{line:314,column:7}},type:"if",locations:[{start:{line:312,column:6},end:{line:314,column:7}},{start:{line:312,column:6},end:{line:314,column:7}}],line:312},"74":{loc:{start:{line:312,column:10},end:{line:312,column:145}},type:"binary-expr",locations:[{start:{line:312,column:10},end:{line:312,column:53}},{start:{line:312,column:58},end:{line:312,column:107}},{start:{line:312,column:111},end:{line:312,column:144}}],line:312},"75":{loc:{start:{line:316,column:6},end:{line:318,column:7}},type:"if",locations:[{start:{line:316,column:6},end:{line:318,column:7}},{start:{line:316,column:6},end:{line:318,column:7}}],line:316},"76":{loc:{start:{line:316,column:10},end:{line:316,column:182}},type:"binary-expr",locations:[{start:{line:316,column:10},end:{line:316,column:65}},{start:{line:316,column:70},end:{line:316,column:131}},{start:{line:316,column:135},end:{line:316,column:181}}],line:316},"77":{loc:{start:{line:320,column:6},end:{line:326,column:7}},type:"if",locations:[{start:{line:320,column:6},end:{line:326,column:7}},{start:{line:320,column:6},end:{line:326,column:7}}],line:320},"78":{loc:{start:{line:321,column:8},end:{line:325,column:9}},type:"if",locations:[{start:{line:321,column:8},end:{line:325,column:9}},{start:{line:321,column:8},end:{line:325,column:9}}],line:321},"79":{loc:{start:{line:323,column:15},end:{line:325,column:9}},type:"if",locations:[{start:{line:323,column:15},end:{line:325,column:9}},{start:{line:323,column:15},end:{line:325,column:9}}],line:323},"80":{loc:{start:{line:328,column:6},end:{line:330,column:7}},type:"if",locations:[{start:{line:328,column:6},end:{line:330,column:7}},{start:{line:328,column:6},end:{line:330,column:7}}],line:328},"81":{loc:{start:{line:328,column:10},end:{line:328,column:100}},type:"binary-expr",locations:[{start:{line:328,column:10},end:{line:328,column:42}},{start:{line:328,column:46},end:{line:328,column:100}}],line:328},"82":{loc:{start:{line:332,column:6},end:{line:334,column:7}},type:"if",locations:[{start:{line:332,column:6},end:{line:334,column:7}},{start:{line:332,column:6},end:{line:334,column:7}}],line:332},"83":{loc:{start:{line:332,column:10},end:{line:332,column:101}},type:"binary-expr",locations:[{start:{line:332,column:10},end:{line:332,column:43}},{start:{line:332,column:47},end:{line:332,column:101}}],line:332},"84":{loc:{start:{line:336,column:6},end:{line:338,column:7}},type:"if",locations:[{start:{line:336,column:6},end:{line:338,column:7}},{start:{line:336,column:6},end:{line:338,column:7}}],line:336},"85":{loc:{start:{line:336,column:10},end:{line:336,column:185}},type:"binary-expr",locations:[{start:{line:336,column:10},end:{line:336,column:43}},{start:{line:336,column:48},end:{line:336,column:100}},{start:{line:336,column:104},end:{line:336,column:142}},{start:{line:336,column:146},end:{line:336,column:184}}],line:336},"86":{loc:{start:{line:340,column:6},end:{line:342,column:7}},type:"if",locations:[{start:{line:340,column:6},end:{line:342,column:7}},{start:{line:340,column:6},end:{line:342,column:7}}],line:340},"87":{loc:{start:{line:340,column:10},end:{line:340,column:109}},type:"binary-expr",locations:[{start:{line:340,column:10},end:{line:340,column:47}},{start:{line:340,column:51},end:{line:340,column:109}}],line:340},"88":{loc:{start:{line:344,column:6},end:{line:346,column:7}},type:"if",locations:[{start:{line:344,column:6},end:{line:346,column:7}},{start:{line:344,column:6},end:{line:346,column:7}}],line:344},"89":{loc:{start:{line:344,column:10},end:{line:344,column:93}},type:"binary-expr",locations:[{start:{line:344,column:10},end:{line:344,column:47}},{start:{line:344,column:51},end:{line:344,column:93}}],line:344},"90":{loc:{start:{line:352,column:4},end:{line:356,column:5}},type:"if",locations:[{start:{line:352,column:4},end:{line:356,column:5}},{start:{line:352,column:4},end:{line:356,column:5}}],line:352},"91":{loc:{start:{line:352,column:8},end:{line:352,column:57}},type:"binary-expr",locations:[{start:{line:352,column:8},end:{line:352,column:22}},{start:{line:352,column:26},end:{line:352,column:57}}],line:352},"92":{loc:{start:{line:366,column:4},end:{line:368,column:5}},type:"if",locations:[{start:{line:366,column:4},end:{line:368,column:5}},{start:{line:366,column:4},end:{line:368,column:5}}],line:366},"93":{loc:{start:{line:370,column:4},end:{line:372,column:5}},type:"if",locations:[{start:{line:370,column:4},end:{line:372,column:5}},{start:{line:370,column:4},end:{line:372,column:5}}],line:370},"94":{loc:{start:{line:374,column:4},end:{line:376,column:5}},type:"if",locations:[{start:{line:374,column:4},end:{line:376,column:5}},{start:{line:374,column:4},end:{line:376,column:5}}],line:374},"95":{loc:{start:{line:378,column:4},end:{line:384,column:5}},type:"if",locations:[{start:{line:378,column:4},end:{line:384,column:5}},{start:{line:378,column:4},end:{line:384,column:5}}],line:378},"96":{loc:{start:{line:379,column:6},end:{line:383,column:7}},type:"if",locations:[{start:{line:379,column:6},end:{line:383,column:7}},{start:{line:379,column:6},end:{line:383,column:7}}],line:379},"97":{loc:{start:{line:381,column:13},end:{line:383,column:7}},type:"if",locations:[{start:{line:381,column:13},end:{line:383,column:7}},{start:{line:381,column:13},end:{line:383,column:7}}],line:381},"98":{loc:{start:{line:386,column:4},end:{line:388,column:5}},type:"if",locations:[{start:{line:386,column:4},end:{line:388,column:5}},{start:{line:386,column:4},end:{line:388,column:5}}],line:386},"99":{loc:{start:{line:386,column:8},end:{line:386,column:89}},type:"binary-expr",locations:[{start:{line:386,column:8},end:{line:386,column:36}},{start:{line:386,column:40},end:{line:386,column:89}}],line:386},"100":{loc:{start:{line:390,column:4},end:{line:392,column:5}},type:"if",locations:[{start:{line:390,column:4},end:{line:392,column:5}},{start:{line:390,column:4},end:{line:392,column:5}}],line:390},"101":{loc:{start:{line:390,column:8},end:{line:390,column:73}},type:"binary-expr",locations:[{start:{line:390,column:8},end:{line:390,column:36}},{start:{line:390,column:40},end:{line:390,column:73}}],line:390},"102":{loc:{start:{line:397,column:6},end:{line:399,column:7}},type:"if",locations:[{start:{line:397,column:6},end:{line:399,column:7}},{start:{line:397,column:6},end:{line:399,column:7}}],line:397},"103":{loc:{start:{line:397,column:10},end:{line:397,column:93}},type:"binary-expr",locations:[{start:{line:397,column:10},end:{line:397,column:28}},{start:{line:397,column:32},end:{line:397,column:62}},{start:{line:397,column:66},end:{line:397,column:93}}],line:397},"104":{loc:{start:{line:401,column:6},end:{line:403,column:7}},type:"if",locations:[{start:{line:401,column:6},end:{line:403,column:7}},{start:{line:401,column:6},end:{line:403,column:7}}],line:401},"105":{loc:{start:{line:408,column:4},end:{line:412,column:5}},type:"if",locations:[{start:{line:408,column:4},end:{line:412,column:5}},{start:{line:408,column:4},end:{line:412,column:5}}],line:408},"106":{loc:{start:{line:410,column:11},end:{line:412,column:5}},type:"if",locations:[{start:{line:410,column:11},end:{line:412,column:5}},{start:{line:410,column:11},end:{line:412,column:5}}],line:410},"107":{loc:{start:{line:414,column:4},end:{line:418,column:5}},type:"if",locations:[{start:{line:414,column:4},end:{line:418,column:5}},{start:{line:414,column:4},end:{line:418,column:5}}],line:414},"108":{loc:{start:{line:416,column:11},end:{line:418,column:5}},type:"if",locations:[{start:{line:416,column:11},end:{line:418,column:5}},{start:{line:416,column:11},end:{line:418,column:5}}],line:416},"109":{loc:{start:{line:420,column:4},end:{line:424,column:5}},type:"if",locations:[{start:{line:420,column:4},end:{line:424,column:5}},{start:{line:420,column:4},end:{line:424,column:5}}],line:420},"110":{loc:{start:{line:422,column:11},end:{line:424,column:5}},type:"if",locations:[{start:{line:422,column:11},end:{line:424,column:5}},{start:{line:422,column:11},end:{line:424,column:5}}],line:422},"111":{loc:{start:{line:429,column:6},end:{line:431,column:7}},type:"if",locations:[{start:{line:429,column:6},end:{line:431,column:7}},{start:{line:429,column:6},end:{line:431,column:7}}],line:429},"112":{loc:{start:{line:438,column:4},end:{line:440,column:5}},type:"if",locations:[{start:{line:438,column:4},end:{line:440,column:5}},{start:{line:438,column:4},end:{line:440,column:5}}],line:438},"113":{loc:{start:{line:450,column:4},end:{line:456,column:5}},type:"if",locations:[{start:{line:450,column:4},end:{line:456,column:5}},{start:{line:450,column:4},end:{line:456,column:5}}],line:450},"114":{loc:{start:{line:451,column:6},end:{line:455,column:7}},type:"if",locations:[{start:{line:451,column:6},end:{line:455,column:7}},{start:{line:451,column:6},end:{line:455,column:7}}],line:451},"115":{loc:{start:{line:453,column:13},end:{line:455,column:7}},type:"if",locations:[{start:{line:453,column:13},end:{line:455,column:7}},{start:{line:453,column:13},end:{line:455,column:7}}],line:453},"116":{loc:{start:{line:460,column:4},end:{line:462,column:5}},type:"if",locations:[{start:{line:460,column:4},end:{line:462,column:5}},{start:{line:460,column:4},end:{line:462,column:5}}],line:460},"117":{loc:{start:{line:466,column:4},end:{line:478,column:5}},type:"if",locations:[{start:{line:466,column:4},end:{line:478,column:5}},{start:{line:466,column:4},end:{line:478,column:5}}],line:466},"118":{loc:{start:{line:467,column:6},end:{line:477,column:7}},type:"if",locations:[{start:{line:467,column:6},end:{line:477,column:7}},{start:{line:467,column:6},end:{line:477,column:7}}],line:467},"119":{loc:{start:{line:469,column:10},end:{line:473,column:11}},type:"if",locations:[{start:{line:469,column:10},end:{line:473,column:11}},{start:{line:469,column:10},end:{line:473,column:11}}],line:469},"120":{loc:{start:{line:471,column:17},end:{line:473,column:11}},type:"if",locations:[{start:{line:471,column:17},end:{line:473,column:11}},{start:{line:471,column:17},end:{line:473,column:11}}],line:471},"121":{loc:{start:{line:482,column:4},end:{line:484,column:5}},type:"if",locations:[{start:{line:482,column:4},end:{line:484,column:5}},{start:{line:482,column:4},end:{line:484,column:5}}],line:482},"122":{loc:{start:{line:482,column:8},end:{line:482,column:72}},type:"binary-expr",locations:[{start:{line:482,column:8},end:{line:482,column:30}},{start:{line:482,column:34},end:{line:482,column:72}}],line:482},"123":{loc:{start:{line:491,column:4},end:{line:493,column:5}},type:"if",locations:[{start:{line:491,column:4},end:{line:493,column:5}},{start:{line:491,column:4},end:{line:493,column:5}}],line:491},"124":{loc:{start:{line:491,column:8},end:{line:491,column:79}},type:"binary-expr",locations:[{start:{line:491,column:8},end:{line:491,column:28}},{start:{line:491,column:32},end:{line:491,column:79}}],line:491},"125":{loc:{start:{line:500,column:4},end:{line:502,column:5}},type:"if",locations:[{start:{line:500,column:4},end:{line:502,column:5}},{start:{line:500,column:4},end:{line:502,column:5}}],line:500},"126":{loc:{start:{line:509,column:11},end:{line:509,column:91}},type:"binary-expr",locations:[{start:{line:509,column:11},end:{line:509,column:39}},{start:{line:509,column:43},end:{line:509,column:91}}],line:509},"127":{loc:{start:{line:513,column:11},end:{line:513,column:116}},type:"binary-expr",locations:[{start:{line:513,column:11},end:{line:513,column:51}},{start:{line:513,column:55},end:{line:513,column:116}}],line:513},"128":{loc:{start:{line:517,column:11},end:{line:517,column:100}},type:"binary-expr",locations:[{start:{line:517,column:11},end:{line:517,column:43}},{start:{line:517,column:47},end:{line:517,column:100}}],line:517},"129":{loc:{start:{line:521,column:11},end:{line:521,column:94}},type:"binary-expr",locations:[{start:{line:521,column:11},end:{line:521,column:40}},{start:{line:521,column:44},end:{line:521,column:94}}],line:521},"130":{loc:{start:{line:525,column:11},end:{line:525,column:106}},type:"binary-expr",locations:[{start:{line:525,column:11},end:{line:525,column:46}},{start:{line:525,column:50},end:{line:525,column:106}}],line:525},"131":{loc:{start:{line:529,column:11},end:{line:529,column:92}},type:"binary-expr",locations:[{start:{line:529,column:11},end:{line:529,column:42}},{start:{line:529,column:46},end:{line:529,column:92}}],line:529},"132":{loc:{start:{line:537,column:11},end:{line:537,column:110}},type:"binary-expr",locations:[{start:{line:537,column:11},end:{line:537,column:48}},{start:{line:537,column:52},end:{line:537,column:110}}],line:537},"133":{loc:{start:{line:551,column:11},end:{line:551,column:112}},type:"cond-expr",locations:[{start:{line:551,column:79},end:{line:551,column:103}},{start:{line:551,column:106},end:{line:551,column:112}}],line:551},"134":{loc:{start:{line:551,column:11},end:{line:551,column:76}},type:"binary-expr",locations:[{start:{line:551,column:11},end:{line:551,column:21}},{start:{line:551,column:25},end:{line:551,column:48}},{start:{line:551,column:52},end:{line:551,column:76}}],line:551}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0,0],"68":[0,0],"69":[0,0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0,0],"75":[0,0],"76":[0,0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0,0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0],"120":[0,0],"121":[0,0],"122":[0,0],"123":[0,0],"124":[0,0],"125":[0,0],"126":[0,0],"127":[0,0],"128":[0,0],"129":[0,0],"130":[0,0],"131":[0,0],"132":[0,0],"133":[0,0],"134":[0,0,0]},inputSourceMap:{version:3,sources:["../src/Config.js"],names:["removeTrailingSlash","str","endsWith","substr","length","Config","get","applicationId","mount","cacheInfo","AppCache","config","Object","keys","forEach","key","database","DatabaseController","databaseController","adapter","generateSessionExpiresAt","bind","generateEmailVerifyTokenExpiresAt","put","serverConfiguration","validate","appId","setupPasswordValidator","passwordPolicy","verifyUserEmails","userController","appName","publicServerURL","revokeSessionOnPasswordReset","expireInactiveSessions","sessionLength","maxLimit","emailVerifyTokenValidityDuration","accountLockout","masterKeyIps","masterKey","readOnlyMasterKey","allowHeaders","idempotencyOptions","emailVerifyTokenReuseIfValid","fileUpload","pages","security","enforcePrivateUsers","schema","Error","emailAdapter","validateEmailConfiguration","validateAccountLockoutPolicy","validatePasswordPolicy","validateFileUploadOptions","startsWith","validateSessionConfiguration","validateMasterKeyIps","validateMaxLimit","validateAllowHeaders","validateIdempotencyOptions","validatePagesOptions","validateSecurityOptions","validateSchemaOptions","validateEnforcePrivateUsers","prototype","toString","call","enableCheck","undefined","SecurityOptions","default","enableCheckLog","definitions","SchemaOptions","Array","isArray","strict","deleteExtraFields","recreateModifiedFields","lockSchemas","beforeMigration","afterMigration","enableRouter","PagesOptions","enableLocalization","localizationJsonPath","localizationFallbackLocale","placeholders","forceRedirect","pagesPath","pagesEndpoint","customUrls","customRoutes","ttl","IdempotencyOptions","isNaN","paths","duration","Number","isInteger","threshold","unlockOnPasswordReset","AccountLockoutOptions","maxPasswordAge","resetTokenValidityDuration","validatorPattern","RegExp","validatorCallback","doNotAllowUsername","maxPasswordHistory","resetTokenReuseIfValid","patternValidator","value","test","e","ReferenceError","enableForAnonymousUser","FileUploadOptions","enableForPublic","enableForAuthenticatedUser","ip","net","isIP","_mount","newValue","includes","header","trim","now","Date","getTime","generatePasswordResetTokenExpiresAt","invalidLinkURL","customPages","invalidLink","invalidVerificationLinkURL","invalidVerificationLink","linkSendSuccessURL","linkSendSuccess","linkSendFailURL","linkSendFail","verifyEmailSuccessURL","verifyEmailSuccess","choosePasswordURL","choosePassword","requestResetPasswordURL","passwordResetSuccessURL","passwordResetSuccess","parseFrameURL","verifyEmailURL","module","exports"],mappings:"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",sourcesContent:["// A Config object provides information about how a specific app is\n// configured.\n// mount is the URL for the root of the API; includes http, domain, etc.\n\nimport AppCache from './cache';\nimport DatabaseController from './Controllers/DatabaseController';\nimport net from 'net';\nimport {\n  IdempotencyOptions,\n  FileUploadOptions,\n  AccountLockoutOptions,\n  PagesOptions,\n  SecurityOptions,\n  SchemaOptions,\n} from './Options/Definitions';\nimport { isBoolean, isString } from 'lodash';\n\nfunction removeTrailingSlash(str) {\n  if (!str) {\n    return str;\n  }\n  if (str.endsWith('/')) {\n    str = str.substr(0, str.length - 1);\n  }\n  return str;\n}\n\nexport class Config {\n  static get(applicationId: string, mount: string) {\n    const cacheInfo = AppCache.get(applicationId);\n    if (!cacheInfo) {\n      return;\n    }\n    const config = new Config();\n    config.applicationId = applicationId;\n    Object.keys(cacheInfo).forEach(key => {\n      if (key == 'databaseController') {\n        config.database = new DatabaseController(cacheInfo.databaseController.adapter);\n      } else {\n        config[key] = cacheInfo[key];\n      }\n    });\n    config.mount = removeTrailingSlash(mount);\n    config.generateSessionExpiresAt = config.generateSessionExpiresAt.bind(config);\n    config.generateEmailVerifyTokenExpiresAt = config.generateEmailVerifyTokenExpiresAt.bind(\n      config\n    );\n    return config;\n  }\n\n  static put(serverConfiguration) {\n    Config.validate(serverConfiguration);\n    AppCache.put(serverConfiguration.appId, serverConfiguration);\n    Config.setupPasswordValidator(serverConfiguration.passwordPolicy);\n    return serverConfiguration;\n  }\n\n  static validate({\n    verifyUserEmails,\n    userController,\n    appName,\n    publicServerURL,\n    revokeSessionOnPasswordReset,\n    expireInactiveSessions,\n    sessionLength,\n    maxLimit,\n    emailVerifyTokenValidityDuration,\n    accountLockout,\n    passwordPolicy,\n    masterKeyIps,\n    masterKey,\n    readOnlyMasterKey,\n    allowHeaders,\n    idempotencyOptions,\n    emailVerifyTokenReuseIfValid,\n    fileUpload,\n    pages,\n    security,\n    enforcePrivateUsers,\n    schema,\n  }) {\n    if (masterKey === readOnlyMasterKey) {\n      throw new Error('masterKey and readOnlyMasterKey should be different');\n    }\n\n    const emailAdapter = userController.adapter;\n    if (verifyUserEmails) {\n      this.validateEmailConfiguration({\n        emailAdapter,\n        appName,\n        publicServerURL,\n        emailVerifyTokenValidityDuration,\n        emailVerifyTokenReuseIfValid,\n      });\n    }\n\n    this.validateAccountLockoutPolicy(accountLockout);\n    this.validatePasswordPolicy(passwordPolicy);\n    this.validateFileUploadOptions(fileUpload);\n\n    if (typeof revokeSessionOnPasswordReset !== 'boolean') {\n      throw 'revokeSessionOnPasswordReset must be a boolean value';\n    }\n\n    if (publicServerURL) {\n      if (!publicServerURL.startsWith('http://') && !publicServerURL.startsWith('https://')) {\n        throw 'publicServerURL should be a valid HTTPS URL starting with https://';\n      }\n    }\n    this.validateSessionConfiguration(sessionLength, expireInactiveSessions);\n    this.validateMasterKeyIps(masterKeyIps);\n    this.validateMaxLimit(maxLimit);\n    this.validateAllowHeaders(allowHeaders);\n    this.validateIdempotencyOptions(idempotencyOptions);\n    this.validatePagesOptions(pages);\n    this.validateSecurityOptions(security);\n    this.validateSchemaOptions(schema);\n    this.validateEnforcePrivateUsers(enforcePrivateUsers);\n  }\n\n  static validateEnforcePrivateUsers(enforcePrivateUsers) {\n    if (typeof enforcePrivateUsers !== 'boolean') {\n      throw 'Parse Server option enforcePrivateUsers must be a boolean.';\n    }\n  }\n\n  static validateSecurityOptions(security) {\n    if (Object.prototype.toString.call(security) !== '[object Object]') {\n      throw 'Parse Server option security must be an object.';\n    }\n    if (security.enableCheck === undefined) {\n      security.enableCheck = SecurityOptions.enableCheck.default;\n    } else if (!isBoolean(security.enableCheck)) {\n      throw 'Parse Server option security.enableCheck must be a boolean.';\n    }\n    if (security.enableCheckLog === undefined) {\n      security.enableCheckLog = SecurityOptions.enableCheckLog.default;\n    } else if (!isBoolean(security.enableCheckLog)) {\n      throw 'Parse Server option security.enableCheckLog must be a boolean.';\n    }\n  }\n\n  static validateSchemaOptions(schema: SchemaOptions) {\n    if (!schema) return;\n    if (Object.prototype.toString.call(schema) !== '[object Object]') {\n      throw 'Parse Server option schema must be an object.';\n    }\n    if (schema.definitions === undefined) {\n      schema.definitions = SchemaOptions.definitions.default;\n    } else if (!Array.isArray(schema.definitions)) {\n      throw 'Parse Server option schema.definitions must be an array.';\n    }\n    if (schema.strict === undefined) {\n      schema.strict = SchemaOptions.strict.default;\n    } else if (!isBoolean(schema.strict)) {\n      throw 'Parse Server option schema.strict must be a boolean.';\n    }\n    if (schema.deleteExtraFields === undefined) {\n      schema.deleteExtraFields = SchemaOptions.deleteExtraFields.default;\n    } else if (!isBoolean(schema.deleteExtraFields)) {\n      throw 'Parse Server option schema.deleteExtraFields must be a boolean.';\n    }\n    if (schema.recreateModifiedFields === undefined) {\n      schema.recreateModifiedFields = SchemaOptions.recreateModifiedFields.default;\n    } else if (!isBoolean(schema.recreateModifiedFields)) {\n      throw 'Parse Server option schema.recreateModifiedFields must be a boolean.';\n    }\n    if (schema.lockSchemas === undefined) {\n      schema.lockSchemas = SchemaOptions.lockSchemas.default;\n    } else if (!isBoolean(schema.lockSchemas)) {\n      throw 'Parse Server option schema.lockSchemas must be a boolean.';\n    }\n    if (schema.beforeMigration === undefined) {\n      schema.beforeMigration = null;\n    } else if (schema.beforeMigration !== null && typeof schema.beforeMigration !== 'function') {\n      throw 'Parse Server option schema.beforeMigration must be a function.';\n    }\n    if (schema.afterMigration === undefined) {\n      schema.afterMigration = null;\n    } else if (schema.afterMigration !== null && typeof schema.afterMigration !== 'function') {\n      throw 'Parse Server option schema.afterMigration must be a function.';\n    }\n  }\n\n  static validatePagesOptions(pages) {\n    if (Object.prototype.toString.call(pages) !== '[object Object]') {\n      throw 'Parse Server option pages must be an object.';\n    }\n    if (pages.enableRouter === undefined) {\n      pages.enableRouter = PagesOptions.enableRouter.default;\n    } else if (!isBoolean(pages.enableRouter)) {\n      throw 'Parse Server option pages.enableRouter must be a boolean.';\n    }\n    if (pages.enableLocalization === undefined) {\n      pages.enableLocalization = PagesOptions.enableLocalization.default;\n    } else if (!isBoolean(pages.enableLocalization)) {\n      throw 'Parse Server option pages.enableLocalization must be a boolean.';\n    }\n    if (pages.localizationJsonPath === undefined) {\n      pages.localizationJsonPath = PagesOptions.localizationJsonPath.default;\n    } else if (!isString(pages.localizationJsonPath)) {\n      throw 'Parse Server option pages.localizationJsonPath must be a string.';\n    }\n    if (pages.localizationFallbackLocale === undefined) {\n      pages.localizationFallbackLocale = PagesOptions.localizationFallbackLocale.default;\n    } else if (!isString(pages.localizationFallbackLocale)) {\n      throw 'Parse Server option pages.localizationFallbackLocale must be a string.';\n    }\n    if (pages.placeholders === undefined) {\n      pages.placeholders = PagesOptions.placeholders.default;\n    } else if (\n      Object.prototype.toString.call(pages.placeholders) !== '[object Object]' &&\n      typeof pages.placeholders !== 'function'\n    ) {\n      throw 'Parse Server option pages.placeholders must be an object or a function.';\n    }\n    if (pages.forceRedirect === undefined) {\n      pages.forceRedirect = PagesOptions.forceRedirect.default;\n    } else if (!isBoolean(pages.forceRedirect)) {\n      throw 'Parse Server option pages.forceRedirect must be a boolean.';\n    }\n    if (pages.pagesPath === undefined) {\n      pages.pagesPath = PagesOptions.pagesPath.default;\n    } else if (!isString(pages.pagesPath)) {\n      throw 'Parse Server option pages.pagesPath must be a string.';\n    }\n    if (pages.pagesEndpoint === undefined) {\n      pages.pagesEndpoint = PagesOptions.pagesEndpoint.default;\n    } else if (!isString(pages.pagesEndpoint)) {\n      throw 'Parse Server option pages.pagesEndpoint must be a string.';\n    }\n    if (pages.customUrls === undefined) {\n      pages.customUrls = PagesOptions.customUrls.default;\n    } else if (Object.prototype.toString.call(pages.customUrls) !== '[object Object]') {\n      throw 'Parse Server option pages.customUrls must be an object.';\n    }\n    if (pages.customRoutes === undefined) {\n      pages.customRoutes = PagesOptions.customRoutes.default;\n    } else if (!(pages.customRoutes instanceof Array)) {\n      throw 'Parse Server option pages.customRoutes must be an array.';\n    }\n  }\n\n  static validateIdempotencyOptions(idempotencyOptions) {\n    if (!idempotencyOptions) {\n      return;\n    }\n    if (idempotencyOptions.ttl === undefined) {\n      idempotencyOptions.ttl = IdempotencyOptions.ttl.default;\n    } else if (!isNaN(idempotencyOptions.ttl) && idempotencyOptions.ttl <= 0) {\n      throw 'idempotency TTL value must be greater than 0 seconds';\n    } else if (isNaN(idempotencyOptions.ttl)) {\n      throw 'idempotency TTL value must be a number';\n    }\n    if (!idempotencyOptions.paths) {\n      idempotencyOptions.paths = IdempotencyOptions.paths.default;\n    } else if (!(idempotencyOptions.paths instanceof Array)) {\n      throw 'idempotency paths must be of an array of strings';\n    }\n  }\n\n  static validateAccountLockoutPolicy(accountLockout) {\n    if (accountLockout) {\n      if (\n        typeof accountLockout.duration !== 'number' ||\n        accountLockout.duration <= 0 ||\n        accountLockout.duration > 99999\n      ) {\n        throw 'Account lockout duration should be greater than 0 and less than 100000';\n      }\n\n      if (\n        !Number.isInteger(accountLockout.threshold) ||\n        accountLockout.threshold < 1 ||\n        accountLockout.threshold > 999\n      ) {\n        throw 'Account lockout threshold should be an integer greater than 0 and less than 1000';\n      }\n\n      if (accountLockout.unlockOnPasswordReset === undefined) {\n        accountLockout.unlockOnPasswordReset = AccountLockoutOptions.unlockOnPasswordReset.default;\n      } else if (!isBoolean(accountLockout.unlockOnPasswordReset)) {\n        throw 'Parse Server option accountLockout.unlockOnPasswordReset must be a boolean.';\n      }\n    }\n  }\n\n  static validatePasswordPolicy(passwordPolicy) {\n    if (passwordPolicy) {\n      if (\n        passwordPolicy.maxPasswordAge !== undefined &&\n        (typeof passwordPolicy.maxPasswordAge !== 'number' || passwordPolicy.maxPasswordAge < 0)\n      ) {\n        throw 'passwordPolicy.maxPasswordAge must be a positive number';\n      }\n\n      if (\n        passwordPolicy.resetTokenValidityDuration !== undefined &&\n        (typeof passwordPolicy.resetTokenValidityDuration !== 'number' ||\n          passwordPolicy.resetTokenValidityDuration <= 0)\n      ) {\n        throw 'passwordPolicy.resetTokenValidityDuration must be a positive number';\n      }\n\n      if (passwordPolicy.validatorPattern) {\n        if (typeof passwordPolicy.validatorPattern === 'string') {\n          passwordPolicy.validatorPattern = new RegExp(passwordPolicy.validatorPattern);\n        } else if (!(passwordPolicy.validatorPattern instanceof RegExp)) {\n          throw 'passwordPolicy.validatorPattern must be a regex string or RegExp object.';\n        }\n      }\n\n      if (\n        passwordPolicy.validatorCallback &&\n        typeof passwordPolicy.validatorCallback !== 'function'\n      ) {\n        throw 'passwordPolicy.validatorCallback must be a function.';\n      }\n\n      if (\n        passwordPolicy.doNotAllowUsername &&\n        typeof passwordPolicy.doNotAllowUsername !== 'boolean'\n      ) {\n        throw 'passwordPolicy.doNotAllowUsername must be a boolean value.';\n      }\n\n      if (\n        passwordPolicy.maxPasswordHistory &&\n        (!Number.isInteger(passwordPolicy.maxPasswordHistory) ||\n          passwordPolicy.maxPasswordHistory <= 0 ||\n          passwordPolicy.maxPasswordHistory > 20)\n      ) {\n        throw 'passwordPolicy.maxPasswordHistory must be an integer ranging 0 - 20';\n      }\n\n      if (\n        passwordPolicy.resetTokenReuseIfValid &&\n        typeof passwordPolicy.resetTokenReuseIfValid !== 'boolean'\n      ) {\n        throw 'resetTokenReuseIfValid must be a boolean value';\n      }\n      if (passwordPolicy.resetTokenReuseIfValid && !passwordPolicy.resetTokenValidityDuration) {\n        throw 'You cannot use resetTokenReuseIfValid without resetTokenValidityDuration';\n      }\n    }\n  }\n\n  // if the passwordPolicy.validatorPattern is configured then setup a callback to process the pattern\n  static setupPasswordValidator(passwordPolicy) {\n    if (passwordPolicy && passwordPolicy.validatorPattern) {\n      passwordPolicy.patternValidator = value => {\n        return passwordPolicy.validatorPattern.test(value);\n      };\n    }\n  }\n\n  static validateEmailConfiguration({\n    emailAdapter,\n    appName,\n    publicServerURL,\n    emailVerifyTokenValidityDuration,\n    emailVerifyTokenReuseIfValid,\n  }) {\n    if (!emailAdapter) {\n      throw 'An emailAdapter is required for e-mail verification and password resets.';\n    }\n    if (typeof appName !== 'string') {\n      throw 'An app name is required for e-mail verification and password resets.';\n    }\n    if (typeof publicServerURL !== 'string') {\n      throw 'A public server url is required for e-mail verification and password resets.';\n    }\n    if (emailVerifyTokenValidityDuration) {\n      if (isNaN(emailVerifyTokenValidityDuration)) {\n        throw 'Email verify token validity duration must be a valid number.';\n      } else if (emailVerifyTokenValidityDuration <= 0) {\n        throw 'Email verify token validity duration must be a value greater than 0.';\n      }\n    }\n    if (emailVerifyTokenReuseIfValid && typeof emailVerifyTokenReuseIfValid !== 'boolean') {\n      throw 'emailVerifyTokenReuseIfValid must be a boolean value';\n    }\n    if (emailVerifyTokenReuseIfValid && !emailVerifyTokenValidityDuration) {\n      throw 'You cannot use emailVerifyTokenReuseIfValid without emailVerifyTokenValidityDuration';\n    }\n  }\n\n  static validateFileUploadOptions(fileUpload) {\n    try {\n      if (fileUpload == null || typeof fileUpload !== 'object' || fileUpload instanceof Array) {\n        throw 'fileUpload must be an object value.';\n      }\n    } catch (e) {\n      if (e instanceof ReferenceError) {\n        return;\n      }\n      throw e;\n    }\n    if (fileUpload.enableForAnonymousUser === undefined) {\n      fileUpload.enableForAnonymousUser = FileUploadOptions.enableForAnonymousUser.default;\n    } else if (typeof fileUpload.enableForAnonymousUser !== 'boolean') {\n      throw 'fileUpload.enableForAnonymousUser must be a boolean value.';\n    }\n    if (fileUpload.enableForPublic === undefined) {\n      fileUpload.enableForPublic = FileUploadOptions.enableForPublic.default;\n    } else if (typeof fileUpload.enableForPublic !== 'boolean') {\n      throw 'fileUpload.enableForPublic must be a boolean value.';\n    }\n    if (fileUpload.enableForAuthenticatedUser === undefined) {\n      fileUpload.enableForAuthenticatedUser = FileUploadOptions.enableForAuthenticatedUser.default;\n    } else if (typeof fileUpload.enableForAuthenticatedUser !== 'boolean') {\n      throw 'fileUpload.enableForAuthenticatedUser must be a boolean value.';\n    }\n  }\n\n  static validateMasterKeyIps(masterKeyIps) {\n    for (const ip of masterKeyIps) {\n      if (!net.isIP(ip)) {\n        throw `Invalid ip in masterKeyIps: ${ip}`;\n      }\n    }\n  }\n\n  get mount() {\n    var mount = this._mount;\n    if (this.publicServerURL) {\n      mount = this.publicServerURL;\n    }\n    return mount;\n  }\n\n  set mount(newValue) {\n    this._mount = newValue;\n  }\n\n  static validateSessionConfiguration(sessionLength, expireInactiveSessions) {\n    if (expireInactiveSessions) {\n      if (isNaN(sessionLength)) {\n        throw 'Session length must be a valid number.';\n      } else if (sessionLength <= 0) {\n        throw 'Session length must be a value greater than 0.';\n      }\n    }\n  }\n\n  static validateMaxLimit(maxLimit) {\n    if (maxLimit <= 0) {\n      throw 'Max limit must be a value greater than 0.';\n    }\n  }\n\n  static validateAllowHeaders(allowHeaders) {\n    if (![null, undefined].includes(allowHeaders)) {\n      if (Array.isArray(allowHeaders)) {\n        allowHeaders.forEach(header => {\n          if (typeof header !== 'string') {\n            throw 'Allow headers must only contain strings';\n          } else if (!header.trim().length) {\n            throw 'Allow headers must not contain empty strings';\n          }\n        });\n      } else {\n        throw 'Allow headers must be an array';\n      }\n    }\n  }\n\n  generateEmailVerifyTokenExpiresAt() {\n    if (!this.verifyUserEmails || !this.emailVerifyTokenValidityDuration) {\n      return undefined;\n    }\n    var now = new Date();\n    return new Date(now.getTime() + this.emailVerifyTokenValidityDuration * 1000);\n  }\n\n  generatePasswordResetTokenExpiresAt() {\n    if (!this.passwordPolicy || !this.passwordPolicy.resetTokenValidityDuration) {\n      return undefined;\n    }\n    const now = new Date();\n    return new Date(now.getTime() + this.passwordPolicy.resetTokenValidityDuration * 1000);\n  }\n\n  generateSessionExpiresAt() {\n    if (!this.expireInactiveSessions) {\n      return undefined;\n    }\n    var now = new Date();\n    return new Date(now.getTime() + this.sessionLength * 1000);\n  }\n\n  get invalidLinkURL() {\n    return this.customPages.invalidLink || `${this.publicServerURL}/apps/invalid_link.html`;\n  }\n\n  get invalidVerificationLinkURL() {\n    return (\n      this.customPages.invalidVerificationLink ||\n      `${this.publicServerURL}/apps/invalid_verification_link.html`\n    );\n  }\n\n  get linkSendSuccessURL() {\n    return (\n      this.customPages.linkSendSuccess || `${this.publicServerURL}/apps/link_send_success.html`\n    );\n  }\n\n  get linkSendFailURL() {\n    return this.customPages.linkSendFail || `${this.publicServerURL}/apps/link_send_fail.html`;\n  }\n\n  get verifyEmailSuccessURL() {\n    return (\n      this.customPages.verifyEmailSuccess ||\n      `${this.publicServerURL}/apps/verify_email_success.html`\n    );\n  }\n\n  get choosePasswordURL() {\n    return this.customPages.choosePassword || `${this.publicServerURL}/apps/choose_password`;\n  }\n\n  get requestResetPasswordURL() {\n    return `${this.publicServerURL}/${this.pagesEndpoint}/${this.applicationId}/request_password_reset`;\n  }\n\n  get passwordResetSuccessURL() {\n    return (\n      this.customPages.passwordResetSuccess ||\n      `${this.publicServerURL}/apps/password_reset_success.html`\n    );\n  }\n\n  get parseFrameURL() {\n    return this.customPages.parseFrameURL;\n  }\n\n  get verifyEmailURL() {\n    return `${this.publicServerURL}/${this.pagesEndpoint}/${this.applicationId}/verify_email`;\n  }\n\n  // TODO: Remove this function once PagesRouter replaces the PublicAPIRouter;\n  // the (default) endpoint has to be defined in PagesRouter only.\n  get pagesEndpoint() {\n    return this.pages && this.pages.enableRouter && this.pages.pagesEndpoint\n      ? this.pages.pagesEndpoint\n      : 'apps';\n  }\n}\n\nexport default Config;\nmodule.exports = Config;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"69e1408bde129cbfa1c72df1bbc0d5da8f2ebffc"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_22sxyjee7j=function(){return actualCoverage;};}return actualCoverage;}cov_22sxyjee7j();cov_22sxyjee7j().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_22sxyjee7j().s[1]++;exports.default=exports.Config=void 0;var _cache=(cov_22sxyjee7j().s[2]++,_interopRequireDefault(require("./cache")));var _DatabaseController=(cov_22sxyjee7j().s[3]++,_interopRequireDefault(require("./Controllers/DatabaseController")));var _net=(cov_22sxyjee7j().s[4]++,_interopRequireDefault(require("net")));var _Definitions=(cov_22sxyjee7j().s[5]++,require("./Options/Definitions"));var _lodash=(cov_22sxyjee7j().s[6]++,require("lodash"));function _interopRequireDefault(obj){cov_22sxyjee7j().f[0]++;cov_22sxyjee7j().s[7]++;return(cov_22sxyjee7j().b[1][0]++,obj)&&(cov_22sxyjee7j().b[1][1]++,obj.__esModule)?(cov_22sxyjee7j().b[0][0]++,obj):(cov_22sxyjee7j().b[0][1]++,{default:obj});}// A Config object provides information about how a specific app is
// configured.
// mount is the URL for the root of the API; includes http, domain, etc.
function removeTrailingSlash(str){cov_22sxyjee7j().f[1]++;cov_22sxyjee7j().s[8]++;if(!str){cov_22sxyjee7j().b[2][0]++;cov_22sxyjee7j().s[9]++;return str;}else{cov_22sxyjee7j().b[2][1]++;}cov_22sxyjee7j().s[10]++;if(str.endsWith('/')){cov_22sxyjee7j().b[3][0]++;cov_22sxyjee7j().s[11]++;str=str.substr(0,str.length-1);}else{cov_22sxyjee7j().b[3][1]++;}cov_22sxyjee7j().s[12]++;return str;}class Config{static get(applicationId,mount){cov_22sxyjee7j().f[2]++;const cacheInfo=(cov_22sxyjee7j().s[13]++,_cache.default.get(applicationId));cov_22sxyjee7j().s[14]++;if(!cacheInfo){cov_22sxyjee7j().b[4][0]++;cov_22sxyjee7j().s[15]++;return;}else{cov_22sxyjee7j().b[4][1]++;}const config=(cov_22sxyjee7j().s[16]++,new Config());cov_22sxyjee7j().s[17]++;config.applicationId=applicationId;cov_22sxyjee7j().s[18]++;Object.keys(cacheInfo).forEach(key=>{cov_22sxyjee7j().f[3]++;cov_22sxyjee7j().s[19]++;if(key=='databaseController'){cov_22sxyjee7j().b[5][0]++;cov_22sxyjee7j().s[20]++;config.database=new _DatabaseController.default(cacheInfo.databaseController.adapter);}else{cov_22sxyjee7j().b[5][1]++;cov_22sxyjee7j().s[21]++;config[key]=cacheInfo[key];}});cov_22sxyjee7j().s[22]++;config.mount=removeTrailingSlash(mount);cov_22sxyjee7j().s[23]++;config.generateSessionExpiresAt=config.generateSessionExpiresAt.bind(config);cov_22sxyjee7j().s[24]++;config.generateEmailVerifyTokenExpiresAt=config.generateEmailVerifyTokenExpiresAt.bind(config);cov_22sxyjee7j().s[25]++;return config;}static put(serverConfiguration){cov_22sxyjee7j().f[4]++;cov_22sxyjee7j().s[26]++;Config.validate(serverConfiguration);cov_22sxyjee7j().s[27]++;_cache.default.put(serverConfiguration.appId,serverConfiguration);cov_22sxyjee7j().s[28]++;Config.setupPasswordValidator(serverConfiguration.passwordPolicy);cov_22sxyjee7j().s[29]++;return serverConfiguration;}static validate({verifyUserEmails,userController,appName,publicServerURL,revokeSessionOnPasswordReset,expireInactiveSessions,sessionLength,maxLimit,emailVerifyTokenValidityDuration,accountLockout,passwordPolicy,masterKeyIps,masterKey,readOnlyMasterKey,allowHeaders,idempotencyOptions,emailVerifyTokenReuseIfValid,fileUpload,pages,security,enforcePrivateUsers,schema}){cov_22sxyjee7j().f[5]++;cov_22sxyjee7j().s[30]++;if(masterKey===readOnlyMasterKey){cov_22sxyjee7j().b[6][0]++;cov_22sxyjee7j().s[31]++;throw new Error('masterKey and readOnlyMasterKey should be different');}else{cov_22sxyjee7j().b[6][1]++;}const emailAdapter=(cov_22sxyjee7j().s[32]++,userController.adapter);cov_22sxyjee7j().s[33]++;if(verifyUserEmails){cov_22sxyjee7j().b[7][0]++;cov_22sxyjee7j().s[34]++;this.validateEmailConfiguration({emailAdapter,appName,publicServerURL,emailVerifyTokenValidityDuration,emailVerifyTokenReuseIfValid});}else{cov_22sxyjee7j().b[7][1]++;}cov_22sxyjee7j().s[35]++;this.validateAccountLockoutPolicy(accountLockout);cov_22sxyjee7j().s[36]++;this.validatePasswordPolicy(passwordPolicy);cov_22sxyjee7j().s[37]++;this.validateFileUploadOptions(fileUpload);cov_22sxyjee7j().s[38]++;if(typeof revokeSessionOnPasswordReset!=='boolean'){cov_22sxyjee7j().b[8][0]++;cov_22sxyjee7j().s[39]++;throw'revokeSessionOnPasswordReset must be a boolean value';}else{cov_22sxyjee7j().b[8][1]++;}cov_22sxyjee7j().s[40]++;if(publicServerURL){cov_22sxyjee7j().b[9][0]++;cov_22sxyjee7j().s[41]++;if((cov_22sxyjee7j().b[11][0]++,!publicServerURL.startsWith('http://'))&&(cov_22sxyjee7j().b[11][1]++,!publicServerURL.startsWith('https://'))){cov_22sxyjee7j().b[10][0]++;cov_22sxyjee7j().s[42]++;throw'publicServerURL should be a valid HTTPS URL starting with https://';}else{cov_22sxyjee7j().b[10][1]++;}}else{cov_22sxyjee7j().b[9][1]++;}cov_22sxyjee7j().s[43]++;this.validateSessionConfiguration(sessionLength,expireInactiveSessions);cov_22sxyjee7j().s[44]++;this.validateMasterKeyIps(masterKeyIps);cov_22sxyjee7j().s[45]++;this.validateMaxLimit(maxLimit);cov_22sxyjee7j().s[46]++;this.validateAllowHeaders(allowHeaders);cov_22sxyjee7j().s[47]++;this.validateIdempotencyOptions(idempotencyOptions);cov_22sxyjee7j().s[48]++;this.validatePagesOptions(pages);cov_22sxyjee7j().s[49]++;this.validateSecurityOptions(security);cov_22sxyjee7j().s[50]++;this.validateSchemaOptions(schema);cov_22sxyjee7j().s[51]++;this.validateEnforcePrivateUsers(enforcePrivateUsers);}static validateEnforcePrivateUsers(enforcePrivateUsers){cov_22sxyjee7j().f[6]++;cov_22sxyjee7j().s[52]++;if(typeof enforcePrivateUsers!=='boolean'){cov_22sxyjee7j().b[12][0]++;cov_22sxyjee7j().s[53]++;throw'Parse Server option enforcePrivateUsers must be a boolean.';}else{cov_22sxyjee7j().b[12][1]++;}}static validateSecurityOptions(security){cov_22sxyjee7j().f[7]++;cov_22sxyjee7j().s[54]++;if(Object.prototype.toString.call(security)!=='[object Object]'){cov_22sxyjee7j().b[13][0]++;cov_22sxyjee7j().s[55]++;throw'Parse Server option security must be an object.';}else{cov_22sxyjee7j().b[13][1]++;}cov_22sxyjee7j().s[56]++;if(security.enableCheck===undefined){cov_22sxyjee7j().b[14][0]++;cov_22sxyjee7j().s[57]++;security.enableCheck=_Definitions.SecurityOptions.enableCheck.default;}else{cov_22sxyjee7j().b[14][1]++;cov_22sxyjee7j().s[58]++;if(!(0,_lodash.isBoolean)(security.enableCheck)){cov_22sxyjee7j().b[15][0]++;cov_22sxyjee7j().s[59]++;throw'Parse Server option security.enableCheck must be a boolean.';}else{cov_22sxyjee7j().b[15][1]++;}}cov_22sxyjee7j().s[60]++;if(security.enableCheckLog===undefined){cov_22sxyjee7j().b[16][0]++;cov_22sxyjee7j().s[61]++;security.enableCheckLog=_Definitions.SecurityOptions.enableCheckLog.default;}else{cov_22sxyjee7j().b[16][1]++;cov_22sxyjee7j().s[62]++;if(!(0,_lodash.isBoolean)(security.enableCheckLog)){cov_22sxyjee7j().b[17][0]++;cov_22sxyjee7j().s[63]++;throw'Parse Server option security.enableCheckLog must be a boolean.';}else{cov_22sxyjee7j().b[17][1]++;}}}static validateSchemaOptions(schema){cov_22sxyjee7j().f[8]++;cov_22sxyjee7j().s[64]++;if(!schema){cov_22sxyjee7j().b[18][0]++;cov_22sxyjee7j().s[65]++;return;}else{cov_22sxyjee7j().b[18][1]++;}cov_22sxyjee7j().s[66]++;if(Object.prototype.toString.call(schema)!=='[object Object]'){cov_22sxyjee7j().b[19][0]++;cov_22sxyjee7j().s[67]++;throw'Parse Server option schema must be an object.';}else{cov_22sxyjee7j().b[19][1]++;}cov_22sxyjee7j().s[68]++;if(schema.definitions===undefined){cov_22sxyjee7j().b[20][0]++;cov_22sxyjee7j().s[69]++;schema.definitions=_Definitions.SchemaOptions.definitions.default;}else{cov_22sxyjee7j().b[20][1]++;cov_22sxyjee7j().s[70]++;if(!Array.isArray(schema.definitions)){cov_22sxyjee7j().b[21][0]++;cov_22sxyjee7j().s[71]++;throw'Parse Server option schema.definitions must be an array.';}else{cov_22sxyjee7j().b[21][1]++;}}cov_22sxyjee7j().s[72]++;if(schema.strict===undefined){cov_22sxyjee7j().b[22][0]++;cov_22sxyjee7j().s[73]++;schema.strict=_Definitions.SchemaOptions.strict.default;}else{cov_22sxyjee7j().b[22][1]++;cov_22sxyjee7j().s[74]++;if(!(0,_lodash.isBoolean)(schema.strict)){cov_22sxyjee7j().b[23][0]++;cov_22sxyjee7j().s[75]++;throw'Parse Server option schema.strict must be a boolean.';}else{cov_22sxyjee7j().b[23][1]++;}}cov_22sxyjee7j().s[76]++;if(schema.deleteExtraFields===undefined){cov_22sxyjee7j().b[24][0]++;cov_22sxyjee7j().s[77]++;schema.deleteExtraFields=_Definitions.SchemaOptions.deleteExtraFields.default;}else{cov_22sxyjee7j().b[24][1]++;cov_22sxyjee7j().s[78]++;if(!(0,_lodash.isBoolean)(schema.deleteExtraFields)){cov_22sxyjee7j().b[25][0]++;cov_22sxyjee7j().s[79]++;throw'Parse Server option schema.deleteExtraFields must be a boolean.';}else{cov_22sxyjee7j().b[25][1]++;}}cov_22sxyjee7j().s[80]++;if(schema.recreateModifiedFields===undefined){cov_22sxyjee7j().b[26][0]++;cov_22sxyjee7j().s[81]++;schema.recreateModifiedFields=_Definitions.SchemaOptions.recreateModifiedFields.default;}else{cov_22sxyjee7j().b[26][1]++;cov_22sxyjee7j().s[82]++;if(!(0,_lodash.isBoolean)(schema.recreateModifiedFields)){cov_22sxyjee7j().b[27][0]++;cov_22sxyjee7j().s[83]++;throw'Parse Server option schema.recreateModifiedFields must be a boolean.';}else{cov_22sxyjee7j().b[27][1]++;}}cov_22sxyjee7j().s[84]++;if(schema.lockSchemas===undefined){cov_22sxyjee7j().b[28][0]++;cov_22sxyjee7j().s[85]++;schema.lockSchemas=_Definitions.SchemaOptions.lockSchemas.default;}else{cov_22sxyjee7j().b[28][1]++;cov_22sxyjee7j().s[86]++;if(!(0,_lodash.isBoolean)(schema.lockSchemas)){cov_22sxyjee7j().b[29][0]++;cov_22sxyjee7j().s[87]++;throw'Parse Server option schema.lockSchemas must be a boolean.';}else{cov_22sxyjee7j().b[29][1]++;}}cov_22sxyjee7j().s[88]++;if(schema.beforeMigration===undefined){cov_22sxyjee7j().b[30][0]++;cov_22sxyjee7j().s[89]++;schema.beforeMigration=null;}else{cov_22sxyjee7j().b[30][1]++;cov_22sxyjee7j().s[90]++;if((cov_22sxyjee7j().b[32][0]++,schema.beforeMigration!==null)&&(cov_22sxyjee7j().b[32][1]++,typeof schema.beforeMigration!=='function')){cov_22sxyjee7j().b[31][0]++;cov_22sxyjee7j().s[91]++;throw'Parse Server option schema.beforeMigration must be a function.';}else{cov_22sxyjee7j().b[31][1]++;}}cov_22sxyjee7j().s[92]++;if(schema.afterMigration===undefined){cov_22sxyjee7j().b[33][0]++;cov_22sxyjee7j().s[93]++;schema.afterMigration=null;}else{cov_22sxyjee7j().b[33][1]++;cov_22sxyjee7j().s[94]++;if((cov_22sxyjee7j().b[35][0]++,schema.afterMigration!==null)&&(cov_22sxyjee7j().b[35][1]++,typeof schema.afterMigration!=='function')){cov_22sxyjee7j().b[34][0]++;cov_22sxyjee7j().s[95]++;throw'Parse Server option schema.afterMigration must be a function.';}else{cov_22sxyjee7j().b[34][1]++;}}}static validatePagesOptions(pages){cov_22sxyjee7j().f[9]++;cov_22sxyjee7j().s[96]++;if(Object.prototype.toString.call(pages)!=='[object Object]'){cov_22sxyjee7j().b[36][0]++;cov_22sxyjee7j().s[97]++;throw'Parse Server option pages must be an object.';}else{cov_22sxyjee7j().b[36][1]++;}cov_22sxyjee7j().s[98]++;if(pages.enableRouter===undefined){cov_22sxyjee7j().b[37][0]++;cov_22sxyjee7j().s[99]++;pages.enableRouter=_Definitions.PagesOptions.enableRouter.default;}else{cov_22sxyjee7j().b[37][1]++;cov_22sxyjee7j().s[100]++;if(!(0,_lodash.isBoolean)(pages.enableRouter)){cov_22sxyjee7j().b[38][0]++;cov_22sxyjee7j().s[101]++;throw'Parse Server option pages.enableRouter must be a boolean.';}else{cov_22sxyjee7j().b[38][1]++;}}cov_22sxyjee7j().s[102]++;if(pages.enableLocalization===undefined){cov_22sxyjee7j().b[39][0]++;cov_22sxyjee7j().s[103]++;pages.enableLocalization=_Definitions.PagesOptions.enableLocalization.default;}else{cov_22sxyjee7j().b[39][1]++;cov_22sxyjee7j().s[104]++;if(!(0,_lodash.isBoolean)(pages.enableLocalization)){cov_22sxyjee7j().b[40][0]++;cov_22sxyjee7j().s[105]++;throw'Parse Server option pages.enableLocalization must be a boolean.';}else{cov_22sxyjee7j().b[40][1]++;}}cov_22sxyjee7j().s[106]++;if(pages.localizationJsonPath===undefined){cov_22sxyjee7j().b[41][0]++;cov_22sxyjee7j().s[107]++;pages.localizationJsonPath=_Definitions.PagesOptions.localizationJsonPath.default;}else{cov_22sxyjee7j().b[41][1]++;cov_22sxyjee7j().s[108]++;if(!(0,_lodash.isString)(pages.localizationJsonPath)){cov_22sxyjee7j().b[42][0]++;cov_22sxyjee7j().s[109]++;throw'Parse Server option pages.localizationJsonPath must be a string.';}else{cov_22sxyjee7j().b[42][1]++;}}cov_22sxyjee7j().s[110]++;if(pages.localizationFallbackLocale===undefined){cov_22sxyjee7j().b[43][0]++;cov_22sxyjee7j().s[111]++;pages.localizationFallbackLocale=_Definitions.PagesOptions.localizationFallbackLocale.default;}else{cov_22sxyjee7j().b[43][1]++;cov_22sxyjee7j().s[112]++;if(!(0,_lodash.isString)(pages.localizationFallbackLocale)){cov_22sxyjee7j().b[44][0]++;cov_22sxyjee7j().s[113]++;throw'Parse Server option pages.localizationFallbackLocale must be a string.';}else{cov_22sxyjee7j().b[44][1]++;}}cov_22sxyjee7j().s[114]++;if(pages.placeholders===undefined){cov_22sxyjee7j().b[45][0]++;cov_22sxyjee7j().s[115]++;pages.placeholders=_Definitions.PagesOptions.placeholders.default;}else{cov_22sxyjee7j().b[45][1]++;cov_22sxyjee7j().s[116]++;if((cov_22sxyjee7j().b[47][0]++,Object.prototype.toString.call(pages.placeholders)!=='[object Object]')&&(cov_22sxyjee7j().b[47][1]++,typeof pages.placeholders!=='function')){cov_22sxyjee7j().b[46][0]++;cov_22sxyjee7j().s[117]++;throw'Parse Server option pages.placeholders must be an object or a function.';}else{cov_22sxyjee7j().b[46][1]++;}}cov_22sxyjee7j().s[118]++;if(pages.forceRedirect===undefined){cov_22sxyjee7j().b[48][0]++;cov_22sxyjee7j().s[119]++;pages.forceRedirect=_Definitions.PagesOptions.forceRedirect.default;}else{cov_22sxyjee7j().b[48][1]++;cov_22sxyjee7j().s[120]++;if(!(0,_lodash.isBoolean)(pages.forceRedirect)){cov_22sxyjee7j().b[49][0]++;cov_22sxyjee7j().s[121]++;throw'Parse Server option pages.forceRedirect must be a boolean.';}else{cov_22sxyjee7j().b[49][1]++;}}cov_22sxyjee7j().s[122]++;if(pages.pagesPath===undefined){cov_22sxyjee7j().b[50][0]++;cov_22sxyjee7j().s[123]++;pages.pagesPath=_Definitions.PagesOptions.pagesPath.default;}else{cov_22sxyjee7j().b[50][1]++;cov_22sxyjee7j().s[124]++;if(!(0,_lodash.isString)(pages.pagesPath)){cov_22sxyjee7j().b[51][0]++;cov_22sxyjee7j().s[125]++;throw'Parse Server option pages.pagesPath must be a string.';}else{cov_22sxyjee7j().b[51][1]++;}}cov_22sxyjee7j().s[126]++;if(pages.pagesEndpoint===undefined){cov_22sxyjee7j().b[52][0]++;cov_22sxyjee7j().s[127]++;pages.pagesEndpoint=_Definitions.PagesOptions.pagesEndpoint.default;}else{cov_22sxyjee7j().b[52][1]++;cov_22sxyjee7j().s[128]++;if(!(0,_lodash.isString)(pages.pagesEndpoint)){cov_22sxyjee7j().b[53][0]++;cov_22sxyjee7j().s[129]++;throw'Parse Server option pages.pagesEndpoint must be a string.';}else{cov_22sxyjee7j().b[53][1]++;}}cov_22sxyjee7j().s[130]++;if(pages.customUrls===undefined){cov_22sxyjee7j().b[54][0]++;cov_22sxyjee7j().s[131]++;pages.customUrls=_Definitions.PagesOptions.customUrls.default;}else{cov_22sxyjee7j().b[54][1]++;cov_22sxyjee7j().s[132]++;if(Object.prototype.toString.call(pages.customUrls)!=='[object Object]'){cov_22sxyjee7j().b[55][0]++;cov_22sxyjee7j().s[133]++;throw'Parse Server option pages.customUrls must be an object.';}else{cov_22sxyjee7j().b[55][1]++;}}cov_22sxyjee7j().s[134]++;if(pages.customRoutes===undefined){cov_22sxyjee7j().b[56][0]++;cov_22sxyjee7j().s[135]++;pages.customRoutes=_Definitions.PagesOptions.customRoutes.default;}else{cov_22sxyjee7j().b[56][1]++;cov_22sxyjee7j().s[136]++;if(!(pages.customRoutes instanceof Array)){cov_22sxyjee7j().b[57][0]++;cov_22sxyjee7j().s[137]++;throw'Parse Server option pages.customRoutes must be an array.';}else{cov_22sxyjee7j().b[57][1]++;}}}static validateIdempotencyOptions(idempotencyOptions){cov_22sxyjee7j().f[10]++;cov_22sxyjee7j().s[138]++;if(!idempotencyOptions){cov_22sxyjee7j().b[58][0]++;cov_22sxyjee7j().s[139]++;return;}else{cov_22sxyjee7j().b[58][1]++;}cov_22sxyjee7j().s[140]++;if(idempotencyOptions.ttl===undefined){cov_22sxyjee7j().b[59][0]++;cov_22sxyjee7j().s[141]++;idempotencyOptions.ttl=_Definitions.IdempotencyOptions.ttl.default;}else{cov_22sxyjee7j().b[59][1]++;cov_22sxyjee7j().s[142]++;if((cov_22sxyjee7j().b[61][0]++,!isNaN(idempotencyOptions.ttl))&&(cov_22sxyjee7j().b[61][1]++,idempotencyOptions.ttl<=0)){cov_22sxyjee7j().b[60][0]++;cov_22sxyjee7j().s[143]++;throw'idempotency TTL value must be greater than 0 seconds';}else{cov_22sxyjee7j().b[60][1]++;cov_22sxyjee7j().s[144]++;if(isNaN(idempotencyOptions.ttl)){cov_22sxyjee7j().b[62][0]++;cov_22sxyjee7j().s[145]++;throw'idempotency TTL value must be a number';}else{cov_22sxyjee7j().b[62][1]++;}}}cov_22sxyjee7j().s[146]++;if(!idempotencyOptions.paths){cov_22sxyjee7j().b[63][0]++;cov_22sxyjee7j().s[147]++;idempotencyOptions.paths=_Definitions.IdempotencyOptions.paths.default;}else{cov_22sxyjee7j().b[63][1]++;cov_22sxyjee7j().s[148]++;if(!(idempotencyOptions.paths instanceof Array)){cov_22sxyjee7j().b[64][0]++;cov_22sxyjee7j().s[149]++;throw'idempotency paths must be of an array of strings';}else{cov_22sxyjee7j().b[64][1]++;}}}static validateAccountLockoutPolicy(accountLockout){cov_22sxyjee7j().f[11]++;cov_22sxyjee7j().s[150]++;if(accountLockout){cov_22sxyjee7j().b[65][0]++;cov_22sxyjee7j().s[151]++;if((cov_22sxyjee7j().b[67][0]++,typeof accountLockout.duration!=='number')||(cov_22sxyjee7j().b[67][1]++,accountLockout.duration<=0)||(cov_22sxyjee7j().b[67][2]++,accountLockout.duration>99999)){cov_22sxyjee7j().b[66][0]++;cov_22sxyjee7j().s[152]++;throw'Account lockout duration should be greater than 0 and less than 100000';}else{cov_22sxyjee7j().b[66][1]++;}cov_22sxyjee7j().s[153]++;if((cov_22sxyjee7j().b[69][0]++,!Number.isInteger(accountLockout.threshold))||(cov_22sxyjee7j().b[69][1]++,accountLockout.threshold<1)||(cov_22sxyjee7j().b[69][2]++,accountLockout.threshold>999)){cov_22sxyjee7j().b[68][0]++;cov_22sxyjee7j().s[154]++;throw'Account lockout threshold should be an integer greater than 0 and less than 1000';}else{cov_22sxyjee7j().b[68][1]++;}cov_22sxyjee7j().s[155]++;if(accountLockout.unlockOnPasswordReset===undefined){cov_22sxyjee7j().b[70][0]++;cov_22sxyjee7j().s[156]++;accountLockout.unlockOnPasswordReset=_Definitions.AccountLockoutOptions.unlockOnPasswordReset.default;}else{cov_22sxyjee7j().b[70][1]++;cov_22sxyjee7j().s[157]++;if(!(0,_lodash.isBoolean)(accountLockout.unlockOnPasswordReset)){cov_22sxyjee7j().b[71][0]++;cov_22sxyjee7j().s[158]++;throw'Parse Server option accountLockout.unlockOnPasswordReset must be a boolean.';}else{cov_22sxyjee7j().b[71][1]++;}}}else{cov_22sxyjee7j().b[65][1]++;}}static validatePasswordPolicy(passwordPolicy){cov_22sxyjee7j().f[12]++;cov_22sxyjee7j().s[159]++;if(passwordPolicy){cov_22sxyjee7j().b[72][0]++;cov_22sxyjee7j().s[160]++;if((cov_22sxyjee7j().b[74][0]++,passwordPolicy.maxPasswordAge!==undefined)&&((cov_22sxyjee7j().b[74][1]++,typeof passwordPolicy.maxPasswordAge!=='number')||(cov_22sxyjee7j().b[74][2]++,passwordPolicy.maxPasswordAge<0))){cov_22sxyjee7j().b[73][0]++;cov_22sxyjee7j().s[161]++;throw'passwordPolicy.maxPasswordAge must be a positive number';}else{cov_22sxyjee7j().b[73][1]++;}cov_22sxyjee7j().s[162]++;if((cov_22sxyjee7j().b[76][0]++,passwordPolicy.resetTokenValidityDuration!==undefined)&&((cov_22sxyjee7j().b[76][1]++,typeof passwordPolicy.resetTokenValidityDuration!=='number')||(cov_22sxyjee7j().b[76][2]++,passwordPolicy.resetTokenValidityDuration<=0))){cov_22sxyjee7j().b[75][0]++;cov_22sxyjee7j().s[163]++;throw'passwordPolicy.resetTokenValidityDuration must be a positive number';}else{cov_22sxyjee7j().b[75][1]++;}cov_22sxyjee7j().s[164]++;if(passwordPolicy.validatorPattern){cov_22sxyjee7j().b[77][0]++;cov_22sxyjee7j().s[165]++;if(typeof passwordPolicy.validatorPattern==='string'){cov_22sxyjee7j().b[78][0]++;cov_22sxyjee7j().s[166]++;passwordPolicy.validatorPattern=new RegExp(passwordPolicy.validatorPattern);}else{cov_22sxyjee7j().b[78][1]++;cov_22sxyjee7j().s[167]++;if(!(passwordPolicy.validatorPattern instanceof RegExp)){cov_22sxyjee7j().b[79][0]++;cov_22sxyjee7j().s[168]++;throw'passwordPolicy.validatorPattern must be a regex string or RegExp object.';}else{cov_22sxyjee7j().b[79][1]++;}}}else{cov_22sxyjee7j().b[77][1]++;}cov_22sxyjee7j().s[169]++;if((cov_22sxyjee7j().b[81][0]++,passwordPolicy.validatorCallback)&&(cov_22sxyjee7j().b[81][1]++,typeof passwordPolicy.validatorCallback!=='function')){cov_22sxyjee7j().b[80][0]++;cov_22sxyjee7j().s[170]++;throw'passwordPolicy.validatorCallback must be a function.';}else{cov_22sxyjee7j().b[80][1]++;}cov_22sxyjee7j().s[171]++;if((cov_22sxyjee7j().b[83][0]++,passwordPolicy.doNotAllowUsername)&&(cov_22sxyjee7j().b[83][1]++,typeof passwordPolicy.doNotAllowUsername!=='boolean')){cov_22sxyjee7j().b[82][0]++;cov_22sxyjee7j().s[172]++;throw'passwordPolicy.doNotAllowUsername must be a boolean value.';}else{cov_22sxyjee7j().b[82][1]++;}cov_22sxyjee7j().s[173]++;if((cov_22sxyjee7j().b[85][0]++,passwordPolicy.maxPasswordHistory)&&((cov_22sxyjee7j().b[85][1]++,!Number.isInteger(passwordPolicy.maxPasswordHistory))||(cov_22sxyjee7j().b[85][2]++,passwordPolicy.maxPasswordHistory<=0)||(cov_22sxyjee7j().b[85][3]++,passwordPolicy.maxPasswordHistory>20))){cov_22sxyjee7j().b[84][0]++;cov_22sxyjee7j().s[174]++;throw'passwordPolicy.maxPasswordHistory must be an integer ranging 0 - 20';}else{cov_22sxyjee7j().b[84][1]++;}cov_22sxyjee7j().s[175]++;if((cov_22sxyjee7j().b[87][0]++,passwordPolicy.resetTokenReuseIfValid)&&(cov_22sxyjee7j().b[87][1]++,typeof passwordPolicy.resetTokenReuseIfValid!=='boolean')){cov_22sxyjee7j().b[86][0]++;cov_22sxyjee7j().s[176]++;throw'resetTokenReuseIfValid must be a boolean value';}else{cov_22sxyjee7j().b[86][1]++;}cov_22sxyjee7j().s[177]++;if((cov_22sxyjee7j().b[89][0]++,passwordPolicy.resetTokenReuseIfValid)&&(cov_22sxyjee7j().b[89][1]++,!passwordPolicy.resetTokenValidityDuration)){cov_22sxyjee7j().b[88][0]++;cov_22sxyjee7j().s[178]++;throw'You cannot use resetTokenReuseIfValid without resetTokenValidityDuration';}else{cov_22sxyjee7j().b[88][1]++;}}else{cov_22sxyjee7j().b[72][1]++;}}// if the passwordPolicy.validatorPattern is configured then setup a callback to process the pattern
static setupPasswordValidator(passwordPolicy){cov_22sxyjee7j().f[13]++;cov_22sxyjee7j().s[179]++;if((cov_22sxyjee7j().b[91][0]++,passwordPolicy)&&(cov_22sxyjee7j().b[91][1]++,passwordPolicy.validatorPattern)){cov_22sxyjee7j().b[90][0]++;cov_22sxyjee7j().s[180]++;passwordPolicy.patternValidator=value=>{cov_22sxyjee7j().f[14]++;cov_22sxyjee7j().s[181]++;return passwordPolicy.validatorPattern.test(value);};}else{cov_22sxyjee7j().b[90][1]++;}}static validateEmailConfiguration({emailAdapter,appName,publicServerURL,emailVerifyTokenValidityDuration,emailVerifyTokenReuseIfValid}){cov_22sxyjee7j().f[15]++;cov_22sxyjee7j().s[182]++;if(!emailAdapter){cov_22sxyjee7j().b[92][0]++;cov_22sxyjee7j().s[183]++;throw'An emailAdapter is required for e-mail verification and password resets.';}else{cov_22sxyjee7j().b[92][1]++;}cov_22sxyjee7j().s[184]++;if(typeof appName!=='string'){cov_22sxyjee7j().b[93][0]++;cov_22sxyjee7j().s[185]++;throw'An app name is required for e-mail verification and password resets.';}else{cov_22sxyjee7j().b[93][1]++;}cov_22sxyjee7j().s[186]++;if(typeof publicServerURL!=='string'){cov_22sxyjee7j().b[94][0]++;cov_22sxyjee7j().s[187]++;throw'A public server url is required for e-mail verification and password resets.';}else{cov_22sxyjee7j().b[94][1]++;}cov_22sxyjee7j().s[188]++;if(emailVerifyTokenValidityDuration){cov_22sxyjee7j().b[95][0]++;cov_22sxyjee7j().s[189]++;if(isNaN(emailVerifyTokenValidityDuration)){cov_22sxyjee7j().b[96][0]++;cov_22sxyjee7j().s[190]++;throw'Email verify token validity duration must be a valid number.';}else{cov_22sxyjee7j().b[96][1]++;cov_22sxyjee7j().s[191]++;if(emailVerifyTokenValidityDuration<=0){cov_22sxyjee7j().b[97][0]++;cov_22sxyjee7j().s[192]++;throw'Email verify token validity duration must be a value greater than 0.';}else{cov_22sxyjee7j().b[97][1]++;}}}else{cov_22sxyjee7j().b[95][1]++;}cov_22sxyjee7j().s[193]++;if((cov_22sxyjee7j().b[99][0]++,emailVerifyTokenReuseIfValid)&&(cov_22sxyjee7j().b[99][1]++,typeof emailVerifyTokenReuseIfValid!=='boolean')){cov_22sxyjee7j().b[98][0]++;cov_22sxyjee7j().s[194]++;throw'emailVerifyTokenReuseIfValid must be a boolean value';}else{cov_22sxyjee7j().b[98][1]++;}cov_22sxyjee7j().s[195]++;if((cov_22sxyjee7j().b[101][0]++,emailVerifyTokenReuseIfValid)&&(cov_22sxyjee7j().b[101][1]++,!emailVerifyTokenValidityDuration)){cov_22sxyjee7j().b[100][0]++;cov_22sxyjee7j().s[196]++;throw'You cannot use emailVerifyTokenReuseIfValid without emailVerifyTokenValidityDuration';}else{cov_22sxyjee7j().b[100][1]++;}}static validateFileUploadOptions(fileUpload){cov_22sxyjee7j().f[16]++;cov_22sxyjee7j().s[197]++;try{cov_22sxyjee7j().s[198]++;if((cov_22sxyjee7j().b[103][0]++,fileUpload==null)||(cov_22sxyjee7j().b[103][1]++,typeof fileUpload!=='object')||(cov_22sxyjee7j().b[103][2]++,fileUpload instanceof Array)){cov_22sxyjee7j().b[102][0]++;cov_22sxyjee7j().s[199]++;throw'fileUpload must be an object value.';}else{cov_22sxyjee7j().b[102][1]++;}}catch(e){cov_22sxyjee7j().s[200]++;if(e instanceof ReferenceError){cov_22sxyjee7j().b[104][0]++;cov_22sxyjee7j().s[201]++;return;}else{cov_22sxyjee7j().b[104][1]++;}cov_22sxyjee7j().s[202]++;throw e;}cov_22sxyjee7j().s[203]++;if(fileUpload.enableForAnonymousUser===undefined){cov_22sxyjee7j().b[105][0]++;cov_22sxyjee7j().s[204]++;fileUpload.enableForAnonymousUser=_Definitions.FileUploadOptions.enableForAnonymousUser.default;}else{cov_22sxyjee7j().b[105][1]++;cov_22sxyjee7j().s[205]++;if(typeof fileUpload.enableForAnonymousUser!=='boolean'){cov_22sxyjee7j().b[106][0]++;cov_22sxyjee7j().s[206]++;throw'fileUpload.enableForAnonymousUser must be a boolean value.';}else{cov_22sxyjee7j().b[106][1]++;}}cov_22sxyjee7j().s[207]++;if(fileUpload.enableForPublic===undefined){cov_22sxyjee7j().b[107][0]++;cov_22sxyjee7j().s[208]++;fileUpload.enableForPublic=_Definitions.FileUploadOptions.enableForPublic.default;}else{cov_22sxyjee7j().b[107][1]++;cov_22sxyjee7j().s[209]++;if(typeof fileUpload.enableForPublic!=='boolean'){cov_22sxyjee7j().b[108][0]++;cov_22sxyjee7j().s[210]++;throw'fileUpload.enableForPublic must be a boolean value.';}else{cov_22sxyjee7j().b[108][1]++;}}cov_22sxyjee7j().s[211]++;if(fileUpload.enableForAuthenticatedUser===undefined){cov_22sxyjee7j().b[109][0]++;cov_22sxyjee7j().s[212]++;fileUpload.enableForAuthenticatedUser=_Definitions.FileUploadOptions.enableForAuthenticatedUser.default;}else{cov_22sxyjee7j().b[109][1]++;cov_22sxyjee7j().s[213]++;if(typeof fileUpload.enableForAuthenticatedUser!=='boolean'){cov_22sxyjee7j().b[110][0]++;cov_22sxyjee7j().s[214]++;throw'fileUpload.enableForAuthenticatedUser must be a boolean value.';}else{cov_22sxyjee7j().b[110][1]++;}}}static validateMasterKeyIps(masterKeyIps){cov_22sxyjee7j().f[17]++;cov_22sxyjee7j().s[215]++;for(const ip of masterKeyIps){cov_22sxyjee7j().s[216]++;if(!_net.default.isIP(ip)){cov_22sxyjee7j().b[111][0]++;cov_22sxyjee7j().s[217]++;throw`Invalid ip in masterKeyIps: ${ip}`;}else{cov_22sxyjee7j().b[111][1]++;}}}get mount(){cov_22sxyjee7j().f[18]++;var mount=(cov_22sxyjee7j().s[218]++,this._mount);cov_22sxyjee7j().s[219]++;if(this.publicServerURL){cov_22sxyjee7j().b[112][0]++;cov_22sxyjee7j().s[220]++;mount=this.publicServerURL;}else{cov_22sxyjee7j().b[112][1]++;}cov_22sxyjee7j().s[221]++;return mount;}set mount(newValue){cov_22sxyjee7j().f[19]++;cov_22sxyjee7j().s[222]++;this._mount=newValue;}static validateSessionConfiguration(sessionLength,expireInactiveSessions){cov_22sxyjee7j().f[20]++;cov_22sxyjee7j().s[223]++;if(expireInactiveSessions){cov_22sxyjee7j().b[113][0]++;cov_22sxyjee7j().s[224]++;if(isNaN(sessionLength)){cov_22sxyjee7j().b[114][0]++;cov_22sxyjee7j().s[225]++;throw'Session length must be a valid number.';}else{cov_22sxyjee7j().b[114][1]++;cov_22sxyjee7j().s[226]++;if(sessionLength<=0){cov_22sxyjee7j().b[115][0]++;cov_22sxyjee7j().s[227]++;throw'Session length must be a value greater than 0.';}else{cov_22sxyjee7j().b[115][1]++;}}}else{cov_22sxyjee7j().b[113][1]++;}}static validateMaxLimit(maxLimit){cov_22sxyjee7j().f[21]++;cov_22sxyjee7j().s[228]++;if(maxLimit<=0){cov_22sxyjee7j().b[116][0]++;cov_22sxyjee7j().s[229]++;throw'Max limit must be a value greater than 0.';}else{cov_22sxyjee7j().b[116][1]++;}}static validateAllowHeaders(allowHeaders){cov_22sxyjee7j().f[22]++;cov_22sxyjee7j().s[230]++;if(![null,undefined].includes(allowHeaders)){cov_22sxyjee7j().b[117][0]++;cov_22sxyjee7j().s[231]++;if(Array.isArray(allowHeaders)){cov_22sxyjee7j().b[118][0]++;cov_22sxyjee7j().s[232]++;allowHeaders.forEach(header=>{cov_22sxyjee7j().f[23]++;cov_22sxyjee7j().s[233]++;if(typeof header!=='string'){cov_22sxyjee7j().b[119][0]++;cov_22sxyjee7j().s[234]++;throw'Allow headers must only contain strings';}else{cov_22sxyjee7j().b[119][1]++;cov_22sxyjee7j().s[235]++;if(!header.trim().length){cov_22sxyjee7j().b[120][0]++;cov_22sxyjee7j().s[236]++;throw'Allow headers must not contain empty strings';}else{cov_22sxyjee7j().b[120][1]++;}}});}else{cov_22sxyjee7j().b[118][1]++;cov_22sxyjee7j().s[237]++;throw'Allow headers must be an array';}}else{cov_22sxyjee7j().b[117][1]++;}}generateEmailVerifyTokenExpiresAt(){cov_22sxyjee7j().f[24]++;cov_22sxyjee7j().s[238]++;if((cov_22sxyjee7j().b[122][0]++,!this.verifyUserEmails)||(cov_22sxyjee7j().b[122][1]++,!this.emailVerifyTokenValidityDuration)){cov_22sxyjee7j().b[121][0]++;cov_22sxyjee7j().s[239]++;return undefined;}else{cov_22sxyjee7j().b[121][1]++;}var now=(cov_22sxyjee7j().s[240]++,new Date());cov_22sxyjee7j().s[241]++;return new Date(now.getTime()+this.emailVerifyTokenValidityDuration*1000);}generatePasswordResetTokenExpiresAt(){cov_22sxyjee7j().f[25]++;cov_22sxyjee7j().s[242]++;if((cov_22sxyjee7j().b[124][0]++,!this.passwordPolicy)||(cov_22sxyjee7j().b[124][1]++,!this.passwordPolicy.resetTokenValidityDuration)){cov_22sxyjee7j().b[123][0]++;cov_22sxyjee7j().s[243]++;return undefined;}else{cov_22sxyjee7j().b[123][1]++;}const now=(cov_22sxyjee7j().s[244]++,new Date());cov_22sxyjee7j().s[245]++;return new Date(now.getTime()+this.passwordPolicy.resetTokenValidityDuration*1000);}generateSessionExpiresAt(){cov_22sxyjee7j().f[26]++;cov_22sxyjee7j().s[246]++;if(!this.expireInactiveSessions){cov_22sxyjee7j().b[125][0]++;cov_22sxyjee7j().s[247]++;return undefined;}else{cov_22sxyjee7j().b[125][1]++;}var now=(cov_22sxyjee7j().s[248]++,new Date());cov_22sxyjee7j().s[249]++;return new Date(now.getTime()+this.sessionLength*1000);}get invalidLinkURL(){cov_22sxyjee7j().f[27]++;cov_22sxyjee7j().s[250]++;return(cov_22sxyjee7j().b[126][0]++,this.customPages.invalidLink)||(cov_22sxyjee7j().b[126][1]++,`${this.publicServerURL}/apps/invalid_link.html`);}get invalidVerificationLinkURL(){cov_22sxyjee7j().f[28]++;cov_22sxyjee7j().s[251]++;return(cov_22sxyjee7j().b[127][0]++,this.customPages.invalidVerificationLink)||(cov_22sxyjee7j().b[127][1]++,`${this.publicServerURL}/apps/invalid_verification_link.html`);}get linkSendSuccessURL(){cov_22sxyjee7j().f[29]++;cov_22sxyjee7j().s[252]++;return(cov_22sxyjee7j().b[128][0]++,this.customPages.linkSendSuccess)||(cov_22sxyjee7j().b[128][1]++,`${this.publicServerURL}/apps/link_send_success.html`);}get linkSendFailURL(){cov_22sxyjee7j().f[30]++;cov_22sxyjee7j().s[253]++;return(cov_22sxyjee7j().b[129][0]++,this.customPages.linkSendFail)||(cov_22sxyjee7j().b[129][1]++,`${this.publicServerURL}/apps/link_send_fail.html`);}get verifyEmailSuccessURL(){cov_22sxyjee7j().f[31]++;cov_22sxyjee7j().s[254]++;return(cov_22sxyjee7j().b[130][0]++,this.customPages.verifyEmailSuccess)||(cov_22sxyjee7j().b[130][1]++,`${this.publicServerURL}/apps/verify_email_success.html`);}get choosePasswordURL(){cov_22sxyjee7j().f[32]++;cov_22sxyjee7j().s[255]++;return(cov_22sxyjee7j().b[131][0]++,this.customPages.choosePassword)||(cov_22sxyjee7j().b[131][1]++,`${this.publicServerURL}/apps/choose_password`);}get requestResetPasswordURL(){cov_22sxyjee7j().f[33]++;cov_22sxyjee7j().s[256]++;return`${this.publicServerURL}/${this.pagesEndpoint}/${this.applicationId}/request_password_reset`;}get passwordResetSuccessURL(){cov_22sxyjee7j().f[34]++;cov_22sxyjee7j().s[257]++;return(cov_22sxyjee7j().b[132][0]++,this.customPages.passwordResetSuccess)||(cov_22sxyjee7j().b[132][1]++,`${this.publicServerURL}/apps/password_reset_success.html`);}get parseFrameURL(){cov_22sxyjee7j().f[35]++;cov_22sxyjee7j().s[258]++;return this.customPages.parseFrameURL;}get verifyEmailURL(){cov_22sxyjee7j().f[36]++;cov_22sxyjee7j().s[259]++;return`${this.publicServerURL}/${this.pagesEndpoint}/${this.applicationId}/verify_email`;}// TODO: Remove this function once PagesRouter replaces the PublicAPIRouter;
// the (default) endpoint has to be defined in PagesRouter only.
get pagesEndpoint(){cov_22sxyjee7j().f[37]++;cov_22sxyjee7j().s[260]++;return(cov_22sxyjee7j().b[134][0]++,this.pages)&&(cov_22sxyjee7j().b[134][1]++,this.pages.enableRouter)&&(cov_22sxyjee7j().b[134][2]++,this.pages.pagesEndpoint)?(cov_22sxyjee7j().b[133][0]++,this.pages.pagesEndpoint):(cov_22sxyjee7j().b[133][1]++,'apps');}}cov_22sxyjee7j().s[261]++;exports.Config=Config;var _default=(cov_22sxyjee7j().s[262]++,Config);cov_22sxyjee7j().s[263]++;exports.default=_default;cov_22sxyjee7j().s[264]++;module.exports=Config;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Db25maWcuanMiXSwibmFtZXMiOlsicmVtb3ZlVHJhaWxpbmdTbGFzaCIsInN0ciIsImVuZHNXaXRoIiwic3Vic3RyIiwibGVuZ3RoIiwiQ29uZmlnIiwiZ2V0IiwiYXBwbGljYXRpb25JZCIsIm1vdW50IiwiY2FjaGVJbmZvIiwiQXBwQ2FjaGUiLCJjb25maWciLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImRhdGFiYXNlIiwiRGF0YWJhc2VDb250cm9sbGVyIiwiZGF0YWJhc2VDb250cm9sbGVyIiwiYWRhcHRlciIsImdlbmVyYXRlU2Vzc2lvbkV4cGlyZXNBdCIsImJpbmQiLCJnZW5lcmF0ZUVtYWlsVmVyaWZ5VG9rZW5FeHBpcmVzQXQiLCJwdXQiLCJzZXJ2ZXJDb25maWd1cmF0aW9uIiwidmFsaWRhdGUiLCJhcHBJZCIsInNldHVwUGFzc3dvcmRWYWxpZGF0b3IiLCJwYXNzd29yZFBvbGljeSIsInZlcmlmeVVzZXJFbWFpbHMiLCJ1c2VyQ29udHJvbGxlciIsImFwcE5hbWUiLCJwdWJsaWNTZXJ2ZXJVUkwiLCJyZXZva2VTZXNzaW9uT25QYXNzd29yZFJlc2V0IiwiZXhwaXJlSW5hY3RpdmVTZXNzaW9ucyIsInNlc3Npb25MZW5ndGgiLCJtYXhMaW1pdCIsImVtYWlsVmVyaWZ5VG9rZW5WYWxpZGl0eUR1cmF0aW9uIiwiYWNjb3VudExvY2tvdXQiLCJtYXN0ZXJLZXlJcHMiLCJtYXN0ZXJLZXkiLCJyZWFkT25seU1hc3RlcktleSIsImFsbG93SGVhZGVycyIsImlkZW1wb3RlbmN5T3B0aW9ucyIsImVtYWlsVmVyaWZ5VG9rZW5SZXVzZUlmVmFsaWQiLCJmaWxlVXBsb2FkIiwicGFnZXMiLCJzZWN1cml0eSIsImVuZm9yY2VQcml2YXRlVXNlcnMiLCJzY2hlbWEiLCJFcnJvciIsImVtYWlsQWRhcHRlciIsInZhbGlkYXRlRW1haWxDb25maWd1cmF0aW9uIiwidmFsaWRhdGVBY2NvdW50TG9ja291dFBvbGljeSIsInZhbGlkYXRlUGFzc3dvcmRQb2xpY3kiLCJ2YWxpZGF0ZUZpbGVVcGxvYWRPcHRpb25zIiwic3RhcnRzV2l0aCIsInZhbGlkYXRlU2Vzc2lvbkNvbmZpZ3VyYXRpb24iLCJ2YWxpZGF0ZU1hc3RlcktleUlwcyIsInZhbGlkYXRlTWF4TGltaXQiLCJ2YWxpZGF0ZUFsbG93SGVhZGVycyIsInZhbGlkYXRlSWRlbXBvdGVuY3lPcHRpb25zIiwidmFsaWRhdGVQYWdlc09wdGlvbnMiLCJ2YWxpZGF0ZVNlY3VyaXR5T3B0aW9ucyIsInZhbGlkYXRlU2NoZW1hT3B0aW9ucyIsInZhbGlkYXRlRW5mb3JjZVByaXZhdGVVc2VycyIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImVuYWJsZUNoZWNrIiwidW5kZWZpbmVkIiwiU2VjdXJpdHlPcHRpb25zIiwiZGVmYXVsdCIsImVuYWJsZUNoZWNrTG9nIiwiZGVmaW5pdGlvbnMiLCJTY2hlbWFPcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5Iiwic3RyaWN0IiwiZGVsZXRlRXh0cmFGaWVsZHMiLCJyZWNyZWF0ZU1vZGlmaWVkRmllbGRzIiwibG9ja1NjaGVtYXMiLCJiZWZvcmVNaWdyYXRpb24iLCJhZnRlck1pZ3JhdGlvbiIsImVuYWJsZVJvdXRlciIsIlBhZ2VzT3B0aW9ucyIsImVuYWJsZUxvY2FsaXphdGlvbiIsImxvY2FsaXphdGlvbkpzb25QYXRoIiwibG9jYWxpemF0aW9uRmFsbGJhY2tMb2NhbGUiLCJwbGFjZWhvbGRlcnMiLCJmb3JjZVJlZGlyZWN0IiwicGFnZXNQYXRoIiwicGFnZXNFbmRwb2ludCIsImN1c3RvbVVybHMiLCJjdXN0b21Sb3V0ZXMiLCJ0dGwiLCJJZGVtcG90ZW5jeU9wdGlvbnMiLCJpc05hTiIsInBhdGhzIiwiZHVyYXRpb24iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJ0aHJlc2hvbGQiLCJ1bmxvY2tPblBhc3N3b3JkUmVzZXQiLCJBY2NvdW50TG9ja291dE9wdGlvbnMiLCJtYXhQYXNzd29yZEFnZSIsInJlc2V0VG9rZW5WYWxpZGl0eUR1cmF0aW9uIiwidmFsaWRhdG9yUGF0dGVybiIsIlJlZ0V4cCIsInZhbGlkYXRvckNhbGxiYWNrIiwiZG9Ob3RBbGxvd1VzZXJuYW1lIiwibWF4UGFzc3dvcmRIaXN0b3J5IiwicmVzZXRUb2tlblJldXNlSWZWYWxpZCIsInBhdHRlcm5WYWxpZGF0b3IiLCJ2YWx1ZSIsInRlc3QiLCJlIiwiUmVmZXJlbmNlRXJyb3IiLCJlbmFibGVGb3JBbm9ueW1vdXNVc2VyIiwiRmlsZVVwbG9hZE9wdGlvbnMiLCJlbmFibGVGb3JQdWJsaWMiLCJlbmFibGVGb3JBdXRoZW50aWNhdGVkVXNlciIsImlwIiwibmV0IiwiaXNJUCIsIl9tb3VudCIsIm5ld1ZhbHVlIiwiaW5jbHVkZXMiLCJoZWFkZXIiLCJ0cmltIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJnZW5lcmF0ZVBhc3N3b3JkUmVzZXRUb2tlbkV4cGlyZXNBdCIsImludmFsaWRMaW5rVVJMIiwiY3VzdG9tUGFnZXMiLCJpbnZhbGlkTGluayIsImludmFsaWRWZXJpZmljYXRpb25MaW5rVVJMIiwiaW52YWxpZFZlcmlmaWNhdGlvbkxpbmsiLCJsaW5rU2VuZFN1Y2Nlc3NVUkwiLCJsaW5rU2VuZFN1Y2Nlc3MiLCJsaW5rU2VuZEZhaWxVUkwiLCJsaW5rU2VuZEZhaWwiLCJ2ZXJpZnlFbWFpbFN1Y2Nlc3NVUkwiLCJ2ZXJpZnlFbWFpbFN1Y2Nlc3MiLCJjaG9vc2VQYXNzd29yZFVSTCIsImNob29zZVBhc3N3b3JkIiwicmVxdWVzdFJlc2V0UGFzc3dvcmRVUkwiLCJwYXNzd29yZFJlc2V0U3VjY2Vzc1VSTCIsInBhc3N3b3JkUmVzZXRTdWNjZXNzIiwicGFyc2VGcmFtZVVSTCIsInZlcmlmeUVtYWlsVVJMIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlBOztBQUNBOztBQUNBOztBQUNBOztBQVFBOzs7O0FBZkE7QUFDQTtBQUNBO0FBZUEsU0FBU0EsbUJBQVQsQ0FBNkJDLEdBQTdCLEVBQWtDO0FBQ2hDLE1BQUksQ0FBQ0Es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QWdCLGlDQUYxQjtBQUlEOztBQUVvQixNQUFqQmlILGlCQUFpQixHQUFHO0FBQ3RCLFdBQU8sS0FBS1YsV0FBTCxDQUFpQlcsY0FBakIsSUFBb0MsR0FBRSxLQUFLbEgsZUFBZ0IsdUJBQWxFO0FBQ0Q7O0FBRTBCLE1BQXZCbUgsdUJBQXVCLEdBQUc7QUFDNUIsV0FBUSxHQUFFLEtBQUtuSCxlQUFnQixJQUFHLEtBQUs0RCxhQUFjLElBQUcsS0FBS3JGLGFBQWMseUJBQTNFO0FBQ0Q7O0FBRTBCLE1BQXZCNkksdUJBQXVCLEdBQUc7QUFDNUIsV0FDRSxLQUFLYixXQUFMLENBQWlCYyxvQkFBakIsSUFDQyxHQUFFLEtBQUtySCxlQUFnQixtQ0FGMUI7QUFJRDs7QUFFZ0IsTUFBYnNILGFBQWEsR0FBRztBQUNsQixXQUFPLEtBQUtmLFdBQUwsQ0FBaUJlLGFBQXhCO0FBQ0Q7O0FBRWlCLE1BQWRDLGNBQWMsR0FBRztBQUNuQixXQUFRLEdBQUUsS0FBS3ZILGVBQWdCLElBQUcsS0FBSzRELGFBQWMsSUFBRyxLQUFLckYsYUFBYyxlQUEzRTtBQUNELEdBamdCaUIsQ0FtZ0JsQjtBQUNBOzs7QUFDaUIsTUFBYnFGLGFBQWEsR0FBRztBQUNsQixXQUFPLEtBQUs5QyxLQUFMLElBQWMsS0FBS0EsS0FBTCxDQUFXc0MsWUFBekIsSUFBeUMsS0FBS3RDLEtBQUwsQ0FBVzhDLGFBQXBELEdBQ0gsS0FBSzlDLEtBQUwsQ0FBVzhDLGFBRFIsR0FFSCxNQUZKO0FBR0Q7O0FBemdCaUI7OztlQTRnQkx2RixNOztBQUNmbUosTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEosTUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBIENvbmZpZyBvYmplY3QgcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgaG93IGEgc3BlY2lmaWMgYXBwIGlzXG4vLyBjb25maWd1cmVkLlxuLy8gbW91bnQgaXMgdGhlIFVSTCBmb3IgdGhlIHJvb3Qgb2YgdGhlIEFQSTsgaW5jbHVkZXMgaHR0cCwgZG9tYWluLCBldGMuXG5cbmltcG9ydCBBcHBDYWNoZSBmcm9tICcuL2NhY2hlJztcbmltcG9ydCBEYXRhYmFzZUNvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9EYXRhYmFzZUNvbnRyb2xsZXInO1xuaW1wb3J0IG5ldCBmcm9tICduZXQnO1xuaW1wb3J0IHtcbiAgSWRlbXBvdGVuY3lPcHRpb25zLFxuICBGaWxlVXBsb2FkT3B0aW9ucyxcbiAgQWNjb3VudExvY2tvdXRPcHRpb25zLFxuICBQYWdlc09wdGlvbnMsXG4gIFNlY3VyaXR5T3B0aW9ucyxcbiAgU2NoZW1hT3B0aW9ucyxcbn0gZnJvbSAnLi9PcHRpb25zL0RlZmluaXRpb25zJztcbmltcG9ydCB7IGlzQm9vbGVhbiwgaXNTdHJpbmcgfSBmcm9tICdsb2Rhc2gnO1xuXG5mdW5jdGlvbiByZW1vdmVUcmFpbGluZ1NsYXNoKHN0cikge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgaWYgKHN0ci5lbmRzV2l0aCgnLycpKSB7XG4gICAgc3RyID0gc3RyLnN1YnN0cigwLCBzdHIubGVuZ3RoIC0gMSk7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cblxuZXhwb3J0IGNsYXNzIENvbmZpZyB7XG4gIHN0YXRpYyBnZXQoYXBwbGljYXRpb25JZDogc3RyaW5nLCBtb3VudDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2FjaGVJbmZvID0gQXBwQ2FjaGUuZ2V0KGFwcGxpY2F0aW9uSWQpO1xuICAgIGlmICghY2FjaGVJbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZyA9IG5ldyBDb25maWcoKTtcbiAgICBjb25maWcuYXBwbGljYXRpb25JZCA9IGFwcGxpY2F0aW9uSWQ7XG4gICAgT2JqZWN0LmtleXMoY2FjaGVJbmZvKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoa2V5ID09ICdkYXRhYmFzZUNvbnRyb2xsZXInKSB7XG4gICAgICAgIGNvbmZpZy5kYXRhYmFzZSA9IG5ldyBEYXRhYmFzZUNvbnRyb2xsZXIoY2FjaGVJbmZvLmRhdGFiYXNlQ29udHJvbGxlci5hZGFwdGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZ1trZXldID0gY2FjaGVJbmZvW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uZmlnLm1vdW50ID0gcmVtb3ZlVHJhaWxpbmdTbGFzaChtb3VudCk7XG4gICAgY29uZmlnLmdlbmVyYXRlU2Vzc2lvbkV4cGlyZXNBdCA9IGNvbmZpZy5nZW5lcmF0ZVNlc3Npb25FeHBpcmVzQXQuYmluZChjb25maWcpO1xuICAgIGNvbmZpZy5nZW5lcmF0ZUVtYWlsVmVyaWZ5VG9rZW5FeHBpcmVzQXQgPSBjb25maWcuZ2VuZXJhdGVFbWFpbFZlcmlmeVRva2VuRXhwaXJlc0F0LmJpbmQoXG4gICAgICBjb25maWdcbiAgICApO1xuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBzdGF0aWMgcHV0KHNlcnZlckNvbmZpZ3VyYXRpb24pIHtcbiAgICBDb25maWcudmFsaWRhdGUoc2VydmVyQ29uZmlndXJhdGlvbik7XG4gICAgQXBwQ2FjaGUucHV0KHNlcnZlckNvbmZpZ3VyYXRpb24uYXBwSWQsIHNlcnZlckNvbmZpZ3VyYXRpb24pO1xuICAgIENvbmZpZy5zZXR1cFBhc3N3b3JkVmFsaWRhdG9yKHNlcnZlckNvbmZpZ3VyYXRpb24ucGFzc3dvcmRQb2xpY3kpO1xuICAgIHJldHVybiBzZXJ2ZXJDb25maWd1cmF0aW9uO1xuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlKHtcbiAgICB2ZXJpZnlVc2VyRW1haWxzLFxuICAgIHVzZXJDb250cm9sbGVyLFxuICAgIGFwcE5hbWUsXG4gICAgcHVibGljU2VydmVyVVJMLFxuICAgIHJldm9rZVNlc3Npb25PblBhc3N3b3JkUmVzZXQsXG4gICAgZXhwaXJlSW5hY3RpdmVTZXNzaW9ucyxcbiAgICBzZXNzaW9uTGVuZ3RoLFxuICAgIG1heExpbWl0LFxuICAgIGVtYWlsVmVyaWZ5VG9rZW5WYWxpZGl0eUR1cmF0aW9uLFxuICAgIGFjY291bnRMb2Nrb3V0LFxuICAgIHBhc3N3b3JkUG9saWN5LFxuICAgIG1hc3RlcktleUlwcyxcbiAgICBtYXN0ZXJLZXksXG4gICAgcmVhZE9ubHlNYXN0ZXJLZXksXG4gICAgYWxsb3dIZWFkZXJzLFxuICAgIGlkZW1wb3RlbmN5T3B0aW9ucyxcbiAgICBlbWFpbFZlcmlmeVRva2VuUmV1c2VJZlZhbGlkLFxuICAgIGZpbGVVcGxvYWQsXG4gICAgcGFnZXMsXG4gICAgc2VjdXJpdHksXG4gICAgZW5mb3JjZVByaXZhdGVVc2VycyxcbiAgICBzY2hlbWEsXG4gIH0pIHtcbiAgICBpZiAobWFzdGVyS2V5ID09PSByZWFkT25seU1hc3RlcktleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXN0ZXJLZXkgYW5kIHJlYWRPbmx5TWFzdGVyS2V5IHNob3VsZCBiZSBkaWZmZXJlbnQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbWFpbEFkYXB0ZXIgPSB1c2VyQ29udHJvbGxlci5hZGFwdGVyO1xuICAgIGlmICh2ZXJpZnlVc2VyRW1haWxzKSB7XG4gICAgICB0aGlzLnZhbGlkYXRlRW1haWxDb25maWd1cmF0aW9uKHtcbiAgICAgICAgZW1haWxBZGFwdGVyLFxuICAgICAgICBhcHBOYW1lLFxuICAgICAgICBwdWJsaWNTZXJ2ZXJVUkwsXG4gICAgICAgIGVtYWlsVmVyaWZ5VG9rZW5WYWxpZGl0eUR1cmF0aW9uLFxuICAgICAgICBlbWFpbFZlcmlmeVRva2VuUmV1c2VJZlZhbGlkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZGF0ZUFjY291bnRMb2Nrb3V0UG9saWN5KGFjY291bnRMb2Nrb3V0KTtcbiAgICB0aGlzLnZhbGlkYXRlUGFzc3dvcmRQb2xpY3kocGFzc3dvcmRQb2xpY3kpO1xuICAgIHRoaXMudmFsaWRhdGVGaWxlVXBsb2FkT3B0aW9ucyhmaWxlVXBsb2FkKTtcblxuICAgIGlmICh0eXBlb2YgcmV2b2tlU2Vzc2lvbk9uUGFzc3dvcmRSZXNldCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAncmV2b2tlU2Vzc2lvbk9uUGFzc3dvcmRSZXNldCBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZSc7XG4gICAgfVxuXG4gICAgaWYgKHB1YmxpY1NlcnZlclVSTCkge1xuICAgICAgaWYgKCFwdWJsaWNTZXJ2ZXJVUkwuc3RhcnRzV2l0aCgnaHR0cDovLycpICYmICFwdWJsaWNTZXJ2ZXJVUkwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xuICAgICAgICB0aHJvdyAncHVibGljU2VydmVyVVJMIHNob3VsZCBiZSBhIHZhbGlkIEhUVFBTIFVSTCBzdGFydGluZyB3aXRoIGh0dHBzOi8vJztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy52YWxpZGF0ZVNlc3Npb25Db25maWd1cmF0aW9uKHNlc3Npb25MZW5ndGgsIGV4cGlyZUluYWN0aXZlU2Vzc2lvbnMpO1xuICAgIHRoaXMudmFsaWRhdGVNYXN0ZXJLZXlJcHMobWFzdGVyS2V5SXBzKTtcbiAgICB0aGlzLnZhbGlkYXRlTWF4TGltaXQobWF4TGltaXQpO1xuICAgIHRoaXMudmFsaWRhdGVBbGxvd0hlYWRlcnMoYWxsb3dIZWFkZXJzKTtcbiAgICB0aGlzLnZhbGlkYXRlSWRlbXBvdGVuY3lPcHRpb25zKGlkZW1wb3RlbmN5T3B0aW9ucyk7XG4gICAgdGhpcy52YWxpZGF0ZVBhZ2VzT3B0aW9ucyhwYWdlcyk7XG4gICAgdGhpcy52YWxpZGF0ZVNlY3VyaXR5T3B0aW9ucyhzZWN1cml0eSk7XG4gICAgdGhpcy52YWxpZGF0ZVNjaGVtYU9wdGlvbnMoc2NoZW1hKTtcbiAgICB0aGlzLnZhbGlkYXRlRW5mb3JjZVByaXZhdGVVc2VycyhlbmZvcmNlUHJpdmF0ZVVzZXJzKTtcbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZUVuZm9yY2VQcml2YXRlVXNlcnMoZW5mb3JjZVByaXZhdGVVc2Vycykge1xuICAgIGlmICh0eXBlb2YgZW5mb3JjZVByaXZhdGVVc2VycyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBlbmZvcmNlUHJpdmF0ZVVzZXJzIG11c3QgYmUgYSBib29sZWFuLic7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlU2VjdXJpdHlPcHRpb25zKHNlY3VyaXR5KSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzZWN1cml0eSkgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzZWN1cml0eSBtdXN0IGJlIGFuIG9iamVjdC4nO1xuICAgIH1cbiAgICBpZiAoc2VjdXJpdHkuZW5hYmxlQ2hlY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2VjdXJpdHkuZW5hYmxlQ2hlY2sgPSBTZWN1cml0eU9wdGlvbnMuZW5hYmxlQ2hlY2suZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2VjdXJpdHkuZW5hYmxlQ2hlY2spKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzZWN1cml0eS5lbmFibGVDaGVjayBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAoc2VjdXJpdHkuZW5hYmxlQ2hlY2tMb2cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2VjdXJpdHkuZW5hYmxlQ2hlY2tMb2cgPSBTZWN1cml0eU9wdGlvbnMuZW5hYmxlQ2hlY2tMb2cuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2VjdXJpdHkuZW5hYmxlQ2hlY2tMb2cpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzZWN1cml0eS5lbmFibGVDaGVja0xvZyBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZVNjaGVtYU9wdGlvbnMoc2NoZW1hOiBTY2hlbWFPcHRpb25zKSB7XG4gICAgaWYgKCFzY2hlbWEpIHJldHVybjtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNjaGVtYSkgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzY2hlbWEgbXVzdCBiZSBhbiBvYmplY3QuJztcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5kZWZpbml0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuZGVmaW5pdGlvbnMgPSBTY2hlbWFPcHRpb25zLmRlZmluaXRpb25zLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWEuZGVmaW5pdGlvbnMpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzY2hlbWEuZGVmaW5pdGlvbnMgbXVzdCBiZSBhbiBhcnJheS4nO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLnN0cmljdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuc3RyaWN0ID0gU2NoZW1hT3B0aW9ucy5zdHJpY3QuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2NoZW1hLnN0cmljdCkpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHNjaGVtYS5zdHJpY3QgbXVzdCBiZSBhIGJvb2xlYW4uJztcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5kZWxldGVFeHRyYUZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuZGVsZXRlRXh0cmFGaWVsZHMgPSBTY2hlbWFPcHRpb25zLmRlbGV0ZUV4dHJhRmllbGRzLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghaXNCb29sZWFuKHNjaGVtYS5kZWxldGVFeHRyYUZpZWxkcykpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHNjaGVtYS5kZWxldGVFeHRyYUZpZWxkcyBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2NoZW1hLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMgPSBTY2hlbWFPcHRpb25zLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2NoZW1hLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzY2hlbWEucmVjcmVhdGVNb2RpZmllZEZpZWxkcyBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLmxvY2tTY2hlbWFzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNjaGVtYS5sb2NrU2NoZW1hcyA9IFNjaGVtYU9wdGlvbnMubG9ja1NjaGVtYXMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2NoZW1hLmxvY2tTY2hlbWFzKSkge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gc2NoZW1hLmxvY2tTY2hlbWFzIG11c3QgYmUgYSBib29sZWFuLic7XG4gICAgfVxuICAgIGlmIChzY2hlbWEuYmVmb3JlTWlncmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNjaGVtYS5iZWZvcmVNaWdyYXRpb24gPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hLmJlZm9yZU1pZ3JhdGlvbiAhPT0gbnVsbCAmJiB0eXBlb2Ygc2NoZW1hLmJlZm9yZU1pZ3JhdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gc2NoZW1hLmJlZm9yZU1pZ3JhdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uJztcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5hZnRlck1pZ3JhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuYWZ0ZXJNaWdyYXRpb24gPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hLmFmdGVyTWlncmF0aW9uICE9PSBudWxsICYmIHR5cGVvZiBzY2hlbWEuYWZ0ZXJNaWdyYXRpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHNjaGVtYS5hZnRlck1pZ3JhdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uJztcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdmFsaWRhdGVQYWdlc09wdGlvbnMocGFnZXMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBhZ2VzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzIG11c3QgYmUgYW4gb2JqZWN0Lic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5lbmFibGVSb3V0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZXMuZW5hYmxlUm91dGVyID0gUGFnZXNPcHRpb25zLmVuYWJsZVJvdXRlci5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoIWlzQm9vbGVhbihwYWdlcy5lbmFibGVSb3V0ZXIpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5lbmFibGVSb3V0ZXIgbXVzdCBiZSBhIGJvb2xlYW4uJztcbiAgICB9XG4gICAgaWYgKHBhZ2VzLmVuYWJsZUxvY2FsaXphdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYWdlcy5lbmFibGVMb2NhbGl6YXRpb24gPSBQYWdlc09wdGlvbnMuZW5hYmxlTG9jYWxpemF0aW9uLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghaXNCb29sZWFuKHBhZ2VzLmVuYWJsZUxvY2FsaXphdGlvbikpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzLmVuYWJsZUxvY2FsaXphdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMubG9jYWxpemF0aW9uSnNvblBhdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZXMubG9jYWxpemF0aW9uSnNvblBhdGggPSBQYWdlc09wdGlvbnMubG9jYWxpemF0aW9uSnNvblBhdGguZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyhwYWdlcy5sb2NhbGl6YXRpb25Kc29uUGF0aCkpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzLmxvY2FsaXphdGlvbkpzb25QYXRoIG11c3QgYmUgYSBzdHJpbmcuJztcbiAgICB9XG4gICAgaWYgKHBhZ2VzLmxvY2FsaXphdGlvbkZhbGxiYWNrTG9jYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmxvY2FsaXphdGlvbkZhbGxiYWNrTG9jYWxlID0gUGFnZXNPcHRpb25zLmxvY2FsaXphdGlvbkZhbGxiYWNrTG9jYWxlLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghaXNTdHJpbmcocGFnZXMubG9jYWxpemF0aW9uRmFsbGJhY2tMb2NhbGUpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5sb2NhbGl6YXRpb25GYWxsYmFja0xvY2FsZSBtdXN0IGJlIGEgc3RyaW5nLic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5wbGFjZWhvbGRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZXMucGxhY2Vob2xkZXJzID0gUGFnZXNPcHRpb25zLnBsYWNlaG9sZGVycy5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocGFnZXMucGxhY2Vob2xkZXJzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScgJiZcbiAgICAgIHR5cGVvZiBwYWdlcy5wbGFjZWhvbGRlcnMgIT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzLnBsYWNlaG9sZGVycyBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5mb3JjZVJlZGlyZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmZvcmNlUmVkaXJlY3QgPSBQYWdlc09wdGlvbnMuZm9yY2VSZWRpcmVjdC5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoIWlzQm9vbGVhbihwYWdlcy5mb3JjZVJlZGlyZWN0KSkge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gcGFnZXMuZm9yY2VSZWRpcmVjdCBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMucGFnZXNQYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLnBhZ2VzUGF0aCA9IFBhZ2VzT3B0aW9ucy5wYWdlc1BhdGguZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyhwYWdlcy5wYWdlc1BhdGgpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5wYWdlc1BhdGggbXVzdCBiZSBhIHN0cmluZy4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMucGFnZXNFbmRwb2ludCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYWdlcy5wYWdlc0VuZHBvaW50ID0gUGFnZXNPcHRpb25zLnBhZ2VzRW5kcG9pbnQuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyhwYWdlcy5wYWdlc0VuZHBvaW50KSkge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gcGFnZXMucGFnZXNFbmRwb2ludCBtdXN0IGJlIGEgc3RyaW5nLic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5jdXN0b21VcmxzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmN1c3RvbVVybHMgPSBQYWdlc09wdGlvbnMuY3VzdG9tVXJscy5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBhZ2VzLmN1c3RvbVVybHMpICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gcGFnZXMuY3VzdG9tVXJscyBtdXN0IGJlIGFuIG9iamVjdC4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMuY3VzdG9tUm91dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmN1c3RvbVJvdXRlcyA9IFBhZ2VzT3B0aW9ucy5jdXN0b21Sb3V0ZXMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCEocGFnZXMuY3VzdG9tUm91dGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5jdXN0b21Sb3V0ZXMgbXVzdCBiZSBhbiBhcnJheS4nO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZUlkZW1wb3RlbmN5T3B0aW9ucyhpZGVtcG90ZW5jeU9wdGlvbnMpIHtcbiAgICBpZiAoIWlkZW1wb3RlbmN5T3B0aW9ucykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaWRlbXBvdGVuY3lPcHRpb25zLnR0bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZGVtcG90ZW5jeU9wdGlvbnMudHRsID0gSWRlbXBvdGVuY3lPcHRpb25zLnR0bC5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoIWlzTmFOKGlkZW1wb3RlbmN5T3B0aW9ucy50dGwpICYmIGlkZW1wb3RlbmN5T3B0aW9ucy50dGwgPD0gMCkge1xuICAgICAgdGhyb3cgJ2lkZW1wb3RlbmN5IFRUTCB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIHNlY29uZHMnO1xuICAgIH0gZWxzZSBpZiAoaXNOYU4oaWRlbXBvdGVuY3lPcHRpb25zLnR0bCkpIHtcbiAgICAgIHRocm93ICdpZGVtcG90ZW5jeSBUVEwgdmFsdWUgbXVzdCBiZSBhIG51bWJlcic7XG4gICAgfVxuICAgIGlmICghaWRlbXBvdGVuY3lPcHRpb25zLnBhdGhzKSB7XG4gICAgICBpZGVtcG90ZW5jeU9wdGlvbnMucGF0aHMgPSBJZGVtcG90ZW5jeU9wdGlvbnMucGF0aHMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCEoaWRlbXBvdGVuY3lPcHRpb25zLnBhdGhzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICB0aHJvdyAnaWRlbXBvdGVuY3kgcGF0aHMgbXVzdCBiZSBvZiBhbiBhcnJheSBvZiBzdHJpbmdzJztcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdmFsaWRhdGVBY2NvdW50TG9ja291dFBvbGljeShhY2NvdW50TG9ja291dCkge1xuICAgIGlmIChhY2NvdW50TG9ja291dCkge1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWNjb3VudExvY2tvdXQuZHVyYXRpb24gIT09ICdudW1iZXInIHx8XG4gICAgICAgIGFjY291bnRMb2Nrb3V0LmR1cmF0aW9uIDw9IDAgfHxcbiAgICAgICAgYWNjb3VudExvY2tvdXQuZHVyYXRpb24gPiA5OTk5OVxuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdBY2NvdW50IGxvY2tvdXQgZHVyYXRpb24gc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gMTAwMDAwJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAhTnVtYmVyLmlzSW50ZWdlcihhY2NvdW50TG9ja291dC50aHJlc2hvbGQpIHx8XG4gICAgICAgIGFjY291bnRMb2Nrb3V0LnRocmVzaG9sZCA8IDEgfHxcbiAgICAgICAgYWNjb3VudExvY2tvdXQudGhyZXNob2xkID4gOTk5XG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgJ0FjY291bnQgbG9ja291dCB0aHJlc2hvbGQgc2hvdWxkIGJlIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxMDAwJztcbiAgICAgIH1cblxuICAgICAgaWYgKGFjY291bnRMb2Nrb3V0LnVubG9ja09uUGFzc3dvcmRSZXNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjY291bnRMb2Nrb3V0LnVubG9ja09uUGFzc3dvcmRSZXNldCA9IEFjY291bnRMb2Nrb3V0T3B0aW9ucy51bmxvY2tPblBhc3N3b3JkUmVzZXQuZGVmYXVsdDtcbiAgICAgIH0gZWxzZSBpZiAoIWlzQm9vbGVhbihhY2NvdW50TG9ja291dC51bmxvY2tPblBhc3N3b3JkUmVzZXQpKSB7XG4gICAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIGFjY291bnRMb2Nrb3V0LnVubG9ja09uUGFzc3dvcmRSZXNldCBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZVBhc3N3b3JkUG9saWN5KHBhc3N3b3JkUG9saWN5KSB7XG4gICAgaWYgKHBhc3N3b3JkUG9saWN5KSB7XG4gICAgICBpZiAoXG4gICAgICAgIHBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkQWdlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKHR5cGVvZiBwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEFnZSAhPT0gJ251bWJlcicgfHwgcGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRBZ2UgPCAwKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEFnZSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS5yZXNldFRva2VuVmFsaWRpdHlEdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICh0eXBlb2YgcGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgcGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24gPD0gMClcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAncGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcic7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yUGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuID0gbmV3IFJlZ0V4cChwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuKTtcbiAgICAgICAgfSBlbHNlIGlmICghKHBhc3N3b3JkUG9saWN5LnZhbGlkYXRvclBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgICAgdGhyb3cgJ3Bhc3N3b3JkUG9saWN5LnZhbGlkYXRvclBhdHRlcm4gbXVzdCBiZSBhIHJlZ2V4IHN0cmluZyBvciBSZWdFeHAgb2JqZWN0Lic7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS52YWxpZGF0b3JDYWxsYmFjayAmJlxuICAgICAgICB0eXBlb2YgcGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yQ2FsbGJhY2sgIT09ICdmdW5jdGlvbidcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAncGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yQ2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLic7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgcGFzc3dvcmRQb2xpY3kuZG9Ob3RBbGxvd1VzZXJuYW1lICYmXG4gICAgICAgIHR5cGVvZiBwYXNzd29yZFBvbGljeS5kb05vdEFsbG93VXNlcm5hbWUgIT09ICdib29sZWFuJ1xuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdwYXNzd29yZFBvbGljeS5kb05vdEFsbG93VXNlcm5hbWUgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUuJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnkgJiZcbiAgICAgICAgKCFOdW1iZXIuaXNJbnRlZ2VyKHBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSkgfHxcbiAgICAgICAgICBwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnkgPD0gMCB8fFxuICAgICAgICAgIHBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSA+IDIwKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnkgbXVzdCBiZSBhbiBpbnRlZ2VyIHJhbmdpbmcgMCAtIDIwJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS5yZXNldFRva2VuUmV1c2VJZlZhbGlkICYmXG4gICAgICAgIHR5cGVvZiBwYXNzd29yZFBvbGljeS5yZXNldFRva2VuUmV1c2VJZlZhbGlkICE9PSAnYm9vbGVhbidcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAncmVzZXRUb2tlblJldXNlSWZWYWxpZCBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZSc7XG4gICAgICB9XG4gICAgICBpZiAocGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblJldXNlSWZWYWxpZCAmJiAhcGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24pIHtcbiAgICAgICAgdGhyb3cgJ1lvdSBjYW5ub3QgdXNlIHJlc2V0VG9rZW5SZXVzZUlmVmFsaWQgd2l0aG91dCByZXNldFRva2VuVmFsaWRpdHlEdXJhdGlvbic7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhc3N3b3JkUG9saWN5LnZhbGlkYXRvclBhdHRlcm4gaXMgY29uZmlndXJlZCB0aGVuIHNldHVwIGEgY2FsbGJhY2sgdG8gcHJvY2VzcyB0aGUgcGF0dGVyblxuICBzdGF0aWMgc2V0dXBQYXNzd29yZFZhbGlkYXRvcihwYXNzd29yZFBvbGljeSkge1xuICAgIGlmIChwYXNzd29yZFBvbGljeSAmJiBwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuKSB7XG4gICAgICBwYXNzd29yZFBvbGljeS5wYXR0ZXJuVmFsaWRhdG9yID0gdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gcGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yUGF0dGVybi50ZXN0KHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlRW1haWxDb25maWd1cmF0aW9uKHtcbiAgICBlbWFpbEFkYXB0ZXIsXG4gICAgYXBwTmFtZSxcbiAgICBwdWJsaWNTZXJ2ZXJVUkwsXG4gICAgZW1haWxWZXJpZnlUb2tlblZhbGlkaXR5RHVyYXRpb24sXG4gICAgZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCxcbiAgfSkge1xuICAgIGlmICghZW1haWxBZGFwdGVyKSB7XG4gICAgICB0aHJvdyAnQW4gZW1haWxBZGFwdGVyIGlzIHJlcXVpcmVkIGZvciBlLW1haWwgdmVyaWZpY2F0aW9uIGFuZCBwYXNzd29yZCByZXNldHMuJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcHBOYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgJ0FuIGFwcCBuYW1lIGlzIHJlcXVpcmVkIGZvciBlLW1haWwgdmVyaWZpY2F0aW9uIGFuZCBwYXNzd29yZCByZXNldHMuJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwdWJsaWNTZXJ2ZXJVUkwgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQSBwdWJsaWMgc2VydmVyIHVybCBpcyByZXF1aXJlZCBmb3IgZS1tYWlsIHZlcmlmaWNhdGlvbiBhbmQgcGFzc3dvcmQgcmVzZXRzLic7XG4gICAgfVxuICAgIGlmIChlbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbikge1xuICAgICAgaWYgKGlzTmFOKGVtYWlsVmVyaWZ5VG9rZW5WYWxpZGl0eUR1cmF0aW9uKSkge1xuICAgICAgICB0aHJvdyAnRW1haWwgdmVyaWZ5IHRva2VuIHZhbGlkaXR5IGR1cmF0aW9uIG11c3QgYmUgYSB2YWxpZCBudW1iZXIuJztcbiAgICAgIH0gZWxzZSBpZiAoZW1haWxWZXJpZnlUb2tlblZhbGlkaXR5RHVyYXRpb24gPD0gMCkge1xuICAgICAgICB0aHJvdyAnRW1haWwgdmVyaWZ5IHRva2VuIHZhbGlkaXR5IGR1cmF0aW9uIG11c3QgYmUgYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCAmJiB0eXBlb2YgZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAnZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZSc7XG4gICAgfVxuICAgIGlmIChlbWFpbFZlcmlmeVRva2VuUmV1c2VJZlZhbGlkICYmICFlbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbikge1xuICAgICAgdGhyb3cgJ1lvdSBjYW5ub3QgdXNlIGVtYWlsVmVyaWZ5VG9rZW5SZXVzZUlmVmFsaWQgd2l0aG91dCBlbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbic7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlRmlsZVVwbG9hZE9wdGlvbnMoZmlsZVVwbG9hZCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZmlsZVVwbG9hZCA9PSBudWxsIHx8IHR5cGVvZiBmaWxlVXBsb2FkICE9PSAnb2JqZWN0JyB8fCBmaWxlVXBsb2FkIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdGhyb3cgJ2ZpbGVVcGxvYWQgbXVzdCBiZSBhbiBvYmplY3QgdmFsdWUuJztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFJlZmVyZW5jZUVycm9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGlmIChmaWxlVXBsb2FkLmVuYWJsZUZvckFub255bW91c1VzZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZmlsZVVwbG9hZC5lbmFibGVGb3JBbm9ueW1vdXNVc2VyID0gRmlsZVVwbG9hZE9wdGlvbnMuZW5hYmxlRm9yQW5vbnltb3VzVXNlci5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbGVVcGxvYWQuZW5hYmxlRm9yQW5vbnltb3VzVXNlciAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAnZmlsZVVwbG9hZC5lbmFibGVGb3JBbm9ueW1vdXNVc2VyIG11c3QgYmUgYSBib29sZWFuIHZhbHVlLic7XG4gICAgfVxuICAgIGlmIChmaWxlVXBsb2FkLmVuYWJsZUZvclB1YmxpYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWxlVXBsb2FkLmVuYWJsZUZvclB1YmxpYyA9IEZpbGVVcGxvYWRPcHRpb25zLmVuYWJsZUZvclB1YmxpYy5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbGVVcGxvYWQuZW5hYmxlRm9yUHVibGljICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRocm93ICdmaWxlVXBsb2FkLmVuYWJsZUZvclB1YmxpYyBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZS4nO1xuICAgIH1cbiAgICBpZiAoZmlsZVVwbG9hZC5lbmFibGVGb3JBdXRoZW50aWNhdGVkVXNlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWxlVXBsb2FkLmVuYWJsZUZvckF1dGhlbnRpY2F0ZWRVc2VyID0gRmlsZVVwbG9hZE9wdGlvbnMuZW5hYmxlRm9yQXV0aGVudGljYXRlZFVzZXIuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxlVXBsb2FkLmVuYWJsZUZvckF1dGhlbnRpY2F0ZWRVc2VyICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRocm93ICdmaWxlVXBsb2FkLmVuYWJsZUZvckF1dGhlbnRpY2F0ZWRVc2VyIG11c3QgYmUgYSBib29sZWFuIHZhbHVlLic7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlTWFzdGVyS2V5SXBzKG1hc3RlcktleUlwcykge1xuICAgIGZvciAoY29uc3QgaXAgb2YgbWFzdGVyS2V5SXBzKSB7XG4gICAgICBpZiAoIW5ldC5pc0lQKGlwKSkge1xuICAgICAgICB0aHJvdyBgSW52YWxpZCBpcCBpbiBtYXN0ZXJLZXlJcHM6ICR7aXB9YDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgbW91bnQoKSB7XG4gICAgdmFyIG1vdW50ID0gdGhpcy5fbW91bnQ7XG4gICAgaWYgKHRoaXMucHVibGljU2VydmVyVVJMKSB7XG4gICAgICBtb3VudCA9IHRoaXMucHVibGljU2VydmVyVVJMO1xuICAgIH1cbiAgICByZXR1cm4gbW91bnQ7XG4gIH1cblxuICBzZXQgbW91bnQobmV3VmFsdWUpIHtcbiAgICB0aGlzLl9tb3VudCA9IG5ld1ZhbHVlO1xuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlU2Vzc2lvbkNvbmZpZ3VyYXRpb24oc2Vzc2lvbkxlbmd0aCwgZXhwaXJlSW5hY3RpdmVTZXNzaW9ucykge1xuICAgIGlmIChleHBpcmVJbmFjdGl2ZVNlc3Npb25zKSB7XG4gICAgICBpZiAoaXNOYU4oc2Vzc2lvbkxlbmd0aCkpIHtcbiAgICAgICAgdGhyb3cgJ1Nlc3Npb24gbGVuZ3RoIG11c3QgYmUgYSB2YWxpZCBudW1iZXIuJztcbiAgICAgIH0gZWxzZSBpZiAoc2Vzc2lvbkxlbmd0aCA8PSAwKSB7XG4gICAgICAgIHRocm93ICdTZXNzaW9uIGxlbmd0aCBtdXN0IGJlIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdmFsaWRhdGVNYXhMaW1pdChtYXhMaW1pdCkge1xuICAgIGlmIChtYXhMaW1pdCA8PSAwKSB7XG4gICAgICB0aHJvdyAnTWF4IGxpbWl0IG11c3QgYmUgYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZUFsbG93SGVhZGVycyhhbGxvd0hlYWRlcnMpIHtcbiAgICBpZiAoIVtudWxsLCB1bmRlZmluZWRdLmluY2x1ZGVzKGFsbG93SGVhZGVycykpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsbG93SGVhZGVycykpIHtcbiAgICAgICAgYWxsb3dIZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGhlYWRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93ICdBbGxvdyBoZWFkZXJzIG11c3Qgb25seSBjb250YWluIHN0cmluZ3MnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWhlYWRlci50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyAnQWxsb3cgaGVhZGVycyBtdXN0IG5vdCBjb250YWluIGVtcHR5IHN0cmluZ3MnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyAnQWxsb3cgaGVhZGVycyBtdXN0IGJlIGFuIGFycmF5JztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZW5lcmF0ZUVtYWlsVmVyaWZ5VG9rZW5FeHBpcmVzQXQoKSB7XG4gICAgaWYgKCF0aGlzLnZlcmlmeVVzZXJFbWFpbHMgfHwgIXRoaXMuZW1haWxWZXJpZnlUb2tlblZhbGlkaXR5RHVyYXRpb24pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgdGhpcy5lbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbiAqIDEwMDApO1xuICB9XG5cbiAgZ2VuZXJhdGVQYXNzd29yZFJlc2V0VG9rZW5FeHBpcmVzQXQoKSB7XG4gICAgaWYgKCF0aGlzLnBhc3N3b3JkUG9saWN5IHx8ICF0aGlzLnBhc3N3b3JkUG9saWN5LnJlc2V0VG9rZW5WYWxpZGl0eUR1cmF0aW9uKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgdGhpcy5wYXNzd29yZFBvbGljeS5yZXNldFRva2VuVmFsaWRpdHlEdXJhdGlvbiAqIDEwMDApO1xuICB9XG5cbiAgZ2VuZXJhdGVTZXNzaW9uRXhwaXJlc0F0KCkge1xuICAgIGlmICghdGhpcy5leHBpcmVJbmFjdGl2ZVNlc3Npb25zKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4gbmV3IERhdGUobm93LmdldFRpbWUoKSArIHRoaXMuc2Vzc2lvbkxlbmd0aCAqIDEwMDApO1xuICB9XG5cbiAgZ2V0IGludmFsaWRMaW5rVVJMKCkge1xuICAgIHJldHVybiB0aGlzLmN1c3RvbVBhZ2VzLmludmFsaWRMaW5rIHx8IGAke3RoaXMucHVibGljU2VydmVyVVJMfS9hcHBzL2ludmFsaWRfbGluay5odG1sYDtcbiAgfVxuXG4gIGdldCBpbnZhbGlkVmVyaWZpY2F0aW9uTGlua1VSTCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jdXN0b21QYWdlcy5pbnZhbGlkVmVyaWZpY2F0aW9uTGluayB8fFxuICAgICAgYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9L2FwcHMvaW52YWxpZF92ZXJpZmljYXRpb25fbGluay5odG1sYFxuICAgICk7XG4gIH1cblxuICBnZXQgbGlua1NlbmRTdWNjZXNzVVJMKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmN1c3RvbVBhZ2VzLmxpbmtTZW5kU3VjY2VzcyB8fCBgJHt0aGlzLnB1YmxpY1NlcnZlclVSTH0vYXBwcy9saW5rX3NlbmRfc3VjY2Vzcy5odG1sYFxuICAgICk7XG4gIH1cblxuICBnZXQgbGlua1NlbmRGYWlsVVJMKCkge1xuICAgIHJldHVybiB0aGlzLmN1c3RvbVBhZ2VzLmxpbmtTZW5kRmFpbCB8fCBgJHt0aGlzLnB1YmxpY1NlcnZlclVSTH0vYXBwcy9saW5rX3NlbmRfZmFpbC5odG1sYDtcbiAgfVxuXG4gIGdldCB2ZXJpZnlFbWFpbFN1Y2Nlc3NVUkwoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY3VzdG9tUGFnZXMudmVyaWZ5RW1haWxTdWNjZXNzIHx8XG4gICAgICBgJHt0aGlzLnB1YmxpY1NlcnZlclVSTH0vYXBwcy92ZXJpZnlfZW1haWxfc3VjY2Vzcy5odG1sYFxuICAgICk7XG4gIH1cblxuICBnZXQgY2hvb3NlUGFzc3dvcmRVUkwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VzdG9tUGFnZXMuY2hvb3NlUGFzc3dvcmQgfHwgYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9L2FwcHMvY2hvb3NlX3Bhc3N3b3JkYDtcbiAgfVxuXG4gIGdldCByZXF1ZXN0UmVzZXRQYXNzd29yZFVSTCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9LyR7dGhpcy5wYWdlc0VuZHBvaW50fS8ke3RoaXMuYXBwbGljYXRpb25JZH0vcmVxdWVzdF9wYXNzd29yZF9yZXNldGA7XG4gIH1cblxuICBnZXQgcGFzc3dvcmRSZXNldFN1Y2Nlc3NVUkwoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY3VzdG9tUGFnZXMucGFzc3dvcmRSZXNldFN1Y2Nlc3MgfHxcbiAgICAgIGAke3RoaXMucHVibGljU2VydmVyVVJMfS9hcHBzL3Bhc3N3b3JkX3Jlc2V0X3N1Y2Nlc3MuaHRtbGBcbiAgICApO1xuICB9XG5cbiAgZ2V0IHBhcnNlRnJhbWVVUkwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VzdG9tUGFnZXMucGFyc2VGcmFtZVVSTDtcbiAgfVxuXG4gIGdldCB2ZXJpZnlFbWFpbFVSTCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9LyR7dGhpcy5wYWdlc0VuZHBvaW50fS8ke3RoaXMuYXBwbGljYXRpb25JZH0vdmVyaWZ5X2VtYWlsYDtcbiAgfVxuXG4gIC8vIFRPRE86IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIG9uY2UgUGFnZXNSb3V0ZXIgcmVwbGFjZXMgdGhlIFB1YmxpY0FQSVJvdXRlcjtcbiAgLy8gdGhlIChkZWZhdWx0KSBlbmRwb2ludCBoYXMgdG8gYmUgZGVmaW5lZCBpbiBQYWdlc1JvdXRlciBvbmx5LlxuICBnZXQgcGFnZXNFbmRwb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlcyAmJiB0aGlzLnBhZ2VzLmVuYWJsZVJvdXRlciAmJiB0aGlzLnBhZ2VzLnBhZ2VzRW5kcG9pbnRcbiAgICAgID8gdGhpcy5wYWdlcy5wYWdlc0VuZHBvaW50XG4gICAgICA6ICdhcHBzJztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG5tb2R1bGUuZXhwb3J0cyA9IENvbmZpZztcbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Db25maWcuanMiXSwibmFtZXMiOlsic3RyIiwiZ2V0IiwiY2FjaGVJbmZvIiwiQXBwQ2FjaGUiLCJjb25maWciLCJPYmplY3QiLCJrZXkiLCJEYXRhYmFzZUNvbnRyb2xsZXIiLCJyZW1vdmVUcmFpbGluZ1NsYXNoIiwicHV0IiwiQ29uZmlnIiwic2VydmVyQ29uZmlndXJhdGlvbiIsInZhbGlkYXRlIiwic2NoZW1hIiwibWFzdGVyS2V5IiwiZW1haWxBZGFwdGVyIiwidXNlckNvbnRyb2xsZXIiLCJlbWFpbFZlcmlmeVRva2VuUmV1c2VJZlZhbGlkIiwicHVibGljU2VydmVyVVJMIiwidmFsaWRhdGVFbmZvcmNlUHJpdmF0ZVVzZXJzIiwidmFsaWRhdGVTZWN1cml0eU9wdGlvbnMiLCJzZWN1cml0eSIsIlNlY3VyaXR5T3B0aW9ucyIsInZhbGlkYXRlU2NoZW1hT3B0aW9ucyIsIlNjaGVtYU9wdGlvbnMiLCJBcnJheSIsInZhbGlkYXRlUGFnZXNPcHRpb25zIiwicGFnZXMiLCJQYWdlc09wdGlvbnMiLCJ2YWxpZGF0ZUlkZW1wb3RlbmN5T3B0aW9ucyIsImlkZW1wb3RlbmN5T3B0aW9ucyIsIklkZW1wb3RlbmN5T3B0aW9ucyIsImlzTmFOIiwidmFsaWRhdGVBY2NvdW50TG9ja291dFBvbGljeSIsImFjY291bnRMb2Nrb3V0IiwiTnVtYmVyIiwiQWNjb3VudExvY2tvdXRPcHRpb25zIiwidmFsaWRhdGVQYXNzd29yZFBvbGljeSIsInBhc3N3b3JkUG9saWN5Iiwic2V0dXBQYXNzd29yZFZhbGlkYXRvciIsInZhbHVlIiwidmFsaWRhdGVFbWFpbENvbmZpZ3VyYXRpb24iLCJlbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbiIsInZhbGlkYXRlRmlsZVVwbG9hZE9wdGlvbnMiLCJmaWxlVXBsb2FkIiwiZSIsIkZpbGVVcGxvYWRPcHRpb25zIiwidmFsaWRhdGVNYXN0ZXJLZXlJcHMiLCJuZXQiLCJpcCIsIm1vdW50IiwidmFsaWRhdGVTZXNzaW9uQ29uZmlndXJhdGlvbiIsInNlc3Npb25MZW5ndGgiLCJ2YWxpZGF0ZU1heExpbWl0IiwibWF4TGltaXQiLCJ2YWxpZGF0ZUFsbG93SGVhZGVycyIsImFsbG93SGVhZGVycyIsImhlYWRlciIsImdlbmVyYXRlRW1haWxWZXJpZnlUb2tlbkV4cGlyZXNBdCIsIm5vdyIsImdlbmVyYXRlUGFzc3dvcmRSZXNldFRva2VuRXhwaXJlc0F0IiwiZ2VuZXJhdGVTZXNzaW9uRXhwaXJlc0F0IiwiaW52YWxpZExpbmtVUkwiLCJpbnZhbGlkVmVyaWZpY2F0aW9uTGlua1VSTCIsImxpbmtTZW5kU3VjY2Vzc1VSTCIsImxpbmtTZW5kRmFpbFVSTCIsInZlcmlmeUVtYWlsU3VjY2Vzc1VSTCIsImNob29zZVBhc3N3b3JkVVJMIiwicmVxdWVzdFJlc2V0UGFzc3dvcmRVUkwiLCJwYWdlc0VuZHBvaW50IiwiYXBwbGljYXRpb25JZCIsInBhc3N3b3JkUmVzZXRTdWNjZXNzVVJMIiwicGFyc2VGcmFtZVVSTCIsInZlcmlmeUVtYWlsVVJMIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoibXh3RkFlQTswT0FYQSxHQUFBLENBQUEsTUFBQSwwQkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLG1CQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLGtDQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLElBQUEsMEJBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxZQUFBLDBCQUFBLE9BQUEsQ0FBQSx1QkFBQSxDQUFBLENBQUEsQ0FRQSxHQUFBLENBQUEsT0FBQSwwQkFBQSxPQUFBLENBQUEsUUFBQSxDQUFBLENBQUEsQyxzUEFmQTtBQUNBO0FBQ0E7QUFlQSxRQUFBLENBQUEsbUJBQUEsQ0FBQSxHQUFBLENBQWtDLGlEQUNoQyxHQUFJLENBQUosR0FBQSxDQUFVLG9EQUNSLE1BQUEsQ0FB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QUFBLENBQUEsY0FBQSxpQ0FBb0MsR0FBRSxLQUFLakQsZUFBbEQsdUJBQU8sQ0FBUCxDQUNELENBRTBCLEdBQXZCa0QsQ0FBQUEsdUJBQXVCLEVBQUcsb0RBQzVCLE1BQVEsR0FBRSxLQUFLbEQsZUFBZ0IsSUFBRyxLQUFLbUQsYUFBYyxJQUFHLEtBQUtDLGFBQTdELHlCQUFBLENBQ0QsQ0FFMEIsR0FBdkJDLENBQUFBLHVCQUF1QixFQUFHLG9EQUM1QixNQUNFLG1DQUFBLFdBQUEsQ0FBQSxvQkFBQSxpQ0FDQyxHQUFFLEtBQUtyRCxlQUZWLG1DQUNFLENBREYsQ0FJRCxDQUVnQixHQUFic0QsQ0FBQUEsYUFBYSxFQUFHLG9EQUNsQixNQUFPLE1BQUEsV0FBQSxDQUFQLGFBQUEsQ0FDRCxDQUVpQixHQUFkQyxDQUFBQSxjQUFjLEVBQUcsb0RBQ25CLE1BQVEsR0FBRSxLQUFLdkQsZUFBZ0IsSUFBRyxLQUFLbUQsYUFBYyxJQUFHLEtBQUtDLGFBQTdELGVBQUEsQ0FoZ0JnQixDQW1nQmxCO0FBQ0E7QUFDaUIsR0FBYkQsQ0FBQUEsYUFBYSxFQUFHLG9EQUNsQixNQUFPLG1DQUFBLEtBQUEsaUNBQWMsS0FBQSxLQUFBLENBQWQsWUFBQSxpQ0FBeUMsS0FBQSxLQUFBLENBQXpDLGFBQUEsZ0NBQ0gsS0FBQSxLQUFBLENBREcsYUFBQSxnQ0FBUCxNQUFPLENBQVAsQ0FHRCxDQXpnQmlCLEMsd0ZBNGdCTDNELE0sK0VBQ2ZnRSxNQUFNLENBQU5BLE9BQUFBLENBQUFBLE1BQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBIENvbmZpZyBvYmplY3QgcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgaG93IGEgc3BlY2lmaWMgYXBwIGlzXG4vLyBjb25maWd1cmVkLlxuLy8gbW91bnQgaXMgdGhlIFVSTCBmb3IgdGhlIHJvb3Qgb2YgdGhlIEFQSTsgaW5jbHVkZXMgaHR0cCwgZG9tYWluLCBldGMuXG5cbmltcG9ydCBBcHBDYWNoZSBmcm9tICcuL2NhY2hlJztcbmltcG9ydCBEYXRhYmFzZUNvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVycy9EYXRhYmFzZUNvbnRyb2xsZXInO1xuaW1wb3J0IG5ldCBmcm9tICduZXQnO1xuaW1wb3J0IHtcbiAgSWRlbXBvdGVuY3lPcHRpb25zLFxuICBGaWxlVXBsb2FkT3B0aW9ucyxcbiAgQWNjb3VudExvY2tvdXRPcHRpb25zLFxuICBQYWdlc09wdGlvbnMsXG4gIFNlY3VyaXR5T3B0aW9ucyxcbiAgU2NoZW1hT3B0aW9ucyxcbn0gZnJvbSAnLi9PcHRpb25zL0RlZmluaXRpb25zJztcbmltcG9ydCB7IGlzQm9vbGVhbiwgaXNTdHJpbmcgfSBmcm9tICdsb2Rhc2gnO1xuXG5mdW5jdGlvbiByZW1vdmVUcmFpbGluZ1NsYXNoKHN0cikge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgaWYgKHN0ci5lbmRzV2l0aCgnLycpKSB7XG4gICAgc3RyID0gc3RyLnN1YnN0cigwLCBzdHIubGVuZ3RoIC0gMSk7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cblxuZXhwb3J0IGNsYXNzIENvbmZpZyB7XG4gIHN0YXRpYyBnZXQoYXBwbGljYXRpb25JZDogc3RyaW5nLCBtb3VudDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2FjaGVJbmZvID0gQXBwQ2FjaGUuZ2V0KGFwcGxpY2F0aW9uSWQpO1xuICAgIGlmICghY2FjaGVJbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZyA9IG5ldyBDb25maWcoKTtcbiAgICBjb25maWcuYXBwbGljYXRpb25JZCA9IGFwcGxpY2F0aW9uSWQ7XG4gICAgT2JqZWN0LmtleXMoY2FjaGVJbmZvKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoa2V5ID09ICdkYXRhYmFzZUNvbnRyb2xsZXInKSB7XG4gICAgICAgIGNvbmZpZy5kYXRhYmFzZSA9IG5ldyBEYXRhYmFzZUNvbnRyb2xsZXIoY2FjaGVJbmZvLmRhdGFiYXNlQ29udHJvbGxlci5hZGFwdGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZ1trZXldID0gY2FjaGVJbmZvW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uZmlnLm1vdW50ID0gcmVtb3ZlVHJhaWxpbmdTbGFzaChtb3VudCk7XG4gICAgY29uZmlnLmdlbmVyYXRlU2Vzc2lvbkV4cGlyZXNBdCA9IGNvbmZpZy5nZW5lcmF0ZVNlc3Npb25FeHBpcmVzQXQuYmluZChjb25maWcpO1xuICAgIGNvbmZpZy5nZW5lcmF0ZUVtYWlsVmVyaWZ5VG9rZW5FeHBpcmVzQXQgPSBjb25maWcuZ2VuZXJhdGVFbWFpbFZlcmlmeVRva2VuRXhwaXJlc0F0LmJpbmQoXG4gICAgICBjb25maWdcbiAgICApO1xuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBzdGF0aWMgcHV0KHNlcnZlckNvbmZpZ3VyYXRpb24pIHtcbiAgICBDb25maWcudmFsaWRhdGUoc2VydmVyQ29uZmlndXJhdGlvbik7XG4gICAgQXBwQ2FjaGUucHV0KHNlcnZlckNvbmZpZ3VyYXRpb24uYXBwSWQsIHNlcnZlckNvbmZpZ3VyYXRpb24pO1xuICAgIENvbmZpZy5zZXR1cFBhc3N3b3JkVmFsaWRhdG9yKHNlcnZlckNvbmZpZ3VyYXRpb24ucGFzc3dvcmRQb2xpY3kpO1xuICAgIHJldHVybiBzZXJ2ZXJDb25maWd1cmF0aW9uO1xuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlKHtcbiAgICB2ZXJpZnlVc2VyRW1haWxzLFxuICAgIHVzZXJDb250cm9sbGVyLFxuICAgIGFwcE5hbWUsXG4gICAgcHVibGljU2VydmVyVVJMLFxuICAgIHJldm9rZVNlc3Npb25PblBhc3N3b3JkUmVzZXQsXG4gICAgZXhwaXJlSW5hY3RpdmVTZXNzaW9ucyxcbiAgICBzZXNzaW9uTGVuZ3RoLFxuICAgIG1heExpbWl0LFxuICAgIGVtYWlsVmVyaWZ5VG9rZW5WYWxpZGl0eUR1cmF0aW9uLFxuICAgIGFjY291bnRMb2Nrb3V0LFxuICAgIHBhc3N3b3JkUG9saWN5LFxuICAgIG1hc3RlcktleUlwcyxcbiAgICBtYXN0ZXJLZXksXG4gICAgcmVhZE9ubHlNYXN0ZXJLZXksXG4gICAgYWxsb3dIZWFkZXJzLFxuICAgIGlkZW1wb3RlbmN5T3B0aW9ucyxcbiAgICBlbWFpbFZlcmlmeVRva2VuUmV1c2VJZlZhbGlkLFxuICAgIGZpbGVVcGxvYWQsXG4gICAgcGFnZXMsXG4gICAgc2VjdXJpdHksXG4gICAgZW5mb3JjZVByaXZhdGVVc2VycyxcbiAgICBzY2hlbWEsXG4gIH0pIHtcbiAgICBpZiAobWFzdGVyS2V5ID09PSByZWFkT25seU1hc3RlcktleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXN0ZXJLZXkgYW5kIHJlYWRPbmx5TWFzdGVyS2V5IHNob3VsZCBiZSBkaWZmZXJlbnQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbWFpbEFkYXB0ZXIgPSB1c2VyQ29udHJvbGxlci5hZGFwdGVyO1xuICAgIGlmICh2ZXJpZnlVc2VyRW1haWxzKSB7XG4gICAgICB0aGlzLnZhbGlkYXRlRW1haWxDb25maWd1cmF0aW9uKHtcbiAgICAgICAgZW1haWxBZGFwdGVyLFxuICAgICAgICBhcHBOYW1lLFxuICAgICAgICBwdWJsaWNTZXJ2ZXJVUkwsXG4gICAgICAgIGVtYWlsVmVyaWZ5VG9rZW5WYWxpZGl0eUR1cmF0aW9uLFxuICAgICAgICBlbWFpbFZlcmlmeVRva2VuUmV1c2VJZlZhbGlkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZGF0ZUFjY291bnRMb2Nrb3V0UG9saWN5KGFjY291bnRMb2Nrb3V0KTtcbiAgICB0aGlzLnZhbGlkYXRlUGFzc3dvcmRQb2xpY3kocGFzc3dvcmRQb2xpY3kpO1xuICAgIHRoaXMudmFsaWRhdGVGaWxlVXBsb2FkT3B0aW9ucyhmaWxlVXBsb2FkKTtcblxuICAgIGlmICh0eXBlb2YgcmV2b2tlU2Vzc2lvbk9uUGFzc3dvcmRSZXNldCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAncmV2b2tlU2Vzc2lvbk9uUGFzc3dvcmRSZXNldCBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZSc7XG4gICAgfVxuXG4gICAgaWYgKHB1YmxpY1NlcnZlclVSTCkge1xuICAgICAgaWYgKCFwdWJsaWNTZXJ2ZXJVUkwuc3RhcnRzV2l0aCgnaHR0cDovLycpICYmICFwdWJsaWNTZXJ2ZXJVUkwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xuICAgICAgICB0aHJvdyAncHVibGljU2VydmVyVVJMIHNob3VsZCBiZSBhIHZhbGlkIEhUVFBTIFVSTCBzdGFydGluZyB3aXRoIGh0dHBzOi8vJztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy52YWxpZGF0ZVNlc3Npb25Db25maWd1cmF0aW9uKHNlc3Npb25MZW5ndGgsIGV4cGlyZUluYWN0aXZlU2Vzc2lvbnMpO1xuICAgIHRoaXMudmFsaWRhdGVNYXN0ZXJLZXlJcHMobWFzdGVyS2V5SXBzKTtcbiAgICB0aGlzLnZhbGlkYXRlTWF4TGltaXQobWF4TGltaXQpO1xuICAgIHRoaXMudmFsaWRhdGVBbGxvd0hlYWRlcnMoYWxsb3dIZWFkZXJzKTtcbiAgICB0aGlzLnZhbGlkYXRlSWRlbXBvdGVuY3lPcHRpb25zKGlkZW1wb3RlbmN5T3B0aW9ucyk7XG4gICAgdGhpcy52YWxpZGF0ZVBhZ2VzT3B0aW9ucyhwYWdlcyk7XG4gICAgdGhpcy52YWxpZGF0ZVNlY3VyaXR5T3B0aW9ucyhzZWN1cml0eSk7XG4gICAgdGhpcy52YWxpZGF0ZVNjaGVtYU9wdGlvbnMoc2NoZW1hKTtcbiAgICB0aGlzLnZhbGlkYXRlRW5mb3JjZVByaXZhdGVVc2VycyhlbmZvcmNlUHJpdmF0ZVVzZXJzKTtcbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZUVuZm9yY2VQcml2YXRlVXNlcnMoZW5mb3JjZVByaXZhdGVVc2Vycykge1xuICAgIGlmICh0eXBlb2YgZW5mb3JjZVByaXZhdGVVc2VycyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBlbmZvcmNlUHJpdmF0ZVVzZXJzIG11c3QgYmUgYSBib29sZWFuLic7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlU2VjdXJpdHlPcHRpb25zKHNlY3VyaXR5KSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzZWN1cml0eSkgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzZWN1cml0eSBtdXN0IGJlIGFuIG9iamVjdC4nO1xuICAgIH1cbiAgICBpZiAoc2VjdXJpdHkuZW5hYmxlQ2hlY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2VjdXJpdHkuZW5hYmxlQ2hlY2sgPSBTZWN1cml0eU9wdGlvbnMuZW5hYmxlQ2hlY2suZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2VjdXJpdHkuZW5hYmxlQ2hlY2spKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzZWN1cml0eS5lbmFibGVDaGVjayBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAoc2VjdXJpdHkuZW5hYmxlQ2hlY2tMb2cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2VjdXJpdHkuZW5hYmxlQ2hlY2tMb2cgPSBTZWN1cml0eU9wdGlvbnMuZW5hYmxlQ2hlY2tMb2cuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2VjdXJpdHkuZW5hYmxlQ2hlY2tMb2cpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzZWN1cml0eS5lbmFibGVDaGVja0xvZyBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZVNjaGVtYU9wdGlvbnMoc2NoZW1hOiBTY2hlbWFPcHRpb25zKSB7XG4gICAgaWYgKCFzY2hlbWEpIHJldHVybjtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNjaGVtYSkgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzY2hlbWEgbXVzdCBiZSBhbiBvYmplY3QuJztcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5kZWZpbml0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuZGVmaW5pdGlvbnMgPSBTY2hlbWFPcHRpb25zLmRlZmluaXRpb25zLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWEuZGVmaW5pdGlvbnMpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzY2hlbWEuZGVmaW5pdGlvbnMgbXVzdCBiZSBhbiBhcnJheS4nO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLnN0cmljdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuc3RyaWN0ID0gU2NoZW1hT3B0aW9ucy5zdHJpY3QuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2NoZW1hLnN0cmljdCkpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHNjaGVtYS5zdHJpY3QgbXVzdCBiZSBhIGJvb2xlYW4uJztcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5kZWxldGVFeHRyYUZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuZGVsZXRlRXh0cmFGaWVsZHMgPSBTY2hlbWFPcHRpb25zLmRlbGV0ZUV4dHJhRmllbGRzLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghaXNCb29sZWFuKHNjaGVtYS5kZWxldGVFeHRyYUZpZWxkcykpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHNjaGVtYS5kZWxldGVFeHRyYUZpZWxkcyBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc2NoZW1hLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMgPSBTY2hlbWFPcHRpb25zLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2NoZW1hLnJlY3JlYXRlTW9kaWZpZWRGaWVsZHMpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBzY2hlbWEucmVjcmVhdGVNb2RpZmllZEZpZWxkcyBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLmxvY2tTY2hlbWFzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNjaGVtYS5sb2NrU2NoZW1hcyA9IFNjaGVtYU9wdGlvbnMubG9ja1NjaGVtYXMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc0Jvb2xlYW4oc2NoZW1hLmxvY2tTY2hlbWFzKSkge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gc2NoZW1hLmxvY2tTY2hlbWFzIG11c3QgYmUgYSBib29sZWFuLic7XG4gICAgfVxuICAgIGlmIChzY2hlbWEuYmVmb3JlTWlncmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNjaGVtYS5iZWZvcmVNaWdyYXRpb24gPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hLmJlZm9yZU1pZ3JhdGlvbiAhPT0gbnVsbCAmJiB0eXBlb2Ygc2NoZW1hLmJlZm9yZU1pZ3JhdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gc2NoZW1hLmJlZm9yZU1pZ3JhdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uJztcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5hZnRlck1pZ3JhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2hlbWEuYWZ0ZXJNaWdyYXRpb24gPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hLmFmdGVyTWlncmF0aW9uICE9PSBudWxsICYmIHR5cGVvZiBzY2hlbWEuYWZ0ZXJNaWdyYXRpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHNjaGVtYS5hZnRlck1pZ3JhdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uJztcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdmFsaWRhdGVQYWdlc09wdGlvbnMocGFnZXMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBhZ2VzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzIG11c3QgYmUgYW4gb2JqZWN0Lic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5lbmFibGVSb3V0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZXMuZW5hYmxlUm91dGVyID0gUGFnZXNPcHRpb25zLmVuYWJsZVJvdXRlci5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoIWlzQm9vbGVhbihwYWdlcy5lbmFibGVSb3V0ZXIpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5lbmFibGVSb3V0ZXIgbXVzdCBiZSBhIGJvb2xlYW4uJztcbiAgICB9XG4gICAgaWYgKHBhZ2VzLmVuYWJsZUxvY2FsaXphdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYWdlcy5lbmFibGVMb2NhbGl6YXRpb24gPSBQYWdlc09wdGlvbnMuZW5hYmxlTG9jYWxpemF0aW9uLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghaXNCb29sZWFuKHBhZ2VzLmVuYWJsZUxvY2FsaXphdGlvbikpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzLmVuYWJsZUxvY2FsaXphdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMubG9jYWxpemF0aW9uSnNvblBhdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZXMubG9jYWxpemF0aW9uSnNvblBhdGggPSBQYWdlc09wdGlvbnMubG9jYWxpemF0aW9uSnNvblBhdGguZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyhwYWdlcy5sb2NhbGl6YXRpb25Kc29uUGF0aCkpIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzLmxvY2FsaXphdGlvbkpzb25QYXRoIG11c3QgYmUgYSBzdHJpbmcuJztcbiAgICB9XG4gICAgaWYgKHBhZ2VzLmxvY2FsaXphdGlvbkZhbGxiYWNrTG9jYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmxvY2FsaXphdGlvbkZhbGxiYWNrTG9jYWxlID0gUGFnZXNPcHRpb25zLmxvY2FsaXphdGlvbkZhbGxiYWNrTG9jYWxlLmRlZmF1bHQ7XG4gICAgfSBlbHNlIGlmICghaXNTdHJpbmcocGFnZXMubG9jYWxpemF0aW9uRmFsbGJhY2tMb2NhbGUpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5sb2NhbGl6YXRpb25GYWxsYmFja0xvY2FsZSBtdXN0IGJlIGEgc3RyaW5nLic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5wbGFjZWhvbGRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZXMucGxhY2Vob2xkZXJzID0gUGFnZXNPcHRpb25zLnBsYWNlaG9sZGVycy5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocGFnZXMucGxhY2Vob2xkZXJzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScgJiZcbiAgICAgIHR5cGVvZiBwYWdlcy5wbGFjZWhvbGRlcnMgIT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIHBhZ2VzLnBsYWNlaG9sZGVycyBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5mb3JjZVJlZGlyZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmZvcmNlUmVkaXJlY3QgPSBQYWdlc09wdGlvbnMuZm9yY2VSZWRpcmVjdC5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoIWlzQm9vbGVhbihwYWdlcy5mb3JjZVJlZGlyZWN0KSkge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gcGFnZXMuZm9yY2VSZWRpcmVjdCBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMucGFnZXNQYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLnBhZ2VzUGF0aCA9IFBhZ2VzT3B0aW9ucy5wYWdlc1BhdGguZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyhwYWdlcy5wYWdlc1BhdGgpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5wYWdlc1BhdGggbXVzdCBiZSBhIHN0cmluZy4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMucGFnZXNFbmRwb2ludCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYWdlcy5wYWdlc0VuZHBvaW50ID0gUGFnZXNPcHRpb25zLnBhZ2VzRW5kcG9pbnQuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyhwYWdlcy5wYWdlc0VuZHBvaW50KSkge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gcGFnZXMucGFnZXNFbmRwb2ludCBtdXN0IGJlIGEgc3RyaW5nLic7XG4gICAgfVxuICAgIGlmIChwYWdlcy5jdXN0b21VcmxzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmN1c3RvbVVybHMgPSBQYWdlc09wdGlvbnMuY3VzdG9tVXJscy5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBhZ2VzLmN1c3RvbVVybHMpICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgdGhyb3cgJ1BhcnNlIFNlcnZlciBvcHRpb24gcGFnZXMuY3VzdG9tVXJscyBtdXN0IGJlIGFuIG9iamVjdC4nO1xuICAgIH1cbiAgICBpZiAocGFnZXMuY3VzdG9tUm91dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhZ2VzLmN1c3RvbVJvdXRlcyA9IFBhZ2VzT3B0aW9ucy5jdXN0b21Sb3V0ZXMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCEocGFnZXMuY3VzdG9tUm91dGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICB0aHJvdyAnUGFyc2UgU2VydmVyIG9wdGlvbiBwYWdlcy5jdXN0b21Sb3V0ZXMgbXVzdCBiZSBhbiBhcnJheS4nO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZUlkZW1wb3RlbmN5T3B0aW9ucyhpZGVtcG90ZW5jeU9wdGlvbnMpIHtcbiAgICBpZiAoIWlkZW1wb3RlbmN5T3B0aW9ucykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaWRlbXBvdGVuY3lPcHRpb25zLnR0bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZGVtcG90ZW5jeU9wdGlvbnMudHRsID0gSWRlbXBvdGVuY3lPcHRpb25zLnR0bC5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAoIWlzTmFOKGlkZW1wb3RlbmN5T3B0aW9ucy50dGwpICYmIGlkZW1wb3RlbmN5T3B0aW9ucy50dGwgPD0gMCkge1xuICAgICAgdGhyb3cgJ2lkZW1wb3RlbmN5IFRUTCB2YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIHNlY29uZHMnO1xuICAgIH0gZWxzZSBpZiAoaXNOYU4oaWRlbXBvdGVuY3lPcHRpb25zLnR0bCkpIHtcbiAgICAgIHRocm93ICdpZGVtcG90ZW5jeSBUVEwgdmFsdWUgbXVzdCBiZSBhIG51bWJlcic7XG4gICAgfVxuICAgIGlmICghaWRlbXBvdGVuY3lPcHRpb25zLnBhdGhzKSB7XG4gICAgICBpZGVtcG90ZW5jeU9wdGlvbnMucGF0aHMgPSBJZGVtcG90ZW5jeU9wdGlvbnMucGF0aHMuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKCEoaWRlbXBvdGVuY3lPcHRpb25zLnBhdGhzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICB0aHJvdyAnaWRlbXBvdGVuY3kgcGF0aHMgbXVzdCBiZSBvZiBhbiBhcnJheSBvZiBzdHJpbmdzJztcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdmFsaWRhdGVBY2NvdW50TG9ja291dFBvbGljeShhY2NvdW50TG9ja291dCkge1xuICAgIGlmIChhY2NvdW50TG9ja291dCkge1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgYWNjb3VudExvY2tvdXQuZHVyYXRpb24gIT09ICdudW1iZXInIHx8XG4gICAgICAgIGFjY291bnRMb2Nrb3V0LmR1cmF0aW9uIDw9IDAgfHxcbiAgICAgICAgYWNjb3VudExvY2tvdXQuZHVyYXRpb24gPiA5OTk5OVxuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdBY2NvdW50IGxvY2tvdXQgZHVyYXRpb24gc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gMTAwMDAwJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAhTnVtYmVyLmlzSW50ZWdlcihhY2NvdW50TG9ja291dC50aHJlc2hvbGQpIHx8XG4gICAgICAgIGFjY291bnRMb2Nrb3V0LnRocmVzaG9sZCA8IDEgfHxcbiAgICAgICAgYWNjb3VudExvY2tvdXQudGhyZXNob2xkID4gOTk5XG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgJ0FjY291bnQgbG9ja291dCB0aHJlc2hvbGQgc2hvdWxkIGJlIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxMDAwJztcbiAgICAgIH1cblxuICAgICAgaWYgKGFjY291bnRMb2Nrb3V0LnVubG9ja09uUGFzc3dvcmRSZXNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjY291bnRMb2Nrb3V0LnVubG9ja09uUGFzc3dvcmRSZXNldCA9IEFjY291bnRMb2Nrb3V0T3B0aW9ucy51bmxvY2tPblBhc3N3b3JkUmVzZXQuZGVmYXVsdDtcbiAgICAgIH0gZWxzZSBpZiAoIWlzQm9vbGVhbihhY2NvdW50TG9ja291dC51bmxvY2tPblBhc3N3b3JkUmVzZXQpKSB7XG4gICAgICAgIHRocm93ICdQYXJzZSBTZXJ2ZXIgb3B0aW9uIGFjY291bnRMb2Nrb3V0LnVubG9ja09uUGFzc3dvcmRSZXNldCBtdXN0IGJlIGEgYm9vbGVhbi4nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZVBhc3N3b3JkUG9saWN5KHBhc3N3b3JkUG9saWN5KSB7XG4gICAgaWYgKHBhc3N3b3JkUG9saWN5KSB7XG4gICAgICBpZiAoXG4gICAgICAgIHBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkQWdlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKHR5cGVvZiBwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEFnZSAhPT0gJ251bWJlcicgfHwgcGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRBZ2UgPCAwKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEFnZSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS5yZXNldFRva2VuVmFsaWRpdHlEdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICh0eXBlb2YgcGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgcGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24gPD0gMClcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAncGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcic7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yUGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuID0gbmV3IFJlZ0V4cChwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuKTtcbiAgICAgICAgfSBlbHNlIGlmICghKHBhc3N3b3JkUG9saWN5LnZhbGlkYXRvclBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgICAgdGhyb3cgJ3Bhc3N3b3JkUG9saWN5LnZhbGlkYXRvclBhdHRlcm4gbXVzdCBiZSBhIHJlZ2V4IHN0cmluZyBvciBSZWdFeHAgb2JqZWN0Lic7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS52YWxpZGF0b3JDYWxsYmFjayAmJlxuICAgICAgICB0eXBlb2YgcGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yQ2FsbGJhY2sgIT09ICdmdW5jdGlvbidcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAncGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yQ2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLic7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgcGFzc3dvcmRQb2xpY3kuZG9Ob3RBbGxvd1VzZXJuYW1lICYmXG4gICAgICAgIHR5cGVvZiBwYXNzd29yZFBvbGljeS5kb05vdEFsbG93VXNlcm5hbWUgIT09ICdib29sZWFuJ1xuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdwYXNzd29yZFBvbGljeS5kb05vdEFsbG93VXNlcm5hbWUgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUuJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnkgJiZcbiAgICAgICAgKCFOdW1iZXIuaXNJbnRlZ2VyKHBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSkgfHxcbiAgICAgICAgICBwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnkgPD0gMCB8fFxuICAgICAgICAgIHBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSA+IDIwKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93ICdwYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnkgbXVzdCBiZSBhbiBpbnRlZ2VyIHJhbmdpbmcgMCAtIDIwJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBwYXNzd29yZFBvbGljeS5yZXNldFRva2VuUmV1c2VJZlZhbGlkICYmXG4gICAgICAgIHR5cGVvZiBwYXNzd29yZFBvbGljeS5yZXNldFRva2VuUmV1c2VJZlZhbGlkICE9PSAnYm9vbGVhbidcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAncmVzZXRUb2tlblJldXNlSWZWYWxpZCBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZSc7XG4gICAgICB9XG4gICAgICBpZiAocGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblJldXNlSWZWYWxpZCAmJiAhcGFzc3dvcmRQb2xpY3kucmVzZXRUb2tlblZhbGlkaXR5RHVyYXRpb24pIHtcbiAgICAgICAgdGhyb3cgJ1lvdSBjYW5ub3QgdXNlIHJlc2V0VG9rZW5SZXVzZUlmVmFsaWQgd2l0aG91dCByZXNldFRva2VuVmFsaWRpdHlEdXJhdGlvbic7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhc3N3b3JkUG9saWN5LnZhbGlkYXRvclBhdHRlcm4gaXMgY29uZmlndXJlZCB0aGVuIHNldHVwIGEgY2FsbGJhY2sgdG8gcHJvY2VzcyB0aGUgcGF0dGVyblxuICBzdGF0aWMgc2V0dXBQYXNzd29yZFZhbGlkYXRvcihwYXNzd29yZFBvbGljeSkge1xuICAgIGlmIChwYXNzd29yZFBvbGljeSAmJiBwYXNzd29yZFBvbGljeS52YWxpZGF0b3JQYXR0ZXJuKSB7XG4gICAgICBwYXNzd29yZFBvbGljeS5wYXR0ZXJuVmFsaWRhdG9yID0gdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gcGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yUGF0dGVybi50ZXN0KHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlRW1haWxDb25maWd1cmF0aW9uKHtcbiAgICBlbWFpbEFkYXB0ZXIsXG4gICAgYXBwTmFtZSxcbiAgICBwdWJsaWNTZXJ2ZXJVUkwsXG4gICAgZW1haWxWZXJpZnlUb2tlblZhbGlkaXR5RHVyYXRpb24sXG4gICAgZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCxcbiAgfSkge1xuICAgIGlmICghZW1haWxBZGFwdGVyKSB7XG4gICAgICB0aHJvdyAnQW4gZW1haWxBZGFwdGVyIGlzIHJlcXVpcmVkIGZvciBlLW1haWwgdmVyaWZpY2F0aW9uIGFuZCBwYXNzd29yZCByZXNldHMuJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcHBOYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgJ0FuIGFwcCBuYW1lIGlzIHJlcXVpcmVkIGZvciBlLW1haWwgdmVyaWZpY2F0aW9uIGFuZCBwYXNzd29yZCByZXNldHMuJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwdWJsaWNTZXJ2ZXJVUkwgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQSBwdWJsaWMgc2VydmVyIHVybCBpcyByZXF1aXJlZCBmb3IgZS1tYWlsIHZlcmlmaWNhdGlvbiBhbmQgcGFzc3dvcmQgcmVzZXRzLic7XG4gICAgfVxuICAgIGlmIChlbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbikge1xuICAgICAgaWYgKGlzTmFOKGVtYWlsVmVyaWZ5VG9rZW5WYWxpZGl0eUR1cmF0aW9uKSkge1xuICAgICAgICB0aHJvdyAnRW1haWwgdmVyaWZ5IHRva2VuIHZhbGlkaXR5IGR1cmF0aW9uIG11c3QgYmUgYSB2YWxpZCBudW1iZXIuJztcbiAgICAgIH0gZWxzZSBpZiAoZW1haWxWZXJpZnlUb2tlblZhbGlkaXR5RHVyYXRpb24gPD0gMCkge1xuICAgICAgICB0aHJvdyAnRW1haWwgdmVyaWZ5IHRva2VuIHZhbGlkaXR5IGR1cmF0aW9uIG11c3QgYmUgYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCAmJiB0eXBlb2YgZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAnZW1haWxWZXJpZnlUb2tlblJldXNlSWZWYWxpZCBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZSc7XG4gICAgfVxuICAgIGlmIChlbWFpbFZlcmlmeVRva2VuUmV1c2VJZlZhbGlkICYmICFlbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbikge1xuICAgICAgdGhyb3cgJ1lvdSBjYW5ub3QgdXNlIGVtYWlsVmVyaWZ5VG9rZW5SZXVzZUlmVmFsaWQgd2l0aG91dCBlbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbic7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlRmlsZVVwbG9hZE9wdGlvbnMoZmlsZVVwbG9hZCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZmlsZVVwbG9hZCA9PSBudWxsIHx8IHR5cGVvZiBmaWxlVXBsb2FkICE9PSAnb2JqZWN0JyB8fCBmaWxlVXBsb2FkIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdGhyb3cgJ2ZpbGVVcGxvYWQgbXVzdCBiZSBhbiBvYmplY3QgdmFsdWUuJztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFJlZmVyZW5jZUVycm9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGlmIChmaWxlVXBsb2FkLmVuYWJsZUZvckFub255bW91c1VzZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZmlsZVVwbG9hZC5lbmFibGVGb3JBbm9ueW1vdXNVc2VyID0gRmlsZVVwbG9hZE9wdGlvbnMuZW5hYmxlRm9yQW5vbnltb3VzVXNlci5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbGVVcGxvYWQuZW5hYmxlRm9yQW5vbnltb3VzVXNlciAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyAnZmlsZVVwbG9hZC5lbmFibGVGb3JBbm9ueW1vdXNVc2VyIG11c3QgYmUgYSBib29sZWFuIHZhbHVlLic7XG4gICAgfVxuICAgIGlmIChmaWxlVXBsb2FkLmVuYWJsZUZvclB1YmxpYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWxlVXBsb2FkLmVuYWJsZUZvclB1YmxpYyA9IEZpbGVVcGxvYWRPcHRpb25zLmVuYWJsZUZvclB1YmxpYy5kZWZhdWx0O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbGVVcGxvYWQuZW5hYmxlRm9yUHVibGljICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRocm93ICdmaWxlVXBsb2FkLmVuYWJsZUZvclB1YmxpYyBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZS4nO1xuICAgIH1cbiAgICBpZiAoZmlsZVVwbG9hZC5lbmFibGVGb3JBdXRoZW50aWNhdGVkVXNlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWxlVXBsb2FkLmVuYWJsZUZvckF1dGhlbnRpY2F0ZWRVc2VyID0gRmlsZVVwbG9hZE9wdGlvbnMuZW5hYmxlRm9yQXV0aGVudGljYXRlZFVzZXIuZGVmYXVsdDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxlVXBsb2FkLmVuYWJsZUZvckF1dGhlbnRpY2F0ZWRVc2VyICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRocm93ICdmaWxlVXBsb2FkLmVuYWJsZUZvckF1dGhlbnRpY2F0ZWRVc2VyIG11c3QgYmUgYSBib29sZWFuIHZhbHVlLic7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlTWFzdGVyS2V5SXBzKG1hc3RlcktleUlwcykge1xuICAgIGZvciAoY29uc3QgaXAgb2YgbWFzdGVyS2V5SXBzKSB7XG4gICAgICBpZiAoIW5ldC5pc0lQKGlwKSkge1xuICAgICAgICB0aHJvdyBgSW52YWxpZCBpcCBpbiBtYXN0ZXJLZXlJcHM6ICR7aXB9YDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgbW91bnQoKSB7XG4gICAgdmFyIG1vdW50ID0gdGhpcy5fbW91bnQ7XG4gICAgaWYgKHRoaXMucHVibGljU2VydmVyVVJMKSB7XG4gICAgICBtb3VudCA9IHRoaXMucHVibGljU2VydmVyVVJMO1xuICAgIH1cbiAgICByZXR1cm4gbW91bnQ7XG4gIH1cblxuICBzZXQgbW91bnQobmV3VmFsdWUpIHtcbiAgICB0aGlzLl9tb3VudCA9IG5ld1ZhbHVlO1xuICB9XG5cbiAgc3RhdGljIHZhbGlkYXRlU2Vzc2lvbkNvbmZpZ3VyYXRpb24oc2Vzc2lvbkxlbmd0aCwgZXhwaXJlSW5hY3RpdmVTZXNzaW9ucykge1xuICAgIGlmIChleHBpcmVJbmFjdGl2ZVNlc3Npb25zKSB7XG4gICAgICBpZiAoaXNOYU4oc2Vzc2lvbkxlbmd0aCkpIHtcbiAgICAgICAgdGhyb3cgJ1Nlc3Npb24gbGVuZ3RoIG11c3QgYmUgYSB2YWxpZCBudW1iZXIuJztcbiAgICAgIH0gZWxzZSBpZiAoc2Vzc2lvbkxlbmd0aCA8PSAwKSB7XG4gICAgICAgIHRocm93ICdTZXNzaW9uIGxlbmd0aCBtdXN0IGJlIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgdmFsaWRhdGVNYXhMaW1pdChtYXhMaW1pdCkge1xuICAgIGlmIChtYXhMaW1pdCA8PSAwKSB7XG4gICAgICB0aHJvdyAnTWF4IGxpbWl0IG11c3QgYmUgYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2YWxpZGF0ZUFsbG93SGVhZGVycyhhbGxvd0hlYWRlcnMpIHtcbiAgICBpZiAoIVtudWxsLCB1bmRlZmluZWRdLmluY2x1ZGVzKGFsbG93SGVhZGVycykpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsbG93SGVhZGVycykpIHtcbiAgICAgICAgYWxsb3dIZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGhlYWRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93ICdBbGxvdyBoZWFkZXJzIG11c3Qgb25seSBjb250YWluIHN0cmluZ3MnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWhlYWRlci50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyAnQWxsb3cgaGVhZGVycyBtdXN0IG5vdCBjb250YWluIGVtcHR5IHN0cmluZ3MnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyAnQWxsb3cgaGVhZGVycyBtdXN0IGJlIGFuIGFycmF5JztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZW5lcmF0ZUVtYWlsVmVyaWZ5VG9rZW5FeHBpcmVzQXQoKSB7XG4gICAgaWYgKCF0aGlzLnZlcmlmeVVzZXJFbWFpbHMgfHwgIXRoaXMuZW1haWxWZXJpZnlUb2tlblZhbGlkaXR5RHVyYXRpb24pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgdGhpcy5lbWFpbFZlcmlmeVRva2VuVmFsaWRpdHlEdXJhdGlvbiAqIDEwMDApO1xuICB9XG5cbiAgZ2VuZXJhdGVQYXNzd29yZFJlc2V0VG9rZW5FeHBpcmVzQXQoKSB7XG4gICAgaWYgKCF0aGlzLnBhc3N3b3JkUG9saWN5IHx8ICF0aGlzLnBhc3N3b3JkUG9saWN5LnJlc2V0VG9rZW5WYWxpZGl0eUR1cmF0aW9uKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgdGhpcy5wYXNzd29yZFBvbGljeS5yZXNldFRva2VuVmFsaWRpdHlEdXJhdGlvbiAqIDEwMDApO1xuICB9XG5cbiAgZ2VuZXJhdGVTZXNzaW9uRXhwaXJlc0F0KCkge1xuICAgIGlmICghdGhpcy5leHBpcmVJbmFjdGl2ZVNlc3Npb25zKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4gbmV3IERhdGUobm93LmdldFRpbWUoKSArIHRoaXMuc2Vzc2lvbkxlbmd0aCAqIDEwMDApO1xuICB9XG5cbiAgZ2V0IGludmFsaWRMaW5rVVJMKCkge1xuICAgIHJldHVybiB0aGlzLmN1c3RvbVBhZ2VzLmludmFsaWRMaW5rIHx8IGAke3RoaXMucHVibGljU2VydmVyVVJMfS9hcHBzL2ludmFsaWRfbGluay5odG1sYDtcbiAgfVxuXG4gIGdldCBpbnZhbGlkVmVyaWZpY2F0aW9uTGlua1VSTCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jdXN0b21QYWdlcy5pbnZhbGlkVmVyaWZpY2F0aW9uTGluayB8fFxuICAgICAgYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9L2FwcHMvaW52YWxpZF92ZXJpZmljYXRpb25fbGluay5odG1sYFxuICAgICk7XG4gIH1cblxuICBnZXQgbGlua1NlbmRTdWNjZXNzVVJMKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmN1c3RvbVBhZ2VzLmxpbmtTZW5kU3VjY2VzcyB8fCBgJHt0aGlzLnB1YmxpY1NlcnZlclVSTH0vYXBwcy9saW5rX3NlbmRfc3VjY2Vzcy5odG1sYFxuICAgICk7XG4gIH1cblxuICBnZXQgbGlua1NlbmRGYWlsVVJMKCkge1xuICAgIHJldHVybiB0aGlzLmN1c3RvbVBhZ2VzLmxpbmtTZW5kRmFpbCB8fCBgJHt0aGlzLnB1YmxpY1NlcnZlclVSTH0vYXBwcy9saW5rX3NlbmRfZmFpbC5odG1sYDtcbiAgfVxuXG4gIGdldCB2ZXJpZnlFbWFpbFN1Y2Nlc3NVUkwoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY3VzdG9tUGFnZXMudmVyaWZ5RW1haWxTdWNjZXNzIHx8XG4gICAgICBgJHt0aGlzLnB1YmxpY1NlcnZlclVSTH0vYXBwcy92ZXJpZnlfZW1haWxfc3VjY2Vzcy5odG1sYFxuICAgICk7XG4gIH1cblxuICBnZXQgY2hvb3NlUGFzc3dvcmRVUkwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VzdG9tUGFnZXMuY2hvb3NlUGFzc3dvcmQgfHwgYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9L2FwcHMvY2hvb3NlX3Bhc3N3b3JkYDtcbiAgfVxuXG4gIGdldCByZXF1ZXN0UmVzZXRQYXNzd29yZFVSTCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9LyR7dGhpcy5wYWdlc0VuZHBvaW50fS8ke3RoaXMuYXBwbGljYXRpb25JZH0vcmVxdWVzdF9wYXNzd29yZF9yZXNldGA7XG4gIH1cblxuICBnZXQgcGFzc3dvcmRSZXNldFN1Y2Nlc3NVUkwoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY3VzdG9tUGFnZXMucGFzc3dvcmRSZXNldFN1Y2Nlc3MgfHxcbiAgICAgIGAke3RoaXMucHVibGljU2VydmVyVVJMfS9hcHBzL3Bhc3N3b3JkX3Jlc2V0X3N1Y2Nlc3MuaHRtbGBcbiAgICApO1xuICB9XG5cbiAgZ2V0IHBhcnNlRnJhbWVVUkwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VzdG9tUGFnZXMucGFyc2VGcmFtZVVSTDtcbiAgfVxuXG4gIGdldCB2ZXJpZnlFbWFpbFVSTCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5wdWJsaWNTZXJ2ZXJVUkx9LyR7dGhpcy5wYWdlc0VuZHBvaW50fS8ke3RoaXMuYXBwbGljYXRpb25JZH0vdmVyaWZ5X2VtYWlsYDtcbiAgfVxuXG4gIC8vIFRPRE86IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIG9uY2UgUGFnZXNSb3V0ZXIgcmVwbGFjZXMgdGhlIFB1YmxpY0FQSVJvdXRlcjtcbiAgLy8gdGhlIChkZWZhdWx0KSBlbmRwb2ludCBoYXMgdG8gYmUgZGVmaW5lZCBpbiBQYWdlc1JvdXRlciBvbmx5LlxuICBnZXQgcGFnZXNFbmRwb2ludCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlcyAmJiB0aGlzLnBhZ2VzLmVuYWJsZVJvdXRlciAmJiB0aGlzLnBhZ2VzLnBhZ2VzRW5kcG9pbnRcbiAgICAgID8gdGhpcy5wYWdlcy5wYWdlc0VuZHBvaW50XG4gICAgICA6ICdhcHBzJztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG5tb2R1bGUuZXhwb3J0cyA9IENvbmZpZztcbiJdfQ==