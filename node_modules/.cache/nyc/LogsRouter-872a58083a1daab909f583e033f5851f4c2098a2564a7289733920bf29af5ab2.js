"use strict";function cov_1xh66znrnq(){var path="/parse-server/lib/Routers/LogsRouter.js";var hash="cdd2c9947faa922d71acf8033b29294511cee99a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Routers/LogsRouter.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:46}},"2":{start:{line:8,column:12},end:{line:8,column:33}},"3":{start:{line:10,column:21},end:{line:10,column:72}},"4":{start:{line:12,column:17},end:{line:12,column:67}},"5":{start:{line:14,column:49},end:{line:14,column:96}},"6":{start:{line:14,column:84},end:{line:14,column:96}},"7":{start:{line:14,column:121},end:{line:14,column:134}},"8":{start:{line:14,column:159},end:{line:14,column:172}},"9":{start:{line:14,column:174},end:{line:14,column:309}},"10":{start:{line:14,column:234},end:{line:14,column:292}},"11":{start:{line:16,column:53},end:{line:16,column:111}},"12":{start:{line:16,column:98},end:{line:16,column:109}},"13":{start:{line:16,column:112},end:{line:16,column:214}},"14":{start:{line:16,column:188},end:{line:16,column:212}},"15":{start:{line:16,column:227},end:{line:16,column:264}},"16":{start:{line:16,column:266},end:{line:16,column:321}},"17":{start:{line:16,column:297},end:{line:16,column:319}},"18":{start:{line:16,column:335},end:{line:16,column:337}},"19":{start:{line:16,column:367},end:{line:16,column:423}},"20":{start:{line:16,column:425},end:{line:16,column:726}},"21":{start:{line:16,column:448},end:{line:16,column:724}},"22":{start:{line:16,column:534},end:{line:16,column:606}},"23":{start:{line:16,column:608},end:{line:16,column:722}},"24":{start:{line:16,column:646},end:{line:16,column:687}},"25":{start:{line:16,column:697},end:{line:16,column:720}},"26":{start:{line:16,column:727},end:{line:16,column:748}},"27":{start:{line:16,column:749},end:{line:16,column:787}},"28":{start:{line:16,column:762},end:{line:16,column:785}},"29":{start:{line:16,column:788},end:{line:16,column:802}},"30":{start:{line:18,column:39},end:{line:18,column:93}},"31":{start:{line:22,column:4},end:{line:24,column:7}},"32":{start:{line:23,column:6},end:{line:23,column:33}},"33":{start:{line:28,column:4},end:{line:30,column:5}},"34":{start:{line:29,column:6},end:{line:29,column:107}},"35":{start:{line:42,column:17},end:{line:42,column:31}},"36":{start:{line:43,column:18},end:{line:43,column:33}},"37":{start:{line:44,column:15},end:{line:44,column:29}},"38":{start:{line:46,column:4},end:{line:48,column:5}},"39":{start:{line:47,column:6},end:{line:47,column:25}},"40":{start:{line:50,column:18},end:{line:50,column:33}},"41":{start:{line:51,column:18},end:{line:51,column:33}},"42":{start:{line:52,column:20},end:{line:58,column:5}},"43":{start:{line:59,column:4},end:{line:63,column:7}},"44":{start:{line:60,column:6},end:{line:62,column:9}},"45":{start:{line:68,column:0},end:{line:68,column:32}},"46":{start:{line:69,column:15},end:{line:69,column:25}},"47":{start:{line:70,column:0},end:{line:70,column:27}}},fnMap:{"0":{name:"_getRequireWildcardCache",decl:{start:{line:14,column:9},end:{line:14,column:33}},loc:{start:{line:14,column:47},end:{line:14,column:311}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:209},end:{line:14,column:210}},loc:{start:{line:14,column:232},end:{line:14,column:294}},line:14},"2":{name:"_interopRequireWildcard",decl:{start:{line:16,column:9},end:{line:16,column:32}},loc:{start:{line:16,column:51},end:{line:16,column:804}},line:16},"3":{name:"_interopRequireDefault",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:37},end:{line:18,column:95}},line:18},"4":{name:"(anonymous_4)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:16},end:{line:25,column:3}},line:21},"5":{name:"(anonymous_5)",decl:{start:{line:22,column:100},end:{line:22,column:101}},loc:{start:{line:22,column:107},end:{line:24,column:5}},line:22},"6":{name:"(anonymous_6)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:23},end:{line:31,column:3}},line:27},"7":{name:"(anonymous_7)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:17},end:{line:64,column:3}},line:41},"8":{name:"(anonymous_8)",decl:{start:{line:59,column:61},end:{line:59,column:62}},loc:{start:{line:59,column:71},end:{line:63,column:5}},line:59}},branchMap:{"0":{loc:{start:{line:14,column:49},end:{line:14,column:96}},type:"if",locations:[{start:{line:14,column:49},end:{line:14,column:96}},{start:{line:14,column:49},end:{line:14,column:96}}],line:14},"1":{loc:{start:{line:14,column:241},end:{line:14,column:291}},type:"cond-expr",locations:[{start:{line:14,column:255},end:{line:14,column:271}},{start:{line:14,column:274},end:{line:14,column:291}}],line:14},"2":{loc:{start:{line:16,column:53},end:{line:16,column:111}},type:"if",locations:[{start:{line:16,column:53},end:{line:16,column:111}},{start:{line:16,column:53},end:{line:16,column:111}}],line:16},"3":{loc:{start:{line:16,column:57},end:{line:16,column:94}},type:"binary-expr",locations:[{start:{line:16,column:57},end:{line:16,column:69}},{start:{line:16,column:73},end:{line:16,column:76}},{start:{line:16,column:80},end:{line:16,column:94}}],line:16},"4":{loc:{start:{line:16,column:112},end:{line:16,column:214}},type:"if",locations:[{start:{line:16,column:112},end:{line:16,column:214}},{start:{line:16,column:112},end:{line:16,column:214}}],line:16},"5":{loc:{start:{line:16,column:116},end:{line:16,column:184}},type:"binary-expr",locations:[{start:{line:16,column:116},end:{line:16,column:128}},{start:{line:16,column:132},end:{line:16,column:155}},{start:{line:16,column:159},end:{line:16,column:184}}],line:16},"6":{loc:{start:{line:16,column:266},end:{line:16,column:321}},type:"if",locations:[{start:{line:16,column:266},end:{line:16,column:321}},{start:{line:16,column:266},end:{line:16,column:321}}],line:16},"7":{loc:{start:{line:16,column:270},end:{line:16,column:293}},type:"binary-expr",locations:[{start:{line:16,column:270},end:{line:16,column:275}},{start:{line:16,column:279},end:{line:16,column:293}}],line:16},"8":{loc:{start:{line:16,column:367},end:{line:16,column:423}},type:"binary-expr",locations:[{start:{line:16,column:367},end:{line:16,column:388}},{start:{line:16,column:392},end:{line:16,column:423}}],line:16},"9":{loc:{start:{line:16,column:448},end:{line:16,column:724}},type:"if",locations:[{start:{line:16,column:448},end:{line:16,column:724}},{start:{line:16,column:448},end:{line:16,column:724}}],line:16},"10":{loc:{start:{line:16,column:452},end:{line:16,column:519}},type:"binary-expr",locations:[{start:{line:16,column:452},end:{line:16,column:469}},{start:{line:16,column:473},end:{line:16,column:519}}],line:16},"11":{loc:{start:{line:16,column:534},end:{line:16,column:606}},type:"cond-expr",locations:[{start:{line:16,column:558},end:{line:16,column:599}},{start:{line:16,column:602},end:{line:16,column:606}}],line:16},"12":{loc:{start:{line:16,column:608},end:{line:16,column:722}},type:"if",locations:[{start:{line:16,column:608},end:{line:16,column:722}},{start:{line:16,column:608},end:{line:16,column:722}}],line:16},"13":{loc:{start:{line:16,column:612},end:{line:16,column:642}},type:"binary-expr",locations:[{start:{line:16,column:612},end:{line:16,column:616}},{start:{line:16,column:621},end:{line:16,column:629}},{start:{line:16,column:633},end:{line:16,column:641}}],line:16},"14":{loc:{start:{line:16,column:749},end:{line:16,column:787}},type:"if",locations:[{start:{line:16,column:749},end:{line:16,column:787}},{start:{line:16,column:749},end:{line:16,column:787}}],line:16},"15":{loc:{start:{line:18,column:46},end:{line:18,column:92}},type:"cond-expr",locations:[{start:{line:18,column:70},end:{line:18,column:73}},{start:{line:18,column:76},end:{line:18,column:92}}],line:18},"16":{loc:{start:{line:18,column:46},end:{line:18,column:67}},type:"binary-expr",locations:[{start:{line:18,column:46},end:{line:18,column:49}},{start:{line:18,column:53},end:{line:18,column:67}}],line:18},"17":{loc:{start:{line:28,column:4},end:{line:30,column:5}},type:"if",locations:[{start:{line:28,column:4},end:{line:30,column:5}},{start:{line:28,column:4},end:{line:30,column:5}}],line:28},"18":{loc:{start:{line:28,column:8},end:{line:28,column:51}},type:"binary-expr",locations:[{start:{line:28,column:8},end:{line:28,column:19}},{start:{line:28,column:23},end:{line:28,column:51}}],line:28},"19":{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:46,column:4},end:{line:48,column:5}}],line:46}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},inputSourceMap:{version:3,sources:["../../src/Routers/LogsRouter.js"],names:["LogsRouter","PromiseRouter","mountRoutes","route","middleware","promiseEnforceMasterKeyAccess","validateRequest","req","handleGET","config","loggerController","Parse","Error","PUSH_MISCONFIGURED","from","query","until","size","n","order","level","options","getLogs","then","result","Promise","resolve","response"],mappings:";;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEO,MAAMA,UAAN,SAAyBC,sBAAzB,CAAuC;AAC5CC,EAAAA,WAAW,GAAG;AACZ,SAAKC,KAAL,CACE,KADF,EAEE,YAFF,EAGEC,UAAU,CAACC,6BAHb,EAIE,KAAKC,eAJP,EAKEC,GAAG,IAAI;AACL,aAAO,KAAKC,SAAL,CAAeD,GAAf,CAAP;AACD,KAPH;AASD;;AAEDD,EAAAA,eAAe,CAACC,GAAD,EAAM;AACnB,QAAI,CAACA,GAAG,CAACE,MAAL,IAAe,CAACF,GAAG,CAACE,MAAJ,CAAWC,gBAA/B,EAAiD;AAC/C,YAAM,IAAIC,YAAMC,KAAV,CAAgBD,YAAMC,KAAN,CAAYC,kBAA5B,EAAgD,iCAAhD,CAAN;AACD;AACF,GAjB2C,CAmB5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAL,EAAAA,SAAS,CAACD,GAAD,EAAM;AACb,UAAMO,IAAI,GAAGP,GAAG,CAACQ,KAAJ,CAAUD,IAAvB;AACA,UAAME,KAAK,GAAGT,GAAG,CAACQ,KAAJ,CAAUC,KAAxB;AACA,QAAIC,IAAI,GAAGV,GAAG,CAACQ,KAAJ,CAAUE,IAArB;;AACA,QAAIV,GAAG,CAACQ,KAAJ,CAAUG,CAAd,EAAiB;AACfD,MAAAA,IAAI,GAAGV,GAAG,CAACQ,KAAJ,CAAUG,CAAjB;AACD;;AAED,UAAMC,KAAK,GAAGZ,GAAG,CAACQ,KAAJ,CAAUI,KAAxB;AACA,UAAMC,KAAK,GAAGb,GAAG,CAACQ,KAAJ,CAAUK,KAAxB;AACA,UAAMC,OAAO,GAAG;AACdP,MAAAA,IADc;AAEdE,MAAAA,KAFc;AAGdC,MAAAA,IAHc;AAIdE,MAAAA,KAJc;AAKdC,MAAAA;AALc,KAAhB;AAQA,WAAOb,GAAG,CAACE,MAAJ,CAAWC,gBAAX,CAA4BY,OAA5B,CAAoCD,OAApC,EAA6CE,IAA7C,CAAkDC,MAAM,IAAI;AACjE,aAAOC,OAAO,CAACC,OAAR,CAAgB;AACrBC,QAAAA,QAAQ,EAAEH;AADW,OAAhB,CAAP;AAGD,KAJM,CAAP;AAKD;;AAlD2C;;;eAqD/BxB,U",sourcesContent:["import { Parse } from 'parse/node';\nimport PromiseRouter from '../PromiseRouter';\nimport * as middleware from '../middlewares';\n\nexport class LogsRouter extends PromiseRouter {\n  mountRoutes() {\n    this.route(\n      'GET',\n      '/scriptlog',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.validateRequest,\n      req => {\n        return this.handleGET(req);\n      }\n    );\n  }\n\n  validateRequest(req) {\n    if (!req.config || !req.config.loggerController) {\n      throw new Parse.Error(Parse.Error.PUSH_MISCONFIGURED, 'Logger adapter is not available');\n    }\n  }\n\n  // Returns a promise for a {response} object.\n  // query params:\n  // level (optional) Level of logging you want to query for (info || error)\n  // from (optional) Start time for the search. Defaults to 1 week ago.\n  // until (optional) End time for the search. Defaults to current time.\n  // order (optional) Direction of results returned, either \u201Casc\u201D or \u201Cdesc\u201D. Defaults to \u201Cdesc\u201D.\n  // size (optional) Number of rows returned by search. Defaults to 10\n  // n same as size, overrides size if set\n  handleGET(req) {\n    const from = req.query.from;\n    const until = req.query.until;\n    let size = req.query.size;\n    if (req.query.n) {\n      size = req.query.n;\n    }\n\n    const order = req.query.order;\n    const level = req.query.level;\n    const options = {\n      from,\n      until,\n      size,\n      order,\n      level,\n    };\n\n    return req.config.loggerController.getLogs(options).then(result => {\n      return Promise.resolve({\n        response: result,\n      });\n    });\n  }\n}\n\nexport default LogsRouter;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cdd2c9947faa922d71acf8033b29294511cee99a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1xh66znrnq=function(){return actualCoverage;};}return actualCoverage;}cov_1xh66znrnq();cov_1xh66znrnq().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1xh66znrnq().s[1]++;exports.default=exports.LogsRouter=void 0;var _node=(cov_1xh66znrnq().s[2]++,require("parse/node"));var _PromiseRouter=(cov_1xh66znrnq().s[3]++,_interopRequireDefault(require("../PromiseRouter")));var middleware=(cov_1xh66znrnq().s[4]++,_interopRequireWildcard(require("../middlewares")));function _getRequireWildcardCache(nodeInterop){cov_1xh66znrnq().f[0]++;cov_1xh66znrnq().s[5]++;if(typeof WeakMap!=="function"){cov_1xh66znrnq().b[0][0]++;cov_1xh66znrnq().s[6]++;return null;}else{cov_1xh66znrnq().b[0][1]++;}var cacheBabelInterop=(cov_1xh66znrnq().s[7]++,new WeakMap());var cacheNodeInterop=(cov_1xh66znrnq().s[8]++,new WeakMap());cov_1xh66znrnq().s[9]++;return(_getRequireWildcardCache=function(nodeInterop){cov_1xh66znrnq().f[1]++;cov_1xh66znrnq().s[10]++;return nodeInterop?(cov_1xh66znrnq().b[1][0]++,cacheNodeInterop):(cov_1xh66znrnq().b[1][1]++,cacheBabelInterop);})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){cov_1xh66znrnq().f[2]++;cov_1xh66znrnq().s[11]++;if((cov_1xh66znrnq().b[3][0]++,!nodeInterop)&&(cov_1xh66znrnq().b[3][1]++,obj)&&(cov_1xh66znrnq().b[3][2]++,obj.__esModule)){cov_1xh66znrnq().b[2][0]++;cov_1xh66znrnq().s[12]++;return obj;}else{cov_1xh66znrnq().b[2][1]++;}cov_1xh66znrnq().s[13]++;if((cov_1xh66znrnq().b[5][0]++,obj===null)||(cov_1xh66znrnq().b[5][1]++,typeof obj!=="object")&&(cov_1xh66znrnq().b[5][2]++,typeof obj!=="function")){cov_1xh66znrnq().b[4][0]++;cov_1xh66znrnq().s[14]++;return{default:obj};}else{cov_1xh66znrnq().b[4][1]++;}var cache=(cov_1xh66znrnq().s[15]++,_getRequireWildcardCache(nodeInterop));cov_1xh66znrnq().s[16]++;if((cov_1xh66znrnq().b[7][0]++,cache)&&(cov_1xh66znrnq().b[7][1]++,cache.has(obj))){cov_1xh66znrnq().b[6][0]++;cov_1xh66znrnq().s[17]++;return cache.get(obj);}else{cov_1xh66znrnq().b[6][1]++;}var newObj=(cov_1xh66znrnq().s[18]++,{});var hasPropertyDescriptor=(cov_1xh66znrnq().s[19]++,(cov_1xh66znrnq().b[8][0]++,Object.defineProperty)&&(cov_1xh66znrnq().b[8][1]++,Object.getOwnPropertyDescriptor));cov_1xh66znrnq().s[20]++;for(var key in obj){cov_1xh66znrnq().s[21]++;if((cov_1xh66znrnq().b[10][0]++,key!=="default")&&(cov_1xh66znrnq().b[10][1]++,Object.prototype.hasOwnProperty.call(obj,key))){cov_1xh66znrnq().b[9][0]++;var desc=(cov_1xh66znrnq().s[22]++,hasPropertyDescriptor?(cov_1xh66znrnq().b[11][0]++,Object.getOwnPropertyDescriptor(obj,key)):(cov_1xh66znrnq().b[11][1]++,null));cov_1xh66znrnq().s[23]++;if((cov_1xh66znrnq().b[13][0]++,desc)&&((cov_1xh66znrnq().b[13][1]++,desc.get)||(cov_1xh66znrnq().b[13][2]++,desc.set))){cov_1xh66znrnq().b[12][0]++;cov_1xh66znrnq().s[24]++;Object.defineProperty(newObj,key,desc);}else{cov_1xh66znrnq().b[12][1]++;cov_1xh66znrnq().s[25]++;newObj[key]=obj[key];}}else{cov_1xh66znrnq().b[9][1]++;}}cov_1xh66znrnq().s[26]++;newObj.default=obj;cov_1xh66znrnq().s[27]++;if(cache){cov_1xh66znrnq().b[14][0]++;cov_1xh66znrnq().s[28]++;cache.set(obj,newObj);}else{cov_1xh66znrnq().b[14][1]++;}cov_1xh66znrnq().s[29]++;return newObj;}function _interopRequireDefault(obj){cov_1xh66znrnq().f[3]++;cov_1xh66znrnq().s[30]++;return(cov_1xh66znrnq().b[16][0]++,obj)&&(cov_1xh66znrnq().b[16][1]++,obj.__esModule)?(cov_1xh66znrnq().b[15][0]++,obj):(cov_1xh66znrnq().b[15][1]++,{default:obj});}class LogsRouter extends(_PromiseRouter.default){mountRoutes(){cov_1xh66znrnq().f[4]++;cov_1xh66znrnq().s[31]++;this.route('GET','/scriptlog',middleware.promiseEnforceMasterKeyAccess,this.validateRequest,req=>{cov_1xh66znrnq().f[5]++;cov_1xh66znrnq().s[32]++;return this.handleGET(req);});}validateRequest(req){cov_1xh66znrnq().f[6]++;cov_1xh66znrnq().s[33]++;if((cov_1xh66znrnq().b[18][0]++,!req.config)||(cov_1xh66znrnq().b[18][1]++,!req.config.loggerController)){cov_1xh66znrnq().b[17][0]++;cov_1xh66znrnq().s[34]++;throw new _node.Parse.Error(_node.Parse.Error.PUSH_MISCONFIGURED,'Logger adapter is not available');}else{cov_1xh66znrnq().b[17][1]++;}}// Returns a promise for a {response} object.
// query params:
// level (optional) Level of logging you want to query for (info || error)
// from (optional) Start time for the search. Defaults to 1 week ago.
// until (optional) End time for the search. Defaults to current time.
// order (optional) Direction of results returned, either “asc” or “desc”. Defaults to “desc”.
// size (optional) Number of rows returned by search. Defaults to 10
// n same as size, overrides size if set
handleGET(req){cov_1xh66znrnq().f[7]++;const from=(cov_1xh66znrnq().s[35]++,req.query.from);const until=(cov_1xh66znrnq().s[36]++,req.query.until);let size=(cov_1xh66znrnq().s[37]++,req.query.size);cov_1xh66znrnq().s[38]++;if(req.query.n){cov_1xh66znrnq().b[19][0]++;cov_1xh66znrnq().s[39]++;size=req.query.n;}else{cov_1xh66znrnq().b[19][1]++;}const order=(cov_1xh66znrnq().s[40]++,req.query.order);const level=(cov_1xh66znrnq().s[41]++,req.query.level);const options=(cov_1xh66znrnq().s[42]++,{from,until,size,order,level});cov_1xh66znrnq().s[43]++;return req.config.loggerController.getLogs(options).then(result=>{cov_1xh66znrnq().f[8]++;cov_1xh66znrnq().s[44]++;return Promise.resolve({response:result});});}}cov_1xh66znrnq().s[45]++;exports.LogsRouter=LogsRouter;var _default=(cov_1xh66znrnq().s[46]++,LogsRouter);cov_1xh66znrnq().s[47]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Sb3V0ZXJzL0xvZ3NSb3V0ZXIuanMiXSwibmFtZXMiOlsiTG9nc1JvdXRlciIsIlByb21pc2VSb3V0ZXIiLCJtb3VudFJvdXRlcyIsInJvdXRlIiwibWlkZGxld2FyZSIsInByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzIiwidmFsaWRhdGVSZXF1ZXN0IiwicmVxIiwiaGFuZGxlR0VUIiwiY29uZmlnIiwibG9nZ2VyQ29udHJvbGxlciIsIlBhcnNlIiwiRXJyb3IiLCJQVVNIX01JU0NPTkZJR1VSRUQiLCJmcm9tIiwicXVlcnkiLCJ1bnRpbCIsInNpemUiLCJuIiwib3JkZXIiLCJsZXZlbCIsIm9wdGlvbnMiLCJnZXRMb2dzIiwidGhlbiIsInJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVzcG9uc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFTyxNQUFNQSxVQUFOLFNBQXlCQyxzQkFBekIsQ0FBdUM7QUFDNUNDLEVBQUFBLFdBQVcsR0FBRztBQUNaLFNBQUtDLEtBQUwsQ0FDRSxLQURGLEVBRUUsWUFGRixFQUdFQyxVQUFVLENBQUNDLDZCQUhiLEVBSUUsS0FBS0MsZUFKUCxFQUtFQyxHQUFHLElBQUk7QUFDTCxhQUFPLEtBQUtDLFNBQUwsQ0FBZUQsR0FBZixDQUFQO0FBQ0QsS0FQSDtBQVNEOztBQUVERCxFQUFBQSxlQUFlLENBQUNDLEdBQUQsRUFBTTtBQUNuQixRQUFJLENBQUNBLEdBQUcsQ0FBQ0UsTUFBTCxJQUFlLENBQUNGLEdBQUcsQ0FBQ0UsTUFBSixDQUFXQyxnQkFBL0IsRUFBaUQ7QUFDL0MsWUFBTSxJQUFJQyxZQUFNQyxLQUFWLENBQWdCRCxZQUFNQyxLQUFOLENBQVlDLGtCQUE1QixFQUFnRCxpQ0FBaEQsQ0FBTjtBQUNEO0FBQ0YsR0FqQjJDLENBbUI1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQUwsRUFBQUEsU0FBUyxDQUFDRCxHQUFELEVBQU07QUFDYixVQUFNTyxJQUFJLEdBQUdQLEdBQUcsQ0FBQ1EsS0FBSixDQUFVRCxJQUF2QjtBQUNBLFVBQU1FLEtBQUssR0FBR1QsR0FBRyxDQUFDUSxLQUFKLENBQVVDLEtBQXhCO0FBQ0EsUUFBSUMsSUFBSSxHQUFHVixHQUFHLENBQUNRLEtBQUosQ0FBVUUsSUFBckI7O0FBQ0EsUUFBSVYsR0FBRyxDQUFDUSxLQUFKLENBQVVHLENBQWQsRUFBaUI7QUFDZkQsTUFBQUEsSUFBSSxHQUFHVixHQUFHLENBQUNRLEtBQUosQ0FBVUcsQ0FBakI7QUFDRDs7QUFFRCxVQUFNQyxLQUFLLEdBQUdaLEdBQUcsQ0FBQ1EsS0FBSixDQUFVSSxLQUF4QjtBQUNBLFVBQU1DLEtBQUssR0FBR2IsR0FBRyxDQUFDUSxLQUFKLENBQVVLLEtBQXhCO0FBQ0EsVUFBTUMsT0FBTyxHQUFHO0FBQ2RQLE1BQUFBLElBRGM7QUFFZEUsTUFBQUEsS0FGYztBQUdkQyxNQUFBQSxJQUhjO0FBSWRFLE1BQUFBLEtBSmM7QUFLZEMsTUFBQUE7QUFMYyxLQUFoQjtBQVFBLFdBQU9iLEdBQUcsQ0FBQ0UsTUFBSixDQUFXQyxnQkFBWCxDQUE0QlksT0FBNUIsQ0FBb0NELE9BQXBDLEVBQTZDRSxJQUE3QyxDQUFrREMsTUFBTSxJQUFJO0FBQ2pFLGFBQU9DLE9BQU8sQ0FBQ0MsT0FBUixDQUFnQjtBQUNyQkMsUUFBQUEsUUFBUSxFQUFFSDtBQURXLE9BQWhCLENBQVA7QUFHRCxLQUpNLENBQVA7QUFLRDs7QUFsRDJDOzs7ZUFxRC9CeEIsVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnNlIH0gZnJvbSAncGFyc2Uvbm9kZSc7XG5pbXBvcnQgUHJvbWlzZVJvdXRlciBmcm9tICcuLi9Qcm9taXNlUm91dGVyJztcbmltcG9ydCAqIGFzIG1pZGRsZXdhcmUgZnJvbSAnLi4vbWlkZGxld2FyZXMnO1xuXG5leHBvcnQgY2xhc3MgTG9nc1JvdXRlciBleHRlbmRzIFByb21pc2VSb3V0ZXIge1xuICBtb3VudFJvdXRlcygpIHtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ0dFVCcsXG4gICAgICAnL3NjcmlwdGxvZycsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy52YWxpZGF0ZVJlcXVlc3QsXG4gICAgICByZXEgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVHRVQocmVxKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgdmFsaWRhdGVSZXF1ZXN0KHJlcSkge1xuICAgIGlmICghcmVxLmNvbmZpZyB8fCAhcmVxLmNvbmZpZy5sb2dnZXJDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuUFVTSF9NSVNDT05GSUdVUkVELCAnTG9nZ2VyIGFkYXB0ZXIgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIGZvciBhIHtyZXNwb25zZX0gb2JqZWN0LlxuICAvLyBxdWVyeSBwYXJhbXM6XG4gIC8vIGxldmVsIChvcHRpb25hbCkgTGV2ZWwgb2YgbG9nZ2luZyB5b3Ugd2FudCB0byBxdWVyeSBmb3IgKGluZm8gfHwgZXJyb3IpXG4gIC8vIGZyb20gKG9wdGlvbmFsKSBTdGFydCB0aW1lIGZvciB0aGUgc2VhcmNoLiBEZWZhdWx0cyB0byAxIHdlZWsgYWdvLlxuICAvLyB1bnRpbCAob3B0aW9uYWwpIEVuZCB0aW1lIGZvciB0aGUgc2VhcmNoLiBEZWZhdWx0cyB0byBjdXJyZW50IHRpbWUuXG4gIC8vIG9yZGVyIChvcHRpb25hbCkgRGlyZWN0aW9uIG9mIHJlc3VsdHMgcmV0dXJuZWQsIGVpdGhlciDigJxhc2PigJ0gb3Ig4oCcZGVzY+KAnS4gRGVmYXVsdHMgdG8g4oCcZGVzY+KAnS5cbiAgLy8gc2l6ZSAob3B0aW9uYWwpIE51bWJlciBvZiByb3dzIHJldHVybmVkIGJ5IHNlYXJjaC4gRGVmYXVsdHMgdG8gMTBcbiAgLy8gbiBzYW1lIGFzIHNpemUsIG92ZXJyaWRlcyBzaXplIGlmIHNldFxuICBoYW5kbGVHRVQocmVxKSB7XG4gICAgY29uc3QgZnJvbSA9IHJlcS5xdWVyeS5mcm9tO1xuICAgIGNvbnN0IHVudGlsID0gcmVxLnF1ZXJ5LnVudGlsO1xuICAgIGxldCBzaXplID0gcmVxLnF1ZXJ5LnNpemU7XG4gICAgaWYgKHJlcS5xdWVyeS5uKSB7XG4gICAgICBzaXplID0gcmVxLnF1ZXJ5Lm47XG4gICAgfVxuXG4gICAgY29uc3Qgb3JkZXIgPSByZXEucXVlcnkub3JkZXI7XG4gICAgY29uc3QgbGV2ZWwgPSByZXEucXVlcnkubGV2ZWw7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGZyb20sXG4gICAgICB1bnRpbCxcbiAgICAgIHNpemUsXG4gICAgICBvcmRlcixcbiAgICAgIGxldmVsLFxuICAgIH07XG5cbiAgICByZXR1cm4gcmVxLmNvbmZpZy5sb2dnZXJDb250cm9sbGVyLmdldExvZ3Mob3B0aW9ucykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHJlc3BvbnNlOiByZXN1bHQsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dzUm91dGVyO1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Sb3V0ZXJzL0xvZ3NSb3V0ZXIuanMiXSwibmFtZXMiOlsiUHJvbWlzZVJvdXRlciIsIm1vdW50Um91dGVzIiwibWlkZGxld2FyZSIsInJlcSIsInZhbGlkYXRlUmVxdWVzdCIsIlBhcnNlIiwiaGFuZGxlR0VUIiwiZnJvbSIsInVudGlsIiwic2l6ZSIsIm9yZGVyIiwibGV2ZWwiLCJvcHRpb25zIiwicmVzdWx0IiwicmVzcG9uc2UiLCJMb2dzUm91dGVyIl0sIm1hcHBpbmdzIjoiOzhPQUFBLEdBQUEsQ0FBQSxLQUFBLDBCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxjQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLFVBQUEsMEJBQUEsdUJBQUEsQ0FBQSxPQUFBLENBQUEsZ0JBQUEsQ0FBQSxDQUFBLENBQUEsQyw4MkZBRU8sS0FBQSxDQUFBLFVBQUEsU0FBeUJBLGNBQUFBLENBQXpCLE9BQUEsQ0FBdUMsQ0FDNUNDLFdBQVcsRUFBRyxrREFDWixLQUFBLEtBQUEsQ0FBQSxLQUFBLENBQUEsWUFBQSxDQUdFQyxVQUFVLENBSFosNkJBQUEsQ0FJRSxLQUpGLGVBQUEsQ0FLRUMsR0FBRyxFQUFJLGtEQUNMLE1BQU8sTUFBQSxTQUFBLENBQVAsR0FBTyxDQUFQLENBTkosQ0FBQSxFQVNELENBRURDLGVBQWUsQ0FBQSxHQUFBLENBQU0sa0RBQ25CLEdBQUksOEJBQUNELEdBQUcsQ0FBSixNQUFBLGdDQUFlLENBQUNBLEdBQUcsQ0FBSEEsTUFBQUEsQ0FBcEIsZ0JBQUksQ0FBSixDQUFpRCxzREFDL0MsS0FBTSxJQUFJRSxDQUFBQSxLQUFBQSxDQUFBQSxLQUFBQSxDQUFKLEtBQUEsQ0FBZ0JBLEtBQUFBLENBQUFBLEtBQUFBLENBQUFBLEtBQUFBLENBQWhCLGtCQUFBLENBQU4saUNBQU0sQ0FBTixDQUNELENBRkQsa0NBZDBDLENBbUI1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FDLFNBQVMsQ0FBQSxHQUFBLENBQU0seUJBQ2IsS0FBTUMsQ0FBQUEsSUFBSSwyQkFBR0osR0FBRyxDQUFIQSxLQUFBQSxDQUFiLElBQVUsQ0FBVixDQUNBLEtBQU1LLENBQUFBLEtBQUssMkJBQUdMLEdBQUcsQ0FBSEEsS0FBQUEsQ0FBZCxLQUFXLENBQVgsQ0FDQSxHQUFJTSxDQUFBQSxJQUFJLDJCQUFHTixHQUFHLENBQUhBLEtBQUFBLENBQVgsSUFBUSxDQUFSLENBSGEseUJBSWIsR0FBSUEsR0FBRyxDQUFIQSxLQUFBQSxDQUFKLENBQUEsQ0FBaUIsc0RBQ2ZNLElBQUksQ0FBR04sR0FBRyxDQUFIQSxLQUFBQSxDQUFQTSxDQUFBQSxDQUNELENBRkQsa0NBSUEsS0FBTUMsQ0FBQUEsS0FBSywyQkFBR1AsR0FBRyxDQUFIQSxLQUFBQSxDQUFkLEtBQVcsQ0FBWCxDQUNBLEtBQU1RLENBQUFBLEtBQUssMkJBQUdSLEdBQUcsQ0FBSEEsS0FBQUEsQ0FBZCxLQUFXLENBQVgsQ0FDQSxLQUFNUyxDQUFBQSxPQUFPLDJCQUFHLENBQUEsSUFBQSxDQUFBLEtBQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxDQUtkRCxLQUxjLENBQUgsQ0FBYixDQVZhLHlCQWtCYixNQUFPLENBQUEsR0FBRyxDQUFILE1BQUEsQ0FBQSxnQkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLEVBQUEsSUFBQSxDQUFrREUsTUFBTSxFQUFJLGtEQUNqRSxNQUFPLENBQUEsT0FBTyxDQUFQLE9BQUEsQ0FBZ0IsQ0FDckJDLFFBQVEsQ0FBRUQsTUFEVyxDQUFoQixDQUFQLENBREYsQ0FBTyxDQUFQLENBS0QsQ0FsRDJDLEMsOEZBcUQvQkUsVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnNlIH0gZnJvbSAncGFyc2Uvbm9kZSc7XG5pbXBvcnQgUHJvbWlzZVJvdXRlciBmcm9tICcuLi9Qcm9taXNlUm91dGVyJztcbmltcG9ydCAqIGFzIG1pZGRsZXdhcmUgZnJvbSAnLi4vbWlkZGxld2FyZXMnO1xuXG5leHBvcnQgY2xhc3MgTG9nc1JvdXRlciBleHRlbmRzIFByb21pc2VSb3V0ZXIge1xuICBtb3VudFJvdXRlcygpIHtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ0dFVCcsXG4gICAgICAnL3NjcmlwdGxvZycsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy52YWxpZGF0ZVJlcXVlc3QsXG4gICAgICByZXEgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVHRVQocmVxKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgdmFsaWRhdGVSZXF1ZXN0KHJlcSkge1xuICAgIGlmICghcmVxLmNvbmZpZyB8fCAhcmVxLmNvbmZpZy5sb2dnZXJDb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuUFVTSF9NSVNDT05GSUdVUkVELCAnTG9nZ2VyIGFkYXB0ZXIgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgYSBwcm9taXNlIGZvciBhIHtyZXNwb25zZX0gb2JqZWN0LlxuICAvLyBxdWVyeSBwYXJhbXM6XG4gIC8vIGxldmVsIChvcHRpb25hbCkgTGV2ZWwgb2YgbG9nZ2luZyB5b3Ugd2FudCB0byBxdWVyeSBmb3IgKGluZm8gfHwgZXJyb3IpXG4gIC8vIGZyb20gKG9wdGlvbmFsKSBTdGFydCB0aW1lIGZvciB0aGUgc2VhcmNoLiBEZWZhdWx0cyB0byAxIHdlZWsgYWdvLlxuICAvLyB1bnRpbCAob3B0aW9uYWwpIEVuZCB0aW1lIGZvciB0aGUgc2VhcmNoLiBEZWZhdWx0cyB0byBjdXJyZW50IHRpbWUuXG4gIC8vIG9yZGVyIChvcHRpb25hbCkgRGlyZWN0aW9uIG9mIHJlc3VsdHMgcmV0dXJuZWQsIGVpdGhlciDigJxhc2PigJ0gb3Ig4oCcZGVzY+KAnS4gRGVmYXVsdHMgdG8g4oCcZGVzY+KAnS5cbiAgLy8gc2l6ZSAob3B0aW9uYWwpIE51bWJlciBvZiByb3dzIHJldHVybmVkIGJ5IHNlYXJjaC4gRGVmYXVsdHMgdG8gMTBcbiAgLy8gbiBzYW1lIGFzIHNpemUsIG92ZXJyaWRlcyBzaXplIGlmIHNldFxuICBoYW5kbGVHRVQocmVxKSB7XG4gICAgY29uc3QgZnJvbSA9IHJlcS5xdWVyeS5mcm9tO1xuICAgIGNvbnN0IHVudGlsID0gcmVxLnF1ZXJ5LnVudGlsO1xuICAgIGxldCBzaXplID0gcmVxLnF1ZXJ5LnNpemU7XG4gICAgaWYgKHJlcS5xdWVyeS5uKSB7XG4gICAgICBzaXplID0gcmVxLnF1ZXJ5Lm47XG4gICAgfVxuXG4gICAgY29uc3Qgb3JkZXIgPSByZXEucXVlcnkub3JkZXI7XG4gICAgY29uc3QgbGV2ZWwgPSByZXEucXVlcnkubGV2ZWw7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGZyb20sXG4gICAgICB1bnRpbCxcbiAgICAgIHNpemUsXG4gICAgICBvcmRlcixcbiAgICAgIGxldmVsLFxuICAgIH07XG5cbiAgICByZXR1cm4gcmVxLmNvbmZpZy5sb2dnZXJDb250cm9sbGVyLmdldExvZ3Mob3B0aW9ucykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHJlc3BvbnNlOiByZXN1bHQsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dzUm91dGVyO1xuIl19