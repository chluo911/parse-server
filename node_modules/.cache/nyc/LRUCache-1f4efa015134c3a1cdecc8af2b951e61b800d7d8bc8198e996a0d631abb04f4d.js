"use strict";function cov_2ownor6405(){var path="/parse-server/lib/Adapters/Cache/LRUCache.js";var hash="4dfc826c54269e306032fbfcf676a8e288efe4ad";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Adapters/Cache/LRUCache.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:44}},"2":{start:{line:8,column:16},end:{line:8,column:60}},"3":{start:{line:10,column:16},end:{line:10,column:65}},"4":{start:{line:12,column:39},end:{line:12,column:93}},"5":{start:{line:19,column:4},end:{line:22,column:7}},"6":{start:{line:26,column:4},end:{line:26,column:39}},"7":{start:{line:30,column:4},end:{line:30,column:36}},"8":{start:{line:34,column:4},end:{line:34,column:24}},"9":{start:{line:38,column:4},end:{line:38,column:23}},"10":{start:{line:43,column:0},end:{line:43,column:28}},"11":{start:{line:44,column:15},end:{line:44,column:23}},"12":{start:{line:45,column:0},end:{line:45,column:27}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:37},end:{line:12,column:95}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:18,column:5},end:{line:23,column:3}},line:18},"2":{name:"(anonymous_2)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:11},end:{line:27,column:3}},line:25},"3":{name:"(anonymous_3)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:34},end:{line:31,column:3}},line:29},"4":{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:35,column:3}},line:33},"5":{name:"(anonymous_5)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:10},end:{line:39,column:3}},line:37}},branchMap:{"0":{loc:{start:{line:12,column:46},end:{line:12,column:92}},type:"cond-expr",locations:[{start:{line:12,column:70},end:{line:12,column:73}},{start:{line:12,column:76},end:{line:12,column:92}}],line:12},"1":{loc:{start:{line:12,column:46},end:{line:12,column:67}},type:"binary-expr",locations:[{start:{line:12,column:46},end:{line:12,column:49}},{start:{line:12,column:53},end:{line:12,column:67}}],line:12},"2":{loc:{start:{line:16,column:4},end:{line:16,column:36}},type:"default-arg",locations:[{start:{line:16,column:10},end:{line:16,column:36}}],line:16},"3":{loc:{start:{line:17,column:4},end:{line:17,column:44}},type:"default-arg",locations:[{start:{line:17,column:14},end:{line:17,column:44}}],line:17},"4":{loc:{start:{line:26,column:11},end:{line:26,column:38}},type:"binary-expr",locations:[{start:{line:26,column:11},end:{line:26,column:30}},{start:{line:26,column:34},end:{line:26,column:38}}],line:26},"5":{loc:{start:{line:29,column:18},end:{line:29,column:32}},type:"default-arg",locations:[{start:{line:29,column:24},end:{line:29,column:32}}],line:29}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0],"3":[0],"4":[0,0],"5":[0]},inputSourceMap:{version:3,sources:["../../../src/Adapters/Cache/LRUCache.js"],names:["LRUCache","constructor","ttl","defaults","cacheTTL","maxSize","cacheMaxSize","cache","LRU","max","maxAge","get","key","put","value","set","del","clear","reset"],mappings:";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,QAAN,CAAe;AACpBC,EAAAA,WAAW,CAAC;AAAEC,IAAAA,GAAG,GAAGC,kBAASC,QAAjB;AAA2BC,IAAAA,OAAO,GAAGF,kBAASG;AAA9C,GAAD,EAA+D;AACxE,SAAKC,KAAL,GAAa,IAAIC,iBAAJ,CAAQ;AACnBC,MAAAA,GAAG,EAAEJ,OADc;AAEnBK,MAAAA,MAAM,EAAER;AAFW,KAAR,CAAb;AAID;;AAEDS,EAAAA,GAAG,CAACC,GAAD,EAAM;AACP,WAAO,KAAKL,KAAL,CAAWI,GAAX,CAAeC,GAAf,KAAuB,IAA9B;AACD;;AAEDC,EAAAA,GAAG,CAACD,GAAD,EAAME,KAAN,EAAaZ,GAAG,GAAG,KAAKA,GAAxB,EAA6B;AAC9B,SAAKK,KAAL,CAAWQ,GAAX,CAAeH,GAAf,EAAoBE,KAApB,EAA2BZ,GAA3B;AACD;;AAEDc,EAAAA,GAAG,CAACJ,GAAD,EAAM;AACP,SAAKL,KAAL,CAAWS,GAAX,CAAeJ,GAAf;AACD;;AAEDK,EAAAA,KAAK,GAAG;AACN,SAAKV,KAAL,CAAWW,KAAX;AACD;;AAtBmB;;;eAyBPlB,Q",sourcesContent:["import LRU from 'lru-cache';\nimport defaults from '../../defaults';\n\nexport class LRUCache {\n  constructor({ ttl = defaults.cacheTTL, maxSize = defaults.cacheMaxSize }) {\n    this.cache = new LRU({\n      max: maxSize,\n      maxAge: ttl,\n    });\n  }\n\n  get(key) {\n    return this.cache.get(key) || null;\n  }\n\n  put(key, value, ttl = this.ttl) {\n    this.cache.set(key, value, ttl);\n  }\n\n  del(key) {\n    this.cache.del(key);\n  }\n\n  clear() {\n    this.cache.reset();\n  }\n}\n\nexport default LRUCache;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4dfc826c54269e306032fbfcf676a8e288efe4ad"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ownor6405=function(){return actualCoverage;};}return actualCoverage;}cov_2ownor6405();cov_2ownor6405().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2ownor6405().s[1]++;exports.default=exports.LRUCache=void 0;var _lruCache=(cov_2ownor6405().s[2]++,_interopRequireDefault(require("lru-cache")));var _defaults=(cov_2ownor6405().s[3]++,_interopRequireDefault(require("../../defaults")));function _interopRequireDefault(obj){cov_2ownor6405().f[0]++;cov_2ownor6405().s[4]++;return(cov_2ownor6405().b[1][0]++,obj)&&(cov_2ownor6405().b[1][1]++,obj.__esModule)?(cov_2ownor6405().b[0][0]++,obj):(cov_2ownor6405().b[0][1]++,{default:obj});}class LRUCache{constructor({ttl=(cov_2ownor6405().b[2][0]++,_defaults.default.cacheTTL),maxSize=(cov_2ownor6405().b[3][0]++,_defaults.default.cacheMaxSize)}){cov_2ownor6405().f[1]++;cov_2ownor6405().s[5]++;this.cache=new _lruCache.default({max:maxSize,maxAge:ttl});}get(key){cov_2ownor6405().f[2]++;cov_2ownor6405().s[6]++;return(cov_2ownor6405().b[4][0]++,this.cache.get(key))||(cov_2ownor6405().b[4][1]++,null);}put(key,value,ttl=(cov_2ownor6405().b[5][0]++,this.ttl)){cov_2ownor6405().f[3]++;cov_2ownor6405().s[7]++;this.cache.set(key,value,ttl);}del(key){cov_2ownor6405().f[4]++;cov_2ownor6405().s[8]++;this.cache.del(key);}clear(){cov_2ownor6405().f[5]++;cov_2ownor6405().s[9]++;this.cache.reset();}}cov_2ownor6405().s[10]++;exports.LRUCache=LRUCache;var _default=(cov_2ownor6405().s[11]++,LRUCache);cov_2ownor6405().s[12]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9DYWNoZS9MUlVDYWNoZS5qcyJdLCJuYW1lcyI6WyJMUlVDYWNoZSIsImNvbnN0cnVjdG9yIiwidHRsIiwiZGVmYXVsdHMiLCJjYWNoZVRUTCIsIm1heFNpemUiLCJjYWNoZU1heFNpemUiLCJjYWNoZSIsIkxSVSIsIm1heCIsIm1heEFnZSIsImdldCIsImtleSIsInB1dCIsInZhbHVlIiwic2V0IiwiZGVsIiwiY2xlYXIiLCJyZXNldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRU8sTUFBTUEsUUFBTixDQUFlO0FBQ3BCQyxFQUFBQSxXQUFXLENBQUM7QUFBRUMsSUFBQUEsR0FBRyxHQUFHQyxrQkFBU0MsUUFBakI7QUFBMkJDLElBQUFBLE9BQU8sR0FBR0Ysa0JBQVNHO0FBQTlDLEdBQUQsRUFBK0Q7QUFDeEUsU0FBS0MsS0FBTCxHQUFhLElBQUlDLGlCQUFKLENBQVE7QUFDbkJDLE1BQUFBLEdBQUcsRUFBRUosT0FEYztBQUVuQkssTUFBQUEsTUFBTSxFQUFFUjtBQUZXLEtBQVIsQ0FBYjtBQUlEOztBQUVEUyxFQUFBQSxHQUFHLENBQUNDLEdBQUQsRUFBTTtBQUNQLFdBQU8sS0FBS0wsS0FBTCxDQUFXSSxHQUFYLENBQWVDLEdBQWYsS0FBdUIsSUFBOUI7QUFDRDs7QUFFREMsRUFBQUEsR0FBRyxDQUFDRCxHQUFELEVBQU1FLEtBQU4sRUFBYVosR0FBRyxHQUFHLEtBQUtBLEdBQXhCLEVBQTZCO0FBQzlCLFNBQUtLLEtBQUwsQ0FBV1EsR0FBWCxDQUFlSCxHQUFmLEVBQW9CRSxLQUFwQixFQUEyQlosR0FBM0I7QUFDRDs7QUFFRGMsRUFBQUEsR0FBRyxDQUFDSixHQUFELEVBQU07QUFDUCxTQUFLTCxLQUFMLENBQVdTLEdBQVgsQ0FBZUosR0FBZjtBQUNEOztBQUVESyxFQUFBQSxLQUFLLEdBQUc7QUFDTixTQUFLVixLQUFMLENBQVdXLEtBQVg7QUFDRDs7QUF0Qm1COzs7ZUF5QlBsQixRIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExSVSBmcm9tICdscnUtY2FjaGUnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uLy4uL2RlZmF1bHRzJztcblxuZXhwb3J0IGNsYXNzIExSVUNhY2hlIHtcbiAgY29uc3RydWN0b3IoeyB0dGwgPSBkZWZhdWx0cy5jYWNoZVRUTCwgbWF4U2l6ZSA9IGRlZmF1bHRzLmNhY2hlTWF4U2l6ZSB9KSB7XG4gICAgdGhpcy5jYWNoZSA9IG5ldyBMUlUoe1xuICAgICAgbWF4OiBtYXhTaXplLFxuICAgICAgbWF4QWdlOiB0dGwsXG4gICAgfSk7XG4gIH1cblxuICBnZXQoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGtleSkgfHwgbnVsbDtcbiAgfVxuXG4gIHB1dChrZXksIHZhbHVlLCB0dGwgPSB0aGlzLnR0bCkge1xuICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUsIHR0bCk7XG4gIH1cblxuICBkZWwoa2V5KSB7XG4gICAgdGhpcy5jYWNoZS5kZWwoa2V5KTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2FjaGUucmVzZXQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMUlVDYWNoZTtcbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9BZGFwdGVycy9DYWNoZS9MUlVDYWNoZS5qcyJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInR0bCIsImRlZmF1bHRzIiwibWF4U2l6ZSIsImNhY2hlTWF4U2l6ZSIsIkxSVSIsIm1heCIsIm1heEFnZSIsImdldCIsInB1dCIsImRlbCIsImNsZWFyIiwiTFJVQ2FjaGUiXSwibWFwcGluZ3MiOiJreEpBSXNCRTs0T0FKdEIsR0FBQSxDQUFBLFNBQUEsMEJBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsV0FBQSxDQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxTQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FBQSxDQUFBLEMsc1BBRU8sS0FBQSxDQUFBLFFBQWUsQ0FDcEJGLFdBQVcsQ0FBQyxDQUFFQyxHQUFHLDZCQUFHQyxTQUFBQSxDQUFBQSxPQUFBQSxDQUFSLFFBQUssQ0FBTCxDQUEyQkMsT0FBTyw2QkFBR0QsU0FBQUEsQ0FBQUEsT0FBQUEsQ0FBU0UsWUFBWixDQUFsQyxDQUFELENBQStELGlEQUN4RSxLQUFBLEtBQUEsQ0FBYSxHQUFJQyxDQUFBQSxTQUFBQSxDQUFKLE9BQUEsQ0FBUSxDQUNuQkMsR0FBRyxDQURnQixPQUFBLENBRW5CQyxNQUFNLENBQUVOLEdBRlcsQ0FBUixDQUFiLENBSUQsQ0FFRE8sR0FBRyxDQUFBLEdBQUEsQ0FBTSxpREFDUCxNQUFPLGlDQUFBLEtBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxnQ0FBUCxJQUFPLENBQVAsQ0FDRCxDQUVEQyxHQUFHLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBYVIsR0FBRyw2QkFBRyxLQUFuQixHQUFnQixDQUFoQixDQUE2QixpREFDOUIsS0FBQSxLQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxLQUFBLENBQUEsR0FBQSxFQUNELENBRURTLEdBQUcsQ0FBQSxHQUFBLENBQU0saURBQ1AsS0FBQSxLQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsRUFDRCxDQUVEQyxLQUFLLEVBQUcsaURBQ04sS0FBQSxLQUFBLENBQUEsS0FBQSxHQUNELENBdEJtQixDLDBGQXlCUEMsUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMUlUgZnJvbSAnbHJ1LWNhY2hlJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuLi8uLi9kZWZhdWx0cyc7XG5cbmV4cG9ydCBjbGFzcyBMUlVDYWNoZSB7XG4gIGNvbnN0cnVjdG9yKHsgdHRsID0gZGVmYXVsdHMuY2FjaGVUVEwsIG1heFNpemUgPSBkZWZhdWx0cy5jYWNoZU1heFNpemUgfSkge1xuICAgIHRoaXMuY2FjaGUgPSBuZXcgTFJVKHtcbiAgICAgIG1heDogbWF4U2l6ZSxcbiAgICAgIG1heEFnZTogdHRsLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChrZXkpIHx8IG51bGw7XG4gIH1cblxuICBwdXQoa2V5LCB2YWx1ZSwgdHRsID0gdGhpcy50dGwpIHtcbiAgICB0aGlzLmNhY2hlLnNldChrZXksIHZhbHVlLCB0dGwpO1xuICB9XG5cbiAgZGVsKGtleSkge1xuICAgIHRoaXMuY2FjaGUuZGVsKGtleSk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLmNhY2hlLnJlc2V0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGU7XG4iXX0=