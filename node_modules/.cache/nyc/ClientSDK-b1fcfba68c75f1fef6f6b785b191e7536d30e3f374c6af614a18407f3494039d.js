"use strict";function cov_1dnqg1zalm(){var path="/parse-server/lib/ClientSDK.js";var hash="7f8580e6f0e3ecb8a47142b4734e7169788da596";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/ClientSDK.js",statementMap:{"0":{start:{line:3,column:13},end:{line:3,column:30}},"1":{start:{line:6,column:2},end:{line:19,column:4}},"2":{start:{line:7,column:4},end:{line:9,column:5}},"3":{start:{line:8,column:6},end:{line:8,column:40}},"4":{start:{line:12,column:4},end:{line:14,column:5}},"5":{start:{line:13,column:6},end:{line:13,column:18}},"6":{start:{line:16,column:26},end:{line:16,column:43}},"7":{start:{line:17,column:32},end:{line:17,column:60}},"8":{start:{line:18,column:4},end:{line:18,column:64}},"9":{start:{line:23,column:2},end:{line:25,column:16}},"10":{start:{line:29,column:20},end:{line:29,column:44}},"11":{start:{line:30,column:16},end:{line:30,column:54}},"12":{start:{line:32,column:2},end:{line:37,column:3}},"13":{start:{line:33,column:4},end:{line:36,column:6}},"14":{start:{line:39,column:2},end:{line:39,column:19}},"15":{start:{line:42,column:0},end:{line:46,column:2}}},fnMap:{"0":{name:"compatible",decl:{start:{line:5,column:9},end:{line:5,column:19}},loc:{start:{line:5,column:35},end:{line:20,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:9},end:{line:6,column:10}},loc:{start:{line:6,column:30},end:{line:19,column:3}},line:6},"2":{name:"supportsForwardDelete",decl:{start:{line:22,column:9},end:{line:22,column:30}},loc:{start:{line:22,column:42},end:{line:26,column:1}},line:22},"3":{name:"fromString",decl:{start:{line:28,column:9},end:{line:28,column:19}},loc:{start:{line:28,column:29},end:{line:40,column:1}},line:28}},branchMap:{"0":{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:7,column:4},end:{line:9,column:5}}],line:7},"1":{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:12,column:4},end:{line:14,column:5}}],line:12},"2":{loc:{start:{line:32,column:2},end:{line:37,column:3}},type:"if",locations:[{start:{line:32,column:2},end:{line:37,column:3}},{start:{line:32,column:2},end:{line:37,column:3}}],line:32},"3":{loc:{start:{line:32,column:6},end:{line:32,column:33}},type:"binary-expr",locations:[{start:{line:32,column:6},end:{line:32,column:11}},{start:{line:32,column:15},end:{line:32,column:33}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,sources:["../src/ClientSDK.js"],names:["semver","require","compatible","compatibleSDK","clientSDK","fromString","clientVersion","version","compatiblityVersion","sdk","satisfies","supportsForwardDelete","js","versionRE","match","toLowerCase","length","undefined","module","exports"],mappings:";;AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,aAApB,EAAmC;AACjC,SAAO,UAAUC,SAAV,EAAqB;AAC1B,QAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC;AACjCA,MAAAA,SAAS,GAAGC,UAAU,CAACD,SAAD,CAAtB;AACD,KAHyB,CAI1B;;;AACA,QAAI,CAACA,SAAL,EAAgB;AACd,aAAO,IAAP;AACD;;AACD,UAAME,aAAa,GAAGF,SAAS,CAACG,OAAhC;AACA,UAAMC,mBAAmB,GAAGL,aAAa,CAACC,SAAS,CAACK,GAAX,CAAzC;AACA,WAAOT,MAAM,CAACU,SAAP,CAAiBJ,aAAjB,EAAgCE,mBAAhC,CAAP;AACD,GAXD;AAYD;;AAED,SAASG,qBAAT,CAA+BP,SAA/B,EAA0C;AACxC,SAAOF,UAAU,CAAC;AAChBU,IAAAA,EAAE,EAAE;AADY,GAAD,CAAV,CAEJR,SAFI,CAAP;AAGD;;AAED,SAASC,UAAT,CAAoBE,OAApB,EAA6B;AAC3B,QAAMM,SAAS,GAAG,wBAAlB;AACA,QAAMC,KAAK,GAAGP,OAAO,CAACQ,WAAR,GAAsBD,KAAtB,CAA4BD,SAA5B,CAAd;;AACA,MAAIC,KAAK,IAAIA,KAAK,CAACE,MAAN,KAAiB,CAA9B,EAAiC;AAC/B,WAAO;AACLP,MAAAA,GAAG,EAAEK,KAAK,CAAC,CAAD,CADL;AAELP,MAAAA,OAAO,EAAEO,KAAK,CAAC,CAAD;AAFT,KAAP;AAID;;AACD,SAAOG,SAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiB;AACfjB,EAAAA,UADe;AAEfS,EAAAA,qBAFe;AAGfN,EAAAA;AAHe,CAAjB",sourcesContent:["var semver = require('semver');\n\nfunction compatible(compatibleSDK) {\n  return function (clientSDK) {\n    if (typeof clientSDK === 'string') {\n      clientSDK = fromString(clientSDK);\n    }\n    // REST API, or custom SDK\n    if (!clientSDK) {\n      return true;\n    }\n    const clientVersion = clientSDK.version;\n    const compatiblityVersion = compatibleSDK[clientSDK.sdk];\n    return semver.satisfies(clientVersion, compatiblityVersion);\n  };\n}\n\nfunction supportsForwardDelete(clientSDK) {\n  return compatible({\n    js: '>=1.9.0',\n  })(clientSDK);\n}\n\nfunction fromString(version) {\n  const versionRE = /([-a-zA-Z]+)([0-9\\.]+)/;\n  const match = version.toLowerCase().match(versionRE);\n  if (match && match.length === 3) {\n    return {\n      sdk: match[1],\n      version: match[2],\n    };\n  }\n  return undefined;\n}\n\nmodule.exports = {\n  compatible,\n  supportsForwardDelete,\n  fromString,\n};\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7f8580e6f0e3ecb8a47142b4734e7169788da596"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1dnqg1zalm=function(){return actualCoverage;};}return actualCoverage;}cov_1dnqg1zalm();var semver=(cov_1dnqg1zalm().s[0]++,require('semver'));function compatible(compatibleSDK){cov_1dnqg1zalm().f[0]++;cov_1dnqg1zalm().s[1]++;return function(clientSDK){cov_1dnqg1zalm().f[1]++;cov_1dnqg1zalm().s[2]++;if(typeof clientSDK==='string'){cov_1dnqg1zalm().b[0][0]++;cov_1dnqg1zalm().s[3]++;clientSDK=fromString(clientSDK);}else{cov_1dnqg1zalm().b[0][1]++;}// REST API, or custom SDK
cov_1dnqg1zalm().s[4]++;if(!clientSDK){cov_1dnqg1zalm().b[1][0]++;cov_1dnqg1zalm().s[5]++;return true;}else{cov_1dnqg1zalm().b[1][1]++;}const clientVersion=(cov_1dnqg1zalm().s[6]++,clientSDK.version);const compatiblityVersion=(cov_1dnqg1zalm().s[7]++,compatibleSDK[clientSDK.sdk]);cov_1dnqg1zalm().s[8]++;return semver.satisfies(clientVersion,compatiblityVersion);};}function supportsForwardDelete(clientSDK){cov_1dnqg1zalm().f[2]++;cov_1dnqg1zalm().s[9]++;return compatible({js:'>=1.9.0'})(clientSDK);}function fromString(version){cov_1dnqg1zalm().f[3]++;const versionRE=(cov_1dnqg1zalm().s[10]++,/([-a-zA-Z]+)([0-9\.]+)/);const match=(cov_1dnqg1zalm().s[11]++,version.toLowerCase().match(versionRE));cov_1dnqg1zalm().s[12]++;if((cov_1dnqg1zalm().b[3][0]++,match)&&(cov_1dnqg1zalm().b[3][1]++,match.length===3)){cov_1dnqg1zalm().b[2][0]++;cov_1dnqg1zalm().s[13]++;return{sdk:match[1],version:match[2]};}else{cov_1dnqg1zalm().b[2][1]++;}cov_1dnqg1zalm().s[14]++;return undefined;}cov_1dnqg1zalm().s[15]++;module.exports={compatible,supportsForwardDelete,fromString};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9DbGllbnRTREsuanMiXSwibmFtZXMiOlsic2VtdmVyIiwicmVxdWlyZSIsImNvbXBhdGlibGUiLCJjb21wYXRpYmxlU0RLIiwiY2xpZW50U0RLIiwiZnJvbVN0cmluZyIsImNsaWVudFZlcnNpb24iLCJ2ZXJzaW9uIiwiY29tcGF0aWJsaXR5VmVyc2lvbiIsInNkayIsInNhdGlzZmllcyIsInN1cHBvcnRzRm9yd2FyZERlbGV0ZSIsImpzIiwidmVyc2lvblJFIiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFFQSxTQUFTQyxVQUFULENBQW9CQyxhQUFwQixFQUFtQztBQUNqQyxTQUFPLFVBQVVDLFNBQVYsRUFBcUI7QUFDMUIsUUFBSSxPQUFPQSxTQUFQLEtBQXFCLFFBQXpCLEVBQW1DO0FBQ2pDQSxNQUFBQSxTQUFTLEdBQUdDLFVBQVUsQ0FBQ0QsU0FBRCxDQUF0QjtBQUNELEtBSHlCLENBSTFCOzs7QUFDQSxRQUFJLENBQUNBLFNBQUwsRUFBZ0I7QUFDZCxhQUFPLElBQVA7QUFDRDs7QUFDRCxVQUFNRSxhQUFhLEdBQUdGLFNBQVMsQ0FBQ0csT0FBaEM7QUFDQSxVQUFNQyxtQkFBbUIsR0FBR0wsYUFBYSxDQUFDQyxTQUFTLENBQUNLLEdBQVgsQ0FBekM7QUFDQSxXQUFPVCxNQUFNLENBQUNVLFNBQVAsQ0FBaUJKLGFBQWpCLEVBQWdDRSxtQkFBaEMsQ0FBUDtBQUNELEdBWEQ7QUFZRDs7QUFFRCxTQUFTRyxxQkFBVCxDQUErQlAsU0FBL0IsRUFBMEM7QUFDeEMsU0FBT0YsVUFBVSxDQUFDO0FBQ2hCVSxJQUFBQSxFQUFFLEVBQUU7QUFEWSxHQUFELENBQVYsQ0FFSlIsU0FGSSxDQUFQO0FBR0Q7O0FBRUQsU0FBU0MsVUFBVCxDQUFvQkUsT0FBcEIsRUFBNkI7QUFDM0IsUUFBTU0sU0FBUyxHQUFHLHdCQUFsQjtBQUNBLFFBQU1DLEtBQUssR0FBR1AsT0FBTyxDQUFDUSxXQUFSLEdBQXNCRCxLQUF0QixDQUE0QkQsU0FBNUIsQ0FBZDs7QUFDQSxNQUFJQyxLQUFLLElBQUlBLEtBQUssQ0FBQ0UsTUFBTixLQUFpQixDQUE5QixFQUFpQztBQUMvQixXQUFPO0FBQ0xQLE1BQUFBLEdBQUcsRUFBRUssS0FBSyxDQUFDLENBQUQsQ0FETDtBQUVMUCxNQUFBQSxPQUFPLEVBQUVPLEtBQUssQ0FBQyxDQUFEO0FBRlQsS0FBUDtBQUlEOztBQUNELFNBQU9HLFNBQVA7QUFDRDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZqQixFQUFBQSxVQURlO0FBRWZTLEVBQUFBLHFCQUZlO0FBR2ZOLEVBQUFBO0FBSGUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2VtdmVyID0gcmVxdWlyZSgnc2VtdmVyJyk7XG5cbmZ1bmN0aW9uIGNvbXBhdGlibGUoY29tcGF0aWJsZVNESykge1xuICByZXR1cm4gZnVuY3Rpb24gKGNsaWVudFNESykge1xuICAgIGlmICh0eXBlb2YgY2xpZW50U0RLID09PSAnc3RyaW5nJykge1xuICAgICAgY2xpZW50U0RLID0gZnJvbVN0cmluZyhjbGllbnRTREspO1xuICAgIH1cbiAgICAvLyBSRVNUIEFQSSwgb3IgY3VzdG9tIFNES1xuICAgIGlmICghY2xpZW50U0RLKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50VmVyc2lvbiA9IGNsaWVudFNESy52ZXJzaW9uO1xuICAgIGNvbnN0IGNvbXBhdGlibGl0eVZlcnNpb24gPSBjb21wYXRpYmxlU0RLW2NsaWVudFNESy5zZGtdO1xuICAgIHJldHVybiBzZW12ZXIuc2F0aXNmaWVzKGNsaWVudFZlcnNpb24sIGNvbXBhdGlibGl0eVZlcnNpb24pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdXBwb3J0c0ZvcndhcmREZWxldGUoY2xpZW50U0RLKSB7XG4gIHJldHVybiBjb21wYXRpYmxlKHtcbiAgICBqczogJz49MS45LjAnLFxuICB9KShjbGllbnRTREspO1xufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nKHZlcnNpb24pIHtcbiAgY29uc3QgdmVyc2lvblJFID0gLyhbLWEtekEtWl0rKShbMC05XFwuXSspLztcbiAgY29uc3QgbWF0Y2ggPSB2ZXJzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2godmVyc2lvblJFKTtcbiAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCA9PT0gMykge1xuICAgIHJldHVybiB7XG4gICAgICBzZGs6IG1hdGNoWzFdLFxuICAgICAgdmVyc2lvbjogbWF0Y2hbMl0sXG4gICAgfTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29tcGF0aWJsZSxcbiAgc3VwcG9ydHNGb3J3YXJkRGVsZXRlLFxuICBmcm9tU3RyaW5nLFxufTtcbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9DbGllbnRTREsuanMiXSwibmFtZXMiOlsic2VtdmVyIiwicmVxdWlyZSIsImNsaWVudFNESyIsImZyb21TdHJpbmciLCJjbGllbnRWZXJzaW9uIiwiY29tcGF0aWJsaXR5VmVyc2lvbiIsImNvbXBhdGlibGVTREsiLCJqcyIsInZlcnNpb25SRSIsIm1hdGNoIiwidmVyc2lvbiIsInNkayIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IjZqS0FXVUk7MkZBWFYsR0FBSUosQ0FBQUEsTUFBTSwwQkFBR0MsT0FBTyxDQUFwQixRQUFvQixDQUFWLENBQVYsQ0FFQSxRQUFBLENBQUEsVUFBQSxDQUFBLGFBQUEsQ0FBbUMsaURBQ2pDLE1BQU8sVUFBQSxTQUFBLENBQXFCLGlEQUMxQixHQUFJLE1BQUEsQ0FBQSxTQUFBLEdBQUosUUFBQSxDQUFtQyxvREFDakNDLFNBQVMsQ0FBR0MsVUFBVSxDQUF0QkQsU0FBc0IsQ0FBdEJBLENBRndCLENBQzFCLGlDQUdBO0FBSjBCLHdCQUsxQixHQUFJLENBQUosU0FBQSxDQUFnQixvREFDZCxNQUFBLEtBQUEsQ0FDRCxDQUZELGlDQUdBLEtBQU1FLENBQUFBLGFBQWEsMEJBQUdGLFNBQVMsQ0FBL0IsT0FBbUIsQ0FBbkIsQ0FDQSxLQUFNRyxDQUFBQSxtQkFBbUIsMEJBQUdDLGFBQWEsQ0FBQ0osU0FBUyxDQUFuRCxHQUF5QyxDQUFoQixDQUF6QixDQVQwQix3QkFVMUIsTUFBT0YsQ0FBQUEsTUFBTSxDQUFOQSxTQUFBQSxDQUFBQSxhQUFBQSxDQUFQLG1CQUFPQSxDQUFQLENBVkYsQ0FBQSxDQVlELENBRUQsUUFBQSxDQUFBLHFCQUFBLENBQUEsU0FBQSxDQUEwQyxpREFDeEMsTUFBTyxDQUFBLFVBQVUsQ0FBQyxDQUNoQk8sRUFBRSxDQUFFLFNBRFksQ0FBRCxDQUFWLENBQVAsU0FBTyxDQUFQLENBR0QsQ0FFRCxRQUFBLENBQUEsVUFBQSxDQUFBLE9BQUEsQ0FBNkIseUJBQzNCLEtBQU1DLENBQUFBLFNBQVMsMkJBQWYsd0JBQWUsQ0FBZixDQUNBLEtBQU1DLENBQUFBLEtBQUssMkJBQUdDLE9BQU8sQ0FBUEEsV0FBQUEsR0FBQUEsS0FBQUEsQ0FBZCxTQUFjQSxDQUFILENBQVgsQ0FGMkIseUJBRzNCLEdBQUlELDRCQUFBQSxLQUFLLCtCQUFJQSxLQUFLLENBQUxBLE1BQUFBLEdBQWIsQ0FBUyxDQUFULENBQWlDLHFEQUMvQixNQUFPLENBQ0xFLEdBQUcsQ0FBRUYsS0FBSyxDQURMLENBQ0ssQ0FETCxDQUVMQyxPQUFPLENBQUVELEtBQUssQ0FBQSxDQUFBLENBRlQsQ0FBUCxDQUlELENBTEQsaUNBSDJCLHlCQVMzQixNQUFBLENBQUEsU0FBQSxDQUNELEMseUJBRURHLE1BQU0sQ0FBTkEsT0FBQUEsQ0FBaUIsQ0FBQSxVQUFBLENBQUEscUJBQUEsQ0FHZlQsVUFIZSxDQUFqQlMsQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzZW12ZXIgPSByZXF1aXJlKCdzZW12ZXInKTtcblxuZnVuY3Rpb24gY29tcGF0aWJsZShjb21wYXRpYmxlU0RLKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY2xpZW50U0RLKSB7XG4gICAgaWYgKHR5cGVvZiBjbGllbnRTREsgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjbGllbnRTREsgPSBmcm9tU3RyaW5nKGNsaWVudFNESyk7XG4gICAgfVxuICAgIC8vIFJFU1QgQVBJLCBvciBjdXN0b20gU0RLXG4gICAgaWYgKCFjbGllbnRTREspIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBjbGllbnRWZXJzaW9uID0gY2xpZW50U0RLLnZlcnNpb247XG4gICAgY29uc3QgY29tcGF0aWJsaXR5VmVyc2lvbiA9IGNvbXBhdGlibGVTREtbY2xpZW50U0RLLnNka107XG4gICAgcmV0dXJuIHNlbXZlci5zYXRpc2ZpZXMoY2xpZW50VmVyc2lvbiwgY29tcGF0aWJsaXR5VmVyc2lvbik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN1cHBvcnRzRm9yd2FyZERlbGV0ZShjbGllbnRTREspIHtcbiAgcmV0dXJuIGNvbXBhdGlibGUoe1xuICAgIGpzOiAnPj0xLjkuMCcsXG4gIH0pKGNsaWVudFNESyk7XG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcodmVyc2lvbikge1xuICBjb25zdCB2ZXJzaW9uUkUgPSAvKFstYS16QS1aXSspKFswLTlcXC5dKykvO1xuICBjb25zdCBtYXRjaCA9IHZlcnNpb24udG9Mb3dlckNhc2UoKS5tYXRjaCh2ZXJzaW9uUkUpO1xuICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID09PSAzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNkazogbWF0Y2hbMV0sXG4gICAgICB2ZXJzaW9uOiBtYXRjaFsyXSxcbiAgICB9O1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb21wYXRpYmxlLFxuICBzdXBwb3J0c0ZvcndhcmREZWxldGUsXG4gIGZyb21TdHJpbmcsXG59O1xuIl19