"use strict";function cov_2dp9rvnwbz(){var path="/parse-server/lib/RestWrite.js";var hash="dc9129a2dbec1e928120a0b1846dda91b647e381";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/RestWrite.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:25}},"2":{start:{line:8,column:17},end:{line:8,column:63}},"3":{start:{line:10,column:14},end:{line:10,column:55}},"4":{start:{line:12,column:14},end:{line:12,column:57}},"5":{start:{line:14,column:39},end:{line:14,column:93}},"6":{start:{line:19,column:23},end:{line:19,column:64}},"7":{start:{line:21,column:15},end:{line:21,column:34}},"8":{start:{line:23,column:13},end:{line:23,column:30}},"9":{start:{line:25,column:18},end:{line:25,column:42}},"10":{start:{line:27,column:21},end:{line:27,column:42}},"11":{start:{line:29,column:12},end:{line:29,column:33}},"12":{start:{line:31,column:15},end:{line:31,column:36}},"13":{start:{line:33,column:16},end:{line:33,column:38}},"14":{start:{line:45,column:2},end:{line:47,column:3}},"15":{start:{line:46,column:4},end:{line:46,column:124}},"16":{start:{line:49,column:2},end:{line:49,column:23}},"17":{start:{line:50,column:2},end:{line:50,column:19}},"18":{start:{line:51,column:2},end:{line:51,column:29}},"19":{start:{line:52,column:2},end:{line:52,column:29}},"20":{start:{line:53,column:2},end:{line:53,column:20}},"21":{start:{line:54,column:2},end:{line:54,column:23}},"22":{start:{line:55,column:2},end:{line:55,column:31}},"23":{start:{line:57,column:2},end:{line:59,column:3}},"24":{start:{line:58,column:4},end:{line:58,column:36}},"25":{start:{line:61,column:2},end:{line:75,column:3}},"26":{start:{line:62,column:4},end:{line:74,column:5}},"27":{start:{line:63,column:6},end:{line:65,column:7}},"28":{start:{line:64,column:8},end:{line:64,column:110}},"29":{start:{line:67,column:6},end:{line:69,column:7}},"30":{start:{line:68,column:8},end:{line:68,column:98}},"31":{start:{line:71,column:6},end:{line:73,column:7}},"32":{start:{line:72,column:8},end:{line:72,column:92}},"33":{start:{line:82,column:2},end:{line:82,column:23}},"34":{start:{line:85,column:2},end:{line:85,column:31}},"35":{start:{line:86,column:2},end:{line:86,column:29}},"36":{start:{line:88,column:2},end:{line:88,column:35}},"37":{start:{line:90,column:2},end:{line:90,column:49}},"38":{start:{line:93,column:2},end:{line:93,column:36}},"39":{start:{line:100,column:0},end:{line:139,column:2}},"40":{start:{line:101,column:2},end:{line:138,column:5}},"41":{start:{line:102,column:4},end:{line:102,column:36}},"42":{start:{line:104,column:4},end:{line:104,column:46}},"43":{start:{line:106,column:4},end:{line:106,column:37}},"44":{start:{line:108,column:4},end:{line:108,column:32}},"45":{start:{line:110,column:4},end:{line:110,column:35}},"46":{start:{line:112,column:4},end:{line:112,column:39}},"47":{start:{line:114,column:4},end:{line:114,column:48}},"48":{start:{line:116,column:4},end:{line:116,column:33}},"49":{start:{line:118,column:4},end:{line:118,column:50}},"50":{start:{line:119,column:4},end:{line:119,column:44}},"51":{start:{line:121,column:4},end:{line:121,column:32}},"52":{start:{line:123,column:4},end:{line:123,column:48}},"53":{start:{line:125,column:4},end:{line:125,column:44}},"54":{start:{line:127,column:4},end:{line:127,column:39}},"55":{start:{line:129,column:4},end:{line:129,column:45}},"56":{start:{line:131,column:4},end:{line:131,column:33}},"57":{start:{line:133,column:4},end:{line:133,column:38}},"58":{start:{line:135,column:4},end:{line:135,column:36}},"59":{start:{line:137,column:4},end:{line:137,column:25}},"60":{start:{line:142,column:0},end:{line:157,column:2}},"61":{start:{line:143,column:2},end:{line:145,column:3}},"62":{start:{line:144,column:4},end:{line:144,column:29}},"63":{start:{line:147,column:2},end:{line:147,column:30}},"64":{start:{line:149,column:2},end:{line:156,column:3}},"65":{start:{line:150,column:4},end:{line:153,column:7}},"66":{start:{line:151,column:6},end:{line:151,column:83}},"67":{start:{line:152,column:6},end:{line:152,column:13}},"68":{start:{line:155,column:4},end:{line:155,column:29}},"69":{start:{line:160,column:0},end:{line:170,column:2}},"70":{start:{line:161,column:2},end:{line:169,column:3}},"71":{start:{line:162,column:4},end:{line:166,column:7}},"72":{start:{line:162,column:70},end:{line:162,column:111}},"73":{start:{line:163,column:6},end:{line:165,column:7}},"74":{start:{line:164,column:8},end:{line:164,column:144}},"75":{start:{line:168,column:4},end:{line:168,column:29}},"76":{start:{line:173,column:0},end:{line:175,column:2}},"77":{start:{line:174,column:2},end:{line:174,column:101}},"78":{start:{line:179,column:0},end:{line:242,column:2}},"79":{start:{line:180,column:2},end:{line:182,column:3}},"80":{start:{line:181,column:4},end:{line:181,column:11}},"81":{start:{line:185,column:2},end:{line:187,column:3}},"82":{start:{line:186,column:4},end:{line:186,column:29}},"83":{start:{line:190,column:18},end:{line:192,column:3}},"84":{start:{line:194,column:2},end:{line:196,column:3}},"85":{start:{line:195,column:4},end:{line:195,column:45}},"86":{start:{line:198,column:23},end:{line:198,column:27}},"87":{start:{line:199,column:24},end:{line:199,column:58}},"88":{start:{line:201,column:2},end:{line:204,column:3}},"89":{start:{line:203,column:4},end:{line:203,column:68}},"90":{start:{line:206,column:2},end:{line:241,column:5}},"91":{start:{line:208,column:26},end:{line:208,column:30}},"92":{start:{line:210,column:4},end:{line:216,column:5}},"93":{start:{line:212,column:6},end:{line:212,column:120}},"94":{start:{line:215,column:6},end:{line:215,column:102}},"95":{start:{line:219,column:4},end:{line:223,column:7}},"96":{start:{line:220,column:6},end:{line:222,column:7}},"97":{start:{line:221,column:8},end:{line:221,column:81}},"98":{start:{line:225,column:4},end:{line:225,column:132}},"99":{start:{line:227,column:4},end:{line:240,column:5}},"100":{start:{line:228,column:6},end:{line:234,column:13}},"101":{start:{line:229,column:8},end:{line:231,column:9}},"102":{start:{line:230,column:10},end:{line:230,column:27}},"103":{start:{line:233,column:8},end:{line:233,column:22}},"104":{start:{line:235,column:6},end:{line:235,column:34}},"105":{start:{line:237,column:6},end:{line:239,column:7}},"106":{start:{line:238,column:8},end:{line:238,column:34}},"107":{start:{line:244,column:0},end:{line:259,column:2}},"108":{start:{line:246,column:2},end:{line:248,column:3}},"109":{start:{line:247,column:4},end:{line:247,column:11}},"110":{start:{line:251,column:20},end:{line:253,column:3}},"111":{start:{line:255,column:2},end:{line:255,column:73}},"112":{start:{line:256,column:15},end:{line:256,column:52}},"113":{start:{line:258,column:2},end:{line:258,column:111}},"114":{start:{line:261,column:0},end:{line:305,column:2}},"115":{start:{line:262,column:2},end:{line:302,column:3}},"116":{start:{line:263,column:4},end:{line:301,column:7}},"117":{start:{line:264,column:21},end:{line:264,column:87}},"118":{start:{line:264,column:49},end:{line:264,column:86}},"119":{start:{line:266,column:39},end:{line:279,column:7}},"120":{start:{line:267,column:8},end:{line:278,column:9}},"121":{start:{line:268,column:10},end:{line:277,column:11}},"122":{start:{line:269,column:12},end:{line:269,column:73}},"123":{start:{line:270,column:12},end:{line:270,column:92}},"124":{start:{line:272,column:12},end:{line:274,column:13}},"125":{start:{line:273,column:14},end:{line:273,column:66}},"126":{start:{line:275,column:17},end:{line:277,column:11}},"127":{start:{line:276,column:12},end:{line:276,column:92}},"128":{start:{line:282,column:6},end:{line:282,column:43}},"129":{start:{line:284,column:6},end:{line:300,column:7}},"130":{start:{line:285,column:8},end:{line:285,column:45}},"131":{start:{line:287,column:8},end:{line:289,column:9}},"132":{start:{line:288,column:10},end:{line:288,column:81}},"133":{start:{line:291,column:8},end:{line:295,column:9}},"134":{start:{line:292,column:10},end:{line:294,column:13}},"135":{start:{line:293,column:12},end:{line:293,column:54}},"136":{start:{line:296,column:13},end:{line:300,column:7}},"137":{start:{line:297,column:8},end:{line:299,column:11}},"138":{start:{line:298,column:10},end:{line:298,column:53}},"139":{start:{line:304,column:2},end:{line:304,column:27}},"140":{start:{line:310,column:0},end:{line:349,column:2}},"141":{start:{line:311,column:2},end:{line:313,column:3}},"142":{start:{line:312,column:4},end:{line:312,column:11}},"143":{start:{line:315,column:2},end:{line:323,column:3}},"144":{start:{line:316,column:4},end:{line:318,column:5}},"145":{start:{line:317,column:6},end:{line:317,column:85}},"146":{start:{line:320,column:4},end:{line:322,column:5}},"147":{start:{line:321,column:6},end:{line:321,column:82}},"148":{start:{line:325,column:2},end:{line:331,column:3}},"149":{start:{line:327,column:4},end:{line:327,column:11}},"150":{start:{line:328,column:9},end:{line:331,column:3}},"151":{start:{line:330,column:4},end:{line:330,column:105}},"152":{start:{line:333,column:17},end:{line:333,column:35}},"153":{start:{line:334,column:18},end:{line:334,column:39}},"154":{start:{line:336,column:2},end:{line:346,column:3}},"155":{start:{line:337,column:30},end:{line:341,column:12}},"156":{start:{line:338,column:29},end:{line:338,column:47}},"157":{start:{line:339,column:21},end:{line:339,column:60}},"158":{start:{line:340,column:6},end:{line:340,column:65}},"159":{start:{line:343,column:4},end:{line:345,column:5}},"160":{start:{line:344,column:6},end:{line:344,column:43}},"161":{start:{line:348,column:2},end:{line:348,column:103}},"162":{start:{line:351,column:0},end:{line:366,column:2}},"163":{start:{line:352,column:22},end:{line:364,column:4}},"164":{start:{line:353,column:4},end:{line:355,column:5}},"165":{start:{line:354,column:6},end:{line:354,column:31}},"166":{start:{line:357,column:29},end:{line:357,column:90}},"167":{start:{line:359,column:4},end:{line:361,column:5}},"168":{start:{line:360,column:6},end:{line:360,column:107}},"169":{start:{line:363,column:4},end:{line:363,column:48}},"170":{start:{line:365,column:2},end:{line:365,column:34}},"171":{start:{line:368,column:0},end:{line:392,column:2}},"172":{start:{line:369,column:20},end:{line:369,column:41}},"173":{start:{line:370,column:16},end:{line:382,column:4}},"174":{start:{line:371,column:4},end:{line:373,column:5}},"175":{start:{line:372,column:6},end:{line:372,column:18}},"176":{start:{line:375,column:21},end:{line:375,column:46}},"177":{start:{line:376,column:18},end:{line:376,column:20}},"178":{start:{line:377,column:4},end:{line:377,column:44}},"179":{start:{line:378,column:4},end:{line:378,column:21}},"180":{start:{line:379,column:4},end:{line:379,column:16}},"181":{start:{line:381,column:4},end:{line:381,column:36}},"182":{start:{line:383,column:20},end:{line:383,column:39}},"183":{start:{line:385,column:2},end:{line:389,column:3}},"184":{start:{line:386,column:4},end:{line:388,column:11}},"185":{start:{line:391,column:2},end:{line:391,column:21}},"186":{start:{line:394,column:0},end:{line:407,column:2}},"187":{start:{line:395,column:2},end:{line:397,column:3}},"188":{start:{line:396,column:4},end:{line:396,column:19}},"189":{start:{line:399,column:2},end:{line:406,column:5}},"190":{start:{line:400,column:4},end:{line:402,column:5}},"191":{start:{line:401,column:6},end:{line:401,column:18}},"192":{start:{line:405,column:4},end:{line:405,column:60}},"193":{start:{line:409,column:0},end:{line:505,column:2}},"194":{start:{line:411,column:2},end:{line:504,column:5}},"195":{start:{line:412,column:4},end:{line:412,column:43}},"196":{start:{line:414,column:4},end:{line:496,column:5}},"197":{start:{line:415,column:6},end:{line:415,column:69}},"198":{start:{line:416,column:25},end:{line:416,column:35}},"199":{start:{line:417,column:30},end:{line:417,column:32}},"200":{start:{line:418,column:6},end:{line:425,column:9}},"201":{start:{line:419,column:29},end:{line:419,column:47}},"202":{start:{line:420,column:29},end:{line:420,column:58}},"203":{start:{line:422,column:8},end:{line:424,column:9}},"204":{start:{line:423,column:10},end:{line:423,column:51}},"205":{start:{line:426,column:33},end:{line:426,column:74}},"206":{start:{line:429,column:6},end:{line:433,column:7}},"207":{start:{line:430,column:8},end:{line:430,column:37}},"208":{start:{line:431,column:13},end:{line:433,column:7}},"209":{start:{line:432,column:8},end:{line:432,column:35}},"210":{start:{line:435,column:6},end:{line:495,column:7}},"211":{start:{line:439,column:8},end:{line:439,column:35}},"212":{start:{line:441,column:8},end:{line:441,column:49}},"213":{start:{line:443,column:8},end:{line:453,column:9}},"214":{start:{line:445,column:10},end:{line:448,column:12}},"215":{start:{line:452,column:10},end:{line:452,column:65}},"216":{start:{line:456,column:8},end:{line:458,column:9}},"217":{start:{line:457,column:10},end:{line:457,column:17}},"218":{start:{line:464,column:8},end:{line:483,column:11}},"219":{start:{line:469,column:10},end:{line:482,column:11}},"220":{start:{line:471,column:12},end:{line:473,column:15}},"221":{start:{line:472,column:14},end:{line:472,column:84}},"222":{start:{line:477,column:12},end:{line:481,column:19}},"223":{start:{line:484,column:13},end:{line:495,column:7}},"224":{start:{line:487,column:8},end:{line:489,column:9}},"225":{start:{line:488,column:10},end:{line:488,column:97}},"226":{start:{line:492,column:8},end:{line:494,column:9}},"227":{start:{line:493,column:10},end:{line:493,column:17}},"228":{start:{line:498,column:4},end:{line:503,column:7}},"229":{start:{line:499,column:6},end:{line:502,column:7}},"230":{start:{line:501,column:8},end:{line:501,column:95}},"231":{start:{line:508,column:0},end:{line:561,column:2}},"232":{start:{line:509,column:16},end:{line:509,column:33}},"233":{start:{line:511,column:2},end:{line:513,column:3}},"234":{start:{line:512,column:4},end:{line:512,column:19}},"235":{start:{line:515,column:2},end:{line:518,column:3}},"236":{start:{line:516,column:18},end:{line:516,column:81}},"237":{start:{line:517,column:4},end:{line:517,column:66}},"238":{start:{line:521,column:2},end:{line:533,column:3}},"239":{start:{line:524,column:4},end:{line:532,column:7}},"240":{start:{line:531,column:6},end:{line:531,column:101}},"241":{start:{line:531,column:41},end:{line:531,column:99}},"242":{start:{line:535,column:2},end:{line:560,column:5}},"243":{start:{line:537,column:4},end:{line:540,column:5}},"244":{start:{line:539,column:6},end:{line:539,column:31}},"245":{start:{line:542,column:4},end:{line:548,column:5}},"246":{start:{line:543,column:6},end:{line:543,column:43}},"247":{start:{line:545,column:6},end:{line:547,column:7}},"248":{start:{line:546,column:8},end:{line:546,column:50}},"249":{start:{line:550,column:4},end:{line:555,column:7}},"250":{start:{line:551,column:6},end:{line:554,column:9}},"251":{start:{line:552,column:8},end:{line:552,column:52}},"252":{start:{line:553,column:8},end:{line:553,column:34}},"253":{start:{line:557,column:4},end:{line:557,column:36}},"254":{start:{line:559,column:4},end:{line:559,column:33}},"255":{start:{line:563,column:0},end:{line:596,column:2}},"256":{start:{line:565,column:2},end:{line:572,column:3}},"257":{start:{line:566,column:4},end:{line:569,column:5}},"258":{start:{line:567,column:6},end:{line:567,column:56}},"259":{start:{line:568,column:6},end:{line:568,column:45}},"260":{start:{line:571,column:4},end:{line:571,column:29}},"261":{start:{line:581,column:2},end:{line:595,column:5}},"262":{start:{line:590,column:4},end:{line:592,column:5}},"263":{start:{line:591,column:6},end:{line:591,column:101}},"264":{start:{line:594,column:4},end:{line:594,column:11}},"265":{start:{line:611,column:0},end:{line:641,column:2}},"266":{start:{line:612,column:2},end:{line:614,column:3}},"267":{start:{line:613,column:4},end:{line:613,column:29}},"268":{start:{line:617,column:2},end:{line:619,column:3}},"269":{start:{line:618,column:4},end:{line:618,column:114}},"270":{start:{line:622,column:2},end:{line:640,column:5}},"271":{start:{line:631,column:4},end:{line:633,column:5}},"272":{start:{line:632,column:6},end:{line:632,column:103}},"273":{start:{line:635,column:4},end:{line:639,column:5}},"274":{start:{line:637,column:6},end:{line:637,column:51}},"275":{start:{line:638,column:6},end:{line:638,column:64}},"276":{start:{line:643,column:0},end:{line:648,column:2}},"277":{start:{line:644,column:2},end:{line:644,column:60}},"278":{start:{line:644,column:35},end:{line:644,column:60}},"279":{start:{line:645,column:2},end:{line:647,column:5}},"280":{start:{line:646,column:4},end:{line:646,column:43}},"281":{start:{line:650,column:0},end:{line:687,column:2}},"282":{start:{line:659,column:22},end:{line:659,column:170}},"283":{start:{line:660,column:32},end:{line:660,column:72}},"284":{start:{line:662,column:2},end:{line:664,column:3}},"285":{start:{line:663,column:4},end:{line:663,column:86}},"286":{start:{line:667,column:2},end:{line:684,column:3}},"287":{start:{line:668,column:4},end:{line:683,column:5}},"288":{start:{line:670,column:6},end:{line:670,column:155}},"289":{start:{line:670,column:63},end:{line:670,column:155}},"290":{start:{line:673,column:6},end:{line:682,column:9}},"291":{start:{line:676,column:8},end:{line:678,column:9}},"292":{start:{line:677,column:10},end:{line:677,column:26}},"293":{start:{line:680,column:8},end:{line:680,column:158}},"294":{start:{line:680,column:66},end:{line:680,column:158}},"295":{start:{line:681,column:8},end:{line:681,column:33}},"296":{start:{line:686,column:2},end:{line:686,column:27}},"297":{start:{line:689,column:0},end:{line:726,column:2}},"298":{start:{line:691,column:2},end:{line:723,column:3}},"299":{start:{line:692,column:4},end:{line:722,column:7}},"300":{start:{line:697,column:6},end:{line:699,column:7}},"301":{start:{line:698,column:8},end:{line:698,column:24}},"302":{start:{line:701,column:19},end:{line:701,column:29}},"303":{start:{line:702,column:25},end:{line:702,column:27}},"304":{start:{line:703,column:6},end:{line:703,column:145}},"305":{start:{line:703,column:34},end:{line:703,column:145}},"306":{start:{line:704,column:6},end:{line:704,column:39}},"307":{start:{line:705,column:26},end:{line:705,column:44}},"308":{start:{line:707,column:23},end:{line:713,column:8}},"309":{start:{line:708,column:8},end:{line:712,column:11}},"310":{start:{line:709,column:10},end:{line:710,column:53}},"311":{start:{line:710,column:12},end:{line:710,column:53}},"312":{start:{line:711,column:10},end:{line:711,column:35}},"313":{start:{line:715,column:6},end:{line:721,column:9}},"314":{start:{line:716,column:8},end:{line:716,column:33}},"315":{start:{line:718,column:8},end:{line:719,column:186}},"316":{start:{line:719,column:10},end:{line:719,column:186}},"317":{start:{line:720,column:8},end:{line:720,column:18}},"318":{start:{line:725,column:2},end:{line:725,column:27}},"319":{start:{line:728,column:0},end:{line:751,column:2}},"320":{start:{line:729,column:2},end:{line:731,column:3}},"321":{start:{line:730,column:4},end:{line:730,column:11}},"322":{start:{line:734,column:2},end:{line:736,column:3}},"323":{start:{line:735,column:4},end:{line:735,column:11}},"324":{start:{line:739,column:2},end:{line:741,column:3}},"325":{start:{line:740,column:4},end:{line:740,column:11}},"326":{start:{line:743,column:2},end:{line:748,column:3}},"327":{start:{line:747,column:4},end:{line:747,column:11}},"328":{start:{line:750,column:2},end:{line:750,column:35}},"329":{start:{line:753,column:0},end:{line:781,column:2}},"330":{start:{line:756,column:2},end:{line:758,column:3}},"331":{start:{line:757,column:4},end:{line:757,column:11}},"332":{start:{line:760,column:2},end:{line:762,column:3}},"333":{start:{line:761,column:4},end:{line:761,column:77}},"334":{start:{line:767,column:6},end:{line:774,column:4}},"335":{start:{line:776,column:2},end:{line:778,column:3}},"336":{start:{line:777,column:4},end:{line:777,column:67}},"337":{start:{line:780,column:2},end:{line:780,column:25}},"338":{start:{line:783,column:0},end:{line:811,column:2}},"339":{start:{line:789,column:16},end:{line:789,column:45}},"340":{start:{line:790,column:20},end:{line:790,column:53}},"341":{start:{line:791,column:22},end:{line:800,column:3}},"342":{start:{line:802,column:2},end:{line:804,column:3}},"343":{start:{line:803,column:4},end:{line:803,column:48}},"344":{start:{line:806,column:2},end:{line:806,column:52}},"345":{start:{line:807,column:2},end:{line:810,column:4}},"346":{start:{line:809,column:25},end:{line:809,column:108}},"347":{start:{line:814,column:0},end:{line:831,column:2}},"348":{start:{line:815,column:2},end:{line:818,column:3}},"349":{start:{line:817,column:4},end:{line:817,column:11}},"350":{start:{line:820,column:2},end:{line:830,column:3}},"351":{start:{line:821,column:19},end:{line:828,column:5}},"352":{start:{line:829,column:4},end:{line:829,column:49}},"353":{start:{line:833,column:0},end:{line:861,column:2}},"354":{start:{line:835,column:2},end:{line:837,column:3}},"355":{start:{line:836,column:4},end:{line:836,column:11}},"356":{start:{line:844,column:6},end:{line:844,column:15}},"357":{start:{line:846,column:2},end:{line:848,column:3}},"358":{start:{line:847,column:4},end:{line:847,column:11}},"359":{start:{line:850,column:2},end:{line:852,column:3}},"360":{start:{line:851,column:4},end:{line:851,column:11}},"361":{start:{line:854,column:2},end:{line:860,column:37}},"362":{start:{line:864,column:0},end:{line:888,column:2}},"363":{start:{line:865,column:2},end:{line:875,column:3}},"364":{start:{line:866,column:23},end:{line:872,column:5}},"365":{start:{line:873,column:4},end:{line:873,column:41}},"366":{start:{line:874,column:4},end:{line:874,column:103}},"367":{start:{line:877,column:2},end:{line:880,column:3}},"368":{start:{line:878,column:4},end:{line:878,column:46}},"369":{start:{line:879,column:4},end:{line:879,column:74}},"370":{start:{line:882,column:2},end:{line:887,column:3}},"371":{start:{line:883,column:4},end:{line:883,column:49}},"372":{start:{line:885,column:4},end:{line:885,column:64}},"373":{start:{line:886,column:4},end:{line:886,column:42}},"374":{start:{line:892,column:0},end:{line:950,column:2}},"375":{start:{line:893,column:2},end:{line:895,column:3}},"376":{start:{line:894,column:4},end:{line:894,column:11}},"377":{start:{line:897,column:2},end:{line:899,column:3}},"378":{start:{line:898,column:4},end:{line:898,column:88}},"379":{start:{line:902,column:2},end:{line:904,column:3}},"380":{start:{line:903,column:4},end:{line:903,column:93}},"381":{start:{line:906,column:2},end:{line:914,column:3}},"382":{start:{line:907,column:4},end:{line:913,column:5}},"383":{start:{line:908,column:6},end:{line:908,column:58}},"384":{start:{line:909,column:11},end:{line:913,column:5}},"385":{start:{line:910,column:6},end:{line:910,column:58}},"386":{start:{line:911,column:11},end:{line:913,column:5}},"387":{start:{line:912,column:6},end:{line:912,column:58}},"388":{start:{line:916,column:2},end:{line:949,column:3}},"389":{start:{line:917,column:34},end:{line:917,column:36}},"390":{start:{line:919,column:4},end:{line:925,column:5}},"391":{start:{line:920,column:6},end:{line:922,column:7}},"392":{start:{line:921,column:8},end:{line:921,column:17}},"393":{start:{line:924,column:6},end:{line:924,column:50}},"394":{start:{line:930,column:8},end:{line:936,column:6}},"395":{start:{line:937,column:4},end:{line:948,column:7}},"396":{start:{line:938,column:6},end:{line:940,column:7}},"397":{start:{line:939,column:8},end:{line:939,column:92}},"398":{start:{line:942,column:6},end:{line:942,column:61}},"399":{start:{line:943,column:6},end:{line:947,column:8}},"400":{start:{line:957,column:0},end:{line:1184,column:2}},"401":{start:{line:958,column:2},end:{line:960,column:3}},"402":{start:{line:959,column:4},end:{line:959,column:11}},"403":{start:{line:962,column:2},end:{line:964,column:3}},"404":{start:{line:963,column:4},end:{line:963,column:127}},"405":{start:{line:968,column:2},end:{line:970,column:3}},"406":{start:{line:969,column:4},end:{line:969,column:64}},"407":{start:{line:973,column:2},end:{line:975,column:3}},"408":{start:{line:974,column:4},end:{line:974,column:70}},"409":{start:{line:977,column:23},end:{line:977,column:47}},"410":{start:{line:979,column:2},end:{line:981,column:3}},"411":{start:{line:980,column:4},end:{line:980,column:46}},"412":{start:{line:983,column:2},end:{line:985,column:3}},"413":{start:{line:984,column:4},end:{line:984,column:50}},"414":{start:{line:988,column:2},end:{line:990,column:3}},"415":{start:{line:989,column:4},end:{line:989,column:11}},"416":{start:{line:992,column:16},end:{line:992,column:33}},"417":{start:{line:997,column:27},end:{line:997,column:29}},"418":{start:{line:999,column:20},end:{line:999,column:22}},"419":{start:{line:1001,column:2},end:{line:1005,column:3}},"420":{start:{line:1002,column:4},end:{line:1004,column:7}},"421":{start:{line:1007,column:2},end:{line:1011,column:3}},"422":{start:{line:1008,column:4},end:{line:1010,column:7}},"423":{start:{line:1013,column:2},end:{line:1017,column:3}},"424":{start:{line:1014,column:4},end:{line:1016,column:7}},"425":{start:{line:1019,column:2},end:{line:1021,column:3}},"426":{start:{line:1020,column:4},end:{line:1020,column:11}},"427":{start:{line:1023,column:2},end:{line:1182,column:5}},"428":{start:{line:1024,column:4},end:{line:1026,column:11}},"429":{start:{line:1028,column:4},end:{line:1040,column:7}},"430":{start:{line:1029,column:6},end:{line:1031,column:7}},"431":{start:{line:1030,column:8},end:{line:1030,column:31}},"432":{start:{line:1033,column:6},end:{line:1035,column:7}},"433":{start:{line:1034,column:8},end:{line:1034,column:37}},"434":{start:{line:1037,column:6},end:{line:1039,column:7}},"435":{start:{line:1038,column:8},end:{line:1038,column:40}},"436":{start:{line:1042,column:4},end:{line:1058,column:5}},"437":{start:{line:1043,column:6},end:{line:1045,column:7}},"438":{start:{line:1044,column:8},end:{line:1044,column:92}},"439":{start:{line:1047,column:6},end:{line:1049,column:7}},"440":{start:{line:1048,column:8},end:{line:1048,column:95}},"441":{start:{line:1051,column:6},end:{line:1053,column:7}},"442":{start:{line:1052,column:8},end:{line:1052,column:92}},"443":{start:{line:1055,column:6},end:{line:1057,column:7}},"444":{start:{line:1056,column:8},end:{line:1056,column:91}},"445":{start:{line:1060,column:4},end:{line:1062,column:5}},"446":{start:{line:1061,column:6},end:{line:1061,column:30}},"447":{start:{line:1064,column:4},end:{line:1066,column:5}},"448":{start:{line:1065,column:6},end:{line:1065,column:36}},"449":{start:{line:1069,column:4},end:{line:1071,column:5}},"450":{start:{line:1070,column:6},end:{line:1070,column:83}},"451":{start:{line:1073,column:4},end:{line:1172,column:5}},"452":{start:{line:1074,column:6},end:{line:1110,column:7}},"453":{start:{line:1075,column:8},end:{line:1075,column:15}},"454":{start:{line:1076,column:13},end:{line:1110,column:7}},"455":{start:{line:1080,column:8},end:{line:1080,column:49}},"456":{start:{line:1081,column:13},end:{line:1110,column:7}},"457":{start:{line:1082,column:8},end:{line:1082,column:126}},"458":{start:{line:1089,column:23},end:{line:1094,column:9}},"459":{start:{line:1096,column:8},end:{line:1098,column:9}},"460":{start:{line:1097,column:10},end:{line:1097,column:62}},"461":{start:{line:1100,column:8},end:{line:1108,column:11}},"462":{start:{line:1101,column:10},end:{line:1104,column:11}},"463":{start:{line:1103,column:12},end:{line:1103,column:19}},"464":{start:{line:1107,column:10},end:{line:1107,column:20}},"465":{start:{line:1109,column:8},end:{line:1109,column:15}},"466":{start:{line:1112,column:6},end:{line:1171,column:7}},"467":{start:{line:1116,column:25},end:{line:1118,column:9}},"468":{start:{line:1119,column:8},end:{line:1129,column:11}},"469":{start:{line:1120,column:10},end:{line:1120,column:51}},"470":{start:{line:1122,column:10},end:{line:1125,column:11}},"471":{start:{line:1124,column:12},end:{line:1124,column:19}},"472":{start:{line:1128,column:10},end:{line:1128,column:20}},"473":{start:{line:1131,column:8},end:{line:1167,column:9}},"474":{start:{line:1135,column:27},end:{line:1137,column:11}},"475":{start:{line:1140,column:10},end:{line:1152,column:11}},"476":{start:{line:1141,column:12},end:{line:1143,column:14}},"477":{start:{line:1144,column:17},end:{line:1152,column:11}},"478":{start:{line:1146,column:12},end:{line:1148,column:14}},"479":{start:{line:1151,column:12},end:{line:1151,column:36}},"480":{start:{line:1154,column:10},end:{line:1156,column:11}},"481":{start:{line:1155,column:12},end:{line:1155,column:64}},"482":{start:{line:1158,column:10},end:{line:1166,column:13}},"483":{start:{line:1159,column:12},end:{line:1162,column:13}},"484":{start:{line:1161,column:14},end:{line:1161,column:21}},"485":{start:{line:1165,column:12},end:{line:1165,column:22}},"486":{start:{line:1170,column:8},end:{line:1170,column:32}},"487":{start:{line:1174,column:4},end:{line:1180,column:5}},"488":{start:{line:1175,column:6},end:{line:1177,column:8}},"489":{start:{line:1178,column:6},end:{line:1178,column:32}},"490":{start:{line:1179,column:6},end:{line:1179,column:33}},"491":{start:{line:1183,column:2},end:{line:1183,column:17}},"492":{start:{line:1189,column:0},end:{line:1194,column:2}},"493":{start:{line:1191,column:2},end:{line:1193,column:3}},"494":{start:{line:1192,column:4},end:{line:1192,column:89}},"495":{start:{line:1196,column:0},end:{line:1368,column:2}},"496":{start:{line:1197,column:2},end:{line:1199,column:3}},"497":{start:{line:1198,column:4},end:{line:1198,column:11}},"498":{start:{line:1201,column:2},end:{line:1203,column:3}},"499":{start:{line:1202,column:4},end:{line:1202,column:45}},"500":{start:{line:1205,column:2},end:{line:1207,column:3}},"501":{start:{line:1206,column:4},end:{line:1206,column:101}},"502":{start:{line:1209,column:2},end:{line:1211,column:3}},"503":{start:{line:1210,column:4},end:{line:1210,column:53}},"504":{start:{line:1215,column:2},end:{line:1217,column:3}},"505":{start:{line:1216,column:4},end:{line:1216,column:67}},"506":{start:{line:1219,column:2},end:{line:1367,column:3}},"507":{start:{line:1222,column:4},end:{line:1227,column:5}},"508":{start:{line:1223,column:6},end:{line:1226,column:8}},"509":{start:{line:1230,column:4},end:{line:1232,column:5}},"510":{start:{line:1231,column:6},end:{line:1231,column:65}},"511":{start:{line:1235,column:4},end:{line:1235,column:31}},"512":{start:{line:1236,column:16},end:{line:1236,column:33}},"513":{start:{line:1238,column:4},end:{line:1263,column:5}},"514":{start:{line:1239,column:6},end:{line:1262,column:9}},"515":{start:{line:1244,column:8},end:{line:1246,column:9}},"516":{start:{line:1245,column:10},end:{line:1245,column:26}},"517":{start:{line:1248,column:21},end:{line:1248,column:31}},"518":{start:{line:1249,column:27},end:{line:1249,column:29}},"519":{start:{line:1251,column:8},end:{line:1253,column:9}},"520":{start:{line:1252,column:10},end:{line:1252,column:117}},"521":{start:{line:1256,column:8},end:{line:1258,column:9}},"522":{start:{line:1257,column:10},end:{line:1257,column:31}},"523":{start:{line:1260,column:8},end:{line:1260,column:41}},"524":{start:{line:1261,column:8},end:{line:1261,column:51}},"525":{start:{line:1265,column:4},end:{line:1276,column:7}},"526":{start:{line:1267,column:6},end:{line:1275,column:9}},"527":{start:{line:1268,column:8},end:{line:1268,column:44}},"528":{start:{line:1270,column:8},end:{line:1270,column:58}},"529":{start:{line:1272,column:8},end:{line:1274,column:10}},"530":{start:{line:1279,column:4},end:{line:1303,column:5}},"531":{start:{line:1280,column:16},end:{line:1280,column:29}},"532":{start:{line:1282,column:6},end:{line:1291,column:7}},"533":{start:{line:1283,column:8},end:{line:1283,column:17}},"534":{start:{line:1285,column:8},end:{line:1290,column:9}},"535":{start:{line:1286,column:10},end:{line:1289,column:12}},"536":{start:{line:1294,column:6},end:{line:1297,column:8}},"537":{start:{line:1298,column:6},end:{line:1298,column:26}},"538":{start:{line:1300,column:6},end:{line:1302,column:7}},"539":{start:{line:1301,column:8},end:{line:1301,column:67}},"540":{start:{line:1306,column:4},end:{line:1366,column:7}},"541":{start:{line:1307,column:6},end:{line:1309,column:7}},"542":{start:{line:1308,column:8},end:{line:1308,column:20}},"543":{start:{line:1312,column:6},end:{line:1314,column:7}},"544":{start:{line:1313,column:8},end:{line:1313,column:103}},"545":{start:{line:1316,column:6},end:{line:1318,column:7}},"546":{start:{line:1317,column:8},end:{line:1317,column:105}},"547":{start:{line:1324,column:6},end:{line:1350,column:9}},"548":{start:{line:1332,column:8},end:{line:1334,column:9}},"549":{start:{line:1333,column:10},end:{line:1333,column:105}},"550":{start:{line:1336,column:8},end:{line:1343,column:11}},"551":{start:{line:1345,column:8},end:{line:1347,column:9}},"552":{start:{line:1346,column:10},end:{line:1346,column:107}},"553":{start:{line:1349,column:8},end:{line:1349,column:124}},"554":{start:{line:1352,column:6},end:{line:1352,column:45}},"555":{start:{line:1353,column:6},end:{line:1353,column:47}},"556":{start:{line:1355,column:6},end:{line:1357,column:7}},"557":{start:{line:1356,column:8},end:{line:1356,column:47}},"558":{start:{line:1359,column:6},end:{line:1359,column:56}},"559":{start:{line:1361,column:6},end:{line:1365,column:8}},"560":{start:{line:1371,column:0},end:{line:1418,column:2}},"561":{start:{line:1372,column:2},end:{line:1374,column:3}},"562":{start:{line:1373,column:4},end:{line:1373,column:11}},"563":{start:{line:1377,column:27},end:{line:1377,column:118}},"564":{start:{line:1378,column:23},end:{line:1378,column:83}},"565":{start:{line:1380,column:2},end:{line:1382,column:3}},"566":{start:{line:1381,column:4},end:{line:1381,column:29}},"567":{start:{line:1384,column:18},end:{line:1386,column:3}},"568":{start:{line:1388,column:2},end:{line:1390,column:3}},"569":{start:{line:1389,column:4},end:{line:1389,column:45}},"570":{start:{line:1395,column:2},end:{line:1397,column:3}},"571":{start:{line:1396,column:4},end:{line:1396,column:68}},"572":{start:{line:1401,column:24},end:{line:1401,column:58}},"573":{start:{line:1403,column:2},end:{line:1403,column:89}},"574":{start:{line:1405,column:2},end:{line:1409,column:5}},"575":{start:{line:1407,column:18},end:{line:1407,column:84}},"576":{start:{line:1408,column:4},end:{line:1408,column:111}},"577":{start:{line:1411,column:2},end:{line:1417,column:5}},"578":{start:{line:1412,column:4},end:{line:1414,column:5}},"579":{start:{line:1413,column:6},end:{line:1413,column:38}},"580":{start:{line:1416,column:4},end:{line:1416,column:59}},"581":{start:{line:1421,column:0},end:{line:1425,column:2}},"582":{start:{line:1422,column:15},end:{line:1422,column:90}},"583":{start:{line:1423,column:16},end:{line:1423,column:58}},"584":{start:{line:1424,column:2},end:{line:1424,column:45}},"585":{start:{line:1429,column:0},end:{line:1431,column:2}},"586":{start:{line:1430,column:2},end:{line:1430,column:51}},"587":{start:{line:1434,column:0},end:{line:1444,column:2}},"588":{start:{line:1435,column:15},end:{line:1442,column:25}},"589":{start:{line:1437,column:4},end:{line:1439,column:5}},"590":{start:{line:1438,column:6},end:{line:1438,column:23}},"591":{start:{line:1441,column:4},end:{line:1441,column:16}},"592":{start:{line:1443,column:2},end:{line:1443,column:40}},"593":{start:{line:1447,column:0},end:{line:1491,column:2}},"594":{start:{line:1448,column:20},end:{line:1448,column:52}},"595":{start:{line:1449,column:29},end:{line:1449,column:119}},"596":{start:{line:1451,column:2},end:{line:1455,column:3}},"597":{start:{line:1452,column:4},end:{line:1454,column:5}},"598":{start:{line:1453,column:6},end:{line:1453,column:50}},"599":{start:{line:1457,column:24},end:{line:1457,column:70}},"600":{start:{line:1458,column:2},end:{line:1482,column:26}},"601":{start:{line:1459,column:4},end:{line:1479,column:5}},"602":{start:{line:1460,column:6},end:{line:1476,column:7}},"603":{start:{line:1461,column:8},end:{line:1463,column:9}},"604":{start:{line:1462,column:10},end:{line:1462,column:44}},"605":{start:{line:1466,column:28},end:{line:1466,column:42}},"606":{start:{line:1467,column:27},end:{line:1467,column:41}},"607":{start:{line:1468,column:24},end:{line:1468,column:53}},"608":{start:{line:1470,column:8},end:{line:1472,column:9}},"609":{start:{line:1471,column:10},end:{line:1471,column:25}},"610":{start:{line:1474,column:8},end:{line:1474,column:46}},"611":{start:{line:1475,column:8},end:{line:1475,column:49}},"612":{start:{line:1478,column:6},end:{line:1478,column:23}},"613":{start:{line:1481,column:4},end:{line:1481,column:16}},"614":{start:{line:1483,column:20},end:{line:1483,column:40}},"615":{start:{line:1485,column:2},end:{line:1487,column:3}},"616":{start:{line:1486,column:4},end:{line:1486,column:32}},"617":{start:{line:1489,column:2},end:{line:1489,column:31}},"618":{start:{line:1490,column:2},end:{line:1490,column:23}},"619":{start:{line:1493,column:0},end:{line:1509,column:2}},"620":{start:{line:1494,column:2},end:{line:1508,column:3}},"621":{start:{line:1495,column:17},end:{line:1495,column:39}},"622":{start:{line:1497,column:4},end:{line:1507,column:5}},"623":{start:{line:1498,column:6},end:{line:1502,column:9}},"624":{start:{line:1499,column:8},end:{line:1501,column:9}},"625":{start:{line:1500,column:10},end:{line:1500,column:41}},"626":{start:{line:1504,column:6},end:{line:1506,column:7}},"627":{start:{line:1505,column:8},end:{line:1505,column:29}},"628":{start:{line:1511,column:0},end:{line:1534,column:2}},"629":{start:{line:1512,column:2},end:{line:1514,column:3}},"630":{start:{line:1513,column:4},end:{line:1513,column:20}},"631":{start:{line:1516,column:31},end:{line:1516,column:78}},"632":{start:{line:1517,column:2},end:{line:1532,column:5}},"633":{start:{line:1518,column:22},end:{line:1518,column:37}},"634":{start:{line:1520,column:4},end:{line:1522,column:5}},"635":{start:{line:1521,column:6},end:{line:1521,column:38}},"636":{start:{line:1525,column:4},end:{line:1531,column:5}},"637":{start:{line:1526,column:6},end:{line:1526,column:33}},"638":{start:{line:1528,column:6},end:{line:1530,column:7}},"639":{start:{line:1529,column:8},end:{line:1529,column:40}},"640":{start:{line:1533,column:2},end:{line:1533,column:18}},"641":{start:{line:1536,column:15},end:{line:1536,column:24}},"642":{start:{line:1537,column:0},end:{line:1537,column:27}},"643":{start:{line:1538,column:0},end:{line:1538,column:27}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:14,column:9},end:{line:14,column:31}},loc:{start:{line:14,column:37},end:{line:14,column:95}},line:14},"1":{name:"RestWrite",decl:{start:{line:44,column:9},end:{line:44,column:18}},loc:{start:{line:44,column:99},end:{line:94,column:1}},line:44},"2":{name:"(anonymous_2)",decl:{start:{line:100,column:30},end:{line:100,column:31}},loc:{start:{line:100,column:42},end:{line:139,column:1}},line:100},"3":{name:"(anonymous_3)",decl:{start:{line:101,column:32},end:{line:101,column:33}},loc:{start:{line:101,column:38},end:{line:103,column:3}},line:101},"4":{name:"(anonymous_4)",decl:{start:{line:103,column:10},end:{line:103,column:11}},loc:{start:{line:103,column:16},end:{line:105,column:3}},line:103},"5":{name:"(anonymous_5)",decl:{start:{line:105,column:10},end:{line:105,column:11}},loc:{start:{line:105,column:16},end:{line:107,column:3}},line:105},"6":{name:"(anonymous_6)",decl:{start:{line:107,column:10},end:{line:107,column:11}},loc:{start:{line:107,column:16},end:{line:109,column:3}},line:107},"7":{name:"(anonymous_7)",decl:{start:{line:109,column:10},end:{line:109,column:11}},loc:{start:{line:109,column:16},end:{line:111,column:3}},line:109},"8":{name:"(anonymous_8)",decl:{start:{line:111,column:10},end:{line:111,column:11}},loc:{start:{line:111,column:16},end:{line:113,column:3}},line:111},"9":{name:"(anonymous_9)",decl:{start:{line:113,column:10},end:{line:113,column:11}},loc:{start:{line:113,column:16},end:{line:115,column:3}},line:113},"10":{name:"(anonymous_10)",decl:{start:{line:115,column:10},end:{line:115,column:11}},loc:{start:{line:115,column:16},end:{line:117,column:3}},line:115},"11":{name:"(anonymous_11)",decl:{start:{line:117,column:10},end:{line:117,column:11}},loc:{start:{line:117,column:30},end:{line:120,column:3}},line:117},"12":{name:"(anonymous_12)",decl:{start:{line:120,column:10},end:{line:120,column:11}},loc:{start:{line:120,column:16},end:{line:122,column:3}},line:120},"13":{name:"(anonymous_13)",decl:{start:{line:122,column:10},end:{line:122,column:11}},loc:{start:{line:122,column:16},end:{line:124,column:3}},line:122},"14":{name:"(anonymous_14)",decl:{start:{line:124,column:10},end:{line:124,column:11}},loc:{start:{line:124,column:16},end:{line:126,column:3}},line:124},"15":{name:"(anonymous_15)",decl:{start:{line:126,column:10},end:{line:126,column:11}},loc:{start:{line:126,column:16},end:{line:128,column:3}},line:126},"16":{name:"(anonymous_16)",decl:{start:{line:128,column:10},end:{line:128,column:11}},loc:{start:{line:128,column:16},end:{line:130,column:3}},line:128},"17":{name:"(anonymous_17)",decl:{start:{line:130,column:10},end:{line:130,column:11}},loc:{start:{line:130,column:16},end:{line:132,column:3}},line:130},"18":{name:"(anonymous_18)",decl:{start:{line:132,column:10},end:{line:132,column:11}},loc:{start:{line:132,column:16},end:{line:134,column:3}},line:132},"19":{name:"(anonymous_19)",decl:{start:{line:134,column:10},end:{line:134,column:11}},loc:{start:{line:134,column:16},end:{line:136,column:3}},line:134},"20":{name:"(anonymous_20)",decl:{start:{line:136,column:10},end:{line:136,column:11}},loc:{start:{line:136,column:16},end:{line:138,column:3}},line:136},"21":{name:"(anonymous_21)",decl:{start:{line:142,column:40},end:{line:142,column:41}},loc:{start:{line:142,column:52},end:{line:157,column:1}},line:142},"22":{name:"(anonymous_22)",decl:{start:{line:150,column:41},end:{line:150,column:42}},loc:{start:{line:150,column:50},end:{line:153,column:5}},line:150},"23":{name:"(anonymous_23)",decl:{start:{line:160,column:50},end:{line:160,column:51}},loc:{start:{line:160,column:62},end:{line:170,column:1}},line:160},"24":{name:"(anonymous_24)",decl:{start:{line:162,column:50},end:{line:162,column:51}},loc:{start:{line:162,column:70},end:{line:162,column:111}},line:162},"25":{name:"(anonymous_25)",decl:{start:{line:162,column:118},end:{line:162,column:119}},loc:{start:{line:162,column:130},end:{line:166,column:5}},line:162},"26":{name:"(anonymous_26)",decl:{start:{line:173,column:37},end:{line:173,column:38}},loc:{start:{line:173,column:49},end:{line:175,column:1}},line:173},"27":{name:"(anonymous_27)",decl:{start:{line:179,column:43},end:{line:179,column:44}},loc:{start:{line:179,column:55},end:{line:242,column:1}},line:179},"28":{name:"(anonymous_28)",decl:{start:{line:206,column:32},end:{line:206,column:33}},loc:{start:{line:206,column:38},end:{line:224,column:3}},line:206},"29":{name:"(anonymous_29)",decl:{start:{line:219,column:32},end:{line:219,column:33}},loc:{start:{line:219,column:42},end:{line:223,column:5}},line:219},"30":{name:"(anonymous_30)",decl:{start:{line:224,column:10},end:{line:224,column:11}},loc:{start:{line:224,column:16},end:{line:226,column:3}},line:224},"31":{name:"(anonymous_31)",decl:{start:{line:226,column:10},end:{line:226,column:11}},loc:{start:{line:226,column:22},end:{line:241,column:3}},line:226},"32":{name:"(anonymous_32)",decl:{start:{line:228,column:84},end:{line:228,column:85}},loc:{start:{line:228,column:108},end:{line:234,column:7}},line:228},"33":{name:"(anonymous_33)",decl:{start:{line:244,column:44},end:{line:244,column:45}},loc:{start:{line:244,column:70},end:{line:259,column:1}},line:244},"34":{name:"(anonymous_34)",decl:{start:{line:261,column:48},end:{line:261,column:49}},loc:{start:{line:261,column:60},end:{line:305,column:1}},line:261},"35":{name:"(anonymous_35)",decl:{start:{line:263,column:59},end:{line:263,column:60}},loc:{start:{line:263,column:73},end:{line:301,column:5}},line:263},"36":{name:"(anonymous_36)",decl:{start:{line:264,column:37},end:{line:264,column:38}},loc:{start:{line:264,column:49},end:{line:264,column:86}},line:264},"37":{name:"(anonymous_37)",decl:{start:{line:266,column:39},end:{line:266,column:40}},loc:{start:{line:266,column:66},end:{line:279,column:7}},line:266},"38":{name:"(anonymous_38)",decl:{start:{line:292,column:45},end:{line:292,column:46}},loc:{start:{line:292,column:58},end:{line:294,column:11}},line:292},"39":{name:"(anonymous_39)",decl:{start:{line:297,column:39},end:{line:297,column:40}},loc:{start:{line:297,column:52},end:{line:299,column:9}},line:297},"40":{name:"(anonymous_40)",decl:{start:{line:310,column:39},end:{line:310,column:40}},loc:{start:{line:310,column:51},end:{line:349,column:1}},line:310},"41":{name:"(anonymous_41)",decl:{start:{line:337,column:47},end:{line:337,column:48}},loc:{start:{line:337,column:72},end:{line:341,column:5}},line:337},"42":{name:"(anonymous_42)",decl:{start:{line:351,column:47},end:{line:351,column:48}},loc:{start:{line:351,column:67},end:{line:366,column:1}},line:351},"43":{name:"(anonymous_43)",decl:{start:{line:352,column:48},end:{line:352,column:49}},loc:{start:{line:352,column:60},end:{line:364,column:3}},line:352},"44":{name:"(anonymous_44)",decl:{start:{line:368,column:44},end:{line:368,column:45}},loc:{start:{line:368,column:64},end:{line:392,column:1}},line:368},"45":{name:"(anonymous_45)",decl:{start:{line:370,column:33},end:{line:370,column:34}},loc:{start:{line:370,column:53},end:{line:380,column:3}},line:370},"46":{name:"(anonymous_46)",decl:{start:{line:380,column:16},end:{line:380,column:17}},loc:{start:{line:380,column:21},end:{line:382,column:3}},line:380},"47":{name:"(anonymous_47)",decl:{start:{line:394,column:43},end:{line:394,column:44}},loc:{start:{line:394,column:62},end:{line:407,column:1}},line:394},"48":{name:"(anonymous_48)",decl:{start:{line:399,column:24},end:{line:399,column:25}},loc:{start:{line:399,column:34},end:{line:406,column:3}},line:399},"49":{name:"(anonymous_49)",decl:{start:{line:409,column:37},end:{line:409,column:38}},loc:{start:{line:409,column:57},end:{line:505,column:1}},line:409},"50":{name:"(anonymous_50)",decl:{start:{line:411,column:51},end:{line:411,column:52}},loc:{start:{line:411,column:62},end:{line:504,column:3}},line:411},"51":{name:"(anonymous_51)",decl:{start:{line:418,column:36},end:{line:418,column:37}},loc:{start:{line:418,column:48},end:{line:425,column:7}},line:418},"52":{name:"(anonymous_52)",decl:{start:{line:464,column:67},end:{line:464,column:68}},loc:{start:{line:464,column:79},end:{line:483,column:9}},line:464},"53":{name:"(anonymous_53)",decl:{start:{line:471,column:49},end:{line:471,column:50}},loc:{start:{line:471,column:61},end:{line:473,column:13}},line:471},"54":{name:"(anonymous_54)",decl:{start:{line:498,column:56},end:{line:498,column:57}},loc:{start:{line:498,column:62},end:{line:503,column:5}},line:498},"55":{name:"(anonymous_55)",decl:{start:{line:508,column:36},end:{line:508,column:37}},loc:{start:{line:508,column:48},end:{line:561,column:1}},line:508},"56":{name:"(anonymous_56)",decl:{start:{line:530,column:22},end:{line:530,column:23}},loc:{start:{line:530,column:33},end:{line:532,column:5}},line:530},"57":{name:"(anonymous_57)",decl:{start:{line:531,column:30},end:{line:531,column:31}},loc:{start:{line:531,column:41},end:{line:531,column:99}},line:531},"58":{name:"(anonymous_58)",decl:{start:{line:535,column:22},end:{line:535,column:23}},loc:{start:{line:535,column:28},end:{line:556,column:3}},line:535},"59":{name:"(anonymous_59)",decl:{start:{line:550,column:47},end:{line:550,column:48}},loc:{start:{line:550,column:53},end:{line:555,column:5}},line:550},"60":{name:"(anonymous_60)",decl:{start:{line:551,column:58},end:{line:551,column:59}},loc:{start:{line:551,column:76},end:{line:554,column:7}},line:551},"61":{name:"(anonymous_61)",decl:{start:{line:556,column:10},end:{line:556,column:11}},loc:{start:{line:556,column:16},end:{line:558,column:3}},line:556},"62":{name:"(anonymous_62)",decl:{start:{line:558,column:10},end:{line:558,column:11}},loc:{start:{line:558,column:16},end:{line:560,column:3}},line:558},"63":{name:"(anonymous_63)",decl:{start:{line:563,column:40},end:{line:563,column:41}},loc:{start:{line:563,column:52},end:{line:596,column:1}},line:563},"64":{name:"(anonymous_64)",decl:{start:{line:589,column:42},end:{line:589,column:43}},loc:{start:{line:589,column:53},end:{line:595,column:3}},line:589},"65":{name:"(anonymous_65)",decl:{start:{line:611,column:37},end:{line:611,column:38}},loc:{start:{line:611,column:49},end:{line:641,column:1}},line:611},"66":{name:"(anonymous_66)",decl:{start:{line:630,column:42},end:{line:630,column:43}},loc:{start:{line:630,column:53},end:{line:640,column:3}},line:630},"67":{name:"(anonymous_67)",decl:{start:{line:643,column:46},end:{line:643,column:47}},loc:{start:{line:643,column:58},end:{line:648,column:1}},line:643},"68":{name:"(anonymous_68)",decl:{start:{line:645,column:51},end:{line:645,column:52}},loc:{start:{line:645,column:57},end:{line:647,column:3}},line:645},"69":{name:"(anonymous_69)",decl:{start:{line:650,column:52},end:{line:650,column:53}},loc:{start:{line:650,column:64},end:{line:687,column:1}},line:650},"70":{name:"(anonymous_70)",decl:{start:{line:675,column:14},end:{line:675,column:15}},loc:{start:{line:675,column:25},end:{line:682,column:7}},line:675},"71":{name:"(anonymous_71)",decl:{start:{line:689,column:47},end:{line:689,column:48}},loc:{start:{line:689,column:59},end:{line:726,column:1}},line:689},"72":{name:"(anonymous_72)",decl:{start:{line:696,column:12},end:{line:696,column:13}},loc:{start:{line:696,column:23},end:{line:722,column:5}},line:696},"73":{name:"(anonymous_73)",decl:{start:{line:707,column:40},end:{line:707,column:41}},loc:{start:{line:707,column:56},end:{line:713,column:7}},line:707},"74":{name:"(anonymous_74)",decl:{start:{line:708,column:62},end:{line:708,column:63}},loc:{start:{line:708,column:72},end:{line:712,column:9}},line:708},"75":{name:"(anonymous_75)",decl:{start:{line:715,column:40},end:{line:715,column:41}},loc:{start:{line:715,column:46},end:{line:717,column:7}},line:715},"76":{name:"(anonymous_76)",decl:{start:{line:717,column:15},end:{line:717,column:16}},loc:{start:{line:717,column:22},end:{line:721,column:7}},line:717},"77":{name:"(anonymous_77)",decl:{start:{line:728,column:49},end:{line:728,column:50}},loc:{start:{line:728,column:61},end:{line:751,column:1}},line:728},"78":{name:"(anonymous_78)",decl:{start:{line:753,column:41},end:{line:753,column:42}},loc:{start:{line:753,column:59},end:{line:781,column:1}},line:753},"79":{name:"(anonymous_79)",decl:{start:{line:783,column:26},end:{line:783,column:27}},loc:{start:{line:788,column:3},end:{line:811,column:1}},line:788},"80":{name:"(anonymous_80)",decl:{start:{line:809,column:19},end:{line:809,column:20}},loc:{start:{line:809,column:25},end:{line:809,column:108}},line:809},"81":{name:"(anonymous_81)",decl:{start:{line:814,column:52},end:{line:814,column:53}},loc:{start:{line:814,column:64},end:{line:831,column:1}},line:814},"82":{name:"(anonymous_82)",decl:{start:{line:833,column:48},end:{line:833,column:49}},loc:{start:{line:833,column:60},end:{line:861,column:1}},line:833},"83":{name:"(anonymous_83)",decl:{start:{line:864,column:37},end:{line:864,column:38}},loc:{start:{line:864,column:49},end:{line:888,column:1}},line:864},"84":{name:"(anonymous_84)",decl:{start:{line:892,column:36},end:{line:892,column:37}},loc:{start:{line:892,column:48},end:{line:950,column:1}},line:892},"85":{name:"(anonymous_85)",decl:{start:{line:937,column:32},end:{line:937,column:33}},loc:{start:{line:937,column:43},end:{line:948,column:5}},line:937},"86":{name:"(anonymous_86)",decl:{start:{line:957,column:41},end:{line:957,column:42}},loc:{start:{line:957,column:53},end:{line:1184,column:1}},line:957},"87":{name:"(anonymous_87)",decl:{start:{line:1023,column:25},end:{line:1023,column:26}},loc:{start:{line:1023,column:31},end:{line:1027,column:3}},line:1023},"88":{name:"(anonymous_88)",decl:{start:{line:1027,column:10},end:{line:1027,column:11}},loc:{start:{line:1027,column:21},end:{line:1072,column:3}},line:1027},"89":{name:"(anonymous_89)",decl:{start:{line:1028,column:20},end:{line:1028,column:21}},loc:{start:{line:1028,column:30},end:{line:1040,column:5}},line:1028},"90":{name:"(anonymous_90)",decl:{start:{line:1072,column:10},end:{line:1072,column:11}},loc:{start:{line:1072,column:16},end:{line:1173,column:3}},line:1072},"91":{name:"(anonymous_91)",decl:{start:{line:1100,column:70},end:{line:1100,column:71}},loc:{start:{line:1100,column:77},end:{line:1108,column:9}},line:1100},"92":{name:"(anonymous_92)",decl:{start:{line:1119,column:76},end:{line:1119,column:77}},loc:{start:{line:1119,column:82},end:{line:1121,column:9}},line:1119},"93":{name:"(anonymous_93)",decl:{start:{line:1121,column:17},end:{line:1121,column:18}},loc:{start:{line:1121,column:24},end:{line:1129,column:9}},line:1121},"94":{name:"(anonymous_94)",decl:{start:{line:1158,column:72},end:{line:1158,column:73}},loc:{start:{line:1158,column:79},end:{line:1166,column:11}},line:1158},"95":{name:"(anonymous_95)",decl:{start:{line:1173,column:10},end:{line:1173,column:11}},loc:{start:{line:1173,column:19},end:{line:1182,column:3}},line:1173},"96":{name:"(anonymous_96)",decl:{start:{line:1189,column:52},end:{line:1189,column:53}},loc:{start:{line:1189,column:64},end:{line:1194,column:1}},line:1189},"97":{name:"(anonymous_97)",decl:{start:{line:1196,column:43},end:{line:1196,column:44}},loc:{start:{line:1196,column:55},end:{line:1368,column:1}},line:1196},"98":{name:"(anonymous_98)",decl:{start:{line:1243,column:14},end:{line:1243,column:15}},loc:{start:{line:1243,column:25},end:{line:1262,column:7}},line:1243},"99":{name:"(anonymous_99)",decl:{start:{line:1265,column:22},end:{line:1265,column:23}},loc:{start:{line:1265,column:28},end:{line:1276,column:5}},line:1265},"100":{name:"(anonymous_100)",decl:{start:{line:1267,column:144},end:{line:1267,column:145}},loc:{start:{line:1267,column:156},end:{line:1275,column:7}},line:1267},"101":{name:"(anonymous_101)",decl:{start:{line:1306,column:124},end:{line:1306,column:125}},loc:{start:{line:1306,column:133},end:{line:1351,column:5}},line:1306},"102":{name:"(anonymous_102)",decl:{start:{line:1331,column:14},end:{line:1331,column:15}},loc:{start:{line:1331,column:25},end:{line:1344,column:7}},line:1331},"103":{name:"(anonymous_103)",decl:{start:{line:1344,column:14},end:{line:1344,column:15}},loc:{start:{line:1344,column:25},end:{line:1350,column:7}},line:1344},"104":{name:"(anonymous_104)",decl:{start:{line:1351,column:12},end:{line:1351,column:13}},loc:{start:{line:1351,column:24},end:{line:1366,column:5}},line:1351},"105":{name:"(anonymous_105)",decl:{start:{line:1371,column:42},end:{line:1371,column:43}},loc:{start:{line:1371,column:54},end:{line:1418,column:1}},line:1371},"106":{name:"(anonymous_106)",decl:{start:{line:1405,column:41},end:{line:1405,column:42}},loc:{start:{line:1405,column:61},end:{line:1409,column:3}},line:1405},"107":{name:"(anonymous_107)",decl:{start:{line:1411,column:134},end:{line:1411,column:135}},loc:{start:{line:1411,column:144},end:{line:1415,column:3}},line:1411},"108":{name:"(anonymous_108)",decl:{start:{line:1415,column:11},end:{line:1415,column:12}},loc:{start:{line:1415,column:26},end:{line:1417,column:3}},line:1415},"109":{name:"(anonymous_109)",decl:{start:{line:1421,column:31},end:{line:1421,column:32}},loc:{start:{line:1421,column:43},end:{line:1425,column:1}},line:1421},"110":{name:"(anonymous_110)",decl:{start:{line:1429,column:31},end:{line:1429,column:32}},loc:{start:{line:1429,column:43},end:{line:1431,column:1}},line:1429},"111":{name:"(anonymous_111)",decl:{start:{line:1434,column:36},end:{line:1434,column:37}},loc:{start:{line:1434,column:48},end:{line:1444,column:1}},line:1434},"112":{name:"(anonymous_112)",decl:{start:{line:1435,column:45},end:{line:1435,column:46}},loc:{start:{line:1435,column:60},end:{line:1442,column:3}},line:1435},"113":{name:"(anonymous_113)",decl:{start:{line:1447,column:41},end:{line:1447,column:42}},loc:{start:{line:1447,column:62},end:{line:1491,column:1}},line:1447},"114":{name:"(anonymous_114)",decl:{start:{line:1458,column:32},end:{line:1458,column:33}},loc:{start:{line:1458,column:53},end:{line:1482,column:3}},line:1458},"115":{name:"(anonymous_115)",decl:{start:{line:1493,column:40},end:{line:1493,column:41}},loc:{start:{line:1493,column:52},end:{line:1509,column:1}},line:1493},"116":{name:"(anonymous_116)",decl:{start:{line:1498,column:41},end:{line:1498,column:42}},loc:{start:{line:1498,column:53},end:{line:1502,column:7}},line:1498},"117":{name:"(anonymous_117)",decl:{start:{line:1511,column:46},end:{line:1511,column:47}},loc:{start:{line:1511,column:72},end:{line:1534,column:1}},line:1511},"118":{name:"(anonymous_118)",decl:{start:{line:1517,column:46},end:{line:1517,column:47}},loc:{start:{line:1517,column:59},end:{line:1532,column:3}},line:1517}},branchMap:{"0":{loc:{start:{line:14,column:46},end:{line:14,column:92}},type:"cond-expr",locations:[{start:{line:14,column:70},end:{line:14,column:73}},{start:{line:14,column:76},end:{line:14,column:92}}],line:14},"1":{loc:{start:{line:14,column:46},end:{line:14,column:67}},type:"binary-expr",locations:[{start:{line:14,column:46},end:{line:14,column:49}},{start:{line:14,column:53},end:{line:14,column:67}}],line:14},"2":{loc:{start:{line:45,column:2},end:{line:47,column:3}},type:"if",locations:[{start:{line:45,column:2},end:{line:47,column:3}},{start:{line:45,column:2},end:{line:47,column:3}}],line:45},"3":{loc:{start:{line:55,column:17},end:{line:55,column:30}},type:"binary-expr",locations:[{start:{line:55,column:17},end:{line:55,column:24}},{start:{line:55,column:28},end:{line:55,column:30}}],line:55},"4":{loc:{start:{line:57,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:57,column:2},end:{line:59,column:3}},{start:{line:57,column:2},end:{line:59,column:3}}],line:57},"5":{loc:{start:{line:61,column:2},end:{line:75,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:75,column:3}},{start:{line:61,column:2},end:{line:75,column:3}}],line:61},"6":{loc:{start:{line:62,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:74,column:5}},{start:{line:62,column:4},end:{line:74,column:5}}],line:62},"7":{loc:{start:{line:63,column:6},end:{line:65,column:7}},type:"if",locations:[{start:{line:63,column:6},end:{line:65,column:7}},{start:{line:63,column:6},end:{line:65,column:7}}],line:63},"8":{loc:{start:{line:63,column:10},end:{line:63,column:82}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:64}},{start:{line:63,column:68},end:{line:63,column:82}}],line:63},"9":{loc:{start:{line:67,column:6},end:{line:69,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:69,column:7}},{start:{line:67,column:6},end:{line:69,column:7}}],line:67},"10":{loc:{start:{line:71,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:71,column:6},end:{line:73,column:7}},{start:{line:71,column:6},end:{line:73,column:7}}],line:71},"11":{loc:{start:{line:143,column:2},end:{line:145,column:3}},type:"if",locations:[{start:{line:143,column:2},end:{line:145,column:3}},{start:{line:143,column:2},end:{line:145,column:3}}],line:143},"12":{loc:{start:{line:149,column:2},end:{line:156,column:3}},type:"if",locations:[{start:{line:149,column:2},end:{line:156,column:3}},{start:{line:149,column:2},end:{line:156,column:3}}],line:149},"13":{loc:{start:{line:161,column:2},end:{line:169,column:3}},type:"if",locations:[{start:{line:161,column:2},end:{line:169,column:3}},{start:{line:161,column:2},end:{line:169,column:3}}],line:161},"14":{loc:{start:{line:161,column:6},end:{line:161,column:140}},type:"binary-expr",locations:[{start:{line:161,column:6},end:{line:161,column:52}},{start:{line:161,column:56},end:{line:161,column:75}},{start:{line:161,column:79},end:{line:161,column:140}}],line:161},"15":{loc:{start:{line:163,column:6},end:{line:165,column:7}},type:"if",locations:[{start:{line:163,column:6},end:{line:165,column:7}},{start:{line:163,column:6},end:{line:165,column:7}}],line:163},"16":{loc:{start:{line:180,column:2},end:{line:182,column:3}},type:"if",locations:[{start:{line:180,column:2},end:{line:182,column:3}},{start:{line:180,column:2},end:{line:182,column:3}}],line:180},"17":{loc:{start:{line:185,column:2},end:{line:187,column:3}},type:"if",locations:[{start:{line:185,column:2},end:{line:187,column:3}},{start:{line:185,column:2},end:{line:187,column:3}}],line:185},"18":{loc:{start:{line:194,column:2},end:{line:196,column:3}},type:"if",locations:[{start:{line:194,column:2},end:{line:196,column:3}},{start:{line:194,column:2},end:{line:196,column:3}}],line:194},"19":{loc:{start:{line:194,column:6},end:{line:194,column:39}},type:"binary-expr",locations:[{start:{line:194,column:6},end:{line:194,column:16}},{start:{line:194,column:20},end:{line:194,column:39}}],line:194},"20":{loc:{start:{line:201,column:2},end:{line:204,column:3}},type:"if",locations:[{start:{line:201,column:2},end:{line:204,column:3}},{start:{line:201,column:2},end:{line:204,column:3}}],line:201},"21":{loc:{start:{line:201,column:6},end:{line:201,column:39}},type:"binary-expr",locations:[{start:{line:201,column:6},end:{line:201,column:16}},{start:{line:201,column:20},end:{line:201,column:39}}],line:201},"22":{loc:{start:{line:210,column:4},end:{line:216,column:5}},type:"if",locations:[{start:{line:210,column:4},end:{line:216,column:5}},{start:{line:210,column:4},end:{line:216,column:5}}],line:210},"23":{loc:{start:{line:220,column:6},end:{line:222,column:7}},type:"if",locations:[{start:{line:220,column:6},end:{line:222,column:7}},{start:{line:220,column:6},end:{line:222,column:7}}],line:220},"24":{loc:{start:{line:220,column:10},end:{line:220,column:39}},type:"binary-expr",locations:[{start:{line:220,column:10},end:{line:220,column:17}},{start:{line:220,column:21},end:{line:220,column:39}}],line:220},"25":{loc:{start:{line:227,column:4},end:{line:240,column:5}},type:"if",locations:[{start:{line:227,column:4},end:{line:240,column:5}},{start:{line:227,column:4},end:{line:240,column:5}}],line:227},"26":{loc:{start:{line:227,column:8},end:{line:227,column:35}},type:"binary-expr",locations:[{start:{line:227,column:8},end:{line:227,column:16}},{start:{line:227,column:20},end:{line:227,column:35}}],line:227},"27":{loc:{start:{line:229,column:8},end:{line:231,column:9}},type:"if",locations:[{start:{line:229,column:8},end:{line:231,column:9}},{start:{line:229,column:8},end:{line:231,column:9}}],line:229},"28":{loc:{start:{line:237,column:6},end:{line:239,column:7}},type:"if",locations:[{start:{line:237,column:6},end:{line:239,column:7}},{start:{line:237,column:6},end:{line:239,column:7}}],line:237},"29":{loc:{start:{line:237,column:10},end:{line:237,column:43}},type:"binary-expr",locations:[{start:{line:237,column:10},end:{line:237,column:20}},{start:{line:237,column:24},end:{line:237,column:43}}],line:237},"30":{loc:{start:{line:246,column:2},end:{line:248,column:3}},type:"if",locations:[{start:{line:246,column:2},end:{line:248,column:3}},{start:{line:246,column:2},end:{line:248,column:3}}],line:246},"31":{loc:{start:{line:262,column:2},end:{line:302,column:3}},type:"if",locations:[{start:{line:262,column:2},end:{line:302,column:3}},{start:{line:262,column:2},end:{line:302,column:3}}],line:262},"32":{loc:{start:{line:267,column:8},end:{line:278,column:9}},type:"if",locations:[{start:{line:267,column:8},end:{line:278,column:9}},{start:{line:267,column:8},end:{line:278,column:9}}],line:267},"33":{loc:{start:{line:267,column:12},end:{line:267,column:196}},type:"binary-expr",locations:[{start:{line:267,column:12},end:{line:267,column:46}},{start:{line:267,column:50},end:{line:267,column:79}},{start:{line:267,column:83},end:{line:267,column:110}},{start:{line:267,column:114},end:{line:267,column:154}},{start:{line:267,column:158},end:{line:267,column:196}}],line:267},"34":{loc:{start:{line:268,column:10},end:{line:277,column:11}},type:"if",locations:[{start:{line:268,column:10},end:{line:277,column:11}},{start:{line:268,column:10},end:{line:277,column:11}}],line:268},"35":{loc:{start:{line:268,column:14},end:{line:268,column:283}},type:"binary-expr",locations:[{start:{line:268,column:14},end:{line:268,column:24}},{start:{line:268,column:28},end:{line:268,column:52}},{start:{line:268,column:56},end:{line:268,column:102}},{start:{line:268,column:106},end:{line:268,column:157}},{start:{line:268,column:162},end:{line:268,column:196}},{start:{line:268,column:200},end:{line:268,column:240}},{start:{line:268,column:244},end:{line:268,column:282}}],line:268},"36":{loc:{start:{line:270,column:50},end:{line:270,column:91}},type:"binary-expr",locations:[{start:{line:270,column:50},end:{line:270,column:85}},{start:{line:270,column:89},end:{line:270,column:91}}],line:270},"37":{loc:{start:{line:272,column:12},end:{line:274,column:13}},type:"if",locations:[{start:{line:272,column:12},end:{line:274,column:13}},{start:{line:272,column:12},end:{line:274,column:13}}],line:272},"38":{loc:{start:{line:275,column:17},end:{line:277,column:11}},type:"if",locations:[{start:{line:275,column:17},end:{line:277,column:11}},{start:{line:275,column:17},end:{line:277,column:11}}],line:275},"39":{loc:{start:{line:275,column:21},end:{line:275,column:91}},type:"binary-expr",locations:[{start:{line:275,column:21},end:{line:275,column:45}},{start:{line:275,column:49},end:{line:275,column:91}}],line:275},"40":{loc:{start:{line:284,column:6},end:{line:300,column:7}},type:"if",locations:[{start:{line:284,column:6},end:{line:300,column:7}},{start:{line:284,column:6},end:{line:300,column:7}}],line:284},"41":{loc:{start:{line:287,column:8},end:{line:289,column:9}},type:"if",locations:[{start:{line:287,column:8},end:{line:289,column:9}},{start:{line:287,column:8},end:{line:289,column:9}}],line:287},"42":{loc:{start:{line:291,column:8},end:{line:295,column:9}},type:"if",locations:[{start:{line:291,column:8},end:{line:295,column:9}},{start:{line:291,column:8},end:{line:295,column:9}}],line:291},"43":{loc:{start:{line:296,column:13},end:{line:300,column:7}},type:"if",locations:[{start:{line:296,column:13},end:{line:300,column:7}},{start:{line:296,column:13},end:{line:300,column:7}}],line:296},"44":{loc:{start:{line:311,column:2},end:{line:313,column:3}},type:"if",locations:[{start:{line:311,column:2},end:{line:313,column:3}},{start:{line:311,column:2},end:{line:313,column:3}}],line:311},"45":{loc:{start:{line:315,column:2},end:{line:323,column:3}},type:"if",locations:[{start:{line:315,column:2},end:{line:323,column:3}},{start:{line:315,column:2},end:{line:323,column:3}}],line:315},"46":{loc:{start:{line:315,column:6},end:{line:315,column:40}},type:"binary-expr",locations:[{start:{line:315,column:6},end:{line:315,column:17}},{start:{line:315,column:21},end:{line:315,column:40}}],line:315},"47":{loc:{start:{line:316,column:4},end:{line:318,column:5}},type:"if",locations:[{start:{line:316,column:4},end:{line:318,column:5}},{start:{line:316,column:4},end:{line:318,column:5}}],line:316},"48":{loc:{start:{line:316,column:8},end:{line:316,column:93}},type:"binary-expr",locations:[{start:{line:316,column:8},end:{line:316,column:46}},{start:{line:316,column:50},end:{line:316,column:93}}],line:316},"49":{loc:{start:{line:320,column:4},end:{line:322,column:5}},type:"if",locations:[{start:{line:320,column:4},end:{line:322,column:5}},{start:{line:320,column:4},end:{line:322,column:5}}],line:320},"50":{loc:{start:{line:320,column:8},end:{line:320,column:93}},type:"binary-expr",locations:[{start:{line:320,column:8},end:{line:320,column:46}},{start:{line:320,column:50},end:{line:320,column:93}}],line:320},"51":{loc:{start:{line:325,column:2},end:{line:331,column:3}},type:"if",locations:[{start:{line:325,column:2},end:{line:331,column:3}},{start:{line:325,column:2},end:{line:331,column:3}}],line:325},"52":{loc:{start:{line:325,column:6},end:{line:325,column:131}},type:"binary-expr",locations:[{start:{line:325,column:6},end:{line:325,column:24}},{start:{line:325,column:28},end:{line:325,column:67}},{start:{line:325,column:71},end:{line:325,column:131}}],line:325},"53":{loc:{start:{line:328,column:9},end:{line:331,column:3}},type:"if",locations:[{start:{line:328,column:9},end:{line:331,column:3}},{start:{line:328,column:9},end:{line:331,column:3}}],line:328},"54":{loc:{start:{line:328,column:13},end:{line:328,column:95}},type:"binary-expr",locations:[{start:{line:328,column:13},end:{line:328,column:72}},{start:{line:328,column:76},end:{line:328,column:95}}],line:328},"55":{loc:{start:{line:336,column:2},end:{line:346,column:3}},type:"if",locations:[{start:{line:336,column:2},end:{line:346,column:3}},{start:{line:336,column:2},end:{line:346,column:3}}],line:336},"56":{loc:{start:{line:339,column:21},end:{line:339,column:60}},type:"binary-expr",locations:[{start:{line:339,column:21},end:{line:339,column:37}},{start:{line:339,column:41},end:{line:339,column:60}}],line:339},"57":{loc:{start:{line:340,column:13},end:{line:340,column:64}},type:"binary-expr",locations:[{start:{line:340,column:13},end:{line:340,column:22}},{start:{line:340,column:27},end:{line:340,column:35}},{start:{line:340,column:39},end:{line:340,column:63}}],line:340},"58":{loc:{start:{line:343,column:4},end:{line:345,column:5}},type:"if",locations:[{start:{line:343,column:4},end:{line:345,column:5}},{start:{line:343,column:4},end:{line:345,column:5}}],line:343},"59":{loc:{start:{line:353,column:4},end:{line:355,column:5}},type:"if",locations:[{start:{line:353,column:4},end:{line:355,column:5}},{start:{line:353,column:4},end:{line:355,column:5}}],line:353},"60":{loc:{start:{line:359,column:4},end:{line:361,column:5}},type:"if",locations:[{start:{line:359,column:4},end:{line:361,column:5}},{start:{line:359,column:4},end:{line:361,column:5}}],line:359},"61":{loc:{start:{line:371,column:4},end:{line:373,column:5}},type:"if",locations:[{start:{line:371,column:4},end:{line:373,column:5}},{start:{line:371,column:4},end:{line:373,column:5}}],line:371},"62":{loc:{start:{line:385,column:2},end:{line:389,column:3}},type:"if",locations:[{start:{line:385,column:2},end:{line:389,column:3}},{start:{line:385,column:2},end:{line:389,column:3}}],line:385},"63":{loc:{start:{line:395,column:2},end:{line:397,column:3}},type:"if",locations:[{start:{line:395,column:2},end:{line:397,column:3}},{start:{line:395,column:2},end:{line:397,column:3}}],line:395},"64":{loc:{start:{line:400,column:4},end:{line:402,column:5}},type:"if",locations:[{start:{line:400,column:4},end:{line:402,column:5}},{start:{line:400,column:4},end:{line:402,column:5}}],line:400},"65":{loc:{start:{line:405,column:11},end:{line:405,column:59}},type:"binary-expr",locations:[{start:{line:405,column:11},end:{line:405,column:21}},{start:{line:405,column:25},end:{line:405,column:59}}],line:405},"66":{loc:{start:{line:414,column:4},end:{line:496,column:5}},type:"if",locations:[{start:{line:414,column:4},end:{line:496,column:5}},{start:{line:414,column:4},end:{line:496,column:5}}],line:414},"67":{loc:{start:{line:422,column:8},end:{line:424,column:9}},type:"if",locations:[{start:{line:422,column:8},end:{line:424,column:9}},{start:{line:422,column:8},end:{line:424,column:9}}],line:422},"68":{loc:{start:{line:429,column:6},end:{line:433,column:7}},type:"if",locations:[{start:{line:429,column:6},end:{line:433,column:7}},{start:{line:429,column:6},end:{line:433,column:7}}],line:429},"69":{loc:{start:{line:429,column:10},end:{line:429,column:43}},type:"binary-expr",locations:[{start:{line:429,column:10},end:{line:429,column:20}},{start:{line:429,column:24},end:{line:429,column:43}}],line:429},"70":{loc:{start:{line:431,column:13},end:{line:433,column:7}},type:"if",locations:[{start:{line:431,column:13},end:{line:433,column:7}},{start:{line:431,column:13},end:{line:433,column:7}}],line:431},"71":{loc:{start:{line:431,column:17},end:{line:431,column:65}},type:"binary-expr",locations:[{start:{line:431,column:17},end:{line:431,column:26}},{start:{line:431,column:30},end:{line:431,column:44}},{start:{line:431,column:48},end:{line:431,column:65}}],line:431},"72":{loc:{start:{line:435,column:6},end:{line:495,column:7}},type:"if",locations:[{start:{line:435,column:6},end:{line:495,column:7}},{start:{line:435,column:6},end:{line:495,column:7}}],line:435},"73":{loc:{start:{line:435,column:10},end:{line:435,column:51}},type:"binary-expr",locations:[{start:{line:435,column:10},end:{line:435,column:17}},{start:{line:435,column:21},end:{line:435,column:51}}],line:435},"74":{loc:{start:{line:443,column:8},end:{line:453,column:9}},type:"if",locations:[{start:{line:443,column:8},end:{line:453,column:9}},{start:{line:443,column:8},end:{line:453,column:9}}],line:443},"75":{loc:{start:{line:443,column:12},end:{line:443,column:47}},type:"binary-expr",locations:[{start:{line:443,column:12},end:{line:443,column:23}},{start:{line:443,column:27},end:{line:443,column:47}}],line:443},"76":{loc:{start:{line:456,column:8},end:{line:458,column:9}},type:"if",locations:[{start:{line:456,column:8},end:{line:458,column:9}},{start:{line:456,column:8},end:{line:458,column:9}}],line:456},"77":{loc:{start:{line:469,column:10},end:{line:482,column:11}},type:"if",locations:[{start:{line:469,column:10},end:{line:482,column:11}},{start:{line:469,column:10},end:{line:482,column:11}}],line:469},"78":{loc:{start:{line:484,column:13},end:{line:495,column:7}},type:"if",locations:[{start:{line:484,column:13},end:{line:495,column:7}},{start:{line:484,column:13},end:{line:495,column:7}}],line:484},"79":{loc:{start:{line:487,column:8},end:{line:489,column:9}},type:"if",locations:[{start:{line:487,column:8},end:{line:489,column:9}},{start:{line:487,column:8},end:{line:489,column:9}}],line:487},"80":{loc:{start:{line:492,column:8},end:{line:494,column:9}},type:"if",locations:[{start:{line:492,column:8},end:{line:494,column:9}},{start:{line:492,column:8},end:{line:494,column:9}}],line:492},"81":{loc:{start:{line:499,column:6},end:{line:502,column:7}},type:"if",locations:[{start:{line:499,column:6},end:{line:502,column:7}},{start:{line:499,column:6},end:{line:502,column:7}}],line:499},"82":{loc:{start:{line:511,column:2},end:{line:513,column:3}},type:"if",locations:[{start:{line:511,column:2},end:{line:513,column:3}},{start:{line:511,column:2},end:{line:513,column:3}}],line:511},"83":{loc:{start:{line:515,column:2},end:{line:518,column:3}},type:"if",locations:[{start:{line:515,column:2},end:{line:518,column:3}},{start:{line:515,column:2},end:{line:518,column:3}}],line:515},"84":{loc:{start:{line:515,column:6},end:{line:515,column:57}},type:"binary-expr",locations:[{start:{line:515,column:6},end:{line:515,column:25}},{start:{line:515,column:29},end:{line:515,column:57}}],line:515},"85":{loc:{start:{line:521,column:2},end:{line:533,column:3}},type:"if",locations:[{start:{line:521,column:2},end:{line:533,column:3}},{start:{line:521,column:2},end:{line:533,column:3}}],line:521},"86":{loc:{start:{line:521,column:6},end:{line:521,column:35}},type:"binary-expr",locations:[{start:{line:521,column:6},end:{line:521,column:16}},{start:{line:521,column:20},end:{line:521,column:35}}],line:521},"87":{loc:{start:{line:537,column:4},end:{line:540,column:5}},type:"if",locations:[{start:{line:537,column:4},end:{line:540,column:5}},{start:{line:537,column:4},end:{line:540,column:5}}],line:537},"88":{loc:{start:{line:542,column:4},end:{line:548,column:5}},type:"if",locations:[{start:{line:542,column:4},end:{line:548,column:5}},{start:{line:542,column:4},end:{line:548,column:5}}],line:542},"89":{loc:{start:{line:545,column:6},end:{line:547,column:7}},type:"if",locations:[{start:{line:545,column:6},end:{line:547,column:7}},{start:{line:545,column:6},end:{line:547,column:7}}],line:545},"90":{loc:{start:{line:565,column:2},end:{line:572,column:3}},type:"if",locations:[{start:{line:565,column:2},end:{line:572,column:3}},{start:{line:565,column:2},end:{line:572,column:3}}],line:565},"91":{loc:{start:{line:566,column:4},end:{line:569,column:5}},type:"if",locations:[{start:{line:566,column:4},end:{line:569,column:5}},{start:{line:566,column:4},end:{line:569,column:5}}],line:566},"92":{loc:{start:{line:590,column:4},end:{line:592,column:5}},type:"if",locations:[{start:{line:590,column:4},end:{line:592,column:5}},{start:{line:590,column:4},end:{line:592,column:5}}],line:590},"93":{loc:{start:{line:612,column:2},end:{line:614,column:3}},type:"if",locations:[{start:{line:612,column:2},end:{line:614,column:3}},{start:{line:612,column:2},end:{line:614,column:3}}],line:612},"94":{loc:{start:{line:612,column:6},end:{line:612,column:59}},type:"binary-expr",locations:[{start:{line:612,column:6},end:{line:612,column:22}},{start:{line:612,column:26},end:{line:612,column:59}}],line:612},"95":{loc:{start:{line:617,column:2},end:{line:619,column:3}},type:"if",locations:[{start:{line:617,column:2},end:{line:619,column:3}},{start:{line:617,column:2},end:{line:619,column:3}}],line:617},"96":{loc:{start:{line:631,column:4},end:{line:633,column:5}},type:"if",locations:[{start:{line:631,column:4},end:{line:633,column:5}},{start:{line:631,column:4},end:{line:633,column:5}}],line:631},"97":{loc:{start:{line:635,column:4},end:{line:639,column:5}},type:"if",locations:[{start:{line:635,column:4},end:{line:639,column:5}},{start:{line:635,column:4},end:{line:639,column:5}}],line:635},"98":{loc:{start:{line:635,column:8},end:{line:635,column:172}},type:"binary-expr",locations:[{start:{line:635,column:8},end:{line:635,column:27}},{start:{line:635,column:31},end:{line:635,column:70}},{start:{line:635,column:74},end:{line:635,column:118}},{start:{line:635,column:122},end:{line:635,column:172}}],line:635},"99":{loc:{start:{line:644,column:2},end:{line:644,column:60}},type:"if",locations:[{start:{line:644,column:2},end:{line:644,column:60}},{start:{line:644,column:2},end:{line:644,column:60}}],line:644},"100":{loc:{start:{line:659,column:22},end:{line:659,column:170}},type:"cond-expr",locations:[{start:{line:659,column:67},end:{line:659,column:109}},{start:{line:659,column:112},end:{line:659,column:170}}],line:659},"101":{loc:{start:{line:662,column:2},end:{line:664,column:3}},type:"if",locations:[{start:{line:662,column:2},end:{line:664,column:3}},{start:{line:662,column:2},end:{line:664,column:3}}],line:662},"102":{loc:{start:{line:662,column:6},end:{line:662,column:234}},type:"binary-expr",locations:[{start:{line:662,column:6},end:{line:662,column:49}},{start:{line:662,column:53},end:{line:662,column:117}},{start:{line:662,column:121},end:{line:662,column:165}},{start:{line:662,column:169},end:{line:662,column:234}}],line:662},"103":{loc:{start:{line:667,column:2},end:{line:684,column:3}},type:"if",locations:[{start:{line:667,column:2},end:{line:684,column:3}},{start:{line:667,column:2},end:{line:684,column:3}}],line:667},"104":{loc:{start:{line:668,column:4},end:{line:683,column:5}},type:"if",locations:[{start:{line:668,column:4},end:{line:683,column:5}},{start:{line:668,column:4},end:{line:683,column:5}}],line:668},"105":{loc:{start:{line:670,column:6},end:{line:670,column:155}},type:"if",locations:[{start:{line:670,column:6},end:{line:670,column:155}},{start:{line:670,column:6},end:{line:670,column:155}}],line:670},"106":{loc:{start:{line:676,column:8},end:{line:678,column:9}},type:"if",locations:[{start:{line:676,column:8},end:{line:678,column:9}},{start:{line:676,column:8},end:{line:678,column:9}}],line:676},"107":{loc:{start:{line:680,column:8},end:{line:680,column:158}},type:"if",locations:[{start:{line:680,column:8},end:{line:680,column:158}},{start:{line:680,column:8},end:{line:680,column:158}}],line:680},"108":{loc:{start:{line:691,column:2},end:{line:723,column:3}},type:"if",locations:[{start:{line:691,column:2},end:{line:723,column:3}},{start:{line:691,column:2},end:{line:723,column:3}}],line:691},"109":{loc:{start:{line:691,column:6},end:{line:691,column:65}},type:"binary-expr",locations:[{start:{line:691,column:6},end:{line:691,column:16}},{start:{line:691,column:20},end:{line:691,column:65}}],line:691},"110":{loc:{start:{line:697,column:6},end:{line:699,column:7}},type:"if",locations:[{start:{line:697,column:6},end:{line:699,column:7}},{start:{line:697,column:6},end:{line:699,column:7}}],line:697},"111":{loc:{start:{line:703,column:6},end:{line:703,column:145}},type:"if",locations:[{start:{line:703,column:6},end:{line:703,column:145}},{start:{line:703,column:6},end:{line:703,column:145}}],line:703},"112":{loc:{start:{line:709,column:10},end:{line:710,column:53}},type:"if",locations:[{start:{line:709,column:10},end:{line:710,column:53}},{start:{line:709,column:10},end:{line:710,column:53}}],line:709},"113":{loc:{start:{line:718,column:8},end:{line:719,column:186}},type:"if",locations:[{start:{line:718,column:8},end:{line:719,column:186}},{start:{line:718,column:8},end:{line:719,column:186}}],line:718},"114":{loc:{start:{line:729,column:2},end:{line:731,column:3}},type:"if",locations:[{start:{line:729,column:2},end:{line:731,column:3}},{start:{line:729,column:2},end:{line:731,column:3}}],line:729},"115":{loc:{start:{line:734,column:2},end:{line:736,column:3}},type:"if",locations:[{start:{line:734,column:2},end:{line:736,column:3}},{start:{line:734,column:2},end:{line:736,column:3}}],line:734},"116":{loc:{start:{line:734,column:6},end:{line:734,column:39}},type:"binary-expr",locations:[{start:{line:734,column:6},end:{line:734,column:16}},{start:{line:734,column:20},end:{line:734,column:39}}],line:734},"117":{loc:{start:{line:739,column:2},end:{line:741,column:3}},type:"if",locations:[{start:{line:739,column:2},end:{line:741,column:3}},{start:{line:739,column:2},end:{line:741,column:3}}],line:739},"118":{loc:{start:{line:739,column:6},end:{line:739,column:42}},type:"binary-expr",locations:[{start:{line:739,column:6},end:{line:739,column:20}},{start:{line:739,column:24},end:{line:739,column:42}}],line:739},"119":{loc:{start:{line:743,column:2},end:{line:748,column:3}},type:"if",locations:[{start:{line:743,column:2},end:{line:748,column:3}},{start:{line:743,column:2},end:{line:748,column:3}}],line:743},"120":{loc:{start:{line:743,column:6},end:{line:745,column:30}},type:"binary-expr",locations:[{start:{line:743,column:6},end:{line:743,column:35}},{start:{line:744,column:2},end:{line:744,column:45}},{start:{line:745,column:2},end:{line:745,column:30}}],line:743},"121":{loc:{start:{line:756,column:2},end:{line:758,column:3}},type:"if",locations:[{start:{line:756,column:2},end:{line:758,column:3}},{start:{line:756,column:2},end:{line:758,column:3}}],line:756},"122":{loc:{start:{line:756,column:6},end:{line:756,column:70}},type:"binary-expr",locations:[{start:{line:756,column:6},end:{line:756,column:30}},{start:{line:756,column:34},end:{line:756,column:70}}],line:756},"123":{loc:{start:{line:760,column:2},end:{line:762,column:3}},type:"if",locations:[{start:{line:760,column:2},end:{line:762,column:3}},{start:{line:760,column:2},end:{line:762,column:3}}],line:760},"124":{loc:{start:{line:760,column:6},end:{line:760,column:64}},type:"binary-expr",locations:[{start:{line:760,column:6},end:{line:760,column:42}},{start:{line:760,column:46},end:{line:760,column:64}}],line:760},"125":{loc:{start:{line:770,column:14},end:{line:770,column:63}},type:"cond-expr",locations:[{start:{line:770,column:45},end:{line:770,column:52}},{start:{line:770,column:55},end:{line:770,column:63}}],line:770},"126":{loc:{start:{line:771,column:20},end:{line:771,column:62}},type:"binary-expr",locations:[{start:{line:771,column:20},end:{line:771,column:48}},{start:{line:771,column:52},end:{line:771,column:62}}],line:771},"127":{loc:{start:{line:776,column:2},end:{line:778,column:3}},type:"if",locations:[{start:{line:776,column:2},end:{line:778,column:3}},{start:{line:776,column:2},end:{line:778,column:3}}],line:776},"128":{loc:{start:{line:776,column:6},end:{line:776,column:45}},type:"binary-expr",locations:[{start:{line:776,column:6},end:{line:776,column:19}},{start:{line:776,column:23},end:{line:776,column:45}}],line:776},"129":{loc:{start:{line:802,column:2},end:{line:804,column:3}},type:"if",locations:[{start:{line:802,column:2},end:{line:804,column:3}},{start:{line:802,column:2},end:{line:804,column:3}}],line:802},"130":{loc:{start:{line:815,column:2},end:{line:818,column:3}},type:"if",locations:[{start:{line:815,column:2},end:{line:818,column:3}},{start:{line:815,column:2},end:{line:818,column:3}}],line:815},"131":{loc:{start:{line:815,column:6},end:{line:815,column:55}},type:"binary-expr",locations:[{start:{line:815,column:6},end:{line:815,column:32}},{start:{line:815,column:36},end:{line:815,column:55}}],line:815},"132":{loc:{start:{line:820,column:2},end:{line:830,column:3}},type:"if",locations:[{start:{line:820,column:2},end:{line:830,column:3}},{start:{line:820,column:2},end:{line:830,column:3}}],line:820},"133":{loc:{start:{line:820,column:6},end:{line:820,column:53}},type:"binary-expr",locations:[{start:{line:820,column:6},end:{line:820,column:29}},{start:{line:820,column:33},end:{line:820,column:53}}],line:820},"134":{loc:{start:{line:835,column:2},end:{line:837,column:3}},type:"if",locations:[{start:{line:835,column:2},end:{line:837,column:3}},{start:{line:835,column:2},end:{line:837,column:3}}],line:835},"135":{loc:{start:{line:835,column:6},end:{line:835,column:48}},type:"binary-expr",locations:[{start:{line:835,column:6},end:{line:835,column:34}},{start:{line:835,column:38},end:{line:835,column:48}}],line:835},"136":{loc:{start:{line:846,column:2},end:{line:848,column:3}},type:"if",locations:[{start:{line:846,column:2},end:{line:848,column:3}},{start:{line:846,column:2},end:{line:848,column:3}}],line:846},"137":{loc:{start:{line:846,column:6},end:{line:846,column:30}},type:"binary-expr",locations:[{start:{line:846,column:6},end:{line:846,column:11}},{start:{line:846,column:15},end:{line:846,column:30}}],line:846},"138":{loc:{start:{line:850,column:2},end:{line:852,column:3}},type:"if",locations:[{start:{line:850,column:2},end:{line:852,column:3}},{start:{line:850,column:2},end:{line:852,column:3}}],line:850},"139":{loc:{start:{line:865,column:2},end:{line:875,column:3}},type:"if",locations:[{start:{line:865,column:2},end:{line:875,column:3}},{start:{line:865,column:2},end:{line:875,column:3}}],line:865},"140":{loc:{start:{line:865,column:6},end:{line:865,column:95}},type:"binary-expr",locations:[{start:{line:865,column:6},end:{line:865,column:18}},{start:{line:865,column:22},end:{line:865,column:51}},{start:{line:865,column:55},end:{line:865,column:95}}],line:865},"141":{loc:{start:{line:877,column:2},end:{line:880,column:3}},type:"if",locations:[{start:{line:877,column:2},end:{line:880,column:3}},{start:{line:877,column:2},end:{line:880,column:3}}],line:877},"142":{loc:{start:{line:877,column:6},end:{line:877,column:56}},type:"binary-expr",locations:[{start:{line:877,column:6},end:{line:877,column:18}},{start:{line:877,column:22},end:{line:877,column:56}}],line:877},"143":{loc:{start:{line:882,column:2},end:{line:887,column:3}},type:"if",locations:[{start:{line:882,column:2},end:{line:887,column:3}},{start:{line:882,column:2},end:{line:887,column:3}}],line:882},"144":{loc:{start:{line:882,column:6},end:{line:882,column:59}},type:"binary-expr",locations:[{start:{line:882,column:6},end:{line:882,column:18}},{start:{line:882,column:22},end:{line:882,column:59}}],line:882},"145":{loc:{start:{line:893,column:2},end:{line:895,column:3}},type:"if",locations:[{start:{line:893,column:2},end:{line:895,column:3}},{start:{line:893,column:2},end:{line:895,column:3}}],line:893},"146":{loc:{start:{line:893,column:6},end:{line:893,column:52}},type:"binary-expr",locations:[{start:{line:893,column:6},end:{line:893,column:19}},{start:{line:893,column:23},end:{line:893,column:52}}],line:893},"147":{loc:{start:{line:897,column:2},end:{line:899,column:3}},type:"if",locations:[{start:{line:897,column:2},end:{line:899,column:3}},{start:{line:897,column:2},end:{line:899,column:3}}],line:897},"148":{loc:{start:{line:897,column:6},end:{line:897,column:44}},type:"binary-expr",locations:[{start:{line:897,column:6},end:{line:897,column:21}},{start:{line:897,column:25},end:{line:897,column:44}}],line:897},"149":{loc:{start:{line:902,column:2},end:{line:904,column:3}},type:"if",locations:[{start:{line:902,column:2},end:{line:904,column:3}},{start:{line:902,column:2},end:{line:904,column:3}}],line:902},"150":{loc:{start:{line:906,column:2},end:{line:914,column:3}},type:"if",locations:[{start:{line:906,column:2},end:{line:914,column:3}},{start:{line:906,column:2},end:{line:914,column:3}}],line:906},"151":{loc:{start:{line:907,column:4},end:{line:913,column:5}},type:"if",locations:[{start:{line:907,column:4},end:{line:913,column:5}},{start:{line:907,column:4},end:{line:913,column:5}}],line:907},"152":{loc:{start:{line:907,column:8},end:{line:907,column:93}},type:"binary-expr",locations:[{start:{line:907,column:8},end:{line:907,column:22}},{start:{line:907,column:26},end:{line:907,column:45}},{start:{line:907,column:49},end:{line:907,column:93}}],line:907},"153":{loc:{start:{line:909,column:11},end:{line:913,column:5}},type:"if",locations:[{start:{line:909,column:11},end:{line:913,column:5}},{start:{line:909,column:11},end:{line:913,column:5}}],line:909},"154":{loc:{start:{line:911,column:11},end:{line:913,column:5}},type:"if",locations:[{start:{line:911,column:11},end:{line:913,column:5}},{start:{line:911,column:11},end:{line:913,column:5}}],line:911},"155":{loc:{start:{line:916,column:2},end:{line:949,column:3}},type:"if",locations:[{start:{line:916,column:2},end:{line:949,column:3}},{start:{line:916,column:2},end:{line:949,column:3}}],line:916},"156":{loc:{start:{line:916,column:6},end:{line:916,column:40}},type:"binary-expr",locations:[{start:{line:916,column:6},end:{line:916,column:17}},{start:{line:916,column:21},end:{line:916,column:40}}],line:916},"157":{loc:{start:{line:920,column:6},end:{line:922,column:7}},type:"if",locations:[{start:{line:920,column:6},end:{line:922,column:7}},{start:{line:920,column:6},end:{line:922,column:7}}],line:920},"158":{loc:{start:{line:920,column:10},end:{line:920,column:46}},type:"binary-expr",locations:[{start:{line:920,column:10},end:{line:920,column:28}},{start:{line:920,column:32},end:{line:920,column:46}}],line:920},"159":{loc:{start:{line:938,column:6},end:{line:940,column:7}},type:"if",locations:[{start:{line:938,column:6},end:{line:940,column:7}},{start:{line:938,column:6},end:{line:940,column:7}}],line:938},"160":{loc:{start:{line:958,column:2},end:{line:960,column:3}},type:"if",locations:[{start:{line:958,column:2},end:{line:960,column:3}},{start:{line:958,column:2},end:{line:960,column:3}}],line:958},"161":{loc:{start:{line:958,column:6},end:{line:958,column:57}},type:"binary-expr",locations:[{start:{line:958,column:6},end:{line:958,column:19}},{start:{line:958,column:23},end:{line:958,column:57}}],line:958},"162":{loc:{start:{line:962,column:2},end:{line:964,column:3}},type:"if",locations:[{start:{line:962,column:2},end:{line:964,column:3}},{start:{line:962,column:2},end:{line:964,column:3}}],line:962},"163":{loc:{start:{line:962,column:6},end:{line:962,column:101}},type:"binary-expr",locations:[{start:{line:962,column:6},end:{line:962,column:17}},{start:{line:962,column:21},end:{line:962,column:43}},{start:{line:962,column:47},end:{line:962,column:72}},{start:{line:962,column:76},end:{line:962,column:101}}],line:962},"164":{loc:{start:{line:968,column:2},end:{line:970,column:3}},type:"if",locations:[{start:{line:968,column:2},end:{line:970,column:3}},{start:{line:968,column:2},end:{line:970,column:3}}],line:968},"165":{loc:{start:{line:968,column:6},end:{line:968,column:65}},type:"binary-expr",locations:[{start:{line:968,column:6},end:{line:968,column:27}},{start:{line:968,column:31},end:{line:968,column:65}}],line:968},"166":{loc:{start:{line:973,column:2},end:{line:975,column:3}},type:"if",locations:[{start:{line:973,column:2},end:{line:975,column:3}},{start:{line:973,column:2},end:{line:975,column:3}}],line:973},"167":{loc:{start:{line:979,column:2},end:{line:981,column:3}},type:"if",locations:[{start:{line:979,column:2},end:{line:981,column:3}},{start:{line:979,column:2},end:{line:981,column:3}}],line:979},"168":{loc:{start:{line:979,column:6},end:{line:979,column:44}},type:"binary-expr",locations:[{start:{line:979,column:6},end:{line:979,column:21}},{start:{line:979,column:25},end:{line:979,column:44}}],line:979},"169":{loc:{start:{line:983,column:2},end:{line:985,column:3}},type:"if",locations:[{start:{line:983,column:2},end:{line:985,column:3}},{start:{line:983,column:2},end:{line:985,column:3}}],line:983},"170":{loc:{start:{line:988,column:2},end:{line:990,column:3}},type:"if",locations:[{start:{line:988,column:2},end:{line:990,column:3}},{start:{line:988,column:2},end:{line:990,column:3}}],line:988},"171":{loc:{start:{line:988,column:6},end:{line:988,column:86}},type:"binary-expr",locations:[{start:{line:988,column:6},end:{line:988,column:16}},{start:{line:988,column:20},end:{line:988,column:42}},{start:{line:988,column:46},end:{line:988,column:61}},{start:{line:988,column:65},end:{line:988,column:86}}],line:988},"172":{loc:{start:{line:1001,column:2},end:{line:1005,column:3}},type:"if",locations:[{start:{line:1001,column:2},end:{line:1005,column:3}},{start:{line:1001,column:2},end:{line:1005,column:3}}],line:1001},"173":{loc:{start:{line:1001,column:6},end:{line:1001,column:39}},type:"binary-expr",locations:[{start:{line:1001,column:6},end:{line:1001,column:16}},{start:{line:1001,column:20},end:{line:1001,column:39}}],line:1001},"174":{loc:{start:{line:1007,column:2},end:{line:1011,column:3}},type:"if",locations:[{start:{line:1007,column:2},end:{line:1011,column:3}},{start:{line:1007,column:2},end:{line:1011,column:3}}],line:1007},"175":{loc:{start:{line:1013,column:2},end:{line:1017,column:3}},type:"if",locations:[{start:{line:1013,column:2},end:{line:1017,column:3}},{start:{line:1013,column:2},end:{line:1017,column:3}}],line:1013},"176":{loc:{start:{line:1019,column:2},end:{line:1021,column:3}},type:"if",locations:[{start:{line:1019,column:2},end:{line:1021,column:3}},{start:{line:1019,column:2},end:{line:1021,column:3}}],line:1019},"177":{loc:{start:{line:1029,column:6},end:{line:1031,column:7}},type:"if",locations:[{start:{line:1029,column:6},end:{line:1031,column:7}},{start:{line:1029,column:6},end:{line:1031,column:7}}],line:1029},"178":{loc:{start:{line:1029,column:10},end:{line:1029,column:85}},type:"binary-expr",locations:[{start:{line:1029,column:10},end:{line:1029,column:20}},{start:{line:1029,column:24},end:{line:1029,column:43}},{start:{line:1029,column:47},end:{line:1029,column:85}}],line:1029},"179":{loc:{start:{line:1033,column:6},end:{line:1035,column:7}},type:"if",locations:[{start:{line:1033,column:6},end:{line:1035,column:7}},{start:{line:1033,column:6},end:{line:1035,column:7}}],line:1033},"180":{loc:{start:{line:1037,column:6},end:{line:1039,column:7}},type:"if",locations:[{start:{line:1037,column:6},end:{line:1039,column:7}},{start:{line:1037,column:6},end:{line:1039,column:7}}],line:1037},"181":{loc:{start:{line:1042,column:4},end:{line:1058,column:5}},type:"if",locations:[{start:{line:1042,column:4},end:{line:1058,column:5}},{start:{line:1042,column:4},end:{line:1058,column:5}}],line:1042},"182":{loc:{start:{line:1042,column:8},end:{line:1042,column:41}},type:"binary-expr",locations:[{start:{line:1042,column:8},end:{line:1042,column:18}},{start:{line:1042,column:22},end:{line:1042,column:41}}],line:1042},"183":{loc:{start:{line:1043,column:6},end:{line:1045,column:7}},type:"if",locations:[{start:{line:1043,column:6},end:{line:1045,column:7}},{start:{line:1043,column:6},end:{line:1045,column:7}}],line:1043},"184":{loc:{start:{line:1047,column:6},end:{line:1049,column:7}},type:"if",locations:[{start:{line:1047,column:6},end:{line:1049,column:7}},{start:{line:1047,column:6},end:{line:1049,column:7}}],line:1047},"185":{loc:{start:{line:1047,column:10},end:{line:1047,column:127}},type:"binary-expr",locations:[{start:{line:1047,column:10},end:{line:1047,column:34}},{start:{line:1047,column:38},end:{line:1047,column:66}},{start:{line:1047,column:70},end:{line:1047,column:127}}],line:1047},"186":{loc:{start:{line:1051,column:6},end:{line:1053,column:7}},type:"if",locations:[{start:{line:1051,column:6},end:{line:1053,column:7}},{start:{line:1051,column:6},end:{line:1053,column:7}}],line:1051},"187":{loc:{start:{line:1051,column:10},end:{line:1051,column:177}},type:"binary-expr",locations:[{start:{line:1051,column:10},end:{line:1051,column:31}},{start:{line:1051,column:35},end:{line:1051,column:60}},{start:{line:1051,column:64},end:{line:1051,column:115}},{start:{line:1051,column:119},end:{line:1051,column:144}},{start:{line:1051,column:148},end:{line:1051,column:177}}],line:1051},"188":{loc:{start:{line:1055,column:6},end:{line:1057,column:7}},type:"if",locations:[{start:{line:1055,column:6},end:{line:1057,column:7}},{start:{line:1055,column:6},end:{line:1057,column:7}}],line:1055},"189":{loc:{start:{line:1055,column:10},end:{line:1055,column:107}},type:"binary-expr",locations:[{start:{line:1055,column:10},end:{line:1055,column:30}},{start:{line:1055,column:34},end:{line:1055,column:54}},{start:{line:1055,column:58},end:{line:1055,column:107}}],line:1055},"190":{loc:{start:{line:1060,column:4},end:{line:1062,column:5}},type:"if",locations:[{start:{line:1060,column:4},end:{line:1062,column:5}},{start:{line:1060,column:4},end:{line:1062,column:5}}],line:1060},"191":{loc:{start:{line:1060,column:8},end:{line:1060,column:58}},type:"binary-expr",locations:[{start:{line:1060,column:8},end:{line:1060,column:18}},{start:{line:1060,column:22},end:{line:1060,column:41}},{start:{line:1060,column:45},end:{line:1060,column:58}}],line:1060},"192":{loc:{start:{line:1064,column:4},end:{line:1066,column:5}},type:"if",locations:[{start:{line:1064,column:4},end:{line:1066,column:5}},{start:{line:1064,column:4},end:{line:1066,column:5}}],line:1064},"193":{loc:{start:{line:1064,column:8},end:{line:1064,column:45}},type:"binary-expr",locations:[{start:{line:1064,column:8},end:{line:1064,column:22}},{start:{line:1064,column:26},end:{line:1064,column:45}}],line:1064},"194":{loc:{start:{line:1069,column:4},end:{line:1071,column:5}},type:"if",locations:[{start:{line:1069,column:4},end:{line:1071,column:5}},{start:{line:1069,column:4},end:{line:1071,column:5}}],line:1069},"195":{loc:{start:{line:1069,column:8},end:{line:1069,column:56}},type:"binary-expr",locations:[{start:{line:1069,column:8},end:{line:1069,column:19}},{start:{line:1069,column:23},end:{line:1069,column:44}},{start:{line:1069,column:48},end:{line:1069,column:56}}],line:1069},"196":{loc:{start:{line:1073,column:4},end:{line:1172,column:5}},type:"if",locations:[{start:{line:1073,column:4},end:{line:1172,column:5}},{start:{line:1073,column:4},end:{line:1172,column:5}}],line:1073},"197":{loc:{start:{line:1074,column:6},end:{line:1110,column:7}},type:"if",locations:[{start:{line:1074,column:6},end:{line:1110,column:7}},{start:{line:1074,column:6},end:{line:1110,column:7}}],line:1074},"198":{loc:{start:{line:1076,column:13},end:{line:1110,column:7}},type:"if",locations:[{start:{line:1076,column:13},end:{line:1110,column:7}},{start:{line:1076,column:13},end:{line:1110,column:7}}],line:1076},"199":{loc:{start:{line:1076,column:17},end:{line:1076,column:112}},type:"binary-expr",locations:[{start:{line:1076,column:17},end:{line:1076,column:47}},{start:{line:1076,column:52},end:{line:1076,column:92}},{start:{line:1076,column:96},end:{line:1076,column:111}}],line:1076},"200":{loc:{start:{line:1081,column:13},end:{line:1110,column:7}},type:"if",locations:[{start:{line:1081,column:13},end:{line:1110,column:7}},{start:{line:1081,column:13},end:{line:1110,column:7}}],line:1081},"201":{loc:{start:{line:1096,column:8},end:{line:1098,column:9}},type:"if",locations:[{start:{line:1096,column:8},end:{line:1098,column:9}},{start:{line:1096,column:8},end:{line:1098,column:9}}],line:1096},"202":{loc:{start:{line:1101,column:10},end:{line:1104,column:11}},type:"if",locations:[{start:{line:1101,column:10},end:{line:1104,column:11}},{start:{line:1101,column:10},end:{line:1104,column:11}}],line:1101},"203":{loc:{start:{line:1112,column:6},end:{line:1171,column:7}},type:"if",locations:[{start:{line:1112,column:6},end:{line:1171,column:7}},{start:{line:1112,column:6},end:{line:1171,column:7}}],line:1112},"204":{loc:{start:{line:1112,column:10},end:{line:1112,column:84}},type:"binary-expr",locations:[{start:{line:1112,column:10},end:{line:1112,column:40}},{start:{line:1112,column:44},end:{line:1112,column:84}}],line:1112},"205":{loc:{start:{line:1122,column:10},end:{line:1125,column:11}},type:"if",locations:[{start:{line:1122,column:10},end:{line:1125,column:11}},{start:{line:1122,column:10},end:{line:1125,column:11}}],line:1122},"206":{loc:{start:{line:1131,column:8},end:{line:1167,column:9}},type:"if",locations:[{start:{line:1131,column:8},end:{line:1167,column:9}},{start:{line:1131,column:8},end:{line:1167,column:9}}],line:1131},"207":{loc:{start:{line:1131,column:12},end:{line:1131,column:81}},type:"binary-expr",locations:[{start:{line:1131,column:12},end:{line:1131,column:33}},{start:{line:1131,column:37},end:{line:1131,column:81}}],line:1131},"208":{loc:{start:{line:1140,column:10},end:{line:1152,column:11}},type:"if",locations:[{start:{line:1140,column:10},end:{line:1152,column:11}},{start:{line:1140,column:10},end:{line:1152,column:11}}],line:1140},"209":{loc:{start:{line:1144,column:17},end:{line:1152,column:11}},type:"if",locations:[{start:{line:1144,column:17},end:{line:1152,column:11}},{start:{line:1144,column:17},end:{line:1152,column:11}}],line:1144},"210":{loc:{start:{line:1144,column:21},end:{line:1144,column:101}},type:"binary-expr",locations:[{start:{line:1144,column:21},end:{line:1144,column:37}},{start:{line:1144,column:41},end:{line:1144,column:59}},{start:{line:1144,column:63},end:{line:1144,column:101}}],line:1144},"211":{loc:{start:{line:1154,column:10},end:{line:1156,column:11}},type:"if",locations:[{start:{line:1154,column:10},end:{line:1156,column:11}},{start:{line:1154,column:10},end:{line:1156,column:11}}],line:1154},"212":{loc:{start:{line:1159,column:12},end:{line:1162,column:13}},type:"if",locations:[{start:{line:1159,column:12},end:{line:1162,column:13}},{start:{line:1159,column:12},end:{line:1162,column:13}}],line:1159},"213":{loc:{start:{line:1174,column:4},end:{line:1180,column:5}},type:"if",locations:[{start:{line:1174,column:4},end:{line:1180,column:5}},{start:{line:1174,column:4},end:{line:1180,column:5}}],line:1174},"214":{loc:{start:{line:1191,column:2},end:{line:1193,column:3}},type:"if",locations:[{start:{line:1191,column:2},end:{line:1193,column:3}},{start:{line:1191,column:2},end:{line:1193,column:3}}],line:1191},"215":{loc:{start:{line:1191,column:6},end:{line:1191,column:45}},type:"binary-expr",locations:[{start:{line:1191,column:6},end:{line:1191,column:19}},{start:{line:1191,column:23},end:{line:1191,column:45}}],line:1191},"216":{loc:{start:{line:1197,column:2},end:{line:1199,column:3}},type:"if",locations:[{start:{line:1197,column:2},end:{line:1199,column:3}},{start:{line:1197,column:2},end:{line:1199,column:3}}],line:1197},"217":{loc:{start:{line:1201,column:2},end:{line:1203,column:3}},type:"if",locations:[{start:{line:1201,column:2},end:{line:1203,column:3}},{start:{line:1201,column:2},end:{line:1203,column:3}}],line:1201},"218":{loc:{start:{line:1205,column:2},end:{line:1207,column:3}},type:"if",locations:[{start:{line:1205,column:2},end:{line:1207,column:3}},{start:{line:1205,column:2},end:{line:1207,column:3}}],line:1205},"219":{loc:{start:{line:1205,column:6},end:{line:1205,column:79}},type:"binary-expr",locations:[{start:{line:1205,column:6},end:{line:1205,column:32}},{start:{line:1205,column:36},end:{line:1205,column:46}},{start:{line:1205,column:50},end:{line:1205,column:79}}],line:1205},"220":{loc:{start:{line:1209,column:2},end:{line:1211,column:3}},type:"if",locations:[{start:{line:1209,column:2},end:{line:1211,column:3}},{start:{line:1209,column:2},end:{line:1211,column:3}}],line:1209},"221":{loc:{start:{line:1209,column:6},end:{line:1209,column:57}},type:"binary-expr",locations:[{start:{line:1209,column:6},end:{line:1209,column:35}},{start:{line:1209,column:39},end:{line:1209,column:57}}],line:1209},"222":{loc:{start:{line:1215,column:2},end:{line:1217,column:3}},type:"if",locations:[{start:{line:1215,column:2},end:{line:1217,column:3}},{start:{line:1215,column:2},end:{line:1217,column:3}}],line:1215},"223":{loc:{start:{line:1215,column:6},end:{line:1215,column:51}},type:"binary-expr",locations:[{start:{line:1215,column:6},end:{line:1215,column:19}},{start:{line:1215,column:23},end:{line:1215,column:51}}],line:1215},"224":{loc:{start:{line:1219,column:2},end:{line:1367,column:3}},type:"if",locations:[{start:{line:1219,column:2},end:{line:1367,column:3}},{start:{line:1219,column:2},end:{line:1367,column:3}}],line:1219},"225":{loc:{start:{line:1222,column:4},end:{line:1227,column:5}},type:"if",locations:[{start:{line:1222,column:4},end:{line:1227,column:5}},{start:{line:1222,column:4},end:{line:1227,column:5}}],line:1222},"226":{loc:{start:{line:1222,column:8},end:{line:1222,column:82}},type:"binary-expr",locations:[{start:{line:1222,column:8},end:{line:1222,column:34}},{start:{line:1222,column:38},end:{line:1222,column:51}},{start:{line:1222,column:55},end:{line:1222,column:82}}],line:1222},"227":{loc:{start:{line:1230,column:4},end:{line:1232,column:5}},type:"if",locations:[{start:{line:1230,column:4},end:{line:1232,column:5}},{start:{line:1230,column:4},end:{line:1232,column:5}}],line:1230},"228":{loc:{start:{line:1230,column:8},end:{line:1230,column:139}},type:"binary-expr",locations:[{start:{line:1230,column:8},end:{line:1230,column:34}},{start:{line:1230,column:38},end:{line:1230,column:64}},{start:{line:1230,column:68},end:{line:1230,column:94}},{start:{line:1230,column:98},end:{line:1230,column:139}}],line:1230},"229":{loc:{start:{line:1238,column:4},end:{line:1263,column:5}},type:"if",locations:[{start:{line:1238,column:4},end:{line:1263,column:5}},{start:{line:1238,column:4},end:{line:1263,column:5}}],line:1238},"230":{loc:{start:{line:1238,column:8},end:{line:1238,column:143}},type:"binary-expr",locations:[{start:{line:1238,column:8},end:{line:1238,column:34}},{start:{line:1238,column:38},end:{line:1238,column:64}},{start:{line:1238,column:68},end:{line:1238,column:94}},{start:{line:1238,column:98},end:{line:1238,column:143}}],line:1238},"231":{loc:{start:{line:1244,column:8},end:{line:1246,column:9}},type:"if",locations:[{start:{line:1244,column:8},end:{line:1246,column:9}},{start:{line:1244,column:8},end:{line:1246,column:9}}],line:1244},"232":{loc:{start:{line:1251,column:8},end:{line:1253,column:9}},type:"if",locations:[{start:{line:1251,column:8},end:{line:1253,column:9}},{start:{line:1251,column:8},end:{line:1253,column:9}}],line:1251},"233":{loc:{start:{line:1279,column:4},end:{line:1303,column:5}},type:"if",locations:[{start:{line:1279,column:4},end:{line:1303,column:5}},{start:{line:1279,column:4},end:{line:1303,column:5}}],line:1279},"234":{loc:{start:{line:1282,column:6},end:{line:1291,column:7}},type:"if",locations:[{start:{line:1282,column:6},end:{line:1291,column:7}},{start:{line:1282,column:6},end:{line:1291,column:7}}],line:1282},"235":{loc:{start:{line:1285,column:8},end:{line:1290,column:9}},type:"if",locations:[{start:{line:1285,column:8},end:{line:1290,column:9}},{start:{line:1285,column:8},end:{line:1290,column:9}}],line:1285},"236":{loc:{start:{line:1300,column:6},end:{line:1302,column:7}},type:"if",locations:[{start:{line:1300,column:6},end:{line:1302,column:7}},{start:{line:1300,column:6},end:{line:1302,column:7}}],line:1300},"237":{loc:{start:{line:1300,column:10},end:{line:1300,column:81}},type:"binary-expr",locations:[{start:{line:1300,column:10},end:{line:1300,column:36}},{start:{line:1300,column:40},end:{line:1300,column:81}}],line:1300},"238":{loc:{start:{line:1307,column:6},end:{line:1309,column:7}},type:"if",locations:[{start:{line:1307,column:6},end:{line:1309,column:7}},{start:{line:1307,column:6},end:{line:1309,column:7}}],line:1307},"239":{loc:{start:{line:1307,column:10},end:{line:1307,column:82}},type:"binary-expr",locations:[{start:{line:1307,column:10},end:{line:1307,column:36}},{start:{line:1307,column:40},end:{line:1307,column:82}}],line:1307},"240":{loc:{start:{line:1312,column:6},end:{line:1314,column:7}},type:"if",locations:[{start:{line:1312,column:6},end:{line:1314,column:7}},{start:{line:1312,column:6},end:{line:1314,column:7}}],line:1312},"241":{loc:{start:{line:1312,column:10},end:{line:1312,column:83}},type:"binary-expr",locations:[{start:{line:1312,column:10},end:{line:1312,column:15}},{start:{line:1312,column:19},end:{line:1312,column:33}},{start:{line:1312,column:37},end:{line:1312,column:83}}],line:1312},"242":{loc:{start:{line:1316,column:6},end:{line:1318,column:7}},type:"if",locations:[{start:{line:1316,column:6},end:{line:1318,column:7}},{start:{line:1316,column:6},end:{line:1318,column:7}}],line:1316},"243":{loc:{start:{line:1316,column:10},end:{line:1316,column:80}},type:"binary-expr",locations:[{start:{line:1316,column:10},end:{line:1316,column:15}},{start:{line:1316,column:19},end:{line:1316,column:33}},{start:{line:1316,column:37},end:{line:1316,column:80}}],line:1316},"244":{loc:{start:{line:1332,column:8},end:{line:1334,column:9}},type:"if",locations:[{start:{line:1332,column:8},end:{line:1334,column:9}},{start:{line:1332,column:8},end:{line:1334,column:9}}],line:1332},"245":{loc:{start:{line:1345,column:8},end:{line:1347,column:9}},type:"if",locations:[{start:{line:1345,column:8},end:{line:1347,column:9}},{start:{line:1345,column:8},end:{line:1347,column:9}}],line:1345},"246":{loc:{start:{line:1355,column:6},end:{line:1357,column:7}},type:"if",locations:[{start:{line:1355,column:6},end:{line:1357,column:7}},{start:{line:1355,column:6},end:{line:1357,column:7}}],line:1355},"247":{loc:{start:{line:1372,column:2},end:{line:1374,column:3}},type:"if",locations:[{start:{line:1372,column:2},end:{line:1374,column:3}},{start:{line:1372,column:2},end:{line:1374,column:3}}],line:1372},"248":{loc:{start:{line:1372,column:6},end:{line:1372,column:47}},type:"binary-expr",locations:[{start:{line:1372,column:6},end:{line:1372,column:20}},{start:{line:1372,column:24},end:{line:1372,column:47}}],line:1372},"249":{loc:{start:{line:1380,column:2},end:{line:1382,column:3}},type:"if",locations:[{start:{line:1380,column:2},end:{line:1382,column:3}},{start:{line:1380,column:2},end:{line:1382,column:3}}],line:1380},"250":{loc:{start:{line:1380,column:6},end:{line:1380,column:40}},type:"binary-expr",locations:[{start:{line:1380,column:6},end:{line:1380,column:23}},{start:{line:1380,column:27},end:{line:1380,column:40}}],line:1380},"251":{loc:{start:{line:1388,column:2},end:{line:1390,column:3}},type:"if",locations:[{start:{line:1388,column:2},end:{line:1390,column:3}},{start:{line:1388,column:2},end:{line:1390,column:3}}],line:1388},"252":{loc:{start:{line:1388,column:6},end:{line:1388,column:39}},type:"binary-expr",locations:[{start:{line:1388,column:6},end:{line:1388,column:16}},{start:{line:1388,column:20},end:{line:1388,column:39}}],line:1388},"253":{loc:{start:{line:1395,column:2},end:{line:1397,column:3}},type:"if",locations:[{start:{line:1395,column:2},end:{line:1397,column:3}},{start:{line:1395,column:2},end:{line:1397,column:3}}],line:1395},"254":{loc:{start:{line:1395,column:6},end:{line:1395,column:39}},type:"binary-expr",locations:[{start:{line:1395,column:6},end:{line:1395,column:16}},{start:{line:1395,column:20},end:{line:1395,column:39}}],line:1395},"255":{loc:{start:{line:1403,column:60},end:{line:1403,column:87}},type:"binary-expr",locations:[{start:{line:1403,column:60},end:{line:1403,column:80}},{start:{line:1403,column:84},end:{line:1403,column:87}}],line:1403},"256":{loc:{start:{line:1412,column:4},end:{line:1414,column:5}},type:"if",locations:[{start:{line:1412,column:4},end:{line:1414,column:5}},{start:{line:1412,column:4},end:{line:1414,column:5}}],line:1412},"257":{loc:{start:{line:1412,column:8},end:{line:1412,column:44}},type:"binary-expr",locations:[{start:{line:1412,column:8},end:{line:1412,column:14}},{start:{line:1412,column:18},end:{line:1412,column:44}}],line:1412},"258":{loc:{start:{line:1422,column:15},end:{line:1422,column:90}},type:"cond-expr",locations:[{start:{line:1422,column:44},end:{line:1422,column:53}},{start:{line:1422,column:56},end:{line:1422,column:90}}],line:1422},"259":{loc:{start:{line:1423,column:16},end:{line:1423,column:58}},type:"binary-expr",locations:[{start:{line:1423,column:16},end:{line:1423,column:33}},{start:{line:1423,column:37},end:{line:1423,column:58}}],line:1423},"260":{loc:{start:{line:1430,column:9},end:{line:1430,column:50}},type:"binary-expr",locations:[{start:{line:1430,column:9},end:{line:1430,column:27}},{start:{line:1430,column:31},end:{line:1430,column:50}}],line:1430},"261":{loc:{start:{line:1437,column:4},end:{line:1439,column:5}},type:"if",locations:[{start:{line:1437,column:4},end:{line:1439,column:5}},{start:{line:1437,column:4},end:{line:1439,column:5}}],line:1437},"262":{loc:{start:{line:1449,column:29},end:{line:1449,column:119}},type:"cond-expr",locations:[{start:{line:1449,column:72},end:{line:1449,column:114}},{start:{line:1449,column:117},end:{line:1449,column:119}}],line:1449},"263":{loc:{start:{line:1451,column:2},end:{line:1455,column:3}},type:"if",locations:[{start:{line:1451,column:2},end:{line:1455,column:3}},{start:{line:1451,column:2},end:{line:1455,column:3}}],line:1451},"264":{loc:{start:{line:1459,column:4},end:{line:1479,column:5}},type:"if",locations:[{start:{line:1459,column:4},end:{line:1479,column:5}},{start:{line:1459,column:4},end:{line:1479,column:5}}],line:1459},"265":{loc:{start:{line:1460,column:6},end:{line:1476,column:7}},type:"if",locations:[{start:{line:1460,column:6},end:{line:1476,column:7}},{start:{line:1460,column:6},end:{line:1476,column:7}}],line:1460},"266":{loc:{start:{line:1461,column:8},end:{line:1463,column:9}},type:"if",locations:[{start:{line:1461,column:8},end:{line:1463,column:9}},{start:{line:1461,column:8},end:{line:1463,column:9}}],line:1461},"267":{loc:{start:{line:1470,column:8},end:{line:1472,column:9}},type:"if",locations:[{start:{line:1470,column:8},end:{line:1472,column:9}},{start:{line:1470,column:8},end:{line:1472,column:9}}],line:1470},"268":{loc:{start:{line:1494,column:2},end:{line:1508,column:3}},type:"if",locations:[{start:{line:1494,column:2},end:{line:1508,column:3}},{start:{line:1494,column:2},end:{line:1508,column:3}}],line:1494},"269":{loc:{start:{line:1494,column:6},end:{line:1494,column:75}},type:"binary-expr",locations:[{start:{line:1494,column:6},end:{line:1494,column:19}},{start:{line:1494,column:23},end:{line:1494,column:45}},{start:{line:1494,column:49},end:{line:1494,column:75}}],line:1494},"270":{loc:{start:{line:1497,column:4},end:{line:1507,column:5}},type:"if",locations:[{start:{line:1497,column:4},end:{line:1507,column:5}},{start:{line:1497,column:4},end:{line:1507,column:5}}],line:1497},"271":{loc:{start:{line:1499,column:8},end:{line:1501,column:9}},type:"if",locations:[{start:{line:1499,column:8},end:{line:1501,column:9}},{start:{line:1499,column:8},end:{line:1501,column:9}}],line:1499},"272":{loc:{start:{line:1504,column:6},end:{line:1506,column:7}},type:"if",locations:[{start:{line:1504,column:6},end:{line:1506,column:7}},{start:{line:1504,column:6},end:{line:1506,column:7}}],line:1504},"273":{loc:{start:{line:1512,column:2},end:{line:1514,column:3}},type:"if",locations:[{start:{line:1512,column:2},end:{line:1514,column:3}},{start:{line:1512,column:2},end:{line:1514,column:3}}],line:1512},"274":{loc:{start:{line:1520,column:4},end:{line:1522,column:5}},type:"if",locations:[{start:{line:1520,column:4},end:{line:1522,column:5}},{start:{line:1520,column:4},end:{line:1522,column:5}}],line:1520},"275":{loc:{start:{line:1525,column:4},end:{line:1531,column:5}},type:"if",locations:[{start:{line:1525,column:4},end:{line:1531,column:5}},{start:{line:1525,column:4},end:{line:1531,column:5}}],line:1525},"276":{loc:{start:{line:1525,column:8},end:{line:1525,column:55}},type:"binary-expr",locations:[{start:{line:1525,column:8},end:{line:1525,column:27}},{start:{line:1525,column:31},end:{line:1525,column:55}}],line:1525},"277":{loc:{start:{line:1528,column:6},end:{line:1530,column:7}},type:"if",locations:[{start:{line:1528,column:6},end:{line:1530,column:7}},{start:{line:1528,column:6},end:{line:1530,column:7}}],line:1528},"278":{loc:{start:{line:1528,column:10},end:{line:1528,column:60}},type:"binary-expr",locations:[{start:{line:1528,column:10},end:{line:1528,column:30}},{start:{line:1528,column:34},end:{line:1528,column:60}}],line:1528}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"399":0,"400":0,"401":0,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0,"473":0,"474":0,"475":0,"476":0,"477":0,"478":0,"479":0,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"498":0,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":0,"506":0,"507":0,"508":0,"509":0,"510":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":0,"517":0,"518":0,"519":0,"520":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"527":0,"528":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"539":0,"540":0,"541":0,"542":0,"543":0,"544":0,"545":0,"546":0,"547":0,"548":0,"549":0,"550":0,"551":0,"552":0,"553":0,"554":0,"555":0,"556":0,"557":0,"558":0,"559":0,"560":0,"561":0,"562":0,"563":0,"564":0,"565":0,"566":0,"567":0,"568":0,"569":0,"570":0,"571":0,"572":0,"573":0,"574":0,"575":0,"576":0,"577":0,"578":0,"579":0,"580":0,"581":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"588":0,"589":0,"590":0,"591":0,"592":0,"593":0,"594":0,"595":0,"596":0,"597":0,"598":0,"599":0,"600":0,"601":0,"602":0,"603":0,"604":0,"605":0,"606":0,"607":0,"608":0,"609":0,"610":0,"611":0,"612":0,"613":0,"614":0,"615":0,"616":0,"617":0,"618":0,"619":0,"620":0,"621":0,"622":0,"623":0,"624":0,"625":0,"626":0,"627":0,"628":0,"629":0,"630":0,"631":0,"632":0,"633":0,"634":0,"635":0,"636":0,"637":0,"638":0,"639":0,"640":0,"641":0,"642":0,"643":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0,0,0],"34":[0,0],"35":[0,0,0,0,0,0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0,0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0,0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0],"120":[0,0,0],"121":[0,0],"122":[0,0],"123":[0,0],"124":[0,0],"125":[0,0],"126":[0,0],"127":[0,0],"128":[0,0],"129":[0,0],"130":[0,0],"131":[0,0],"132":[0,0],"133":[0,0],"134":[0,0],"135":[0,0],"136":[0,0],"137":[0,0],"138":[0,0],"139":[0,0],"140":[0,0,0],"141":[0,0],"142":[0,0],"143":[0,0],"144":[0,0],"145":[0,0],"146":[0,0],"147":[0,0],"148":[0,0],"149":[0,0],"150":[0,0],"151":[0,0],"152":[0,0,0],"153":[0,0],"154":[0,0],"155":[0,0],"156":[0,0],"157":[0,0],"158":[0,0],"159":[0,0],"160":[0,0],"161":[0,0],"162":[0,0],"163":[0,0,0,0],"164":[0,0],"165":[0,0],"166":[0,0],"167":[0,0],"168":[0,0],"169":[0,0],"170":[0,0],"171":[0,0,0,0],"172":[0,0],"173":[0,0],"174":[0,0],"175":[0,0],"176":[0,0],"177":[0,0],"178":[0,0,0],"179":[0,0],"180":[0,0],"181":[0,0],"182":[0,0],"183":[0,0],"184":[0,0],"185":[0,0,0],"186":[0,0],"187":[0,0,0,0,0],"188":[0,0],"189":[0,0,0],"190":[0,0],"191":[0,0,0],"192":[0,0],"193":[0,0],"194":[0,0],"195":[0,0,0],"196":[0,0],"197":[0,0],"198":[0,0],"199":[0,0,0],"200":[0,0],"201":[0,0],"202":[0,0],"203":[0,0],"204":[0,0],"205":[0,0],"206":[0,0],"207":[0,0],"208":[0,0],"209":[0,0],"210":[0,0,0],"211":[0,0],"212":[0,0],"213":[0,0],"214":[0,0],"215":[0,0],"216":[0,0],"217":[0,0],"218":[0,0],"219":[0,0,0],"220":[0,0],"221":[0,0],"222":[0,0],"223":[0,0],"224":[0,0],"225":[0,0],"226":[0,0,0],"227":[0,0],"228":[0,0,0,0],"229":[0,0],"230":[0,0,0,0],"231":[0,0],"232":[0,0],"233":[0,0],"234":[0,0],"235":[0,0],"236":[0,0],"237":[0,0],"238":[0,0],"239":[0,0],"240":[0,0],"241":[0,0,0],"242":[0,0],"243":[0,0,0],"244":[0,0],"245":[0,0],"246":[0,0],"247":[0,0],"248":[0,0],"249":[0,0],"250":[0,0],"251":[0,0],"252":[0,0],"253":[0,0],"254":[0,0],"255":[0,0],"256":[0,0],"257":[0,0],"258":[0,0],"259":[0,0],"260":[0,0],"261":[0,0],"262":[0,0],"263":[0,0],"264":[0,0],"265":[0,0],"266":[0,0],"267":[0,0],"268":[0,0],"269":[0,0,0],"270":[0,0],"271":[0,0],"272":[0,0],"273":[0,0],"274":[0,0],"275":[0,0],"276":[0,0],"277":[0,0],"278":[0,0]},inputSourceMap:{version:3,sources:["../src/RestWrite.js"],names:["SchemaController","require","deepcopy","Auth","cryptoUtils","passwordCrypto","Parse","triggers","ClientSDK","RestWrite","config","auth","className","query","data","originalData","clientSDK","context","action","isReadOnly","Error","OPERATION_FORBIDDEN","storage","runOptions","allowCustomObjectId","Object","prototype","hasOwnProperty","call","objectId","MISSING_OBJECT_ID","INVALID_KEY_NAME","id","response","updatedAt","_encode","Date","iso","validSchemaController","execute","Promise","resolve","then","getUserAndRoleACL","validateClientClassCreation","handleInstallation","handleSession","validateAuthData","runBeforeSaveTrigger","deleteEmailResetTokenIfNeeded","validateSchema","schemaController","setRequiredFieldsIfNeeded","transformUser","expandFilesForExistingObjects","destroyDuplicatedSessions","runDatabaseOperation","createSessionTokenIfNeeded","handleFollowup","runAfterSaveTrigger","cleanUserAuthData","isMaster","acl","user","getUserRoles","roles","concat","allowClientClassCreation","systemClasses","indexOf","database","loadSchema","hasClass","validateObject","triggerExists","Types","beforeSave","applicationId","extraData","originalObject","updatedObject","buildUpdatedObject","inflate","databasePromise","update","create","result","length","OBJECT_NOT_FOUND","maybeRunTrigger","object","fieldsChangedByTrigger","_","reduce","value","key","isEqual","push","runBeforeLoginTrigger","userData","beforeLogin","filesController","expandFilesInObject","getAllClasses","allClasses","schema","find","oneClass","setRequiredFieldIfNeeded","fieldName","setDefault","undefined","__op","fields","defaultValue","required","VALIDATION_ERROR","createdAt","newObjectId","objectIdSize","keys","forEach","authData","username","isEmpty","USERNAME_MISSING","password","PASSWORD_MISSING","UNSUPPORTED_SERVICE","providers","canHandleAuthData","canHandle","provider","providerAuthData","hasToken","handleAuthData","handleAuthDataValidation","validations","map","authDataManager","getValidatorForProvider","all","findUsersWithAuthData","memo","queryKey","filter","q","findPromise","$or","filteredObjectsByACL","objects","ACL","results","r","join","userResult","mutatedAuthData","providerData","userAuthData","hasMutatedAuthData","userId","location","ACCOUNT_ALREADY_LINKED","promise","error","RestQuery","master","__type","session","cacheController","del","sessionToken","_validatePasswordPolicy","hash","hashedPassword","_hashed_password","_validateUserName","_validateEmail","randomString","responseShouldHaveUsername","$ne","limit","caseInsensitive","USERNAME_TAKEN","email","match","reject","INVALID_EMAIL_ADDRESS","EMAIL_TAKEN","userController","setEmailVerifyToken","passwordPolicy","_validatePasswordRequirements","_validatePasswordHistory","policyError","validationError","containsUsernameError","patternValidator","validatorCallback","doNotAllowUsername","maxPasswordHistory","oldPasswords","_password_history","take","newPassword","promises","compare","catch","err","preventLoginWithUnverifiedEmail","verifyUserEmails","createSessionToken","installationId","sessionData","createSession","createdWith","authProvider","additionalSessionData","token","newToken","expiresAt","generateSessionExpiresAt","assign","addOps","_perishable_token","_perishable_token_expires_at","destroy","revokeSessionOnPasswordReset","sessionQuery","bind","sendVerificationEmail","INVALID_SESSION_TOKEN","INTERNAL_SERVER_ERROR","status","deviceToken","toLowerCase","deviceType","idMatch","objectIdMatch","installationIdMatch","deviceTokenMatches","orQueries","delQuery","appIdentifier","code","objId","role","clear","isUnauthenticated","SESSION_MISSING","download","downloadName","name","INVALID_ACL","read","write","maxPasswordAge","_password_changed_at","defer","Math","max","shift","_updateResponseWithData","enforcePrivateUsers","DUPLICATE_VALUE","userInfo","duplicated_field","hasAfterSaveHook","afterSave","hasLiveQuery","liveQueryController","_handleSaveResponse","perms","getClassLevelPermissions","onAfterSave","logger","warn","middle","mount","serverURL","sanitizedData","test","_decode","fromJSON","readOnlyAttributes","constructor","attribute","includes","set","splittedKey","split","parentProp","parentVal","get","sanitized","clientSupportsDelete","supportsForwardDelete","dataValue","module","exports"],mappings:";;;;;;;AAaA;;AACA;;AACA;;;;AAfA;AACA;AACA;AAEA,IAAIA,gBAAgB,GAAGC,OAAO,CAAC,gCAAD,CAA9B;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AAEA,MAAME,IAAI,GAAGF,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIG,WAAW,GAAGH,OAAO,CAAC,eAAD,CAAzB;;AACA,IAAII,cAAc,GAAGJ,OAAO,CAAC,YAAD,CAA5B;;AACA,IAAIK,KAAK,GAAGL,OAAO,CAAC,YAAD,CAAnB;;AACA,IAAIM,QAAQ,GAAGN,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIO,SAAS,GAAGP,OAAO,CAAC,aAAD,CAAvB;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASQ,SAAT,CAAmBC,MAAnB,EAA2BC,IAA3B,EAAiCC,SAAjC,EAA4CC,KAA5C,EAAmDC,IAAnD,EAAyDC,YAAzD,EAAuEC,SAAvE,EAAkFC,OAAlF,EAA2FC,MAA3F,EAAmG;AACjG,MAAIP,IAAI,CAACQ,UAAT,EAAqB;AACnB,UAAM,IAAIb,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYC,mBADR,EAEJ,+DAFI,CAAN;AAID;;AACD,OAAKX,MAAL,GAAcA,MAAd;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,OAAKC,SAAL,GAAiBA,SAAjB;AACA,OAAKI,SAAL,GAAiBA,SAAjB;AACA,OAAKM,OAAL,GAAe,EAAf;AACA,OAAKC,UAAL,GAAkB,EAAlB;AACA,OAAKN,OAAL,GAAeA,OAAO,IAAI,EAA1B;;AAEA,MAAIC,MAAJ,EAAY;AACV,SAAKK,UAAL,CAAgBL,MAAhB,GAAyBA,MAAzB;AACD;;AAED,MAAI,CAACL,KAAL,EAAY;AACV,QAAI,KAAKH,MAAL,CAAYc,mBAAhB,EAAqC;AACnC,UAAIC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCd,IAArC,EAA2C,UAA3C,KAA0D,CAACA,IAAI,CAACe,QAApE,EAA8E;AAC5E,cAAM,IAAIvB,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYU,iBADR,EAEJ,+CAFI,CAAN;AAID;AACF,KAPD,MAOO;AACL,UAAIhB,IAAI,CAACe,QAAT,EAAmB;AACjB,cAAM,IAAIvB,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYW,gBAA5B,EAA8C,oCAA9C,CAAN;AACD;;AACD,UAAIjB,IAAI,CAACkB,EAAT,EAAa;AACX,cAAM,IAAI1B,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYW,gBAA5B,EAA8C,8BAA9C,CAAN;AACD;AACF;AACF,GAnCgG,CAqCjG;AACA;AACA;AACA;AACA;;;AACA,OAAKE,QAAL,GAAgB,IAAhB,CA1CiG,CA4CjG;AACA;;AACA,OAAKpB,KAAL,GAAaX,QAAQ,CAACW,KAAD,CAArB;AACA,OAAKC,IAAL,GAAYZ,QAAQ,CAACY,IAAD,CAApB,CA/CiG,CAgDjG;;AACA,OAAKC,YAAL,GAAoBA,YAApB,CAjDiG,CAmDjG;;AACA,OAAKmB,SAAL,GAAiB5B,KAAK,CAAC6B,OAAN,CAAc,IAAIC,IAAJ,EAAd,EAA0BC,GAA3C,CApDiG,CAsDjG;AACA;;AACA,OAAKC,qBAAL,GAA6B,IAA7B;AACD,C,CAED;AACA;AACA;AACA;;;AACA7B,SAAS,CAACiB,SAAV,CAAoBa,OAApB,GAA8B,YAAY;AACxC,SAAOC,OAAO,CAACC,OAAR,GACJC,IADI,CACC,MAAM;AACV,WAAO,KAAKC,iBAAL,EAAP;AACD,GAHI,EAIJD,IAJI,CAIC,MAAM;AACV,WAAO,KAAKE,2BAAL,EAAP;AACD,GANI,EAOJF,IAPI,CAOC,MAAM;AACV,WAAO,KAAKG,kBAAL,EAAP;AACD,GATI,EAUJH,IAVI,CAUC,MAAM;AACV,WAAO,KAAKI,aAAL,EAAP;AACD,GAZI,EAaJJ,IAbI,CAaC,MAAM;AACV,WAAO,KAAKK,gBAAL,EAAP;AACD,GAfI,EAgBJL,IAhBI,CAgBC,MAAM;AACV,WAAO,KAAKM,oBAAL,EAAP;AACD,GAlBI,EAmBJN,IAnBI,CAmBC,MAAM;AACV,WAAO,KAAKO,6BAAL,EAAP;AACD,GArBI,EAsBJP,IAtBI,CAsBC,MAAM;AACV,WAAO,KAAKQ,cAAL,EAAP;AACD,GAxBI,EAyBJR,IAzBI,CAyBCS,gBAAgB,IAAI;AACxB,SAAKb,qBAAL,GAA6Ba,gBAA7B;AACA,WAAO,KAAKC,yBAAL,EAAP;AACD,GA5BI,EA6BJV,IA7BI,CA6BC,MAAM;AACV,WAAO,KAAKW,aAAL,EAAP;AACD,GA/BI,EAgCJX,IAhCI,CAgCC,MAAM;AACV,WAAO,KAAKY,6BAAL,EAAP;AACD,GAlCI,EAmCJZ,IAnCI,CAmCC,MAAM;AACV,WAAO,KAAKa,yBAAL,EAAP;AACD,GArCI,EAsCJb,IAtCI,CAsCC,MAAM;AACV,WAAO,KAAKc,oBAAL,EAAP;AACD,GAxCI,EAyCJd,IAzCI,CAyCC,MAAM;AACV,WAAO,KAAKe,0BAAL,EAAP;AACD,GA3CI,EA4CJf,IA5CI,CA4CC,MAAM;AACV,WAAO,KAAKgB,cAAL,EAAP;AACD,GA9CI,EA+CJhB,IA/CI,CA+CC,MAAM;AACV,WAAO,KAAKiB,mBAAL,EAAP;AACD,GAjDI,EAkDJjB,IAlDI,CAkDC,MAAM;AACV,WAAO,KAAKkB,iBAAL,EAAP;AACD,GApDI,EAqDJlB,IArDI,CAqDC,MAAM;AACV,WAAO,KAAKT,QAAZ;AACD,GAvDI,CAAP;AAwDD,CAzDD,C,CA2DA;;;AACAxB,SAAS,CAACiB,SAAV,CAAoBiB,iBAApB,GAAwC,YAAY;AAClD,MAAI,KAAKhC,IAAL,CAAUkD,QAAd,EAAwB;AACtB,WAAOrB,OAAO,CAACC,OAAR,EAAP;AACD;;AAED,OAAKlB,UAAL,CAAgBuC,GAAhB,GAAsB,CAAC,GAAD,CAAtB;;AAEA,MAAI,KAAKnD,IAAL,CAAUoD,IAAd,EAAoB;AAClB,WAAO,KAAKpD,IAAL,CAAUqD,YAAV,GAAyBtB,IAAzB,CAA8BuB,KAAK,IAAI;AAC5C,WAAK1C,UAAL,CAAgBuC,GAAhB,GAAsB,KAAKvC,UAAL,CAAgBuC,GAAhB,CAAoBI,MAApB,CAA2BD,KAA3B,EAAkC,CAAC,KAAKtD,IAAL,CAAUoD,IAAV,CAAe/B,EAAhB,CAAlC,CAAtB;AACA;AACD,KAHM,CAAP;AAID,GALD,MAKO;AACL,WAAOQ,OAAO,CAACC,OAAR,EAAP;AACD;AACF,CAfD,C,CAiBA;;;AACAhC,SAAS,CAACiB,SAAV,CAAoBkB,2BAApB,GAAkD,YAAY;AAC5D,MACE,KAAKlC,MAAL,CAAYyD,wBAAZ,KAAyC,KAAzC,IACA,CAAC,KAAKxD,IAAL,CAAUkD,QADX,IAEA7D,gBAAgB,CAACoE,aAAjB,CAA+BC,OAA/B,CAAuC,KAAKzD,SAA5C,MAA2D,CAAC,CAH9D,EAIE;AACA,WAAO,KAAKF,MAAL,CAAY4D,QAAZ,CACJC,UADI,GAEJ7B,IAFI,CAECS,gBAAgB,IAAIA,gBAAgB,CAACqB,QAAjB,CAA0B,KAAK5D,SAA/B,CAFrB,EAGJ8B,IAHI,CAGC8B,QAAQ,IAAI;AAChB,UAAIA,QAAQ,KAAK,IAAjB,EAAuB;AACrB,cAAM,IAAIlE,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYC,mBADR,EAEJ,wCAAwC,sBAAxC,GAAiE,KAAKT,SAFlE,CAAN;AAID;AACF,KAVI,CAAP;AAWD,GAhBD,MAgBO;AACL,WAAO4B,OAAO,CAACC,OAAR,EAAP;AACD;AACF,CApBD,C,CAsBA;;;AACAhC,SAAS,CAACiB,SAAV,CAAoBwB,cAApB,GAAqC,YAAY;AAC/C,SAAO,KAAKxC,MAAL,CAAY4D,QAAZ,CAAqBG,cAArB,CACL,KAAK7D,SADA,EAEL,KAAKE,IAFA,EAGL,KAAKD,KAHA,EAIL,KAAKU,UAJA,CAAP;AAMD,CAPD,C,CASA;AACA;;;AACAd,SAAS,CAACiB,SAAV,CAAoBsB,oBAApB,GAA2C,YAAY;AACrD,MAAI,KAAKf,QAAT,EAAmB;AACjB;AACD,GAHoD,CAKrD;;;AACA,MACE,CAAC1B,QAAQ,CAACmE,aAAT,CAAuB,KAAK9D,SAA5B,EAAuCL,QAAQ,CAACoE,KAAT,CAAeC,UAAtD,EAAkE,KAAKlE,MAAL,CAAYmE,aAA9E,CADH,EAEE;AACA,WAAOrC,OAAO,CAACC,OAAR,EAAP;AACD,GAVoD,CAYrD;;;AACA,MAAIqC,SAAS,GAAG;AAAElE,IAAAA,SAAS,EAAE,KAAKA;AAAlB,GAAhB;;AACA,MAAI,KAAKC,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrCiD,IAAAA,SAAS,CAACjD,QAAV,GAAqB,KAAKhB,KAAL,CAAWgB,QAAhC;AACD;;AAED,MAAIkD,cAAc,GAAG,IAArB;AACA,QAAMC,aAAa,GAAG,KAAKC,kBAAL,CAAwBH,SAAxB,CAAtB;;AACA,MAAI,KAAKjE,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrC;AACAkD,IAAAA,cAAc,GAAGxE,QAAQ,CAAC2E,OAAT,CAAiBJ,SAAjB,EAA4B,KAAK/D,YAAjC,CAAjB;AACD;;AAED,SAAOyB,OAAO,CAACC,OAAR,GACJC,IADI,CACC,MAAM;AACV;AACA,QAAIyC,eAAe,GAAG,IAAtB;;AACA,QAAI,KAAKtE,KAAT,EAAgB;AACd;AACAsE,MAAAA,eAAe,GAAG,KAAKzE,MAAL,CAAY4D,QAAZ,CAAqBc,MAArB,CAChB,KAAKxE,SADW,EAEhB,KAAKC,KAFW,EAGhB,KAAKC,IAHW,EAIhB,KAAKS,UAJW,EAKhB,IALgB,EAMhB,IANgB,CAAlB;AAQD,KAVD,MAUO;AACL;AACA4D,MAAAA,eAAe,GAAG,KAAKzE,MAAL,CAAY4D,QAAZ,CAAqBe,MAArB,CAChB,KAAKzE,SADW,EAEhB,KAAKE,IAFW,EAGhB,KAAKS,UAHW,EAIhB,IAJgB,CAAlB;AAMD,KArBS,CAsBV;;;AACA,WAAO4D,eAAe,CAACzC,IAAhB,CAAqB4C,MAAM,IAAI;AACpC,UAAI,CAACA,MAAD,IAAWA,MAAM,CAACC,MAAP,IAAiB,CAAhC,EAAmC;AACjC,cAAM,IAAIjF,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYoE,gBAA5B,EAA8C,mBAA9C,CAAN;AACD;AACF,KAJM,CAAP;AAKD,GA7BI,EA8BJ9C,IA9BI,CA8BC,MAAM;AACV,WAAOnC,QAAQ,CAACkF,eAAT,CACLlF,QAAQ,CAACoE,KAAT,CAAeC,UADV,EAEL,KAAKjE,IAFA,EAGLqE,aAHK,EAILD,cAJK,EAKL,KAAKrE,MALA,EAML,KAAKO,OANA,CAAP;AAQD,GAvCI,EAwCJyB,IAxCI,CAwCCT,QAAQ,IAAI;AAChB,QAAIA,QAAQ,IAAIA,QAAQ,CAACyD,MAAzB,EAAiC;AAC/B,WAAKpE,OAAL,CAAaqE,sBAAb,GAAsCC,gBAAEC,MAAF,CACpC5D,QAAQ,CAACyD,MAD2B,EAEpC,CAACJ,MAAD,EAASQ,KAAT,EAAgBC,GAAhB,KAAwB;AACtB,YAAI,CAACH,gBAAEI,OAAF,CAAU,KAAKlF,IAAL,CAAUiF,GAAV,CAAV,EAA0BD,KAA1B,CAAL,EAAuC;AACrCR,UAAAA,MAAM,CAACW,IAAP,CAAYF,GAAZ;AACD;;AACD,eAAOT,MAAP;AACD,OAPmC,EAQpC,EARoC,CAAtC;AAUA,WAAKxE,IAAL,GAAYmB,QAAQ,CAACyD,MAArB,CAX+B,CAY/B;;AACA,UAAI,KAAK7E,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrC,eAAO,KAAKf,IAAL,CAAUe,QAAjB;AACD;AACF;AACF,GA1DI,CAAP;AA2DD,CApFD;;AAsFApB,SAAS,CAACiB,SAAV,CAAoBwE,qBAApB,GAA4C,gBAAgBC,QAAhB,EAA0B;AACpE;AACA,MACE,CAAC5F,QAAQ,CAACmE,aAAT,CAAuB,KAAK9D,SAA5B,EAAuCL,QAAQ,CAACoE,KAAT,CAAeyB,WAAtD,EAAmE,KAAK1F,MAAL,CAAYmE,aAA/E,CADH,EAEE;AACA;AACD,GANmE,CAQpE;;;AACA,QAAMC,SAAS,GAAG;AAAElE,IAAAA,SAAS,EAAE,KAAKA;AAAlB,GAAlB,CAToE,CAWpE;;AACA,OAAKF,MAAL,CAAY2F,eAAZ,CAA4BC,mBAA5B,CAAgD,KAAK5F,MAArD,EAA6DyF,QAA7D;AAEA,QAAMpC,IAAI,GAAGxD,QAAQ,CAAC2E,OAAT,CAAiBJ,SAAjB,EAA4BqB,QAA5B,CAAb,CAdoE,CAgBpE;;AACA,QAAM5F,QAAQ,CAACkF,eAAT,CACJlF,QAAQ,CAACoE,KAAT,CAAeyB,WADX,EAEJ,KAAKzF,IAFD,EAGJoD,IAHI,EAIJ,IAJI,EAKJ,KAAKrD,MALD,EAMJ,KAAKO,OAND,CAAN;AAQD,CAzBD;;AA2BAR,SAAS,CAACiB,SAAV,CAAoB0B,yBAApB,GAAgD,YAAY;AAC1D,MAAI,KAAKtC,IAAT,EAAe;AACb,WAAO,KAAKwB,qBAAL,CAA2BiE,aAA3B,GAA2C7D,IAA3C,CAAgD8D,UAAU,IAAI;AACnE,YAAMC,MAAM,GAAGD,UAAU,CAACE,IAAX,CAAgBC,QAAQ,IAAIA,QAAQ,CAAC/F,SAAT,KAAuB,KAAKA,SAAxD,CAAf;;AACA,YAAMgG,wBAAwB,GAAG,CAACC,SAAD,EAAYC,UAAZ,KAA2B;AAC1D,YACE,KAAKhG,IAAL,CAAU+F,SAAV,MAAyBE,SAAzB,IACA,KAAKjG,IAAL,CAAU+F,SAAV,MAAyB,IADzB,IAEA,KAAK/F,IAAL,CAAU+F,SAAV,MAAyB,EAFzB,IAGC,OAAO,KAAK/F,IAAL,CAAU+F,SAAV,CAAP,KAAgC,QAAhC,IAA4C,KAAK/F,IAAL,CAAU+F,SAAV,EAAqBG,IAArB,KAA8B,QAJ7E,EAKE;AACA,cACEF,UAAU,IACVL,MAAM,CAACQ,MAAP,CAAcJ,SAAd,CADA,IAEAJ,MAAM,CAACQ,MAAP,CAAcJ,SAAd,EAAyBK,YAAzB,KAA0C,IAF1C,IAGAT,MAAM,CAACQ,MAAP,CAAcJ,SAAd,EAAyBK,YAAzB,KAA0CH,SAH1C,KAIC,KAAKjG,IAAL,CAAU+F,SAAV,MAAyBE,SAAzB,IACE,OAAO,KAAKjG,IAAL,CAAU+F,SAAV,CAAP,KAAgC,QAAhC,IAA4C,KAAK/F,IAAL,CAAU+F,SAAV,EAAqBG,IAArB,KAA8B,QAL7E,CADF,EAOE;AACA,iBAAKlG,IAAL,CAAU+F,SAAV,IAAuBJ,MAAM,CAACQ,MAAP,CAAcJ,SAAd,EAAyBK,YAAhD;AACA,iBAAK5F,OAAL,CAAaqE,sBAAb,GAAsC,KAAKrE,OAAL,CAAaqE,sBAAb,IAAuC,EAA7E;;AACA,gBAAI,KAAKrE,OAAL,CAAaqE,sBAAb,CAAoCtB,OAApC,CAA4CwC,SAA5C,IAAyD,CAA7D,EAAgE;AAC9D,mBAAKvF,OAAL,CAAaqE,sBAAb,CAAoCM,IAApC,CAAyCY,SAAzC;AACD;AACF,WAbD,MAaO,IAAIJ,MAAM,CAACQ,MAAP,CAAcJ,SAAd,KAA4BJ,MAAM,CAACQ,MAAP,CAAcJ,SAAd,EAAyBM,QAAzB,KAAsC,IAAtE,EAA4E;AACjF,kBAAM,IAAI7G,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYgG,gBAA5B,EAA+C,GAAEP,SAAU,cAA3D,CAAN;AACD;AACF;AACF,OAxBD,CAFmE,CA4BnE;;;AACA,WAAK/F,IAAL,CAAUoB,SAAV,GAAsB,KAAKA,SAA3B;;AACA,UAAI,CAAC,KAAKrB,KAAV,EAAiB;AACf,aAAKC,IAAL,CAAUuG,SAAV,GAAsB,KAAKnF,SAA3B,CADe,CAGf;;AACA,YAAI,CAAC,KAAKpB,IAAL,CAAUe,QAAf,EAAyB;AACvB,eAAKf,IAAL,CAAUe,QAAV,GAAqBzB,WAAW,CAACkH,WAAZ,CAAwB,KAAK5G,MAAL,CAAY6G,YAApC,CAArB;AACD;;AACD,YAAId,MAAJ,EAAY;AACVhF,UAAAA,MAAM,CAAC+F,IAAP,CAAYf,MAAM,CAACQ,MAAnB,EAA2BQ,OAA3B,CAAmCZ,SAAS,IAAI;AAC9CD,YAAAA,wBAAwB,CAACC,SAAD,EAAY,IAAZ,CAAxB;AACD,WAFD;AAGD;AACF,OAZD,MAYO,IAAIJ,MAAJ,EAAY;AACjBhF,QAAAA,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAjB,EAAuB2G,OAAvB,CAA+BZ,SAAS,IAAI;AAC1CD,UAAAA,wBAAwB,CAACC,SAAD,EAAY,KAAZ,CAAxB;AACD,SAFD;AAGD;AACF,KA/CM,CAAP;AAgDD;;AACD,SAAOrE,OAAO,CAACC,OAAR,EAAP;AACD,CApDD,C,CAsDA;AACA;AACA;;;AACAhC,SAAS,CAACiB,SAAV,CAAoBqB,gBAApB,GAAuC,YAAY;AACjD,MAAI,KAAKnC,SAAL,KAAmB,OAAvB,EAAgC;AAC9B;AACD;;AAED,MAAI,CAAC,KAAKC,KAAN,IAAe,CAAC,KAAKC,IAAL,CAAU4G,QAA9B,EAAwC;AACtC,QAAI,OAAO,KAAK5G,IAAL,CAAU6G,QAAjB,KAA8B,QAA9B,IAA0C/B,gBAAEgC,OAAF,CAAU,KAAK9G,IAAL,CAAU6G,QAApB,CAA9C,EAA6E;AAC3E,YAAM,IAAIrH,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYyG,gBAA5B,EAA8C,yBAA9C,CAAN;AACD;;AACD,QAAI,OAAO,KAAK/G,IAAL,CAAUgH,QAAjB,KAA8B,QAA9B,IAA0ClC,gBAAEgC,OAAF,CAAU,KAAK9G,IAAL,CAAUgH,QAApB,CAA9C,EAA6E;AAC3E,YAAM,IAAIxH,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAY2G,gBAA5B,EAA8C,sBAA9C,CAAN;AACD;AACF;;AAED,MACG,KAAKjH,IAAL,CAAU4G,QAAV,IAAsB,CAACjG,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAL,CAAU4G,QAAtB,EAAgCnC,MAAxD,IACA,CAAC9D,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqC,KAAKd,IAA1C,EAAgD,UAAhD,CAFH,EAGE;AACA;AACA;AACD,GAND,MAMO,IAAIW,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqC,KAAKd,IAA1C,EAAgD,UAAhD,KAA+D,CAAC,KAAKA,IAAL,CAAU4G,QAA9E,EAAwF;AAC7F;AACA,UAAM,IAAIpH,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAY4G,mBADR,EAEJ,4CAFI,CAAN;AAID;;AAED,MAAIN,QAAQ,GAAG,KAAK5G,IAAL,CAAU4G,QAAzB;AACA,MAAIO,SAAS,GAAGxG,MAAM,CAAC+F,IAAP,CAAYE,QAAZ,CAAhB;;AACA,MAAIO,SAAS,CAAC1C,MAAV,GAAmB,CAAvB,EAA0B;AACxB,UAAM2C,iBAAiB,GAAGD,SAAS,CAACpC,MAAV,CAAiB,CAACsC,SAAD,EAAYC,QAAZ,KAAyB;AAClE,UAAIC,gBAAgB,GAAGX,QAAQ,CAACU,QAAD,CAA/B;AACA,UAAIE,QAAQ,GAAGD,gBAAgB,IAAIA,gBAAgB,CAACrG,EAApD;AACA,aAAOmG,SAAS,KAAKG,QAAQ,IAAID,gBAAgB,IAAI,IAArC,CAAhB;AACD,KAJyB,EAIvB,IAJuB,CAA1B;;AAKA,QAAIH,iBAAJ,EAAuB;AACrB,aAAO,KAAKK,cAAL,CAAoBb,QAApB,CAAP;AACD;AACF;;AACD,QAAM,IAAIpH,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAY4G,mBADR,EAEJ,4CAFI,CAAN;AAID,CA5CD;;AA8CAvH,SAAS,CAACiB,SAAV,CAAoB8G,wBAApB,GAA+C,UAAUd,QAAV,EAAoB;AACjE,QAAMe,WAAW,GAAGhH,MAAM,CAAC+F,IAAP,CAAYE,QAAZ,EAAsBgB,GAAtB,CAA0BN,QAAQ,IAAI;AACxD,QAAIV,QAAQ,CAACU,QAAD,CAAR,KAAuB,IAA3B,EAAiC;AAC/B,aAAO5F,OAAO,CAACC,OAAR,EAAP;AACD;;AACD,UAAMM,gBAAgB,GAAG,KAAKrC,MAAL,CAAYiI,eAAZ,CAA4BC,uBAA5B,CAAoDR,QAApD,CAAzB;;AACA,QAAI,CAACrF,gBAAL,EAAuB;AACrB,YAAM,IAAIzC,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAY4G,mBADR,EAEJ,4CAFI,CAAN;AAID;;AACD,WAAOjF,gBAAgB,CAAC2E,QAAQ,CAACU,QAAD,CAAT,CAAvB;AACD,GAZmB,CAApB;AAaA,SAAO5F,OAAO,CAACqG,GAAR,CAAYJ,WAAZ,CAAP;AACD,CAfD;;AAiBAhI,SAAS,CAACiB,SAAV,CAAoBoH,qBAApB,GAA4C,UAAUpB,QAAV,EAAoB;AAC9D,QAAMO,SAAS,GAAGxG,MAAM,CAAC+F,IAAP,CAAYE,QAAZ,CAAlB;AACA,QAAM7G,KAAK,GAAGoH,SAAS,CACpBpC,MADW,CACJ,CAACkD,IAAD,EAAOX,QAAP,KAAoB;AAC1B,QAAI,CAACV,QAAQ,CAACU,QAAD,CAAb,EAAyB;AACvB,aAAOW,IAAP;AACD;;AACD,UAAMC,QAAQ,GAAI,YAAWZ,QAAS,KAAtC;AACA,UAAMvH,KAAK,GAAG,EAAd;AACAA,IAAAA,KAAK,CAACmI,QAAD,CAAL,GAAkBtB,QAAQ,CAACU,QAAD,CAAR,CAAmBpG,EAArC;AACA+G,IAAAA,IAAI,CAAC9C,IAAL,CAAUpF,KAAV;AACA,WAAOkI,IAAP;AACD,GAVW,EAUT,EAVS,EAWXE,MAXW,CAWJC,CAAC,IAAI;AACX,WAAO,OAAOA,CAAP,KAAa,WAApB;AACD,GAbW,CAAd;AAeA,MAAIC,WAAW,GAAG3G,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAAlB;;AACA,MAAI5B,KAAK,CAAC0E,MAAN,GAAe,CAAnB,EAAsB;AACpB4D,IAAAA,WAAW,GAAG,KAAKzI,MAAL,CAAY4D,QAAZ,CAAqBoC,IAArB,CAA0B,KAAK9F,SAA/B,EAA0C;AAAEwI,MAAAA,GAAG,EAAEvI;AAAP,KAA1C,EAA0D,EAA1D,CAAd;AACD;;AAED,SAAOsI,WAAP;AACD,CAvBD;;AAyBA1I,SAAS,CAACiB,SAAV,CAAoB2H,oBAApB,GAA2C,UAAUC,OAAV,EAAmB;AAC5D,MAAI,KAAK3I,IAAL,CAAUkD,QAAd,EAAwB;AACtB,WAAOyF,OAAP;AACD;;AACD,SAAOA,OAAO,CAACL,MAAR,CAAevD,MAAM,IAAI;AAC9B,QAAI,CAACA,MAAM,CAAC6D,GAAZ,EAAiB;AACf,aAAO,IAAP,CADe,CACF;AACd,KAH6B,CAI9B;;;AACA,WAAO7D,MAAM,CAAC6D,GAAP,IAAc9H,MAAM,CAAC+F,IAAP,CAAY9B,MAAM,CAAC6D,GAAnB,EAAwBhE,MAAxB,GAAiC,CAAtD;AACD,GANM,CAAP;AAOD,CAXD;;AAaA9E,SAAS,CAACiB,SAAV,CAAoB6G,cAApB,GAAqC,UAAUb,QAAV,EAAoB;AACvD,MAAI8B,OAAJ;AACA,SAAO,KAAKV,qBAAL,CAA2BpB,QAA3B,EAAqChF,IAArC,CAA0C,MAAM+G,CAAN,IAAW;AAC1DD,IAAAA,OAAO,GAAG,KAAKH,oBAAL,CAA0BI,CAA1B,CAAV;;AAEA,QAAID,OAAO,CAACjE,MAAR,IAAkB,CAAtB,EAAyB;AACvB,WAAKjE,OAAL,CAAa,cAAb,IAA+BG,MAAM,CAAC+F,IAAP,CAAYE,QAAZ,EAAsBgC,IAAtB,CAA2B,GAA3B,CAA/B;AAEA,YAAMC,UAAU,GAAGH,OAAO,CAAC,CAAD,CAA1B;AACA,YAAMI,eAAe,GAAG,EAAxB;AACAnI,MAAAA,MAAM,CAAC+F,IAAP,CAAYE,QAAZ,EAAsBD,OAAtB,CAA8BW,QAAQ,IAAI;AACxC,cAAMyB,YAAY,GAAGnC,QAAQ,CAACU,QAAD,CAA7B;AACA,cAAM0B,YAAY,GAAGH,UAAU,CAACjC,QAAX,CAAoBU,QAApB,CAArB;;AACA,YAAI,CAACxC,gBAAEI,OAAF,CAAU6D,YAAV,EAAwBC,YAAxB,CAAL,EAA4C;AAC1CF,UAAAA,eAAe,CAACxB,QAAD,CAAf,GAA4ByB,YAA5B;AACD;AACF,OAND;AAOA,YAAME,kBAAkB,GAAGtI,MAAM,CAAC+F,IAAP,CAAYoC,eAAZ,EAA6BrE,MAA7B,KAAwC,CAAnE;AACA,UAAIyE,MAAJ;;AACA,UAAI,KAAKnJ,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrCmI,QAAAA,MAAM,GAAG,KAAKnJ,KAAL,CAAWgB,QAApB;AACD,OAFD,MAEO,IAAI,KAAKlB,IAAL,IAAa,KAAKA,IAAL,CAAUoD,IAAvB,IAA+B,KAAKpD,IAAL,CAAUoD,IAAV,CAAe/B,EAAlD,EAAsD;AAC3DgI,QAAAA,MAAM,GAAG,KAAKrJ,IAAL,CAAUoD,IAAV,CAAe/B,EAAxB;AACD;;AACD,UAAI,CAACgI,MAAD,IAAWA,MAAM,KAAKL,UAAU,CAAC9H,QAArC,EAA+C;AAC7C;AACA;AACA;AACA,eAAO2H,OAAO,CAAC,CAAD,CAAP,CAAW1B,QAAlB,CAJ6C,CAM7C;;AACA,aAAKhH,IAAL,CAAUe,QAAV,GAAqB8H,UAAU,CAAC9H,QAAhC;;AAEA,YAAI,CAAC,KAAKhB,KAAN,IAAe,CAAC,KAAKA,KAAL,CAAWgB,QAA/B,EAAyC;AACvC;AACA,eAAKI,QAAL,GAAgB;AACdA,YAAAA,QAAQ,EAAE0H,UADI;AAEdM,YAAAA,QAAQ,EAAE,KAAKA,QAAL;AAFI,WAAhB,CAFuC,CAMvC;AACA;AACA;;AACA,gBAAM,KAAK/D,qBAAL,CAA2BhG,QAAQ,CAACyJ,UAAD,CAAnC,CAAN;AACD,SAnB4C,CAqB7C;;;AACA,YAAI,CAACI,kBAAL,EAAyB;AACvB;AACD,SAxB4C,CAyB7C;AACA;AACA;AACA;;;AACA,eAAO,KAAKvB,wBAAL,CAA8BoB,eAA9B,EAA+ClH,IAA/C,CAAoD,YAAY;AACrE;AACA;AACA;AACA;AACA,cAAI,KAAKT,QAAT,EAAmB;AACjB;AACAR,YAAAA,MAAM,CAAC+F,IAAP,CAAYoC,eAAZ,EAA6BnC,OAA7B,CAAqCW,QAAQ,IAAI;AAC/C,mBAAKnG,QAAL,CAAcA,QAAd,CAAuByF,QAAvB,CAAgCU,QAAhC,IAA4CwB,eAAe,CAACxB,QAAD,CAA3D;AACD,aAFD,EAFiB,CAMjB;AACA;AACA;;AACA,mBAAO,KAAK1H,MAAL,CAAY4D,QAAZ,CAAqBc,MAArB,CACL,KAAKxE,SADA,EAEL;AAAEiB,cAAAA,QAAQ,EAAE,KAAKf,IAAL,CAAUe;AAAtB,aAFK,EAGL;AAAE6F,cAAAA,QAAQ,EAAEkC;AAAZ,aAHK,EAIL,EAJK,CAAP;AAMD;AACF,SArBM,CAAP;AAsBD,OAnDD,MAmDO,IAAII,MAAJ,EAAY;AACjB;AACA;AACA,YAAIL,UAAU,CAAC9H,QAAX,KAAwBmI,MAA5B,EAAoC;AAClC,gBAAM,IAAI1J,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAY8I,sBAA5B,EAAoD,2BAApD,CAAN;AACD,SALgB,CAMjB;;;AACA,YAAI,CAACH,kBAAL,EAAyB;AACvB;AACD;AACF;AACF;;AACD,WAAO,KAAKvB,wBAAL,CAA8Bd,QAA9B,EAAwChF,IAAxC,CAA6C,MAAM;AACxD,UAAI8G,OAAO,CAACjE,MAAR,GAAiB,CAArB,EAAwB;AACtB;AACA,cAAM,IAAIjF,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAY8I,sBAA5B,EAAoD,2BAApD,CAAN;AACD;AACF,KALM,CAAP;AAMD,GA3FM,CAAP;AA4FD,CA9FD,C,CAgGA;;;AACAzJ,SAAS,CAACiB,SAAV,CAAoB2B,aAApB,GAAoC,YAAY;AAC9C,MAAI8G,OAAO,GAAG3H,OAAO,CAACC,OAAR,EAAd;;AAEA,MAAI,KAAK7B,SAAL,KAAmB,OAAvB,EAAgC;AAC9B,WAAOuJ,OAAP;AACD;;AAED,MAAI,CAAC,KAAKxJ,IAAL,CAAUkD,QAAX,IAAuB,mBAAmB,KAAK/C,IAAnD,EAAyD;AACvD,UAAMsJ,KAAK,GAAI,+DAAf;AACA,UAAM,IAAI9J,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYC,mBAA5B,EAAiD+I,KAAjD,CAAN;AACD,GAV6C,CAY9C;;;AACA,MAAI,KAAKvJ,KAAL,IAAc,KAAKgB,QAAL,EAAlB,EAAmC;AACjC;AACA;AACAsI,IAAAA,OAAO,GAAG,IAAIE,kBAAJ,CAAc,KAAK3J,MAAnB,EAA2BP,IAAI,CAACmK,MAAL,CAAY,KAAK5J,MAAjB,CAA3B,EAAqD,UAArD,EAAiE;AACzEqD,MAAAA,IAAI,EAAE;AACJwG,QAAAA,MAAM,EAAE,SADJ;AAEJ3J,QAAAA,SAAS,EAAE,OAFP;AAGJiB,QAAAA,QAAQ,EAAE,KAAKA,QAAL;AAHN;AADmE,KAAjE,EAOPU,OAPO,GAQPG,IARO,CAQF8G,OAAO,IAAI;AACfA,MAAAA,OAAO,CAACA,OAAR,CAAgB/B,OAAhB,CAAwB+C,OAAO,IAC7B,KAAK9J,MAAL,CAAY+J,eAAZ,CAA4B1G,IAA5B,CAAiC2G,GAAjC,CAAqCF,OAAO,CAACG,YAA7C,CADF;AAGD,KAZO,CAAV;AAaD;;AAED,SAAOR,OAAO,CACXzH,IADI,CACC,MAAM;AACV;AACA,QAAI,KAAK5B,IAAL,CAAUgH,QAAV,KAAuBf,SAA3B,EAAsC;AACpC;AACA,aAAOvE,OAAO,CAACC,OAAR,EAAP;AACD;;AAED,QAAI,KAAK5B,KAAT,EAAgB;AACd,WAAKS,OAAL,CAAa,eAAb,IAAgC,IAAhC,CADc,CAEd;;AACA,UAAI,CAAC,KAAKX,IAAL,CAAUkD,QAAf,EAAyB;AACvB,aAAKvC,OAAL,CAAa,oBAAb,IAAqC,IAArC;AACD;AACF;;AAED,WAAO,KAAKsJ,uBAAL,GAA+BlI,IAA/B,CAAoC,MAAM;AAC/C,aAAOrC,cAAc,CAACwK,IAAf,CAAoB,KAAK/J,IAAL,CAAUgH,QAA9B,EAAwCpF,IAAxC,CAA6CoI,cAAc,IAAI;AACpE,aAAKhK,IAAL,CAAUiK,gBAAV,GAA6BD,cAA7B;AACA,eAAO,KAAKhK,IAAL,CAAUgH,QAAjB;AACD,OAHM,CAAP;AAID,KALM,CAAP;AAMD,GAtBI,EAuBJpF,IAvBI,CAuBC,MAAM;AACV,WAAO,KAAKsI,iBAAL,EAAP;AACD,GAzBI,EA0BJtI,IA1BI,CA0BC,MAAM;AACV,WAAO,KAAKuI,cAAL,EAAP;AACD,GA5BI,CAAP;AA6BD,CA5DD;;AA8DAxK,SAAS,CAACiB,SAAV,CAAoBsJ,iBAApB,GAAwC,YAAY;AAClD;AACA,MAAI,CAAC,KAAKlK,IAAL,CAAU6G,QAAf,EAAyB;AACvB,QAAI,CAAC,KAAK9G,KAAV,EAAiB;AACf,WAAKC,IAAL,CAAU6G,QAAV,GAAqBvH,WAAW,CAAC8K,YAAZ,CAAyB,EAAzB,CAArB;AACA,WAAKC,0BAAL,GAAkC,IAAlC;AACD;;AACD,WAAO3I,OAAO,CAACC,OAAR,EAAP;AACD;AACD;AACF;AACA;AACA;AACA;AACA;;;AAEE,SAAO,KAAK/B,MAAL,CAAY4D,QAAZ,CACJoC,IADI,CAEH,KAAK9F,SAFF,EAGH;AACE+G,IAAAA,QAAQ,EAAE,KAAK7G,IAAL,CAAU6G,QADtB;AAEE9F,IAAAA,QAAQ,EAAE;AAAEuJ,MAAAA,GAAG,EAAE,KAAKvJ,QAAL;AAAP;AAFZ,GAHG,EAOH;AAAEwJ,IAAAA,KAAK,EAAE,CAAT;AAAYC,IAAAA,eAAe,EAAE;AAA7B,GAPG,EAQH,EARG,EASH,KAAKhJ,qBATF,EAWJI,IAXI,CAWC8G,OAAO,IAAI;AACf,QAAIA,OAAO,CAACjE,MAAR,GAAiB,CAArB,EAAwB;AACtB,YAAM,IAAIjF,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYmK,cADR,EAEJ,2CAFI,CAAN;AAID;;AACD;AACD,GAnBI,CAAP;AAoBD,CApCD;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA9K,SAAS,CAACiB,SAAV,CAAoBuJ,cAApB,GAAqC,YAAY;AAC/C,MAAI,CAAC,KAAKnK,IAAL,CAAU0K,KAAX,IAAoB,KAAK1K,IAAL,CAAU0K,KAAV,CAAgBxE,IAAhB,KAAyB,QAAjD,EAA2D;AACzD,WAAOxE,OAAO,CAACC,OAAR,EAAP;AACD,GAH8C,CAI/C;;;AACA,MAAI,CAAC,KAAK3B,IAAL,CAAU0K,KAAV,CAAgBC,KAAhB,CAAsB,SAAtB,CAAL,EAAuC;AACrC,WAAOjJ,OAAO,CAACkJ,MAAR,CACL,IAAIpL,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYuK,qBAA5B,EAAmD,kCAAnD,CADK,CAAP;AAGD,GAT8C,CAU/C;;;AACA,SAAO,KAAKjL,MAAL,CAAY4D,QAAZ,CACJoC,IADI,CAEH,KAAK9F,SAFF,EAGH;AACE4K,IAAAA,KAAK,EAAE,KAAK1K,IAAL,CAAU0K,KADnB;AAEE3J,IAAAA,QAAQ,EAAE;AAAEuJ,MAAAA,GAAG,EAAE,KAAKvJ,QAAL;AAAP;AAFZ,GAHG,EAOH;AAAEwJ,IAAAA,KAAK,EAAE,CAAT;AAAYC,IAAAA,eAAe,EAAE;AAA7B,GAPG,EAQH,EARG,EASH,KAAKhJ,qBATF,EAWJI,IAXI,CAWC8G,OAAO,IAAI;AACf,QAAIA,OAAO,CAACjE,MAAR,GAAiB,CAArB,EAAwB;AACtB,YAAM,IAAIjF,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYwK,WADR,EAEJ,gDAFI,CAAN;AAID;;AACD,QACE,CAAC,KAAK9K,IAAL,CAAU4G,QAAX,IACA,CAACjG,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAL,CAAU4G,QAAtB,EAAgCnC,MADjC,IAEC9D,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAL,CAAU4G,QAAtB,EAAgCnC,MAAhC,KAA2C,CAA3C,IACC9D,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAL,CAAU4G,QAAtB,EAAgC,CAAhC,MAAuC,WAJ3C,EAKE;AACA;AACA,WAAKpG,OAAL,CAAa,uBAAb,IAAwC,IAAxC;AACA,WAAKZ,MAAL,CAAYmL,cAAZ,CAA2BC,mBAA3B,CAA+C,KAAKhL,IAApD;AACD;AACF,GA5BI,CAAP;AA6BD,CAxCD;;AA0CAL,SAAS,CAACiB,SAAV,CAAoBkJ,uBAApB,GAA8C,YAAY;AACxD,MAAI,CAAC,KAAKlK,MAAL,CAAYqL,cAAjB,EAAiC,OAAOvJ,OAAO,CAACC,OAAR,EAAP;AACjC,SAAO,KAAKuJ,6BAAL,GAAqCtJ,IAArC,CAA0C,MAAM;AACrD,WAAO,KAAKuJ,wBAAL,EAAP;AACD,GAFM,CAAP;AAGD,CALD;;AAOAxL,SAAS,CAACiB,SAAV,CAAoBsK,6BAApB,GAAoD,YAAY;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAME,WAAW,GAAG,KAAKxL,MAAL,CAAYqL,cAAZ,CAA2BI,eAA3B,GAChB,KAAKzL,MAAL,CAAYqL,cAAZ,CAA2BI,eADX,GAEhB,0DAFJ;AAGA,QAAMC,qBAAqB,GAAG,wCAA9B,CAZ8D,CAc9D;;AACA,MACG,KAAK1L,MAAL,CAAYqL,cAAZ,CAA2BM,gBAA3B,IACC,CAAC,KAAK3L,MAAL,CAAYqL,cAAZ,CAA2BM,gBAA3B,CAA4C,KAAKvL,IAAL,CAAUgH,QAAtD,CADH,IAEC,KAAKpH,MAAL,CAAYqL,cAAZ,CAA2BO,iBAA3B,IACC,CAAC,KAAK5L,MAAL,CAAYqL,cAAZ,CAA2BO,iBAA3B,CAA6C,KAAKxL,IAAL,CAAUgH,QAAvD,CAJL,EAKE;AACA,WAAOtF,OAAO,CAACkJ,MAAR,CAAe,IAAIpL,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYgG,gBAA5B,EAA8C8E,WAA9C,CAAf,CAAP;AACD,GAtB6D,CAwB9D;;;AACA,MAAI,KAAKxL,MAAL,CAAYqL,cAAZ,CAA2BQ,kBAA3B,KAAkD,IAAtD,EAA4D;AAC1D,QAAI,KAAKzL,IAAL,CAAU6G,QAAd,EAAwB;AACtB;AACA,UAAI,KAAK7G,IAAL,CAAUgH,QAAV,CAAmBzD,OAAnB,CAA2B,KAAKvD,IAAL,CAAU6G,QAArC,KAAkD,CAAtD,EACE,OAAOnF,OAAO,CAACkJ,MAAR,CAAe,IAAIpL,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYgG,gBAA5B,EAA8CgF,qBAA9C,CAAf,CAAP;AACH,KAJD,MAIO;AACL;AACA,aAAO,KAAK1L,MAAL,CAAY4D,QAAZ,CAAqBoC,IAArB,CAA0B,OAA1B,EAAmC;AAAE7E,QAAAA,QAAQ,EAAE,KAAKA,QAAL;AAAZ,OAAnC,EAAkEa,IAAlE,CAAuE8G,OAAO,IAAI;AACvF,YAAIA,OAAO,CAACjE,MAAR,IAAkB,CAAtB,EAAyB;AACvB,gBAAMwB,SAAN;AACD;;AACD,YAAI,KAAKjG,IAAL,CAAUgH,QAAV,CAAmBzD,OAAnB,CAA2BmF,OAAO,CAAC,CAAD,CAAP,CAAW7B,QAAtC,KAAmD,CAAvD,EACE,OAAOnF,OAAO,CAACkJ,MAAR,CACL,IAAIpL,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYgG,gBAA5B,EAA8CgF,qBAA9C,CADK,CAAP;AAGF,eAAO5J,OAAO,CAACC,OAAR,EAAP;AACD,OATM,CAAP;AAUD;AACF;;AACD,SAAOD,OAAO,CAACC,OAAR,EAAP;AACD,CA7CD;;AA+CAhC,SAAS,CAACiB,SAAV,CAAoBuK,wBAApB,GAA+C,YAAY;AACzD;AACA,MAAI,KAAKpL,KAAL,IAAc,KAAKH,MAAL,CAAYqL,cAAZ,CAA2BS,kBAA7C,EAAiE;AAC/D,WAAO,KAAK9L,MAAL,CAAY4D,QAAZ,CACJoC,IADI,CAEH,OAFG,EAGH;AAAE7E,MAAAA,QAAQ,EAAE,KAAKA,QAAL;AAAZ,KAHG,EAIH;AAAE2F,MAAAA,IAAI,EAAE,CAAC,mBAAD,EAAsB,kBAAtB;AAAR,KAJG,EAMJ9E,IANI,CAMC8G,OAAO,IAAI;AACf,UAAIA,OAAO,CAACjE,MAAR,IAAkB,CAAtB,EAAyB;AACvB,cAAMwB,SAAN;AACD;;AACD,YAAMhD,IAAI,GAAGyF,OAAO,CAAC,CAAD,CAApB;AACA,UAAIiD,YAAY,GAAG,EAAnB;AACA,UAAI1I,IAAI,CAAC2I,iBAAT,EACED,YAAY,GAAG7G,gBAAE+G,IAAF,CACb5I,IAAI,CAAC2I,iBADQ,EAEb,KAAKhM,MAAL,CAAYqL,cAAZ,CAA2BS,kBAA3B,GAAgD,CAFnC,CAAf;AAIFC,MAAAA,YAAY,CAACxG,IAAb,CAAkBlC,IAAI,CAAC+D,QAAvB;AACA,YAAM8E,WAAW,GAAG,KAAK9L,IAAL,CAAUgH,QAA9B,CAZe,CAaf;;AACA,YAAM+E,QAAQ,GAAGJ,YAAY,CAAC/D,GAAb,CAAiB,UAAUmC,IAAV,EAAgB;AAChD,eAAOxK,cAAc,CAACyM,OAAf,CAAuBF,WAAvB,EAAoC/B,IAApC,EAA0CnI,IAA1C,CAA+C4C,MAAM,IAAI;AAC9D,cAAIA,MAAJ,EACE;AACA,mBAAO9C,OAAO,CAACkJ,MAAR,CAAe,iBAAf,CAAP;AACF,iBAAOlJ,OAAO,CAACC,OAAR,EAAP;AACD,SALM,CAAP;AAMD,OAPgB,CAAjB,CAde,CAsBf;;AACA,aAAOD,OAAO,CAACqG,GAAR,CAAYgE,QAAZ,EACJnK,IADI,CACC,MAAM;AACV,eAAOF,OAAO,CAACC,OAAR,EAAP;AACD,OAHI,EAIJsK,KAJI,CAIEC,GAAG,IAAI;AACZ,YAAIA,GAAG,KAAK,iBAAZ,EACE;AACA,iBAAOxK,OAAO,CAACkJ,MAAR,CACL,IAAIpL,KAAK,CAACc,KAAV,CACEd,KAAK,CAACc,KAAN,CAAYgG,gBADd,EAEG,+CAA8C,KAAK1G,MAAL,CAAYqL,cAAZ,CAA2BS,kBAAmB,aAF/F,CADK,CAAP;AAMF,cAAMQ,GAAN;AACD,OAdI,CAAP;AAeD,KA5CI,CAAP;AA6CD;;AACD,SAAOxK,OAAO,CAACC,OAAR,EAAP;AACD,CAlDD;;AAoDAhC,SAAS,CAACiB,SAAV,CAAoB+B,0BAApB,GAAiD,YAAY;AAC3D,MAAI,KAAK7C,SAAL,KAAmB,OAAvB,EAAgC;AAC9B;AACD,GAH0D,CAI3D;;;AACA,MAAI,KAAKC,KAAL,IAAc,CAAC,KAAKC,IAAL,CAAU4G,QAA7B,EAAuC;AACrC;AACD,GAP0D,CAQ3D;;;AACA,MAAI,KAAK/G,IAAL,CAAUoD,IAAV,IAAkB,KAAKjD,IAAL,CAAU4G,QAAhC,EAA0C;AACxC;AACD;;AACD,MACE,CAAC,KAAKpG,OAAL,CAAa,cAAb,CAAD,IAAiC;AACjC,OAAKZ,MAAL,CAAYuM,+BADZ,IAC+C;AAC/C,OAAKvM,MAAL,CAAYwM,gBAHd,EAIE;AACA;AACA,WAFA,CAEQ;AACT;;AACD,SAAO,KAAKC,kBAAL,EAAP;AACD,CArBD;;AAuBA1M,SAAS,CAACiB,SAAV,CAAoByL,kBAApB,GAAyC,kBAAkB;AACzD;AACA;AACA,MAAI,KAAKxM,IAAL,CAAUyM,cAAV,IAA4B,KAAKzM,IAAL,CAAUyM,cAAV,KAA6B,OAA7D,EAAsE;AACpE;AACD;;AAED,MAAI,KAAK9L,OAAL,CAAa,cAAb,KAAgC,IAAhC,IAAwC,KAAKR,IAAL,CAAU4G,QAAtD,EAAgE;AAC9D,SAAKpG,OAAL,CAAa,cAAb,IAA+BG,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAL,CAAU4G,QAAtB,EAAgCgC,IAAhC,CAAqC,GAArC,CAA/B;AACD;;AAED,QAAM;AAAE2D,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAiC7M,SAAS,CAAC6M,aAAV,CAAwB,KAAK5M,MAA7B,EAAqC;AAC1EsJ,IAAAA,MAAM,EAAE,KAAKnI,QAAL,EADkE;AAE1E0L,IAAAA,WAAW,EAAE;AACXrM,MAAAA,MAAM,EAAE,KAAKI,OAAL,CAAa,cAAb,IAA+B,OAA/B,GAAyC,QADtC;AAEXkM,MAAAA,YAAY,EAAE,KAAKlM,OAAL,CAAa,cAAb,KAAgC;AAFnC,KAF6D;AAM1E8L,IAAAA,cAAc,EAAE,KAAKzM,IAAL,CAAUyM;AANgD,GAArC,CAAvC;;AASA,MAAI,KAAKnL,QAAL,IAAiB,KAAKA,QAAL,CAAcA,QAAnC,EAA6C;AAC3C,SAAKA,QAAL,CAAcA,QAAd,CAAuB0I,YAAvB,GAAsC0C,WAAW,CAAC1C,YAAlD;AACD;;AAED,SAAO2C,aAAa,EAApB;AACD,CAzBD;;AA2BA7M,SAAS,CAAC6M,aAAV,GAA0B,UACxB5M,MADwB,EAExB;AAAEsJ,EAAAA,MAAF;AAAUuD,EAAAA,WAAV;AAAuBH,EAAAA,cAAvB;AAAuCK,EAAAA;AAAvC,CAFwB,EAGxB;AACA,QAAMC,KAAK,GAAG,OAAOtN,WAAW,CAACuN,QAAZ,EAArB;AACA,QAAMC,SAAS,GAAGlN,MAAM,CAACmN,wBAAP,EAAlB;AACA,QAAMR,WAAW,GAAG;AAClB1C,IAAAA,YAAY,EAAE+C,KADI;AAElB3J,IAAAA,IAAI,EAAE;AACJwG,MAAAA,MAAM,EAAE,SADJ;AAEJ3J,MAAAA,SAAS,EAAE,OAFP;AAGJiB,MAAAA,QAAQ,EAAEmI;AAHN,KAFY;AAOlBuD,IAAAA,WAPkB;AAQlBK,IAAAA,SAAS,EAAEtN,KAAK,CAAC6B,OAAN,CAAcyL,SAAd;AARO,GAApB;;AAWA,MAAIR,cAAJ,EAAoB;AAClBC,IAAAA,WAAW,CAACD,cAAZ,GAA6BA,cAA7B;AACD;;AAED3L,EAAAA,MAAM,CAACqM,MAAP,CAAcT,WAAd,EAA2BI,qBAA3B;AAEA,SAAO;AACLJ,IAAAA,WADK;AAELC,IAAAA,aAAa,EAAE,MACb,IAAI7M,SAAJ,CAAcC,MAAd,EAAsBP,IAAI,CAACmK,MAAL,CAAY5J,MAAZ,CAAtB,EAA2C,UAA3C,EAAuD,IAAvD,EAA6D2M,WAA7D,EAA0E9K,OAA1E;AAHG,GAAP;AAKD,CA5BD,C,CA8BA;;;AACA9B,SAAS,CAACiB,SAAV,CAAoBuB,6BAApB,GAAoD,YAAY;AAC9D,MAAI,KAAKrC,SAAL,KAAmB,OAAnB,IAA8B,KAAKC,KAAL,KAAe,IAAjD,EAAuD;AACrD;AACA;AACD;;AAED,MAAI,cAAc,KAAKC,IAAnB,IAA2B,WAAW,KAAKA,IAA/C,EAAqD;AACnD,UAAMiN,MAAM,GAAG;AACbC,MAAAA,iBAAiB,EAAE;AAAEhH,QAAAA,IAAI,EAAE;AAAR,OADN;AAEbiH,MAAAA,4BAA4B,EAAE;AAAEjH,QAAAA,IAAI,EAAE;AAAR;AAFjB,KAAf;AAIA,SAAKlG,IAAL,GAAYW,MAAM,CAACqM,MAAP,CAAc,KAAKhN,IAAnB,EAAyBiN,MAAzB,CAAZ;AACD;AACF,CAbD;;AAeAtN,SAAS,CAACiB,SAAV,CAAoB6B,yBAApB,GAAgD,YAAY;AAC1D;AACA,MAAI,KAAK3C,SAAL,IAAkB,UAAlB,IAAgC,KAAKC,KAAzC,EAAgD;AAC9C;AACD,GAJyD,CAK1D;;;AACA,QAAM;AAAEkD,IAAAA,IAAF;AAAQqJ,IAAAA,cAAR;AAAwBzC,IAAAA;AAAxB,MAAyC,KAAK7J,IAApD;;AACA,MAAI,CAACiD,IAAD,IAAS,CAACqJ,cAAd,EAA8B;AAC5B;AACD;;AACD,MAAI,CAACrJ,IAAI,CAAClC,QAAV,EAAoB;AAClB;AACD;;AACD,OAAKnB,MAAL,CAAY4D,QAAZ,CAAqB4J,OAArB,CACE,UADF,EAEE;AACEnK,IAAAA,IADF;AAEEqJ,IAAAA,cAFF;AAGEzC,IAAAA,YAAY,EAAE;AAAES,MAAAA,GAAG,EAAET;AAAP;AAHhB,GAFF,EAOE,EAPF,EAQE,KAAKrI,qBARP;AAUD,CAvBD,C,CAyBA;;;AACA7B,SAAS,CAACiB,SAAV,CAAoBgC,cAApB,GAAqC,YAAY;AAC/C,MAAI,KAAKpC,OAAL,IAAgB,KAAKA,OAAL,CAAa,eAAb,CAAhB,IAAiD,KAAKZ,MAAL,CAAYyN,4BAAjE,EAA+F;AAC7F,QAAIC,YAAY,GAAG;AACjBrK,MAAAA,IAAI,EAAE;AACJwG,QAAAA,MAAM,EAAE,SADJ;AAEJ3J,QAAAA,SAAS,EAAE,OAFP;AAGJiB,QAAAA,QAAQ,EAAE,KAAKA,QAAL;AAHN;AADW,KAAnB;AAOA,WAAO,KAAKP,OAAL,CAAa,eAAb,CAAP;AACA,WAAO,KAAKZ,MAAL,CAAY4D,QAAZ,CACJ4J,OADI,CACI,UADJ,EACgBE,YADhB,EAEJ1L,IAFI,CAEC,KAAKgB,cAAL,CAAoB2K,IAApB,CAAyB,IAAzB,CAFD,CAAP;AAGD;;AAED,MAAI,KAAK/M,OAAL,IAAgB,KAAKA,OAAL,CAAa,oBAAb,CAApB,EAAwD;AACtD,WAAO,KAAKA,OAAL,CAAa,oBAAb,CAAP;AACA,WAAO,KAAK6L,kBAAL,GAA0BzK,IAA1B,CAA+B,KAAKgB,cAAL,CAAoB2K,IAApB,CAAyB,IAAzB,CAA/B,CAAP;AACD;;AAED,MAAI,KAAK/M,OAAL,IAAgB,KAAKA,OAAL,CAAa,uBAAb,CAApB,EAA2D;AACzD,WAAO,KAAKA,OAAL,CAAa,uBAAb,CAAP,CADyD,CAEzD;;AACA,SAAKZ,MAAL,CAAYmL,cAAZ,CAA2ByC,qBAA3B,CAAiD,KAAKxN,IAAtD;AACA,WAAO,KAAK4C,cAAL,CAAoB2K,IAApB,CAAyB,IAAzB,CAAP;AACD;AACF,CA1BD,C,CA4BA;AACA;;;AACA5N,SAAS,CAACiB,SAAV,CAAoBoB,aAApB,GAAoC,YAAY;AAC9C,MAAI,KAAKb,QAAL,IAAiB,KAAKrB,SAAL,KAAmB,UAAxC,EAAoD;AAClD;AACD;;AAED,MAAI,CAAC,KAAKD,IAAL,CAAUoD,IAAX,IAAmB,CAAC,KAAKpD,IAAL,CAAUkD,QAAlC,EAA4C;AAC1C,UAAM,IAAIvD,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYmN,qBAA5B,EAAmD,yBAAnD,CAAN;AACD,GAP6C,CAS9C;;;AACA,MAAI,KAAKzN,IAAL,CAAUyI,GAAd,EAAmB;AACjB,UAAM,IAAIjJ,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYW,gBAA5B,EAA8C,gBAAgB,mBAA9D,CAAN;AACD;;AAED,MAAI,KAAKlB,KAAT,EAAgB;AACd,QAAI,KAAKC,IAAL,CAAUiD,IAAV,IAAkB,CAAC,KAAKpD,IAAL,CAAUkD,QAA7B,IAAyC,KAAK/C,IAAL,CAAUiD,IAAV,CAAelC,QAAf,IAA2B,KAAKlB,IAAL,CAAUoD,IAAV,CAAe/B,EAAvF,EAA2F;AACzF,YAAM,IAAI1B,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYW,gBAA5B,CAAN;AACD,KAFD,MAEO,IAAI,KAAKjB,IAAL,CAAUsM,cAAd,EAA8B;AACnC,YAAM,IAAI9M,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYW,gBAA5B,CAAN;AACD,KAFM,MAEA,IAAI,KAAKjB,IAAL,CAAU6J,YAAd,EAA4B;AACjC,YAAM,IAAIrK,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYW,gBAA5B,CAAN;AACD;AACF;;AAED,MAAI,CAAC,KAAKlB,KAAN,IAAe,CAAC,KAAKF,IAAL,CAAUkD,QAA9B,EAAwC;AACtC,UAAM4J,qBAAqB,GAAG,EAA9B;;AACA,SAAK,IAAI1H,GAAT,IAAgB,KAAKjF,IAArB,EAA2B;AACzB,UAAIiF,GAAG,KAAK,UAAR,IAAsBA,GAAG,KAAK,MAAlC,EAA0C;AACxC;AACD;;AACD0H,MAAAA,qBAAqB,CAAC1H,GAAD,CAArB,GAA6B,KAAKjF,IAAL,CAAUiF,GAAV,CAA7B;AACD;;AAED,UAAM;AAAEsH,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAAiC7M,SAAS,CAAC6M,aAAV,CAAwB,KAAK5M,MAA7B,EAAqC;AAC1EsJ,MAAAA,MAAM,EAAE,KAAKrJ,IAAL,CAAUoD,IAAV,CAAe/B,EADmD;AAE1EuL,MAAAA,WAAW,EAAE;AACXrM,QAAAA,MAAM,EAAE;AADG,OAF6D;AAK1EuM,MAAAA;AAL0E,KAArC,CAAvC;AAQA,WAAOH,aAAa,GAAG5K,IAAhB,CAAqB8G,OAAO,IAAI;AACrC,UAAI,CAACA,OAAO,CAACvH,QAAb,EAAuB;AACrB,cAAM,IAAI3B,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYoN,qBAA5B,EAAmD,yBAAnD,CAAN;AACD;;AACDnB,MAAAA,WAAW,CAAC,UAAD,CAAX,GAA0B7D,OAAO,CAACvH,QAAR,CAAiB,UAAjB,CAA1B;AACA,WAAKA,QAAL,GAAgB;AACdwM,QAAAA,MAAM,EAAE,GADM;AAEdxE,QAAAA,QAAQ,EAAET,OAAO,CAACS,QAFJ;AAGdhI,QAAAA,QAAQ,EAAEoL;AAHI,OAAhB;AAKD,KAVM,CAAP;AAWD;AACF,CArDD,C,CAuDA;AACA;AACA;AACA;AACA;;;AACA5M,SAAS,CAACiB,SAAV,CAAoBmB,kBAApB,GAAyC,YAAY;AACnD,MAAI,KAAKZ,QAAL,IAAiB,KAAKrB,SAAL,KAAmB,eAAxC,EAAyD;AACvD;AACD;;AAED,MACE,CAAC,KAAKC,KAAN,IACA,CAAC,KAAKC,IAAL,CAAU4N,WADX,IAEA,CAAC,KAAK5N,IAAL,CAAUsM,cAFX,IAGA,CAAC,KAAKzM,IAAL,CAAUyM,cAJb,EAKE;AACA,UAAM,IAAI9M,KAAK,CAACc,KAAV,CACJ,GADI,EAEJ,yDAAyD,qCAFrD,CAAN;AAID,GAfkD,CAiBnD;AACA;;;AACA,MAAI,KAAKN,IAAL,CAAU4N,WAAV,IAAyB,KAAK5N,IAAL,CAAU4N,WAAV,CAAsBnJ,MAAtB,IAAgC,EAA7D,EAAiE;AAC/D,SAAKzE,IAAL,CAAU4N,WAAV,GAAwB,KAAK5N,IAAL,CAAU4N,WAAV,CAAsBC,WAAtB,EAAxB;AACD,GArBkD,CAuBnD;;;AACA,MAAI,KAAK7N,IAAL,CAAUsM,cAAd,EAA8B;AAC5B,SAAKtM,IAAL,CAAUsM,cAAV,GAA2B,KAAKtM,IAAL,CAAUsM,cAAV,CAAyBuB,WAAzB,EAA3B;AACD;;AAED,MAAIvB,cAAc,GAAG,KAAKtM,IAAL,CAAUsM,cAA/B,CA5BmD,CA8BnD;;AACA,MAAI,CAACA,cAAD,IAAmB,CAAC,KAAKzM,IAAL,CAAUkD,QAAlC,EAA4C;AAC1CuJ,IAAAA,cAAc,GAAG,KAAKzM,IAAL,CAAUyM,cAA3B;AACD;;AAED,MAAIA,cAAJ,EAAoB;AAClBA,IAAAA,cAAc,GAAGA,cAAc,CAACuB,WAAf,EAAjB;AACD,GArCkD,CAuCnD;;;AACA,MAAI,KAAK9N,KAAL,IAAc,CAAC,KAAKC,IAAL,CAAU4N,WAAzB,IAAwC,CAACtB,cAAzC,IAA2D,CAAC,KAAKtM,IAAL,CAAU8N,UAA1E,EAAsF;AACpF;AACD;;AAED,MAAIzE,OAAO,GAAG3H,OAAO,CAACC,OAAR,EAAd;AAEA,MAAIoM,OAAJ,CA9CmD,CA8CtC;;AACb,MAAIC,aAAJ;AACA,MAAIC,mBAAJ;AACA,MAAIC,kBAAkB,GAAG,EAAzB,CAjDmD,CAmDnD;;AACA,QAAMC,SAAS,GAAG,EAAlB;;AACA,MAAI,KAAKpO,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrCoN,IAAAA,SAAS,CAAChJ,IAAV,CAAe;AACbpE,MAAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWgB;AADR,KAAf;AAGD;;AACD,MAAIuL,cAAJ,EAAoB;AAClB6B,IAAAA,SAAS,CAAChJ,IAAV,CAAe;AACbmH,MAAAA,cAAc,EAAEA;AADH,KAAf;AAGD;;AACD,MAAI,KAAKtM,IAAL,CAAU4N,WAAd,EAA2B;AACzBO,IAAAA,SAAS,CAAChJ,IAAV,CAAe;AAAEyI,MAAAA,WAAW,EAAE,KAAK5N,IAAL,CAAU4N;AAAzB,KAAf;AACD;;AAED,MAAIO,SAAS,CAAC1J,MAAV,IAAoB,CAAxB,EAA2B;AACzB;AACD;;AAED4E,EAAAA,OAAO,GAAGA,OAAO,CACdzH,IADO,CACF,MAAM;AACV,WAAO,KAAKhC,MAAL,CAAY4D,QAAZ,CAAqBoC,IAArB,CACL,eADK,EAEL;AACE0C,MAAAA,GAAG,EAAE6F;AADP,KAFK,EAKL,EALK,CAAP;AAOD,GATO,EAUPvM,IAVO,CAUF8G,OAAO,IAAI;AACfA,IAAAA,OAAO,CAAC/B,OAAR,CAAgBnC,MAAM,IAAI;AACxB,UAAI,KAAKzE,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAAzB,IAAqCyD,MAAM,CAACzD,QAAP,IAAmB,KAAKhB,KAAL,CAAWgB,QAAvE,EAAiF;AAC/EiN,QAAAA,aAAa,GAAGxJ,MAAhB;AACD;;AACD,UAAIA,MAAM,CAAC8H,cAAP,IAAyBA,cAA7B,EAA6C;AAC3C2B,QAAAA,mBAAmB,GAAGzJ,MAAtB;AACD;;AACD,UAAIA,MAAM,CAACoJ,WAAP,IAAsB,KAAK5N,IAAL,CAAU4N,WAApC,EAAiD;AAC/CM,QAAAA,kBAAkB,CAAC/I,IAAnB,CAAwBX,MAAxB;AACD;AACF,KAVD,EADe,CAaf;;AACA,QAAI,KAAKzE,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrC,UAAI,CAACiN,aAAL,EAAoB;AAClB,cAAM,IAAIxO,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYoE,gBAA5B,EAA8C,8BAA9C,CAAN;AACD;;AACD,UACE,KAAK1E,IAAL,CAAUsM,cAAV,IACA0B,aAAa,CAAC1B,cADd,IAEA,KAAKtM,IAAL,CAAUsM,cAAV,KAA6B0B,aAAa,CAAC1B,cAH7C,EAIE;AACA,cAAM,IAAI9M,KAAK,CAACc,KAAV,CAAgB,GAAhB,EAAqB,+CAA+C,WAApE,CAAN;AACD;;AACD,UACE,KAAKN,IAAL,CAAU4N,WAAV,IACAI,aAAa,CAACJ,WADd,IAEA,KAAK5N,IAAL,CAAU4N,WAAV,KAA0BI,aAAa,CAACJ,WAFxC,IAGA,CAAC,KAAK5N,IAAL,CAAUsM,cAHX,IAIA,CAAC0B,aAAa,CAAC1B,cALjB,EAME;AACA,cAAM,IAAI9M,KAAK,CAACc,KAAV,CAAgB,GAAhB,EAAqB,4CAA4C,WAAjE,CAAN;AACD;;AACD,UACE,KAAKN,IAAL,CAAU8N,UAAV,IACA,KAAK9N,IAAL,CAAU8N,UADV,IAEA,KAAK9N,IAAL,CAAU8N,UAAV,KAAyBE,aAAa,CAACF,UAHzC,EAIE;AACA,cAAM,IAAItO,KAAK,CAACc,KAAV,CAAgB,GAAhB,EAAqB,2CAA2C,WAAhE,CAAN;AACD;AACF;;AAED,QAAI,KAAKP,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAAzB,IAAqCiN,aAAzC,EAAwD;AACtDD,MAAAA,OAAO,GAAGC,aAAV;AACD;;AAED,QAAI1B,cAAc,IAAI2B,mBAAtB,EAA2C;AACzCF,MAAAA,OAAO,GAAGE,mBAAV;AACD,KAjDc,CAkDf;;;AACA,QAAI,CAAC,KAAKlO,KAAN,IAAe,CAAC,KAAKC,IAAL,CAAU8N,UAA1B,IAAwC,CAACC,OAA7C,EAAsD;AACpD,YAAM,IAAIvO,KAAK,CAACc,KAAV,CAAgB,GAAhB,EAAqB,gDAArB,CAAN;AACD;AACF,GAhEO,EAiEPsB,IAjEO,CAiEF,MAAM;AACV,QAAI,CAACmM,OAAL,EAAc;AACZ,UAAI,CAACG,kBAAkB,CAACzJ,MAAxB,EAAgC;AAC9B;AACD,OAFD,MAEO,IACLyJ,kBAAkB,CAACzJ,MAAnB,IAA6B,CAA7B,KACC,CAACyJ,kBAAkB,CAAC,CAAD,CAAlB,CAAsB,gBAAtB,CAAD,IAA4C,CAAC5B,cAD9C,CADK,EAGL;AACA;AACA;AACA;AACA,eAAO4B,kBAAkB,CAAC,CAAD,CAAlB,CAAsB,UAAtB,CAAP;AACD,OARM,MAQA,IAAI,CAAC,KAAKlO,IAAL,CAAUsM,cAAf,EAA+B;AACpC,cAAM,IAAI9M,KAAK,CAACc,KAAV,CACJ,GADI,EAEJ,kDACE,uCAHE,CAAN;AAKD,OANM,MAMA;AACL;AACA;AACA;AACA;AACA;AACA,YAAI8N,QAAQ,GAAG;AACbR,UAAAA,WAAW,EAAE,KAAK5N,IAAL,CAAU4N,WADV;AAEbtB,UAAAA,cAAc,EAAE;AACdhC,YAAAA,GAAG,EAAEgC;AADS;AAFH,SAAf;;AAMA,YAAI,KAAKtM,IAAL,CAAUqO,aAAd,EAA6B;AAC3BD,UAAAA,QAAQ,CAAC,eAAD,CAAR,GAA4B,KAAKpO,IAAL,CAAUqO,aAAtC;AACD;;AACD,aAAKzO,MAAL,CAAY4D,QAAZ,CAAqB4J,OAArB,CAA6B,eAA7B,EAA8CgB,QAA9C,EAAwDnC,KAAxD,CAA8DC,GAAG,IAAI;AACnE,cAAIA,GAAG,CAACoC,IAAJ,IAAY9O,KAAK,CAACc,KAAN,CAAYoE,gBAA5B,EAA8C;AAC5C;AACA;AACD,WAJkE,CAKnE;;;AACA,gBAAMwH,GAAN;AACD,SAPD;AAQA;AACD;AACF,KA1CD,MA0CO;AACL,UAAIgC,kBAAkB,CAACzJ,MAAnB,IAA6B,CAA7B,IAAkC,CAACyJ,kBAAkB,CAAC,CAAD,CAAlB,CAAsB,gBAAtB,CAAvC,EAAgF;AAC9E;AACA;AACA;AACA,cAAME,QAAQ,GAAG;AAAErN,UAAAA,QAAQ,EAAEgN,OAAO,CAAChN;AAApB,SAAjB;AACA,eAAO,KAAKnB,MAAL,CAAY4D,QAAZ,CACJ4J,OADI,CACI,eADJ,EACqBgB,QADrB,EAEJxM,IAFI,CAEC,MAAM;AACV,iBAAOsM,kBAAkB,CAAC,CAAD,CAAlB,CAAsB,UAAtB,CAAP;AACD,SAJI,EAKJjC,KALI,CAKEC,GAAG,IAAI;AACZ,cAAIA,GAAG,CAACoC,IAAJ,IAAY9O,KAAK,CAACc,KAAN,CAAYoE,gBAA5B,EAA8C;AAC5C;AACA;AACD,WAJW,CAKZ;;;AACA,gBAAMwH,GAAN;AACD,SAZI,CAAP;AAaD,OAlBD,MAkBO;AACL,YAAI,KAAKlM,IAAL,CAAU4N,WAAV,IAAyBG,OAAO,CAACH,WAAR,IAAuB,KAAK5N,IAAL,CAAU4N,WAA9D,EAA2E;AACzE;AACA;AACA;AACA,gBAAMQ,QAAQ,GAAG;AACfR,YAAAA,WAAW,EAAE,KAAK5N,IAAL,CAAU4N;AADR,WAAjB,CAJyE,CAOzE;AACA;;AACA,cAAI,KAAK5N,IAAL,CAAUsM,cAAd,EAA8B;AAC5B8B,YAAAA,QAAQ,CAAC,gBAAD,CAAR,GAA6B;AAC3B9D,cAAAA,GAAG,EAAE,KAAKtK,IAAL,CAAUsM;AADY,aAA7B;AAGD,WAJD,MAIO,IACLyB,OAAO,CAAChN,QAAR,IACA,KAAKf,IAAL,CAAUe,QADV,IAEAgN,OAAO,CAAChN,QAAR,IAAoB,KAAKf,IAAL,CAAUe,QAHzB,EAIL;AACA;AACAqN,YAAAA,QAAQ,CAAC,UAAD,CAAR,GAAuB;AACrB9D,cAAAA,GAAG,EAAEyD,OAAO,CAAChN;AADQ,aAAvB;AAGD,WATM,MASA;AACL;AACA,mBAAOgN,OAAO,CAAChN,QAAf;AACD;;AACD,cAAI,KAAKf,IAAL,CAAUqO,aAAd,EAA6B;AAC3BD,YAAAA,QAAQ,CAAC,eAAD,CAAR,GAA4B,KAAKpO,IAAL,CAAUqO,aAAtC;AACD;;AACD,eAAKzO,MAAL,CAAY4D,QAAZ,CAAqB4J,OAArB,CAA6B,eAA7B,EAA8CgB,QAA9C,EAAwDnC,KAAxD,CAA8DC,GAAG,IAAI;AACnE,gBAAIA,GAAG,CAACoC,IAAJ,IAAY9O,KAAK,CAACc,KAAN,CAAYoE,gBAA5B,EAA8C;AAC5C;AACA;AACD,aAJkE,CAKnE;;;AACA,kBAAMwH,GAAN;AACD,WAPD;AAQD,SAtCI,CAuCL;;;AACA,eAAO6B,OAAO,CAAChN,QAAf;AACD;AACF;AACF,GA1KO,EA2KPa,IA3KO,CA2KF2M,KAAK,IAAI;AACb,QAAIA,KAAJ,EAAW;AACT,WAAKxO,KAAL,GAAa;AAAEgB,QAAAA,QAAQ,EAAEwN;AAAZ,OAAb;AACA,aAAO,KAAKvO,IAAL,CAAUe,QAAjB;AACA,aAAO,KAAKf,IAAL,CAAUuG,SAAjB;AACD,KALY,CAMb;;AACD,GAlLO,CAAV;AAmLA,SAAO8C,OAAP;AACD,CA3PD,C,CA6PA;AACA;AACA;;;AACA1J,SAAS,CAACiB,SAAV,CAAoB4B,6BAApB,GAAoD,YAAY;AAC9D;AACA,MAAI,KAAKrB,QAAL,IAAiB,KAAKA,QAAL,CAAcA,QAAnC,EAA6C;AAC3C,SAAKvB,MAAL,CAAY2F,eAAZ,CAA4BC,mBAA5B,CAAgD,KAAK5F,MAArD,EAA6D,KAAKuB,QAAL,CAAcA,QAA3E;AACD;AACF,CALD;;AAOAxB,SAAS,CAACiB,SAAV,CAAoB8B,oBAApB,GAA2C,YAAY;AACrD,MAAI,KAAKvB,QAAT,EAAmB;AACjB;AACD;;AAED,MAAI,KAAKrB,SAAL,KAAmB,OAAvB,EAAgC;AAC9B,SAAKF,MAAL,CAAY+J,eAAZ,CAA4B6E,IAA5B,CAAiCC,KAAjC;AACD;;AAED,MAAI,KAAK3O,SAAL,KAAmB,OAAnB,IAA8B,KAAKC,KAAnC,IAA4C,KAAKF,IAAL,CAAU6O,iBAAV,EAAhD,EAA+E;AAC7E,UAAM,IAAIlP,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYqO,eADR,EAEH,sBAAqB,KAAK5O,KAAL,CAAWgB,QAAS,GAFtC,CAAN;AAID;;AAED,MAAI,KAAKjB,SAAL,KAAmB,UAAnB,IAAiC,KAAKE,IAAL,CAAU4O,QAA/C,EAAyD;AACvD,SAAK5O,IAAL,CAAU6O,YAAV,GAAyB,KAAK7O,IAAL,CAAU4O,QAAV,CAAmBE,IAA5C;AACD,GAlBoD,CAoBrD;AACA;;;AACA,MAAI,KAAK9O,IAAL,CAAUyI,GAAV,IAAiB,KAAKzI,IAAL,CAAUyI,GAAV,CAAc,aAAd,CAArB,EAAmD;AACjD,UAAM,IAAIjJ,KAAK,CAACc,KAAV,CAAgBd,KAAK,CAACc,KAAN,CAAYyO,WAA5B,EAAyC,cAAzC,CAAN;AACD;;AAED,MAAI,KAAKhP,KAAT,EAAgB;AACd;AACA;AACA,QAAI,KAAKD,SAAL,KAAmB,OAAnB,IAA8B,KAAKE,IAAL,CAAUyI,GAAxC,IAA+C,KAAK5I,IAAL,CAAUkD,QAAV,KAAuB,IAA1E,EAAgF;AAC9E,WAAK/C,IAAL,CAAUyI,GAAV,CAAc,KAAK1I,KAAL,CAAWgB,QAAzB,IAAqC;AAAEiO,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,KAAK,EAAE;AAArB,OAArC;AACD,KALa,CAMd;;;AACA,QACE,KAAKnP,SAAL,KAAmB,OAAnB,IACA,KAAKE,IAAL,CAAUiK,gBADV,IAEA,KAAKrK,MAAL,CAAYqL,cAFZ,IAGA,KAAKrL,MAAL,CAAYqL,cAAZ,CAA2BiE,cAJ7B,EAKE;AACA,WAAKlP,IAAL,CAAUmP,oBAAV,GAAiC3P,KAAK,CAAC6B,OAAN,CAAc,IAAIC,IAAJ,EAAd,CAAjC;AACD,KAda,CAed;;;AACA,WAAO,KAAKtB,IAAL,CAAUuG,SAAjB;AAEA,QAAI6I,KAAK,GAAG1N,OAAO,CAACC,OAAR,EAAZ,CAlBc,CAmBd;;AACA,QACE,KAAK7B,SAAL,KAAmB,OAAnB,IACA,KAAKE,IAAL,CAAUiK,gBADV,IAEA,KAAKrK,MAAL,CAAYqL,cAFZ,IAGA,KAAKrL,MAAL,CAAYqL,cAAZ,CAA2BS,kBAJ7B,EAKE;AACA0D,MAAAA,KAAK,GAAG,KAAKxP,MAAL,CAAY4D,QAAZ,CACLoC,IADK,CAEJ,OAFI,EAGJ;AAAE7E,QAAAA,QAAQ,EAAE,KAAKA,QAAL;AAAZ,OAHI,EAIJ;AAAE2F,QAAAA,IAAI,EAAE,CAAC,mBAAD,EAAsB,kBAAtB;AAAR,OAJI,EAML9E,IANK,CAMA8G,OAAO,IAAI;AACf,YAAIA,OAAO,CAACjE,MAAR,IAAkB,CAAtB,EAAyB;AACvB,gBAAMwB,SAAN;AACD;;AACD,cAAMhD,IAAI,GAAGyF,OAAO,CAAC,CAAD,CAApB;AACA,YAAIiD,YAAY,GAAG,EAAnB;;AACA,YAAI1I,IAAI,CAAC2I,iBAAT,EAA4B;AAC1BD,UAAAA,YAAY,GAAG7G,gBAAE+G,IAAF,CACb5I,IAAI,CAAC2I,iBADQ,EAEb,KAAKhM,MAAL,CAAYqL,cAAZ,CAA2BS,kBAFd,CAAf;AAID,SAXc,CAYf;;;AACA,eACEC,YAAY,CAAClH,MAAb,GAAsB4K,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,KAAK1P,MAAL,CAAYqL,cAAZ,CAA2BS,kBAA3B,GAAgD,CAA5D,CADxB,EAEE;AACAC,UAAAA,YAAY,CAAC4D,KAAb;AACD;;AACD5D,QAAAA,YAAY,CAACxG,IAAb,CAAkBlC,IAAI,CAAC+D,QAAvB;AACA,aAAKhH,IAAL,CAAU4L,iBAAV,GAA8BD,YAA9B;AACD,OA1BK,CAAR;AA2BD;;AAED,WAAOyD,KAAK,CAACxN,IAAN,CAAW,MAAM;AACtB;AACA,aAAO,KAAKhC,MAAL,CAAY4D,QAAZ,CACJc,MADI,CAEH,KAAKxE,SAFF,EAGH,KAAKC,KAHF,EAIH,KAAKC,IAJF,EAKH,KAAKS,UALF,EAMH,KANG,EAOH,KAPG,EAQH,KAAKe,qBARF,EAUJI,IAVI,CAUCT,QAAQ,IAAI;AAChBA,QAAAA,QAAQ,CAACC,SAAT,GAAqB,KAAKA,SAA1B;;AACA,aAAKoO,uBAAL,CAA6BrO,QAA7B,EAAuC,KAAKnB,IAA5C;;AACA,aAAKmB,QAAL,GAAgB;AAAEA,UAAAA;AAAF,SAAhB;AACD,OAdI,CAAP;AAeD,KAjBM,CAAP;AAkBD,GAzED,MAyEO;AACL;AACA,QAAI,KAAKrB,SAAL,KAAmB,OAAvB,EAAgC;AAC9B,UAAI2I,GAAG,GAAG,KAAKzI,IAAL,CAAUyI,GAApB,CAD8B,CAE9B;;AACA,UAAI,CAACA,GAAL,EAAU;AACRA,QAAAA,GAAG,GAAG,EAAN;;AACA,YAAI,CAAC,KAAK7I,MAAL,CAAY6P,mBAAjB,EAAsC;AACpChH,UAAAA,GAAG,CAAC,GAAD,CAAH,GAAW;AAAEuG,YAAAA,IAAI,EAAE,IAAR;AAAcC,YAAAA,KAAK,EAAE;AAArB,WAAX;AACD;AACF,OAR6B,CAS9B;;;AACAxG,MAAAA,GAAG,CAAC,KAAKzI,IAAL,CAAUe,QAAX,CAAH,GAA0B;AAAEiO,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,KAAK,EAAE;AAArB,OAA1B;AACA,WAAKjP,IAAL,CAAUyI,GAAV,GAAgBA,GAAhB,CAX8B,CAY9B;;AACA,UAAI,KAAK7I,MAAL,CAAYqL,cAAZ,IAA8B,KAAKrL,MAAL,CAAYqL,cAAZ,CAA2BiE,cAA7D,EAA6E;AAC3E,aAAKlP,IAAL,CAAUmP,oBAAV,GAAiC3P,KAAK,CAAC6B,OAAN,CAAc,IAAIC,IAAJ,EAAd,CAAjC;AACD;AACF,KAlBI,CAoBL;;;AACA,WAAO,KAAK1B,MAAL,CAAY4D,QAAZ,CACJe,MADI,CACG,KAAKzE,SADR,EACmB,KAAKE,IADxB,EAC8B,KAAKS,UADnC,EAC+C,KAD/C,EACsD,KAAKe,qBAD3D,EAEJyK,KAFI,CAEE3C,KAAK,IAAI;AACd,UAAI,KAAKxJ,SAAL,KAAmB,OAAnB,IAA8BwJ,KAAK,CAACgF,IAAN,KAAe9O,KAAK,CAACc,KAAN,CAAYoP,eAA7D,EAA8E;AAC5E,cAAMpG,KAAN;AACD,OAHa,CAKd;;;AACA,UAAIA,KAAK,IAAIA,KAAK,CAACqG,QAAf,IAA2BrG,KAAK,CAACqG,QAAN,CAAeC,gBAAf,KAAoC,UAAnE,EAA+E;AAC7E,cAAM,IAAIpQ,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYmK,cADR,EAEJ,2CAFI,CAAN;AAID;;AAED,UAAInB,KAAK,IAAIA,KAAK,CAACqG,QAAf,IAA2BrG,KAAK,CAACqG,QAAN,CAAeC,gBAAf,KAAoC,OAAnE,EAA4E;AAC1E,cAAM,IAAIpQ,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYwK,WADR,EAEJ,gDAFI,CAAN;AAID,OAlBa,CAoBd;AACA;AACA;AACA;;;AACA,aAAO,KAAKlL,MAAL,CAAY4D,QAAZ,CACJoC,IADI,CAEH,KAAK9F,SAFF,EAGH;AACE+G,QAAAA,QAAQ,EAAE,KAAK7G,IAAL,CAAU6G,QADtB;AAEE9F,QAAAA,QAAQ,EAAE;AAAEuJ,UAAAA,GAAG,EAAE,KAAKvJ,QAAL;AAAP;AAFZ,OAHG,EAOH;AAAEwJ,QAAAA,KAAK,EAAE;AAAT,OAPG,EASJ3I,IATI,CASC8G,OAAO,IAAI;AACf,YAAIA,OAAO,CAACjE,MAAR,GAAiB,CAArB,EAAwB;AACtB,gBAAM,IAAIjF,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYmK,cADR,EAEJ,2CAFI,CAAN;AAID;;AACD,eAAO,KAAK7K,MAAL,CAAY4D,QAAZ,CAAqBoC,IAArB,CACL,KAAK9F,SADA,EAEL;AAAE4K,UAAAA,KAAK,EAAE,KAAK1K,IAAL,CAAU0K,KAAnB;AAA0B3J,UAAAA,QAAQ,EAAE;AAAEuJ,YAAAA,GAAG,EAAE,KAAKvJ,QAAL;AAAP;AAApC,SAFK,EAGL;AAAEwJ,UAAAA,KAAK,EAAE;AAAT,SAHK,CAAP;AAKD,OArBI,EAsBJ3I,IAtBI,CAsBC8G,OAAO,IAAI;AACf,YAAIA,OAAO,CAACjE,MAAR,GAAiB,CAArB,EAAwB;AACtB,gBAAM,IAAIjF,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYwK,WADR,EAEJ,gDAFI,CAAN;AAID;;AACD,cAAM,IAAItL,KAAK,CAACc,KAAV,CACJd,KAAK,CAACc,KAAN,CAAYoP,eADR,EAEJ,+DAFI,CAAN;AAID,OAjCI,CAAP;AAkCD,KA5DI,EA6DJ9N,IA7DI,CA6DCT,QAAQ,IAAI;AAChBA,MAAAA,QAAQ,CAACJ,QAAT,GAAoB,KAAKf,IAAL,CAAUe,QAA9B;AACAI,MAAAA,QAAQ,CAACoF,SAAT,GAAqB,KAAKvG,IAAL,CAAUuG,SAA/B;;AAEA,UAAI,KAAK8D,0BAAT,EAAqC;AACnClJ,QAAAA,QAAQ,CAAC0F,QAAT,GAAoB,KAAK7G,IAAL,CAAU6G,QAA9B;AACD;;AACD,WAAK2I,uBAAL,CAA6BrO,QAA7B,EAAuC,KAAKnB,IAA5C;;AACA,WAAKmB,QAAL,GAAgB;AACdwM,QAAAA,MAAM,EAAE,GADM;AAEdxM,QAAAA,QAFc;AAGdgI,QAAAA,QAAQ,EAAE,KAAKA,QAAL;AAHI,OAAhB;AAKD,KA1EI,CAAP;AA2ED;AACF,CApMD,C,CAsMA;;;AACAxJ,SAAS,CAACiB,SAAV,CAAoBiC,mBAApB,GAA0C,YAAY;AACpD,MAAI,CAAC,KAAK1B,QAAN,IAAkB,CAAC,KAAKA,QAAL,CAAcA,QAArC,EAA+C;AAC7C;AACD,GAHmD,CAKpD;;;AACA,QAAM0O,gBAAgB,GAAGpQ,QAAQ,CAACmE,aAAT,CACvB,KAAK9D,SADkB,EAEvBL,QAAQ,CAACoE,KAAT,CAAeiM,SAFQ,EAGvB,KAAKlQ,MAAL,CAAYmE,aAHW,CAAzB;AAKA,QAAMgM,YAAY,GAAG,KAAKnQ,MAAL,CAAYoQ,mBAAZ,CAAgCD,YAAhC,CAA6C,KAAKjQ,SAAlD,CAArB;;AACA,MAAI,CAAC+P,gBAAD,IAAqB,CAACE,YAA1B,EAAwC;AACtC,WAAOrO,OAAO,CAACC,OAAR,EAAP;AACD;;AAED,MAAIqC,SAAS,GAAG;AAAElE,IAAAA,SAAS,EAAE,KAAKA;AAAlB,GAAhB;;AACA,MAAI,KAAKC,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrCiD,IAAAA,SAAS,CAACjD,QAAV,GAAqB,KAAKhB,KAAL,CAAWgB,QAAhC;AACD,GAnBmD,CAqBpD;;;AACA,MAAIkD,cAAJ;;AACA,MAAI,KAAKlE,KAAL,IAAc,KAAKA,KAAL,CAAWgB,QAA7B,EAAuC;AACrCkD,IAAAA,cAAc,GAAGxE,QAAQ,CAAC2E,OAAT,CAAiBJ,SAAjB,EAA4B,KAAK/D,YAAjC,CAAjB;AACD,GAzBmD,CA2BpD;AACA;;;AACA,QAAMiE,aAAa,GAAG,KAAKC,kBAAL,CAAwBH,SAAxB,CAAtB;;AACAE,EAAAA,aAAa,CAAC+L,mBAAd,CAAkC,KAAK9O,QAAL,CAAcA,QAAhD,EAA0D,KAAKA,QAAL,CAAcwM,MAAd,IAAwB,GAAlF;;AAEA,OAAK/N,MAAL,CAAY4D,QAAZ,CAAqBC,UAArB,GAAkC7B,IAAlC,CAAuCS,gBAAgB,IAAI;AACzD;AACA,UAAM6N,KAAK,GAAG7N,gBAAgB,CAAC8N,wBAAjB,CAA0CjM,aAAa,CAACpE,SAAxD,CAAd;AACA,SAAKF,MAAL,CAAYoQ,mBAAZ,CAAgCI,WAAhC,CACElM,aAAa,CAACpE,SADhB,EAEEoE,aAFF,EAGED,cAHF,EAIEiM,KAJF;AAMD,GATD,EAhCoD,CA2CpD;;AACA,SAAOzQ,QAAQ,CACZkF,eADI,CAEHlF,QAAQ,CAACoE,KAAT,CAAeiM,SAFZ,EAGH,KAAKjQ,IAHF,EAIHqE,aAJG,EAKHD,cALG,EAMH,KAAKrE,MANF,EAOH,KAAKO,OAPF,EASJyB,IATI,CASC4C,MAAM,IAAI;AACd,QAAIA,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAAhC,EAA0C;AACxC,WAAKrD,QAAL,CAAcA,QAAd,GAAyBqD,MAAzB;AACD;AACF,GAbI,EAcJyH,KAdI,CAcE,UAAUC,GAAV,EAAe;AACpBmE,oBAAOC,IAAP,CAAY,2BAAZ,EAAyCpE,GAAzC;AACD,GAhBI,CAAP;AAiBD,CA7DD,C,CA+DA;;;AACAvM,SAAS,CAACiB,SAAV,CAAoBuI,QAApB,GAA+B,YAAY;AACzC,MAAIoH,MAAM,GAAG,KAAKzQ,SAAL,KAAmB,OAAnB,GAA6B,SAA7B,GAAyC,cAAc,KAAKA,SAAnB,GAA+B,GAArF;AACA,QAAM0Q,KAAK,GAAG,KAAK5Q,MAAL,CAAY4Q,KAAZ,IAAqB,KAAK5Q,MAAL,CAAY6Q,SAA/C;AACA,SAAOD,KAAK,GAAGD,MAAR,GAAiB,KAAKvQ,IAAL,CAAUe,QAAlC;AACD,CAJD,C,CAMA;AACA;;;AACApB,SAAS,CAACiB,SAAV,CAAoBG,QAApB,GAA+B,YAAY;AACzC,SAAO,KAAKf,IAAL,CAAUe,QAAV,IAAsB,KAAKhB,KAAL,CAAWgB,QAAxC;AACD,CAFD,C,CAIA;;;AACApB,SAAS,CAACiB,SAAV,CAAoB8P,aAApB,GAAoC,YAAY;AAC9C,QAAM1Q,IAAI,GAAGW,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAjB,EAAuB+E,MAAvB,CAA8B,CAAC/E,IAAD,EAAOiF,GAAP,KAAe;AACxD;AACA,QAAI,CAAC,0BAA0B0L,IAA1B,CAA+B1L,GAA/B,CAAL,EAA0C;AACxC,aAAOjF,IAAI,CAACiF,GAAD,CAAX;AACD;;AACD,WAAOjF,IAAP;AACD,GANY,EAMVZ,QAAQ,CAAC,KAAKY,IAAN,CANE,CAAb;AAOA,SAAOR,KAAK,CAACoR,OAAN,CAAc3K,SAAd,EAAyBjG,IAAzB,CAAP;AACD,CATD,C,CAWA;;;AACAL,SAAS,CAACiB,SAAV,CAAoBuD,kBAApB,GAAyC,UAAUH,SAAV,EAAqB;AAC5D,QAAMlE,SAAS,GAAGN,KAAK,CAACmB,MAAN,CAAakQ,QAAb,CAAsB7M,SAAtB,CAAlB;AACA,QAAM8M,kBAAkB,GAAGhR,SAAS,CAACiR,WAAV,CAAsBD,kBAAtB,GACvBhR,SAAS,CAACiR,WAAV,CAAsBD,kBAAtB,EADuB,GAEvB,EAFJ;;AAGA,MAAI,CAAC,KAAK7Q,YAAV,EAAwB;AACtB,SAAK,MAAM+Q,SAAX,IAAwBF,kBAAxB,EAA4C;AAC1C9M,MAAAA,SAAS,CAACgN,SAAD,CAAT,GAAuB,KAAKhR,IAAL,CAAUgR,SAAV,CAAvB;AACD;AACF;;AACD,QAAM9M,aAAa,GAAGzE,QAAQ,CAAC2E,OAAT,CAAiBJ,SAAjB,EAA4B,KAAK/D,YAAjC,CAAtB;AACAU,EAAAA,MAAM,CAAC+F,IAAP,CAAY,KAAK1G,IAAjB,EAAuB+E,MAAvB,CAA8B,UAAU/E,IAAV,EAAgBiF,GAAhB,EAAqB;AACjD,QAAIA,GAAG,CAAC1B,OAAJ,CAAY,GAAZ,IAAmB,CAAvB,EAA0B;AACxB,UAAI,OAAOvD,IAAI,CAACiF,GAAD,CAAJ,CAAUiB,IAAjB,KAA0B,QAA9B,EAAwC;AACtC,YAAI,CAAC4K,kBAAkB,CAACG,QAAnB,CAA4BhM,GAA5B,CAAL,EAAuC;AACrCf,UAAAA,aAAa,CAACgN,GAAd,CAAkBjM,GAAlB,EAAuBjF,IAAI,CAACiF,GAAD,CAA3B;AACD;AACF,OAJD,MAIO;AACL;AACA,cAAMkM,WAAW,GAAGlM,GAAG,CAACmM,KAAJ,CAAU,GAAV,CAApB;AACA,cAAMC,UAAU,GAAGF,WAAW,CAAC,CAAD,CAA9B;AACA,YAAIG,SAAS,GAAGpN,aAAa,CAACqN,GAAd,CAAkBF,UAAlB,CAAhB;;AACA,YAAI,OAAOC,SAAP,KAAqB,QAAzB,EAAmC;AACjCA,UAAAA,SAAS,GAAG,EAAZ;AACD;;AACDA,QAAAA,SAAS,CAACH,WAAW,CAAC,CAAD,CAAZ,CAAT,GAA4BnR,IAAI,CAACiF,GAAD,CAAhC;AACAf,QAAAA,aAAa,CAACgN,GAAd,CAAkBG,UAAlB,EAA8BC,SAA9B;AACD;;AACD,aAAOtR,IAAI,CAACiF,GAAD,CAAX;AACD;;AACD,WAAOjF,IAAP;AACD,GApBD,EAoBGZ,QAAQ,CAAC,KAAKY,IAAN,CApBX;AAsBA,QAAMwR,SAAS,GAAG,KAAKd,aAAL,EAAlB;;AACA,OAAK,MAAMM,SAAX,IAAwBF,kBAAxB,EAA4C;AAC1C,WAAOU,SAAS,CAACR,SAAD,CAAhB;AACD;;AACD9M,EAAAA,aAAa,CAACgN,GAAd,CAAkBM,SAAlB;AACA,SAAOtN,aAAP;AACD,CAvCD;;AAyCAvE,SAAS,CAACiB,SAAV,CAAoBkC,iBAApB,GAAwC,YAAY;AAClD,MAAI,KAAK3B,QAAL,IAAiB,KAAKA,QAAL,CAAcA,QAA/B,IAA2C,KAAKrB,SAAL,KAAmB,OAAlE,EAA2E;AACzE,UAAMmD,IAAI,GAAG,KAAK9B,QAAL,CAAcA,QAA3B;;AACA,QAAI8B,IAAI,CAAC2D,QAAT,EAAmB;AACjBjG,MAAAA,MAAM,CAAC+F,IAAP,CAAYzD,IAAI,CAAC2D,QAAjB,EAA2BD,OAA3B,CAAmCW,QAAQ,IAAI;AAC7C,YAAIrE,IAAI,CAAC2D,QAAL,CAAcU,QAAd,MAA4B,IAAhC,EAAsC;AACpC,iBAAOrE,IAAI,CAAC2D,QAAL,CAAcU,QAAd,CAAP;AACD;AACF,OAJD;;AAKA,UAAI3G,MAAM,CAAC+F,IAAP,CAAYzD,IAAI,CAAC2D,QAAjB,EAA2BnC,MAA3B,IAAqC,CAAzC,EAA4C;AAC1C,eAAOxB,IAAI,CAAC2D,QAAZ;AACD;AACF;AACF;AACF,CAdD;;AAgBAjH,SAAS,CAACiB,SAAV,CAAoB4O,uBAApB,GAA8C,UAAUrO,QAAV,EAAoBnB,IAApB,EAA0B;AACtE,MAAI8E,gBAAEgC,OAAF,CAAU,KAAKtG,OAAL,CAAaqE,sBAAvB,CAAJ,EAAoD;AAClD,WAAO1D,QAAP;AACD;;AACD,QAAMsQ,oBAAoB,GAAG/R,SAAS,CAACgS,qBAAV,CAAgC,KAAKxR,SAArC,CAA7B;AACA,OAAKM,OAAL,CAAaqE,sBAAb,CAAoC8B,OAApC,CAA4CZ,SAAS,IAAI;AACvD,UAAM4L,SAAS,GAAG3R,IAAI,CAAC+F,SAAD,CAAtB;;AAEA,QAAI,CAACpF,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCK,QAArC,EAA+C4E,SAA/C,CAAL,EAAgE;AAC9D5E,MAAAA,QAAQ,CAAC4E,SAAD,CAAR,GAAsB4L,SAAtB;AACD,KALsD,CAOvD;;;AACA,QAAIxQ,QAAQ,CAAC4E,SAAD,CAAR,IAAuB5E,QAAQ,CAAC4E,SAAD,CAAR,CAAoBG,IAA/C,EAAqD;AACnD,aAAO/E,QAAQ,CAAC4E,SAAD,CAAf;;AACA,UAAI0L,oBAAoB,IAAIE,SAAS,CAACzL,IAAV,IAAkB,QAA9C,EAAwD;AACtD/E,QAAAA,QAAQ,CAAC4E,SAAD,CAAR,GAAsB4L,SAAtB;AACD;AACF;AACF,GAdD;AAeA,SAAOxQ,QAAP;AACD,CArBD;;eAuBexB,S;;AACfiS,MAAM,CAACC,OAAP,GAAiBlS,SAAjB",sourcesContent:["// A RestWrite encapsulates everything we need to run an operation\n// that writes to the database.\n// This could be either a \"create\" or an \"update\".\n\nvar SchemaController = require('./Controllers/SchemaController');\nvar deepcopy = require('deepcopy');\n\nconst Auth = require('./Auth');\nvar cryptoUtils = require('./cryptoUtils');\nvar passwordCrypto = require('./password');\nvar Parse = require('parse/node');\nvar triggers = require('./triggers');\nvar ClientSDK = require('./ClientSDK');\nimport RestQuery from './RestQuery';\nimport _ from 'lodash';\nimport logger from './logger';\n\n// query and data are both provided in REST API format. So data\n// types are encoded by plain old objects.\n// If query is null, this is a \"create\" and the data in data should be\n// created.\n// Otherwise this is an \"update\" - the object matching the query\n// should get updated with data.\n// RestWrite will handle objectId, createdAt, and updatedAt for\n// everything. It also knows to use triggers and special modifications\n// for the _User class.\nfunction RestWrite(config, auth, className, query, data, originalData, clientSDK, context, action) {\n  if (auth.isReadOnly) {\n    throw new Parse.Error(\n      Parse.Error.OPERATION_FORBIDDEN,\n      'Cannot perform a write operation when using readOnlyMasterKey'\n    );\n  }\n  this.config = config;\n  this.auth = auth;\n  this.className = className;\n  this.clientSDK = clientSDK;\n  this.storage = {};\n  this.runOptions = {};\n  this.context = context || {};\n\n  if (action) {\n    this.runOptions.action = action;\n  }\n\n  if (!query) {\n    if (this.config.allowCustomObjectId) {\n      if (Object.prototype.hasOwnProperty.call(data, 'objectId') && !data.objectId) {\n        throw new Parse.Error(\n          Parse.Error.MISSING_OBJECT_ID,\n          'objectId must not be empty, null or undefined'\n        );\n      }\n    } else {\n      if (data.objectId) {\n        throw new Parse.Error(Parse.Error.INVALID_KEY_NAME, 'objectId is an invalid field name.');\n      }\n      if (data.id) {\n        throw new Parse.Error(Parse.Error.INVALID_KEY_NAME, 'id is an invalid field name.');\n      }\n    }\n  }\n\n  // When the operation is complete, this.response may have several\n  // fields.\n  // response: the actual data to be returned\n  // status: the http status code. if not present, treated like a 200\n  // location: the location header. if not present, no location header\n  this.response = null;\n\n  // Processing this operation may mutate our data, so we operate on a\n  // copy\n  this.query = deepcopy(query);\n  this.data = deepcopy(data);\n  // We never change originalData, so we do not need a deep copy\n  this.originalData = originalData;\n\n  // The timestamp we'll use for this whole operation\n  this.updatedAt = Parse._encode(new Date()).iso;\n\n  // Shared SchemaController to be reused to reduce the number of loadSchema() calls per request\n  // Once set the schemaData should be immutable\n  this.validSchemaController = null;\n}\n\n// A convenient method to perform all the steps of processing the\n// write, in order.\n// Returns a promise for a {response, status, location} object.\n// status and location are optional.\nRestWrite.prototype.execute = function () {\n  return Promise.resolve()\n    .then(() => {\n      return this.getUserAndRoleACL();\n    })\n    .then(() => {\n      return this.validateClientClassCreation();\n    })\n    .then(() => {\n      return this.handleInstallation();\n    })\n    .then(() => {\n      return this.handleSession();\n    })\n    .then(() => {\n      return this.validateAuthData();\n    })\n    .then(() => {\n      return this.runBeforeSaveTrigger();\n    })\n    .then(() => {\n      return this.deleteEmailResetTokenIfNeeded();\n    })\n    .then(() => {\n      return this.validateSchema();\n    })\n    .then(schemaController => {\n      this.validSchemaController = schemaController;\n      return this.setRequiredFieldsIfNeeded();\n    })\n    .then(() => {\n      return this.transformUser();\n    })\n    .then(() => {\n      return this.expandFilesForExistingObjects();\n    })\n    .then(() => {\n      return this.destroyDuplicatedSessions();\n    })\n    .then(() => {\n      return this.runDatabaseOperation();\n    })\n    .then(() => {\n      return this.createSessionTokenIfNeeded();\n    })\n    .then(() => {\n      return this.handleFollowup();\n    })\n    .then(() => {\n      return this.runAfterSaveTrigger();\n    })\n    .then(() => {\n      return this.cleanUserAuthData();\n    })\n    .then(() => {\n      return this.response;\n    });\n};\n\n// Uses the Auth object to get the list of roles, adds the user id\nRestWrite.prototype.getUserAndRoleACL = function () {\n  if (this.auth.isMaster) {\n    return Promise.resolve();\n  }\n\n  this.runOptions.acl = ['*'];\n\n  if (this.auth.user) {\n    return this.auth.getUserRoles().then(roles => {\n      this.runOptions.acl = this.runOptions.acl.concat(roles, [this.auth.user.id]);\n      return;\n    });\n  } else {\n    return Promise.resolve();\n  }\n};\n\n// Validates this operation against the allowClientClassCreation config.\nRestWrite.prototype.validateClientClassCreation = function () {\n  if (\n    this.config.allowClientClassCreation === false &&\n    !this.auth.isMaster &&\n    SchemaController.systemClasses.indexOf(this.className) === -1\n  ) {\n    return this.config.database\n      .loadSchema()\n      .then(schemaController => schemaController.hasClass(this.className))\n      .then(hasClass => {\n        if (hasClass !== true) {\n          throw new Parse.Error(\n            Parse.Error.OPERATION_FORBIDDEN,\n            'This user is not allowed to access ' + 'non-existent class: ' + this.className\n          );\n        }\n      });\n  } else {\n    return Promise.resolve();\n  }\n};\n\n// Validates this operation against the schema.\nRestWrite.prototype.validateSchema = function () {\n  return this.config.database.validateObject(\n    this.className,\n    this.data,\n    this.query,\n    this.runOptions\n  );\n};\n\n// Runs any beforeSave triggers against this operation.\n// Any change leads to our data being mutated.\nRestWrite.prototype.runBeforeSaveTrigger = function () {\n  if (this.response) {\n    return;\n  }\n\n  // Avoid doing any setup for triggers if there is no 'beforeSave' trigger for this class.\n  if (\n    !triggers.triggerExists(this.className, triggers.Types.beforeSave, this.config.applicationId)\n  ) {\n    return Promise.resolve();\n  }\n\n  // Cloud code gets a bit of extra data for its objects\n  var extraData = { className: this.className };\n  if (this.query && this.query.objectId) {\n    extraData.objectId = this.query.objectId;\n  }\n\n  let originalObject = null;\n  const updatedObject = this.buildUpdatedObject(extraData);\n  if (this.query && this.query.objectId) {\n    // This is an update for existing object.\n    originalObject = triggers.inflate(extraData, this.originalData);\n  }\n\n  return Promise.resolve()\n    .then(() => {\n      // Before calling the trigger, validate the permissions for the save operation\n      let databasePromise = null;\n      if (this.query) {\n        // Validate for updating\n        databasePromise = this.config.database.update(\n          this.className,\n          this.query,\n          this.data,\n          this.runOptions,\n          true,\n          true\n        );\n      } else {\n        // Validate for creating\n        databasePromise = this.config.database.create(\n          this.className,\n          this.data,\n          this.runOptions,\n          true\n        );\n      }\n      // In the case that there is no permission for the operation, it throws an error\n      return databasePromise.then(result => {\n        if (!result || result.length <= 0) {\n          throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'Object not found.');\n        }\n      });\n    })\n    .then(() => {\n      return triggers.maybeRunTrigger(\n        triggers.Types.beforeSave,\n        this.auth,\n        updatedObject,\n        originalObject,\n        this.config,\n        this.context\n      );\n    })\n    .then(response => {\n      if (response && response.object) {\n        this.storage.fieldsChangedByTrigger = _.reduce(\n          response.object,\n          (result, value, key) => {\n            if (!_.isEqual(this.data[key], value)) {\n              result.push(key);\n            }\n            return result;\n          },\n          []\n        );\n        this.data = response.object;\n        // We should delete the objectId for an update write\n        if (this.query && this.query.objectId) {\n          delete this.data.objectId;\n        }\n      }\n    });\n};\n\nRestWrite.prototype.runBeforeLoginTrigger = async function (userData) {\n  // Avoid doing any setup for triggers if there is no 'beforeLogin' trigger\n  if (\n    !triggers.triggerExists(this.className, triggers.Types.beforeLogin, this.config.applicationId)\n  ) {\n    return;\n  }\n\n  // Cloud code gets a bit of extra data for its objects\n  const extraData = { className: this.className };\n\n  // Expand file objects\n  this.config.filesController.expandFilesInObject(this.config, userData);\n\n  const user = triggers.inflate(extraData, userData);\n\n  // no need to return a response\n  await triggers.maybeRunTrigger(\n    triggers.Types.beforeLogin,\n    this.auth,\n    user,\n    null,\n    this.config,\n    this.context\n  );\n};\n\nRestWrite.prototype.setRequiredFieldsIfNeeded = function () {\n  if (this.data) {\n    return this.validSchemaController.getAllClasses().then(allClasses => {\n      const schema = allClasses.find(oneClass => oneClass.className === this.className);\n      const setRequiredFieldIfNeeded = (fieldName, setDefault) => {\n        if (\n          this.data[fieldName] === undefined ||\n          this.data[fieldName] === null ||\n          this.data[fieldName] === '' ||\n          (typeof this.data[fieldName] === 'object' && this.data[fieldName].__op === 'Delete')\n        ) {\n          if (\n            setDefault &&\n            schema.fields[fieldName] &&\n            schema.fields[fieldName].defaultValue !== null &&\n            schema.fields[fieldName].defaultValue !== undefined &&\n            (this.data[fieldName] === undefined ||\n              (typeof this.data[fieldName] === 'object' && this.data[fieldName].__op === 'Delete'))\n          ) {\n            this.data[fieldName] = schema.fields[fieldName].defaultValue;\n            this.storage.fieldsChangedByTrigger = this.storage.fieldsChangedByTrigger || [];\n            if (this.storage.fieldsChangedByTrigger.indexOf(fieldName) < 0) {\n              this.storage.fieldsChangedByTrigger.push(fieldName);\n            }\n          } else if (schema.fields[fieldName] && schema.fields[fieldName].required === true) {\n            throw new Parse.Error(Parse.Error.VALIDATION_ERROR, `${fieldName} is required`);\n          }\n        }\n      };\n\n      // Add default fields\n      this.data.updatedAt = this.updatedAt;\n      if (!this.query) {\n        this.data.createdAt = this.updatedAt;\n\n        // Only assign new objectId if we are creating new object\n        if (!this.data.objectId) {\n          this.data.objectId = cryptoUtils.newObjectId(this.config.objectIdSize);\n        }\n        if (schema) {\n          Object.keys(schema.fields).forEach(fieldName => {\n            setRequiredFieldIfNeeded(fieldName, true);\n          });\n        }\n      } else if (schema) {\n        Object.keys(this.data).forEach(fieldName => {\n          setRequiredFieldIfNeeded(fieldName, false);\n        });\n      }\n    });\n  }\n  return Promise.resolve();\n};\n\n// Transforms auth data for a user object.\n// Does nothing if this isn't a user object.\n// Returns a promise for when we're done if it can't finish this tick.\nRestWrite.prototype.validateAuthData = function () {\n  if (this.className !== '_User') {\n    return;\n  }\n\n  if (!this.query && !this.data.authData) {\n    if (typeof this.data.username !== 'string' || _.isEmpty(this.data.username)) {\n      throw new Parse.Error(Parse.Error.USERNAME_MISSING, 'bad or missing username');\n    }\n    if (typeof this.data.password !== 'string' || _.isEmpty(this.data.password)) {\n      throw new Parse.Error(Parse.Error.PASSWORD_MISSING, 'password is required');\n    }\n  }\n\n  if (\n    (this.data.authData && !Object.keys(this.data.authData).length) ||\n    !Object.prototype.hasOwnProperty.call(this.data, 'authData')\n  ) {\n    // Handle saving authData to {} or if authData doesn't exist\n    return;\n  } else if (Object.prototype.hasOwnProperty.call(this.data, 'authData') && !this.data.authData) {\n    // Handle saving authData to null\n    throw new Parse.Error(\n      Parse.Error.UNSUPPORTED_SERVICE,\n      'This authentication method is unsupported.'\n    );\n  }\n\n  var authData = this.data.authData;\n  var providers = Object.keys(authData);\n  if (providers.length > 0) {\n    const canHandleAuthData = providers.reduce((canHandle, provider) => {\n      var providerAuthData = authData[provider];\n      var hasToken = providerAuthData && providerAuthData.id;\n      return canHandle && (hasToken || providerAuthData == null);\n    }, true);\n    if (canHandleAuthData) {\n      return this.handleAuthData(authData);\n    }\n  }\n  throw new Parse.Error(\n    Parse.Error.UNSUPPORTED_SERVICE,\n    'This authentication method is unsupported.'\n  );\n};\n\nRestWrite.prototype.handleAuthDataValidation = function (authData) {\n  const validations = Object.keys(authData).map(provider => {\n    if (authData[provider] === null) {\n      return Promise.resolve();\n    }\n    const validateAuthData = this.config.authDataManager.getValidatorForProvider(provider);\n    if (!validateAuthData) {\n      throw new Parse.Error(\n        Parse.Error.UNSUPPORTED_SERVICE,\n        'This authentication method is unsupported.'\n      );\n    }\n    return validateAuthData(authData[provider]);\n  });\n  return Promise.all(validations);\n};\n\nRestWrite.prototype.findUsersWithAuthData = function (authData) {\n  const providers = Object.keys(authData);\n  const query = providers\n    .reduce((memo, provider) => {\n      if (!authData[provider]) {\n        return memo;\n      }\n      const queryKey = `authData.${provider}.id`;\n      const query = {};\n      query[queryKey] = authData[provider].id;\n      memo.push(query);\n      return memo;\n    }, [])\n    .filter(q => {\n      return typeof q !== 'undefined';\n    });\n\n  let findPromise = Promise.resolve([]);\n  if (query.length > 0) {\n    findPromise = this.config.database.find(this.className, { $or: query }, {});\n  }\n\n  return findPromise;\n};\n\nRestWrite.prototype.filteredObjectsByACL = function (objects) {\n  if (this.auth.isMaster) {\n    return objects;\n  }\n  return objects.filter(object => {\n    if (!object.ACL) {\n      return true; // legacy users that have no ACL field on them\n    }\n    // Regular users that have been locked out.\n    return object.ACL && Object.keys(object.ACL).length > 0;\n  });\n};\n\nRestWrite.prototype.handleAuthData = function (authData) {\n  let results;\n  return this.findUsersWithAuthData(authData).then(async r => {\n    results = this.filteredObjectsByACL(r);\n\n    if (results.length == 1) {\n      this.storage['authProvider'] = Object.keys(authData).join(',');\n\n      const userResult = results[0];\n      const mutatedAuthData = {};\n      Object.keys(authData).forEach(provider => {\n        const providerData = authData[provider];\n        const userAuthData = userResult.authData[provider];\n        if (!_.isEqual(providerData, userAuthData)) {\n          mutatedAuthData[provider] = providerData;\n        }\n      });\n      const hasMutatedAuthData = Object.keys(mutatedAuthData).length !== 0;\n      let userId;\n      if (this.query && this.query.objectId) {\n        userId = this.query.objectId;\n      } else if (this.auth && this.auth.user && this.auth.user.id) {\n        userId = this.auth.user.id;\n      }\n      if (!userId || userId === userResult.objectId) {\n        // no user making the call\n        // OR the user making the call is the right one\n        // Login with auth data\n        delete results[0].password;\n\n        // need to set the objectId first otherwise location has trailing undefined\n        this.data.objectId = userResult.objectId;\n\n        if (!this.query || !this.query.objectId) {\n          // this a login call, no userId passed\n          this.response = {\n            response: userResult,\n            location: this.location(),\n          };\n          // Run beforeLogin hook before storing any updates\n          // to authData on the db; changes to userResult\n          // will be ignored.\n          await this.runBeforeLoginTrigger(deepcopy(userResult));\n        }\n\n        // If we didn't change the auth data, just keep going\n        if (!hasMutatedAuthData) {\n          return;\n        }\n        // We have authData that is updated on login\n        // that can happen when token are refreshed,\n        // We should update the token and let the user in\n        // We should only check the mutated keys\n        return this.handleAuthDataValidation(mutatedAuthData).then(async () => {\n          // IF we have a response, we'll skip the database operation / beforeSave / afterSave etc...\n          // we need to set it up there.\n          // We are supposed to have a response only on LOGIN with authData, so we skip those\n          // If we're not logging in, but just updating the current user, we can safely skip that part\n          if (this.response) {\n            // Assign the new authData in the response\n            Object.keys(mutatedAuthData).forEach(provider => {\n              this.response.response.authData[provider] = mutatedAuthData[provider];\n            });\n\n            // Run the DB update directly, as 'master'\n            // Just update the authData part\n            // Then we're good for the user, early exit of sorts\n            return this.config.database.update(\n              this.className,\n              { objectId: this.data.objectId },\n              { authData: mutatedAuthData },\n              {}\n            );\n          }\n        });\n      } else if (userId) {\n        // Trying to update auth data but users\n        // are different\n        if (userResult.objectId !== userId) {\n          throw new Parse.Error(Parse.Error.ACCOUNT_ALREADY_LINKED, 'this auth is already used');\n        }\n        // No auth data was mutated, just keep going\n        if (!hasMutatedAuthData) {\n          return;\n        }\n      }\n    }\n    return this.handleAuthDataValidation(authData).then(() => {\n      if (results.length > 1) {\n        // More than 1 user with the passed id's\n        throw new Parse.Error(Parse.Error.ACCOUNT_ALREADY_LINKED, 'this auth is already used');\n      }\n    });\n  });\n};\n\n// The non-third-party parts of User transformation\nRestWrite.prototype.transformUser = function () {\n  var promise = Promise.resolve();\n\n  if (this.className !== '_User') {\n    return promise;\n  }\n\n  if (!this.auth.isMaster && 'emailVerified' in this.data) {\n    const error = `Clients aren't allowed to manually update email verification.`;\n    throw new Parse.Error(Parse.Error.OPERATION_FORBIDDEN, error);\n  }\n\n  // Do not cleanup session if objectId is not set\n  if (this.query && this.objectId()) {\n    // If we're updating a _User object, we need to clear out the cache for that user. Find all their\n    // session tokens, and remove them from the cache.\n    promise = new RestQuery(this.config, Auth.master(this.config), '_Session', {\n      user: {\n        __type: 'Pointer',\n        className: '_User',\n        objectId: this.objectId(),\n      },\n    })\n      .execute()\n      .then(results => {\n        results.results.forEach(session =>\n          this.config.cacheController.user.del(session.sessionToken)\n        );\n      });\n  }\n\n  return promise\n    .then(() => {\n      // Transform the password\n      if (this.data.password === undefined) {\n        // ignore only if undefined. should proceed if empty ('')\n        return Promise.resolve();\n      }\n\n      if (this.query) {\n        this.storage['clearSessions'] = true;\n        // Generate a new session only if the user requested\n        if (!this.auth.isMaster) {\n          this.storage['generateNewSession'] = true;\n        }\n      }\n\n      return this._validatePasswordPolicy().then(() => {\n        return passwordCrypto.hash(this.data.password).then(hashedPassword => {\n          this.data._hashed_password = hashedPassword;\n          delete this.data.password;\n        });\n      });\n    })\n    .then(() => {\n      return this._validateUserName();\n    })\n    .then(() => {\n      return this._validateEmail();\n    });\n};\n\nRestWrite.prototype._validateUserName = function () {\n  // Check for username uniqueness\n  if (!this.data.username) {\n    if (!this.query) {\n      this.data.username = cryptoUtils.randomString(25);\n      this.responseShouldHaveUsername = true;\n    }\n    return Promise.resolve();\n  }\n  /*\n    Usernames should be unique when compared case insensitively\n\n    Users should be able to make case sensitive usernames and\n    login using the case they entered.  I.e. 'Snoopy' should preclude\n    'snoopy' as a valid username.\n  */\n  return this.config.database\n    .find(\n      this.className,\n      {\n        username: this.data.username,\n        objectId: { $ne: this.objectId() },\n      },\n      { limit: 1, caseInsensitive: true },\n      {},\n      this.validSchemaController\n    )\n    .then(results => {\n      if (results.length > 0) {\n        throw new Parse.Error(\n          Parse.Error.USERNAME_TAKEN,\n          'Account already exists for this username.'\n        );\n      }\n      return;\n    });\n};\n\n/*\n  As with usernames, Parse should not allow case insensitive collisions of email.\n  unlike with usernames (which can have case insensitive collisions in the case of\n  auth adapters), emails should never have a case insensitive collision.\n\n  This behavior can be enforced through a properly configured index see:\n  https://docs.mongodb.com/manual/core/index-case-insensitive/#create-a-case-insensitive-index\n  which could be implemented instead of this code based validation.\n\n  Given that this lookup should be a relatively low use case and that the case sensitive\n  unique index will be used by the db for the query, this is an adequate solution.\n*/\nRestWrite.prototype._validateEmail = function () {\n  if (!this.data.email || this.data.email.__op === 'Delete') {\n    return Promise.resolve();\n  }\n  // Validate basic email address format\n  if (!this.data.email.match(/^.+@.+$/)) {\n    return Promise.reject(\n      new Parse.Error(Parse.Error.INVALID_EMAIL_ADDRESS, 'Email address format is invalid.')\n    );\n  }\n  // Case insensitive match, see note above function.\n  return this.config.database\n    .find(\n      this.className,\n      {\n        email: this.data.email,\n        objectId: { $ne: this.objectId() },\n      },\n      { limit: 1, caseInsensitive: true },\n      {},\n      this.validSchemaController\n    )\n    .then(results => {\n      if (results.length > 0) {\n        throw new Parse.Error(\n          Parse.Error.EMAIL_TAKEN,\n          'Account already exists for this email address.'\n        );\n      }\n      if (\n        !this.data.authData ||\n        !Object.keys(this.data.authData).length ||\n        (Object.keys(this.data.authData).length === 1 &&\n          Object.keys(this.data.authData)[0] === 'anonymous')\n      ) {\n        // We updated the email, send a new validation\n        this.storage['sendVerificationEmail'] = true;\n        this.config.userController.setEmailVerifyToken(this.data);\n      }\n    });\n};\n\nRestWrite.prototype._validatePasswordPolicy = function () {\n  if (!this.config.passwordPolicy) return Promise.resolve();\n  return this._validatePasswordRequirements().then(() => {\n    return this._validatePasswordHistory();\n  });\n};\n\nRestWrite.prototype._validatePasswordRequirements = function () {\n  // check if the password conforms to the defined password policy if configured\n  // If we specified a custom error in our configuration use it.\n  // Example: \"Passwords must include a Capital Letter, Lowercase Letter, and a number.\"\n  //\n  // This is especially useful on the generic \"password reset\" page,\n  // as it allows the programmer to communicate specific requirements instead of:\n  // a. making the user guess whats wrong\n  // b. making a custom password reset page that shows the requirements\n  const policyError = this.config.passwordPolicy.validationError\n    ? this.config.passwordPolicy.validationError\n    : 'Password does not meet the Password Policy requirements.';\n  const containsUsernameError = 'Password cannot contain your username.';\n\n  // check whether the password meets the password strength requirements\n  if (\n    (this.config.passwordPolicy.patternValidator &&\n      !this.config.passwordPolicy.patternValidator(this.data.password)) ||\n    (this.config.passwordPolicy.validatorCallback &&\n      !this.config.passwordPolicy.validatorCallback(this.data.password))\n  ) {\n    return Promise.reject(new Parse.Error(Parse.Error.VALIDATION_ERROR, policyError));\n  }\n\n  // check whether password contain username\n  if (this.config.passwordPolicy.doNotAllowUsername === true) {\n    if (this.data.username) {\n      // username is not passed during password reset\n      if (this.data.password.indexOf(this.data.username) >= 0)\n        return Promise.reject(new Parse.Error(Parse.Error.VALIDATION_ERROR, containsUsernameError));\n    } else {\n      // retrieve the User object using objectId during password reset\n      return this.config.database.find('_User', { objectId: this.objectId() }).then(results => {\n        if (results.length != 1) {\n          throw undefined;\n        }\n        if (this.data.password.indexOf(results[0].username) >= 0)\n          return Promise.reject(\n            new Parse.Error(Parse.Error.VALIDATION_ERROR, containsUsernameError)\n          );\n        return Promise.resolve();\n      });\n    }\n  }\n  return Promise.resolve();\n};\n\nRestWrite.prototype._validatePasswordHistory = function () {\n  // check whether password is repeating from specified history\n  if (this.query && this.config.passwordPolicy.maxPasswordHistory) {\n    return this.config.database\n      .find(\n        '_User',\n        { objectId: this.objectId() },\n        { keys: ['_password_history', '_hashed_password'] }\n      )\n      .then(results => {\n        if (results.length != 1) {\n          throw undefined;\n        }\n        const user = results[0];\n        let oldPasswords = [];\n        if (user._password_history)\n          oldPasswords = _.take(\n            user._password_history,\n            this.config.passwordPolicy.maxPasswordHistory - 1\n          );\n        oldPasswords.push(user.password);\n        const newPassword = this.data.password;\n        // compare the new password hash with all old password hashes\n        const promises = oldPasswords.map(function (hash) {\n          return passwordCrypto.compare(newPassword, hash).then(result => {\n            if (result)\n              // reject if there is a match\n              return Promise.reject('REPEAT_PASSWORD');\n            return Promise.resolve();\n          });\n        });\n        // wait for all comparisons to complete\n        return Promise.all(promises)\n          .then(() => {\n            return Promise.resolve();\n          })\n          .catch(err => {\n            if (err === 'REPEAT_PASSWORD')\n              // a match was found\n              return Promise.reject(\n                new Parse.Error(\n                  Parse.Error.VALIDATION_ERROR,\n                  `New password should not be the same as last ${this.config.passwordPolicy.maxPasswordHistory} passwords.`\n                )\n              );\n            throw err;\n          });\n      });\n  }\n  return Promise.resolve();\n};\n\nRestWrite.prototype.createSessionTokenIfNeeded = function () {\n  if (this.className !== '_User') {\n    return;\n  }\n  // Don't generate session for updating user (this.query is set) unless authData exists\n  if (this.query && !this.data.authData) {\n    return;\n  }\n  // Don't generate new sessionToken if linking via sessionToken\n  if (this.auth.user && this.data.authData) {\n    return;\n  }\n  if (\n    !this.storage['authProvider'] && // signup call, with\n    this.config.preventLoginWithUnverifiedEmail && // no login without verification\n    this.config.verifyUserEmails\n  ) {\n    // verification is on\n    return; // do not create the session token in that case!\n  }\n  return this.createSessionToken();\n};\n\nRestWrite.prototype.createSessionToken = async function () {\n  // cloud installationId from Cloud Code,\n  // never create session tokens from there.\n  if (this.auth.installationId && this.auth.installationId === 'cloud') {\n    return;\n  }\n\n  if (this.storage['authProvider'] == null && this.data.authData) {\n    this.storage['authProvider'] = Object.keys(this.data.authData).join(',');\n  }\n\n  const { sessionData, createSession } = RestWrite.createSession(this.config, {\n    userId: this.objectId(),\n    createdWith: {\n      action: this.storage['authProvider'] ? 'login' : 'signup',\n      authProvider: this.storage['authProvider'] || 'password',\n    },\n    installationId: this.auth.installationId,\n  });\n\n  if (this.response && this.response.response) {\n    this.response.response.sessionToken = sessionData.sessionToken;\n  }\n\n  return createSession();\n};\n\nRestWrite.createSession = function (\n  config,\n  { userId, createdWith, installationId, additionalSessionData }\n) {\n  const token = 'r:' + cryptoUtils.newToken();\n  const expiresAt = config.generateSessionExpiresAt();\n  const sessionData = {\n    sessionToken: token,\n    user: {\n      __type: 'Pointer',\n      className: '_User',\n      objectId: userId,\n    },\n    createdWith,\n    expiresAt: Parse._encode(expiresAt),\n  };\n\n  if (installationId) {\n    sessionData.installationId = installationId;\n  }\n\n  Object.assign(sessionData, additionalSessionData);\n\n  return {\n    sessionData,\n    createSession: () =>\n      new RestWrite(config, Auth.master(config), '_Session', null, sessionData).execute(),\n  };\n};\n\n// Delete email reset tokens if user is changing password or email.\nRestWrite.prototype.deleteEmailResetTokenIfNeeded = function () {\n  if (this.className !== '_User' || this.query === null) {\n    // null query means create\n    return;\n  }\n\n  if ('password' in this.data || 'email' in this.data) {\n    const addOps = {\n      _perishable_token: { __op: 'Delete' },\n      _perishable_token_expires_at: { __op: 'Delete' },\n    };\n    this.data = Object.assign(this.data, addOps);\n  }\n};\n\nRestWrite.prototype.destroyDuplicatedSessions = function () {\n  // Only for _Session, and at creation time\n  if (this.className != '_Session' || this.query) {\n    return;\n  }\n  // Destroy the sessions in 'Background'\n  const { user, installationId, sessionToken } = this.data;\n  if (!user || !installationId) {\n    return;\n  }\n  if (!user.objectId) {\n    return;\n  }\n  this.config.database.destroy(\n    '_Session',\n    {\n      user,\n      installationId,\n      sessionToken: { $ne: sessionToken },\n    },\n    {},\n    this.validSchemaController\n  );\n};\n\n// Handles any followup logic\nRestWrite.prototype.handleFollowup = function () {\n  if (this.storage && this.storage['clearSessions'] && this.config.revokeSessionOnPasswordReset) {\n    var sessionQuery = {\n      user: {\n        __type: 'Pointer',\n        className: '_User',\n        objectId: this.objectId(),\n      },\n    };\n    delete this.storage['clearSessions'];\n    return this.config.database\n      .destroy('_Session', sessionQuery)\n      .then(this.handleFollowup.bind(this));\n  }\n\n  if (this.storage && this.storage['generateNewSession']) {\n    delete this.storage['generateNewSession'];\n    return this.createSessionToken().then(this.handleFollowup.bind(this));\n  }\n\n  if (this.storage && this.storage['sendVerificationEmail']) {\n    delete this.storage['sendVerificationEmail'];\n    // Fire and forget!\n    this.config.userController.sendVerificationEmail(this.data);\n    return this.handleFollowup.bind(this);\n  }\n};\n\n// Handles the _Session class specialness.\n// Does nothing if this isn't an _Session object.\nRestWrite.prototype.handleSession = function () {\n  if (this.response || this.className !== '_Session') {\n    return;\n  }\n\n  if (!this.auth.user && !this.auth.isMaster) {\n    throw new Parse.Error(Parse.Error.INVALID_SESSION_TOKEN, 'Session token required.');\n  }\n\n  // TODO: Verify proper error to throw\n  if (this.data.ACL) {\n    throw new Parse.Error(Parse.Error.INVALID_KEY_NAME, 'Cannot set ' + 'ACL on a Session.');\n  }\n\n  if (this.query) {\n    if (this.data.user && !this.auth.isMaster && this.data.user.objectId != this.auth.user.id) {\n      throw new Parse.Error(Parse.Error.INVALID_KEY_NAME);\n    } else if (this.data.installationId) {\n      throw new Parse.Error(Parse.Error.INVALID_KEY_NAME);\n    } else if (this.data.sessionToken) {\n      throw new Parse.Error(Parse.Error.INVALID_KEY_NAME);\n    }\n  }\n\n  if (!this.query && !this.auth.isMaster) {\n    const additionalSessionData = {};\n    for (var key in this.data) {\n      if (key === 'objectId' || key === 'user') {\n        continue;\n      }\n      additionalSessionData[key] = this.data[key];\n    }\n\n    const { sessionData, createSession } = RestWrite.createSession(this.config, {\n      userId: this.auth.user.id,\n      createdWith: {\n        action: 'create',\n      },\n      additionalSessionData,\n    });\n\n    return createSession().then(results => {\n      if (!results.response) {\n        throw new Parse.Error(Parse.Error.INTERNAL_SERVER_ERROR, 'Error creating session.');\n      }\n      sessionData['objectId'] = results.response['objectId'];\n      this.response = {\n        status: 201,\n        location: results.location,\n        response: sessionData,\n      };\n    });\n  }\n};\n\n// Handles the _Installation class specialness.\n// Does nothing if this isn't an installation object.\n// If an installation is found, this can mutate this.query and turn a create\n// into an update.\n// Returns a promise for when we're done if it can't finish this tick.\nRestWrite.prototype.handleInstallation = function () {\n  if (this.response || this.className !== '_Installation') {\n    return;\n  }\n\n  if (\n    !this.query &&\n    !this.data.deviceToken &&\n    !this.data.installationId &&\n    !this.auth.installationId\n  ) {\n    throw new Parse.Error(\n      135,\n      'at least one ID field (deviceToken, installationId) ' + 'must be specified in this operation'\n    );\n  }\n\n  // If the device token is 64 characters long, we assume it is for iOS\n  // and lowercase it.\n  if (this.data.deviceToken && this.data.deviceToken.length == 64) {\n    this.data.deviceToken = this.data.deviceToken.toLowerCase();\n  }\n\n  // We lowercase the installationId if present\n  if (this.data.installationId) {\n    this.data.installationId = this.data.installationId.toLowerCase();\n  }\n\n  let installationId = this.data.installationId;\n\n  // If data.installationId is not set and we're not master, we can lookup in auth\n  if (!installationId && !this.auth.isMaster) {\n    installationId = this.auth.installationId;\n  }\n\n  if (installationId) {\n    installationId = installationId.toLowerCase();\n  }\n\n  // Updating _Installation but not updating anything critical\n  if (this.query && !this.data.deviceToken && !installationId && !this.data.deviceType) {\n    return;\n  }\n\n  var promise = Promise.resolve();\n\n  var idMatch; // Will be a match on either objectId or installationId\n  var objectIdMatch;\n  var installationIdMatch;\n  var deviceTokenMatches = [];\n\n  // Instead of issuing 3 reads, let's do it with one OR.\n  const orQueries = [];\n  if (this.query && this.query.objectId) {\n    orQueries.push({\n      objectId: this.query.objectId,\n    });\n  }\n  if (installationId) {\n    orQueries.push({\n      installationId: installationId,\n    });\n  }\n  if (this.data.deviceToken) {\n    orQueries.push({ deviceToken: this.data.deviceToken });\n  }\n\n  if (orQueries.length == 0) {\n    return;\n  }\n\n  promise = promise\n    .then(() => {\n      return this.config.database.find(\n        '_Installation',\n        {\n          $or: orQueries,\n        },\n        {}\n      );\n    })\n    .then(results => {\n      results.forEach(result => {\n        if (this.query && this.query.objectId && result.objectId == this.query.objectId) {\n          objectIdMatch = result;\n        }\n        if (result.installationId == installationId) {\n          installationIdMatch = result;\n        }\n        if (result.deviceToken == this.data.deviceToken) {\n          deviceTokenMatches.push(result);\n        }\n      });\n\n      // Sanity checks when running a query\n      if (this.query && this.query.objectId) {\n        if (!objectIdMatch) {\n          throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'Object not found for update.');\n        }\n        if (\n          this.data.installationId &&\n          objectIdMatch.installationId &&\n          this.data.installationId !== objectIdMatch.installationId\n        ) {\n          throw new Parse.Error(136, 'installationId may not be changed in this ' + 'operation');\n        }\n        if (\n          this.data.deviceToken &&\n          objectIdMatch.deviceToken &&\n          this.data.deviceToken !== objectIdMatch.deviceToken &&\n          !this.data.installationId &&\n          !objectIdMatch.installationId\n        ) {\n          throw new Parse.Error(136, 'deviceToken may not be changed in this ' + 'operation');\n        }\n        if (\n          this.data.deviceType &&\n          this.data.deviceType &&\n          this.data.deviceType !== objectIdMatch.deviceType\n        ) {\n          throw new Parse.Error(136, 'deviceType may not be changed in this ' + 'operation');\n        }\n      }\n\n      if (this.query && this.query.objectId && objectIdMatch) {\n        idMatch = objectIdMatch;\n      }\n\n      if (installationId && installationIdMatch) {\n        idMatch = installationIdMatch;\n      }\n      // need to specify deviceType only if it's new\n      if (!this.query && !this.data.deviceType && !idMatch) {\n        throw new Parse.Error(135, 'deviceType must be specified in this operation');\n      }\n    })\n    .then(() => {\n      if (!idMatch) {\n        if (!deviceTokenMatches.length) {\n          return;\n        } else if (\n          deviceTokenMatches.length == 1 &&\n          (!deviceTokenMatches[0]['installationId'] || !installationId)\n        ) {\n          // Single match on device token but none on installationId, and either\n          // the passed object or the match is missing an installationId, so we\n          // can just return the match.\n          return deviceTokenMatches[0]['objectId'];\n        } else if (!this.data.installationId) {\n          throw new Parse.Error(\n            132,\n            'Must specify installationId when deviceToken ' +\n              'matches multiple Installation objects'\n          );\n        } else {\n          // Multiple device token matches and we specified an installation ID,\n          // or a single match where both the passed and matching objects have\n          // an installation ID. Try cleaning out old installations that match\n          // the deviceToken, and return nil to signal that a new object should\n          // be created.\n          var delQuery = {\n            deviceToken: this.data.deviceToken,\n            installationId: {\n              $ne: installationId,\n            },\n          };\n          if (this.data.appIdentifier) {\n            delQuery['appIdentifier'] = this.data.appIdentifier;\n          }\n          this.config.database.destroy('_Installation', delQuery).catch(err => {\n            if (err.code == Parse.Error.OBJECT_NOT_FOUND) {\n              // no deletions were made. Can be ignored.\n              return;\n            }\n            // rethrow the error\n            throw err;\n          });\n          return;\n        }\n      } else {\n        if (deviceTokenMatches.length == 1 && !deviceTokenMatches[0]['installationId']) {\n          // Exactly one device token match and it doesn't have an installation\n          // ID. This is the one case where we want to merge with the existing\n          // object.\n          const delQuery = { objectId: idMatch.objectId };\n          return this.config.database\n            .destroy('_Installation', delQuery)\n            .then(() => {\n              return deviceTokenMatches[0]['objectId'];\n            })\n            .catch(err => {\n              if (err.code == Parse.Error.OBJECT_NOT_FOUND) {\n                // no deletions were made. Can be ignored\n                return;\n              }\n              // rethrow the error\n              throw err;\n            });\n        } else {\n          if (this.data.deviceToken && idMatch.deviceToken != this.data.deviceToken) {\n            // We're setting the device token on an existing installation, so\n            // we should try cleaning out old installations that match this\n            // device token.\n            const delQuery = {\n              deviceToken: this.data.deviceToken,\n            };\n            // We have a unique install Id, use that to preserve\n            // the interesting installation\n            if (this.data.installationId) {\n              delQuery['installationId'] = {\n                $ne: this.data.installationId,\n              };\n            } else if (\n              idMatch.objectId &&\n              this.data.objectId &&\n              idMatch.objectId == this.data.objectId\n            ) {\n              // we passed an objectId, preserve that instalation\n              delQuery['objectId'] = {\n                $ne: idMatch.objectId,\n              };\n            } else {\n              // What to do here? can't really clean up everything...\n              return idMatch.objectId;\n            }\n            if (this.data.appIdentifier) {\n              delQuery['appIdentifier'] = this.data.appIdentifier;\n            }\n            this.config.database.destroy('_Installation', delQuery).catch(err => {\n              if (err.code == Parse.Error.OBJECT_NOT_FOUND) {\n                // no deletions were made. Can be ignored.\n                return;\n              }\n              // rethrow the error\n              throw err;\n            });\n          }\n          // In non-merge scenarios, just return the installation match id\n          return idMatch.objectId;\n        }\n      }\n    })\n    .then(objId => {\n      if (objId) {\n        this.query = { objectId: objId };\n        delete this.data.objectId;\n        delete this.data.createdAt;\n      }\n      // TODO: Validate ops (add/remove on channels, $inc on badge, etc.)\n    });\n  return promise;\n};\n\n// If we short-circuited the object response - then we need to make sure we expand all the files,\n// since this might not have a query, meaning it won't return the full result back.\n// TODO: (nlutsenko) This should die when we move to per-class based controllers on _Session/_User\nRestWrite.prototype.expandFilesForExistingObjects = function () {\n  // Check whether we have a short-circuited response - only then run expansion.\n  if (this.response && this.response.response) {\n    this.config.filesController.expandFilesInObject(this.config, this.response.response);\n  }\n};\n\nRestWrite.prototype.runDatabaseOperation = function () {\n  if (this.response) {\n    return;\n  }\n\n  if (this.className === '_Role') {\n    this.config.cacheController.role.clear();\n  }\n\n  if (this.className === '_User' && this.query && this.auth.isUnauthenticated()) {\n    throw new Parse.Error(\n      Parse.Error.SESSION_MISSING,\n      `Cannot modify user ${this.query.objectId}.`\n    );\n  }\n\n  if (this.className === '_Product' && this.data.download) {\n    this.data.downloadName = this.data.download.name;\n  }\n\n  // TODO: Add better detection for ACL, ensuring a user can't be locked from\n  //       their own user record.\n  if (this.data.ACL && this.data.ACL['*unresolved']) {\n    throw new Parse.Error(Parse.Error.INVALID_ACL, 'Invalid ACL.');\n  }\n\n  if (this.query) {\n    // Force the user to not lockout\n    // Matched with parse.com\n    if (this.className === '_User' && this.data.ACL && this.auth.isMaster !== true) {\n      this.data.ACL[this.query.objectId] = { read: true, write: true };\n    }\n    // update password timestamp if user password is being changed\n    if (\n      this.className === '_User' &&\n      this.data._hashed_password &&\n      this.config.passwordPolicy &&\n      this.config.passwordPolicy.maxPasswordAge\n    ) {\n      this.data._password_changed_at = Parse._encode(new Date());\n    }\n    // Ignore createdAt when update\n    delete this.data.createdAt;\n\n    let defer = Promise.resolve();\n    // if password history is enabled then save the current password to history\n    if (\n      this.className === '_User' &&\n      this.data._hashed_password &&\n      this.config.passwordPolicy &&\n      this.config.passwordPolicy.maxPasswordHistory\n    ) {\n      defer = this.config.database\n        .find(\n          '_User',\n          { objectId: this.objectId() },\n          { keys: ['_password_history', '_hashed_password'] }\n        )\n        .then(results => {\n          if (results.length != 1) {\n            throw undefined;\n          }\n          const user = results[0];\n          let oldPasswords = [];\n          if (user._password_history) {\n            oldPasswords = _.take(\n              user._password_history,\n              this.config.passwordPolicy.maxPasswordHistory\n            );\n          }\n          //n-1 passwords go into history including last password\n          while (\n            oldPasswords.length > Math.max(0, this.config.passwordPolicy.maxPasswordHistory - 2)\n          ) {\n            oldPasswords.shift();\n          }\n          oldPasswords.push(user.password);\n          this.data._password_history = oldPasswords;\n        });\n    }\n\n    return defer.then(() => {\n      // Run an update\n      return this.config.database\n        .update(\n          this.className,\n          this.query,\n          this.data,\n          this.runOptions,\n          false,\n          false,\n          this.validSchemaController\n        )\n        .then(response => {\n          response.updatedAt = this.updatedAt;\n          this._updateResponseWithData(response, this.data);\n          this.response = { response };\n        });\n    });\n  } else {\n    // Set the default ACL and password timestamp for the new _User\n    if (this.className === '_User') {\n      var ACL = this.data.ACL;\n      // default public r/w ACL\n      if (!ACL) {\n        ACL = {};\n        if (!this.config.enforcePrivateUsers) {\n          ACL['*'] = { read: true, write: false };\n        }\n      }\n      // make sure the user is not locked down\n      ACL[this.data.objectId] = { read: true, write: true };\n      this.data.ACL = ACL;\n      // password timestamp to be used when password expiry policy is enforced\n      if (this.config.passwordPolicy && this.config.passwordPolicy.maxPasswordAge) {\n        this.data._password_changed_at = Parse._encode(new Date());\n      }\n    }\n\n    // Run a create\n    return this.config.database\n      .create(this.className, this.data, this.runOptions, false, this.validSchemaController)\n      .catch(error => {\n        if (this.className !== '_User' || error.code !== Parse.Error.DUPLICATE_VALUE) {\n          throw error;\n        }\n\n        // Quick check, if we were able to infer the duplicated field name\n        if (error && error.userInfo && error.userInfo.duplicated_field === 'username') {\n          throw new Parse.Error(\n            Parse.Error.USERNAME_TAKEN,\n            'Account already exists for this username.'\n          );\n        }\n\n        if (error && error.userInfo && error.userInfo.duplicated_field === 'email') {\n          throw new Parse.Error(\n            Parse.Error.EMAIL_TAKEN,\n            'Account already exists for this email address.'\n          );\n        }\n\n        // If this was a failed user creation due to username or email already taken, we need to\n        // check whether it was username or email and return the appropriate error.\n        // Fallback to the original method\n        // TODO: See if we can later do this without additional queries by using named indexes.\n        return this.config.database\n          .find(\n            this.className,\n            {\n              username: this.data.username,\n              objectId: { $ne: this.objectId() },\n            },\n            { limit: 1 }\n          )\n          .then(results => {\n            if (results.length > 0) {\n              throw new Parse.Error(\n                Parse.Error.USERNAME_TAKEN,\n                'Account already exists for this username.'\n              );\n            }\n            return this.config.database.find(\n              this.className,\n              { email: this.data.email, objectId: { $ne: this.objectId() } },\n              { limit: 1 }\n            );\n          })\n          .then(results => {\n            if (results.length > 0) {\n              throw new Parse.Error(\n                Parse.Error.EMAIL_TAKEN,\n                'Account already exists for this email address.'\n              );\n            }\n            throw new Parse.Error(\n              Parse.Error.DUPLICATE_VALUE,\n              'A duplicate value for a field with unique values was provided'\n            );\n          });\n      })\n      .then(response => {\n        response.objectId = this.data.objectId;\n        response.createdAt = this.data.createdAt;\n\n        if (this.responseShouldHaveUsername) {\n          response.username = this.data.username;\n        }\n        this._updateResponseWithData(response, this.data);\n        this.response = {\n          status: 201,\n          response,\n          location: this.location(),\n        };\n      });\n  }\n};\n\n// Returns nothing - doesn't wait for the trigger.\nRestWrite.prototype.runAfterSaveTrigger = function () {\n  if (!this.response || !this.response.response) {\n    return;\n  }\n\n  // Avoid doing any setup for triggers if there is no 'afterSave' trigger for this class.\n  const hasAfterSaveHook = triggers.triggerExists(\n    this.className,\n    triggers.Types.afterSave,\n    this.config.applicationId\n  );\n  const hasLiveQuery = this.config.liveQueryController.hasLiveQuery(this.className);\n  if (!hasAfterSaveHook && !hasLiveQuery) {\n    return Promise.resolve();\n  }\n\n  var extraData = { className: this.className };\n  if (this.query && this.query.objectId) {\n    extraData.objectId = this.query.objectId;\n  }\n\n  // Build the original object, we only do this for a update write.\n  let originalObject;\n  if (this.query && this.query.objectId) {\n    originalObject = triggers.inflate(extraData, this.originalData);\n  }\n\n  // Build the inflated object, different from beforeSave, originalData is not empty\n  // since developers can change data in the beforeSave.\n  const updatedObject = this.buildUpdatedObject(extraData);\n  updatedObject._handleSaveResponse(this.response.response, this.response.status || 200);\n\n  this.config.database.loadSchema().then(schemaController => {\n    // Notifiy LiveQueryServer if possible\n    const perms = schemaController.getClassLevelPermissions(updatedObject.className);\n    this.config.liveQueryController.onAfterSave(\n      updatedObject.className,\n      updatedObject,\n      originalObject,\n      perms\n    );\n  });\n\n  // Run afterSave trigger\n  return triggers\n    .maybeRunTrigger(\n      triggers.Types.afterSave,\n      this.auth,\n      updatedObject,\n      originalObject,\n      this.config,\n      this.context\n    )\n    .then(result => {\n      if (result && typeof result === 'object') {\n        this.response.response = result;\n      }\n    })\n    .catch(function (err) {\n      logger.warn('afterSave caught an error', err);\n    });\n};\n\n// A helper to figure out what location this operation happens at.\nRestWrite.prototype.location = function () {\n  var middle = this.className === '_User' ? '/users/' : '/classes/' + this.className + '/';\n  const mount = this.config.mount || this.config.serverURL;\n  return mount + middle + this.data.objectId;\n};\n\n// A helper to get the object id for this operation.\n// Because it could be either on the query or on the data\nRestWrite.prototype.objectId = function () {\n  return this.data.objectId || this.query.objectId;\n};\n\n// Returns a copy of the data and delete bad keys (_auth_data, _hashed_password...)\nRestWrite.prototype.sanitizedData = function () {\n  const data = Object.keys(this.data).reduce((data, key) => {\n    // Regexp comes from Parse.Object.prototype.validate\n    if (!/^[A-Za-z][0-9A-Za-z_]*$/.test(key)) {\n      delete data[key];\n    }\n    return data;\n  }, deepcopy(this.data));\n  return Parse._decode(undefined, data);\n};\n\n// Returns an updated copy of the object\nRestWrite.prototype.buildUpdatedObject = function (extraData) {\n  const className = Parse.Object.fromJSON(extraData);\n  const readOnlyAttributes = className.constructor.readOnlyAttributes\n    ? className.constructor.readOnlyAttributes()\n    : [];\n  if (!this.originalData) {\n    for (const attribute of readOnlyAttributes) {\n      extraData[attribute] = this.data[attribute];\n    }\n  }\n  const updatedObject = triggers.inflate(extraData, this.originalData);\n  Object.keys(this.data).reduce(function (data, key) {\n    if (key.indexOf('.') > 0) {\n      if (typeof data[key].__op === 'string') {\n        if (!readOnlyAttributes.includes(key)) {\n          updatedObject.set(key, data[key]);\n        }\n      } else {\n        // subdocument key with dot notation { 'x.y': v } => { 'x': { 'y' : v } })\n        const splittedKey = key.split('.');\n        const parentProp = splittedKey[0];\n        let parentVal = updatedObject.get(parentProp);\n        if (typeof parentVal !== 'object') {\n          parentVal = {};\n        }\n        parentVal[splittedKey[1]] = data[key];\n        updatedObject.set(parentProp, parentVal);\n      }\n      delete data[key];\n    }\n    return data;\n  }, deepcopy(this.data));\n\n  const sanitized = this.sanitizedData();\n  for (const attribute of readOnlyAttributes) {\n    delete sanitized[attribute];\n  }\n  updatedObject.set(sanitized);\n  return updatedObject;\n};\n\nRestWrite.prototype.cleanUserAuthData = function () {\n  if (this.response && this.response.response && this.className === '_User') {\n    const user = this.response.response;\n    if (user.authData) {\n      Object.keys(user.authData).forEach(provider => {\n        if (user.authData[provider] === null) {\n          delete user.authData[provider];\n        }\n      });\n      if (Object.keys(user.authData).length == 0) {\n        delete user.authData;\n      }\n    }\n  }\n};\n\nRestWrite.prototype._updateResponseWithData = function (response, data) {\n  if (_.isEmpty(this.storage.fieldsChangedByTrigger)) {\n    return response;\n  }\n  const clientSupportsDelete = ClientSDK.supportsForwardDelete(this.clientSDK);\n  this.storage.fieldsChangedByTrigger.forEach(fieldName => {\n    const dataValue = data[fieldName];\n\n    if (!Object.prototype.hasOwnProperty.call(response, fieldName)) {\n      response[fieldName] = dataValue;\n    }\n\n    // Strips operations from responses\n    if (response[fieldName] && response[fieldName].__op) {\n      delete response[fieldName];\n      if (clientSupportsDelete && dataValue.__op == 'Delete') {\n        response[fieldName] = dataValue;\n      }\n    }\n  });\n  return response;\n};\n\nexport default RestWrite;\nmodule.exports = RestWrite;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dc9129a2dbec1e928120a0b1846dda91b647e381"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2dp9rvnwbz=function(){return actualCoverage;};}return actualCoverage;}cov_2dp9rvnwbz();cov_2dp9rvnwbz().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2dp9rvnwbz().s[1]++;exports.default=void 0;var _RestQuery=(cov_2dp9rvnwbz().s[2]++,_interopRequireDefault(require("./RestQuery")));var _lodash=(cov_2dp9rvnwbz().s[3]++,_interopRequireDefault(require("lodash")));var _logger=(cov_2dp9rvnwbz().s[4]++,_interopRequireDefault(require("./logger")));function _interopRequireDefault(obj){cov_2dp9rvnwbz().f[0]++;cov_2dp9rvnwbz().s[5]++;return(cov_2dp9rvnwbz().b[1][0]++,obj)&&(cov_2dp9rvnwbz().b[1][1]++,obj.__esModule)?(cov_2dp9rvnwbz().b[0][0]++,obj):(cov_2dp9rvnwbz().b[0][1]++,{default:obj});}// A RestWrite encapsulates everything we need to run an operation
// that writes to the database.
// This could be either a "create" or an "update".
var SchemaController=(cov_2dp9rvnwbz().s[6]++,require('./Controllers/SchemaController'));var deepcopy=(cov_2dp9rvnwbz().s[7]++,require('deepcopy'));const Auth=(cov_2dp9rvnwbz().s[8]++,require('./Auth'));var cryptoUtils=(cov_2dp9rvnwbz().s[9]++,require('./cryptoUtils'));var passwordCrypto=(cov_2dp9rvnwbz().s[10]++,require('./password'));var Parse=(cov_2dp9rvnwbz().s[11]++,require('parse/node'));var triggers=(cov_2dp9rvnwbz().s[12]++,require('./triggers'));var ClientSDK=(cov_2dp9rvnwbz().s[13]++,require('./ClientSDK'));// query and data are both provided in REST API format. So data
// types are encoded by plain old objects.
// If query is null, this is a "create" and the data in data should be
// created.
// Otherwise this is an "update" - the object matching the query
// should get updated with data.
// RestWrite will handle objectId, createdAt, and updatedAt for
// everything. It also knows to use triggers and special modifications
// for the _User class.
function RestWrite(config,auth,className,query,data,originalData,clientSDK,context,action){cov_2dp9rvnwbz().f[1]++;cov_2dp9rvnwbz().s[14]++;if(auth.isReadOnly){cov_2dp9rvnwbz().b[2][0]++;cov_2dp9rvnwbz().s[15]++;throw new Parse.Error(Parse.Error.OPERATION_FORBIDDEN,'Cannot perform a write operation when using readOnlyMasterKey');}else{cov_2dp9rvnwbz().b[2][1]++;}cov_2dp9rvnwbz().s[16]++;this.config=config;cov_2dp9rvnwbz().s[17]++;this.auth=auth;cov_2dp9rvnwbz().s[18]++;this.className=className;cov_2dp9rvnwbz().s[19]++;this.clientSDK=clientSDK;cov_2dp9rvnwbz().s[20]++;this.storage={};cov_2dp9rvnwbz().s[21]++;this.runOptions={};cov_2dp9rvnwbz().s[22]++;this.context=(cov_2dp9rvnwbz().b[3][0]++,context)||(cov_2dp9rvnwbz().b[3][1]++,{});cov_2dp9rvnwbz().s[23]++;if(action){cov_2dp9rvnwbz().b[4][0]++;cov_2dp9rvnwbz().s[24]++;this.runOptions.action=action;}else{cov_2dp9rvnwbz().b[4][1]++;}cov_2dp9rvnwbz().s[25]++;if(!query){cov_2dp9rvnwbz().b[5][0]++;cov_2dp9rvnwbz().s[26]++;if(this.config.allowCustomObjectId){cov_2dp9rvnwbz().b[6][0]++;cov_2dp9rvnwbz().s[27]++;if((cov_2dp9rvnwbz().b[8][0]++,Object.prototype.hasOwnProperty.call(data,'objectId'))&&(cov_2dp9rvnwbz().b[8][1]++,!data.objectId)){cov_2dp9rvnwbz().b[7][0]++;cov_2dp9rvnwbz().s[28]++;throw new Parse.Error(Parse.Error.MISSING_OBJECT_ID,'objectId must not be empty, null or undefined');}else{cov_2dp9rvnwbz().b[7][1]++;}}else{cov_2dp9rvnwbz().b[6][1]++;cov_2dp9rvnwbz().s[29]++;if(data.objectId){cov_2dp9rvnwbz().b[9][0]++;cov_2dp9rvnwbz().s[30]++;throw new Parse.Error(Parse.Error.INVALID_KEY_NAME,'objectId is an invalid field name.');}else{cov_2dp9rvnwbz().b[9][1]++;}cov_2dp9rvnwbz().s[31]++;if(data.id){cov_2dp9rvnwbz().b[10][0]++;cov_2dp9rvnwbz().s[32]++;throw new Parse.Error(Parse.Error.INVALID_KEY_NAME,'id is an invalid field name.');}else{cov_2dp9rvnwbz().b[10][1]++;}}}else{cov_2dp9rvnwbz().b[5][1]++;}// When the operation is complete, this.response may have several
// fields.
// response: the actual data to be returned
// status: the http status code. if not present, treated like a 200
// location: the location header. if not present, no location header
cov_2dp9rvnwbz().s[33]++;this.response=null;// Processing this operation may mutate our data, so we operate on a
// copy
cov_2dp9rvnwbz().s[34]++;this.query=deepcopy(query);cov_2dp9rvnwbz().s[35]++;this.data=deepcopy(data);// We never change originalData, so we do not need a deep copy
cov_2dp9rvnwbz().s[36]++;this.originalData=originalData;// The timestamp we'll use for this whole operation
cov_2dp9rvnwbz().s[37]++;this.updatedAt=Parse._encode(new Date()).iso;// Shared SchemaController to be reused to reduce the number of loadSchema() calls per request
// Once set the schemaData should be immutable
cov_2dp9rvnwbz().s[38]++;this.validSchemaController=null;}// A convenient method to perform all the steps of processing the
// write, in order.
// Returns a promise for a {response, status, location} object.
// status and location are optional.
cov_2dp9rvnwbz().s[39]++;RestWrite.prototype.execute=function(){cov_2dp9rvnwbz().f[2]++;cov_2dp9rvnwbz().s[40]++;return Promise.resolve().then(()=>{cov_2dp9rvnwbz().f[3]++;cov_2dp9rvnwbz().s[41]++;return this.getUserAndRoleACL();}).then(()=>{cov_2dp9rvnwbz().f[4]++;cov_2dp9rvnwbz().s[42]++;return this.validateClientClassCreation();}).then(()=>{cov_2dp9rvnwbz().f[5]++;cov_2dp9rvnwbz().s[43]++;return this.handleInstallation();}).then(()=>{cov_2dp9rvnwbz().f[6]++;cov_2dp9rvnwbz().s[44]++;return this.handleSession();}).then(()=>{cov_2dp9rvnwbz().f[7]++;cov_2dp9rvnwbz().s[45]++;return this.validateAuthData();}).then(()=>{cov_2dp9rvnwbz().f[8]++;cov_2dp9rvnwbz().s[46]++;return this.runBeforeSaveTrigger();}).then(()=>{cov_2dp9rvnwbz().f[9]++;cov_2dp9rvnwbz().s[47]++;return this.deleteEmailResetTokenIfNeeded();}).then(()=>{cov_2dp9rvnwbz().f[10]++;cov_2dp9rvnwbz().s[48]++;return this.validateSchema();}).then(schemaController=>{cov_2dp9rvnwbz().f[11]++;cov_2dp9rvnwbz().s[49]++;this.validSchemaController=schemaController;cov_2dp9rvnwbz().s[50]++;return this.setRequiredFieldsIfNeeded();}).then(()=>{cov_2dp9rvnwbz().f[12]++;cov_2dp9rvnwbz().s[51]++;return this.transformUser();}).then(()=>{cov_2dp9rvnwbz().f[13]++;cov_2dp9rvnwbz().s[52]++;return this.expandFilesForExistingObjects();}).then(()=>{cov_2dp9rvnwbz().f[14]++;cov_2dp9rvnwbz().s[53]++;return this.destroyDuplicatedSessions();}).then(()=>{cov_2dp9rvnwbz().f[15]++;cov_2dp9rvnwbz().s[54]++;return this.runDatabaseOperation();}).then(()=>{cov_2dp9rvnwbz().f[16]++;cov_2dp9rvnwbz().s[55]++;return this.createSessionTokenIfNeeded();}).then(()=>{cov_2dp9rvnwbz().f[17]++;cov_2dp9rvnwbz().s[56]++;return this.handleFollowup();}).then(()=>{cov_2dp9rvnwbz().f[18]++;cov_2dp9rvnwbz().s[57]++;return this.runAfterSaveTrigger();}).then(()=>{cov_2dp9rvnwbz().f[19]++;cov_2dp9rvnwbz().s[58]++;return this.cleanUserAuthData();}).then(()=>{cov_2dp9rvnwbz().f[20]++;cov_2dp9rvnwbz().s[59]++;return this.response;});};// Uses the Auth object to get the list of roles, adds the user id
cov_2dp9rvnwbz().s[60]++;RestWrite.prototype.getUserAndRoleACL=function(){cov_2dp9rvnwbz().f[21]++;cov_2dp9rvnwbz().s[61]++;if(this.auth.isMaster){cov_2dp9rvnwbz().b[11][0]++;cov_2dp9rvnwbz().s[62]++;return Promise.resolve();}else{cov_2dp9rvnwbz().b[11][1]++;}cov_2dp9rvnwbz().s[63]++;this.runOptions.acl=['*'];cov_2dp9rvnwbz().s[64]++;if(this.auth.user){cov_2dp9rvnwbz().b[12][0]++;cov_2dp9rvnwbz().s[65]++;return this.auth.getUserRoles().then(roles=>{cov_2dp9rvnwbz().f[22]++;cov_2dp9rvnwbz().s[66]++;this.runOptions.acl=this.runOptions.acl.concat(roles,[this.auth.user.id]);cov_2dp9rvnwbz().s[67]++;return;});}else{cov_2dp9rvnwbz().b[12][1]++;cov_2dp9rvnwbz().s[68]++;return Promise.resolve();}};// Validates this operation against the allowClientClassCreation config.
cov_2dp9rvnwbz().s[69]++;RestWrite.prototype.validateClientClassCreation=function(){cov_2dp9rvnwbz().f[23]++;cov_2dp9rvnwbz().s[70]++;if((cov_2dp9rvnwbz().b[14][0]++,this.config.allowClientClassCreation===false)&&(cov_2dp9rvnwbz().b[14][1]++,!this.auth.isMaster)&&(cov_2dp9rvnwbz().b[14][2]++,SchemaController.systemClasses.indexOf(this.className)===-1)){cov_2dp9rvnwbz().b[13][0]++;cov_2dp9rvnwbz().s[71]++;return this.config.database.loadSchema().then(schemaController=>{cov_2dp9rvnwbz().f[24]++;cov_2dp9rvnwbz().s[72]++;return schemaController.hasClass(this.className);}).then(hasClass=>{cov_2dp9rvnwbz().f[25]++;cov_2dp9rvnwbz().s[73]++;if(hasClass!==true){cov_2dp9rvnwbz().b[15][0]++;cov_2dp9rvnwbz().s[74]++;throw new Parse.Error(Parse.Error.OPERATION_FORBIDDEN,'This user is not allowed to access '+'non-existent class: '+this.className);}else{cov_2dp9rvnwbz().b[15][1]++;}});}else{cov_2dp9rvnwbz().b[13][1]++;cov_2dp9rvnwbz().s[75]++;return Promise.resolve();}};// Validates this operation against the schema.
cov_2dp9rvnwbz().s[76]++;RestWrite.prototype.validateSchema=function(){cov_2dp9rvnwbz().f[26]++;cov_2dp9rvnwbz().s[77]++;return this.config.database.validateObject(this.className,this.data,this.query,this.runOptions);};// Runs any beforeSave triggers against this operation.
// Any change leads to our data being mutated.
cov_2dp9rvnwbz().s[78]++;RestWrite.prototype.runBeforeSaveTrigger=function(){cov_2dp9rvnwbz().f[27]++;cov_2dp9rvnwbz().s[79]++;if(this.response){cov_2dp9rvnwbz().b[16][0]++;cov_2dp9rvnwbz().s[80]++;return;}else{cov_2dp9rvnwbz().b[16][1]++;}// Avoid doing any setup for triggers if there is no 'beforeSave' trigger for this class.
cov_2dp9rvnwbz().s[81]++;if(!triggers.triggerExists(this.className,triggers.Types.beforeSave,this.config.applicationId)){cov_2dp9rvnwbz().b[17][0]++;cov_2dp9rvnwbz().s[82]++;return Promise.resolve();}else{cov_2dp9rvnwbz().b[17][1]++;}// Cloud code gets a bit of extra data for its objects
var extraData=(cov_2dp9rvnwbz().s[83]++,{className:this.className});cov_2dp9rvnwbz().s[84]++;if((cov_2dp9rvnwbz().b[19][0]++,this.query)&&(cov_2dp9rvnwbz().b[19][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[18][0]++;cov_2dp9rvnwbz().s[85]++;extraData.objectId=this.query.objectId;}else{cov_2dp9rvnwbz().b[18][1]++;}let originalObject=(cov_2dp9rvnwbz().s[86]++,null);const updatedObject=(cov_2dp9rvnwbz().s[87]++,this.buildUpdatedObject(extraData));cov_2dp9rvnwbz().s[88]++;if((cov_2dp9rvnwbz().b[21][0]++,this.query)&&(cov_2dp9rvnwbz().b[21][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[20][0]++;cov_2dp9rvnwbz().s[89]++;// This is an update for existing object.
originalObject=triggers.inflate(extraData,this.originalData);}else{cov_2dp9rvnwbz().b[20][1]++;}cov_2dp9rvnwbz().s[90]++;return Promise.resolve().then(()=>{cov_2dp9rvnwbz().f[28]++;// Before calling the trigger, validate the permissions for the save operation
let databasePromise=(cov_2dp9rvnwbz().s[91]++,null);cov_2dp9rvnwbz().s[92]++;if(this.query){cov_2dp9rvnwbz().b[22][0]++;cov_2dp9rvnwbz().s[93]++;// Validate for updating
databasePromise=this.config.database.update(this.className,this.query,this.data,this.runOptions,true,true);}else{cov_2dp9rvnwbz().b[22][1]++;cov_2dp9rvnwbz().s[94]++;// Validate for creating
databasePromise=this.config.database.create(this.className,this.data,this.runOptions,true);}// In the case that there is no permission for the operation, it throws an error
cov_2dp9rvnwbz().s[95]++;return databasePromise.then(result=>{cov_2dp9rvnwbz().f[29]++;cov_2dp9rvnwbz().s[96]++;if((cov_2dp9rvnwbz().b[24][0]++,!result)||(cov_2dp9rvnwbz().b[24][1]++,result.length<=0)){cov_2dp9rvnwbz().b[23][0]++;cov_2dp9rvnwbz().s[97]++;throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND,'Object not found.');}else{cov_2dp9rvnwbz().b[23][1]++;}});}).then(()=>{cov_2dp9rvnwbz().f[30]++;cov_2dp9rvnwbz().s[98]++;return triggers.maybeRunTrigger(triggers.Types.beforeSave,this.auth,updatedObject,originalObject,this.config,this.context);}).then(response=>{cov_2dp9rvnwbz().f[31]++;cov_2dp9rvnwbz().s[99]++;if((cov_2dp9rvnwbz().b[26][0]++,response)&&(cov_2dp9rvnwbz().b[26][1]++,response.object)){cov_2dp9rvnwbz().b[25][0]++;cov_2dp9rvnwbz().s[100]++;this.storage.fieldsChangedByTrigger=_lodash.default.reduce(response.object,(result,value,key)=>{cov_2dp9rvnwbz().f[32]++;cov_2dp9rvnwbz().s[101]++;if(!_lodash.default.isEqual(this.data[key],value)){cov_2dp9rvnwbz().b[27][0]++;cov_2dp9rvnwbz().s[102]++;result.push(key);}else{cov_2dp9rvnwbz().b[27][1]++;}cov_2dp9rvnwbz().s[103]++;return result;},[]);cov_2dp9rvnwbz().s[104]++;this.data=response.object;// We should delete the objectId for an update write
cov_2dp9rvnwbz().s[105]++;if((cov_2dp9rvnwbz().b[29][0]++,this.query)&&(cov_2dp9rvnwbz().b[29][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[28][0]++;cov_2dp9rvnwbz().s[106]++;delete this.data.objectId;}else{cov_2dp9rvnwbz().b[28][1]++;}}else{cov_2dp9rvnwbz().b[25][1]++;}});};cov_2dp9rvnwbz().s[107]++;RestWrite.prototype.runBeforeLoginTrigger=async function(userData){cov_2dp9rvnwbz().f[33]++;cov_2dp9rvnwbz().s[108]++;// Avoid doing any setup for triggers if there is no 'beforeLogin' trigger
if(!triggers.triggerExists(this.className,triggers.Types.beforeLogin,this.config.applicationId)){cov_2dp9rvnwbz().b[30][0]++;cov_2dp9rvnwbz().s[109]++;return;}else{cov_2dp9rvnwbz().b[30][1]++;}// Cloud code gets a bit of extra data for its objects
const extraData=(cov_2dp9rvnwbz().s[110]++,{className:this.className});// Expand file objects
cov_2dp9rvnwbz().s[111]++;this.config.filesController.expandFilesInObject(this.config,userData);const user=(cov_2dp9rvnwbz().s[112]++,triggers.inflate(extraData,userData));// no need to return a response
cov_2dp9rvnwbz().s[113]++;await triggers.maybeRunTrigger(triggers.Types.beforeLogin,this.auth,user,null,this.config,this.context);};cov_2dp9rvnwbz().s[114]++;RestWrite.prototype.setRequiredFieldsIfNeeded=function(){cov_2dp9rvnwbz().f[34]++;cov_2dp9rvnwbz().s[115]++;if(this.data){cov_2dp9rvnwbz().b[31][0]++;cov_2dp9rvnwbz().s[116]++;return this.validSchemaController.getAllClasses().then(allClasses=>{cov_2dp9rvnwbz().f[35]++;const schema=(cov_2dp9rvnwbz().s[117]++,allClasses.find(oneClass=>{cov_2dp9rvnwbz().f[36]++;cov_2dp9rvnwbz().s[118]++;return oneClass.className===this.className;}));cov_2dp9rvnwbz().s[119]++;const setRequiredFieldIfNeeded=(fieldName,setDefault)=>{cov_2dp9rvnwbz().f[37]++;cov_2dp9rvnwbz().s[120]++;if((cov_2dp9rvnwbz().b[33][0]++,this.data[fieldName]===undefined)||(cov_2dp9rvnwbz().b[33][1]++,this.data[fieldName]===null)||(cov_2dp9rvnwbz().b[33][2]++,this.data[fieldName]==='')||(cov_2dp9rvnwbz().b[33][3]++,typeof this.data[fieldName]==='object')&&(cov_2dp9rvnwbz().b[33][4]++,this.data[fieldName].__op==='Delete')){cov_2dp9rvnwbz().b[32][0]++;cov_2dp9rvnwbz().s[121]++;if((cov_2dp9rvnwbz().b[35][0]++,setDefault)&&(cov_2dp9rvnwbz().b[35][1]++,schema.fields[fieldName])&&(cov_2dp9rvnwbz().b[35][2]++,schema.fields[fieldName].defaultValue!==null)&&(cov_2dp9rvnwbz().b[35][3]++,schema.fields[fieldName].defaultValue!==undefined)&&((cov_2dp9rvnwbz().b[35][4]++,this.data[fieldName]===undefined)||(cov_2dp9rvnwbz().b[35][5]++,typeof this.data[fieldName]==='object')&&(cov_2dp9rvnwbz().b[35][6]++,this.data[fieldName].__op==='Delete'))){cov_2dp9rvnwbz().b[34][0]++;cov_2dp9rvnwbz().s[122]++;this.data[fieldName]=schema.fields[fieldName].defaultValue;cov_2dp9rvnwbz().s[123]++;this.storage.fieldsChangedByTrigger=(cov_2dp9rvnwbz().b[36][0]++,this.storage.fieldsChangedByTrigger)||(cov_2dp9rvnwbz().b[36][1]++,[]);cov_2dp9rvnwbz().s[124]++;if(this.storage.fieldsChangedByTrigger.indexOf(fieldName)<0){cov_2dp9rvnwbz().b[37][0]++;cov_2dp9rvnwbz().s[125]++;this.storage.fieldsChangedByTrigger.push(fieldName);}else{cov_2dp9rvnwbz().b[37][1]++;}}else{cov_2dp9rvnwbz().b[34][1]++;cov_2dp9rvnwbz().s[126]++;if((cov_2dp9rvnwbz().b[39][0]++,schema.fields[fieldName])&&(cov_2dp9rvnwbz().b[39][1]++,schema.fields[fieldName].required===true)){cov_2dp9rvnwbz().b[38][0]++;cov_2dp9rvnwbz().s[127]++;throw new Parse.Error(Parse.Error.VALIDATION_ERROR,`${fieldName} is required`);}else{cov_2dp9rvnwbz().b[38][1]++;}}}else{cov_2dp9rvnwbz().b[32][1]++;}};// Add default fields
cov_2dp9rvnwbz().s[128]++;this.data.updatedAt=this.updatedAt;cov_2dp9rvnwbz().s[129]++;if(!this.query){cov_2dp9rvnwbz().b[40][0]++;cov_2dp9rvnwbz().s[130]++;this.data.createdAt=this.updatedAt;// Only assign new objectId if we are creating new object
cov_2dp9rvnwbz().s[131]++;if(!this.data.objectId){cov_2dp9rvnwbz().b[41][0]++;cov_2dp9rvnwbz().s[132]++;this.data.objectId=cryptoUtils.newObjectId(this.config.objectIdSize);}else{cov_2dp9rvnwbz().b[41][1]++;}cov_2dp9rvnwbz().s[133]++;if(schema){cov_2dp9rvnwbz().b[42][0]++;cov_2dp9rvnwbz().s[134]++;Object.keys(schema.fields).forEach(fieldName=>{cov_2dp9rvnwbz().f[38]++;cov_2dp9rvnwbz().s[135]++;setRequiredFieldIfNeeded(fieldName,true);});}else{cov_2dp9rvnwbz().b[42][1]++;}}else{cov_2dp9rvnwbz().b[40][1]++;cov_2dp9rvnwbz().s[136]++;if(schema){cov_2dp9rvnwbz().b[43][0]++;cov_2dp9rvnwbz().s[137]++;Object.keys(this.data).forEach(fieldName=>{cov_2dp9rvnwbz().f[39]++;cov_2dp9rvnwbz().s[138]++;setRequiredFieldIfNeeded(fieldName,false);});}else{cov_2dp9rvnwbz().b[43][1]++;}}});}else{cov_2dp9rvnwbz().b[31][1]++;}cov_2dp9rvnwbz().s[139]++;return Promise.resolve();};// Transforms auth data for a user object.
// Does nothing if this isn't a user object.
// Returns a promise for when we're done if it can't finish this tick.
cov_2dp9rvnwbz().s[140]++;RestWrite.prototype.validateAuthData=function(){cov_2dp9rvnwbz().f[40]++;cov_2dp9rvnwbz().s[141]++;if(this.className!=='_User'){cov_2dp9rvnwbz().b[44][0]++;cov_2dp9rvnwbz().s[142]++;return;}else{cov_2dp9rvnwbz().b[44][1]++;}cov_2dp9rvnwbz().s[143]++;if((cov_2dp9rvnwbz().b[46][0]++,!this.query)&&(cov_2dp9rvnwbz().b[46][1]++,!this.data.authData)){cov_2dp9rvnwbz().b[45][0]++;cov_2dp9rvnwbz().s[144]++;if((cov_2dp9rvnwbz().b[48][0]++,typeof this.data.username!=='string')||(cov_2dp9rvnwbz().b[48][1]++,_lodash.default.isEmpty(this.data.username))){cov_2dp9rvnwbz().b[47][0]++;cov_2dp9rvnwbz().s[145]++;throw new Parse.Error(Parse.Error.USERNAME_MISSING,'bad or missing username');}else{cov_2dp9rvnwbz().b[47][1]++;}cov_2dp9rvnwbz().s[146]++;if((cov_2dp9rvnwbz().b[50][0]++,typeof this.data.password!=='string')||(cov_2dp9rvnwbz().b[50][1]++,_lodash.default.isEmpty(this.data.password))){cov_2dp9rvnwbz().b[49][0]++;cov_2dp9rvnwbz().s[147]++;throw new Parse.Error(Parse.Error.PASSWORD_MISSING,'password is required');}else{cov_2dp9rvnwbz().b[49][1]++;}}else{cov_2dp9rvnwbz().b[45][1]++;}cov_2dp9rvnwbz().s[148]++;if((cov_2dp9rvnwbz().b[52][0]++,this.data.authData)&&(cov_2dp9rvnwbz().b[52][1]++,!Object.keys(this.data.authData).length)||(cov_2dp9rvnwbz().b[52][2]++,!Object.prototype.hasOwnProperty.call(this.data,'authData'))){cov_2dp9rvnwbz().b[51][0]++;cov_2dp9rvnwbz().s[149]++;// Handle saving authData to {} or if authData doesn't exist
return;}else{cov_2dp9rvnwbz().b[51][1]++;cov_2dp9rvnwbz().s[150]++;if((cov_2dp9rvnwbz().b[54][0]++,Object.prototype.hasOwnProperty.call(this.data,'authData'))&&(cov_2dp9rvnwbz().b[54][1]++,!this.data.authData)){cov_2dp9rvnwbz().b[53][0]++;cov_2dp9rvnwbz().s[151]++;// Handle saving authData to null
throw new Parse.Error(Parse.Error.UNSUPPORTED_SERVICE,'This authentication method is unsupported.');}else{cov_2dp9rvnwbz().b[53][1]++;}}var authData=(cov_2dp9rvnwbz().s[152]++,this.data.authData);var providers=(cov_2dp9rvnwbz().s[153]++,Object.keys(authData));cov_2dp9rvnwbz().s[154]++;if(providers.length>0){cov_2dp9rvnwbz().b[55][0]++;const canHandleAuthData=(cov_2dp9rvnwbz().s[155]++,providers.reduce((canHandle,provider)=>{cov_2dp9rvnwbz().f[41]++;var providerAuthData=(cov_2dp9rvnwbz().s[156]++,authData[provider]);var hasToken=(cov_2dp9rvnwbz().s[157]++,(cov_2dp9rvnwbz().b[56][0]++,providerAuthData)&&(cov_2dp9rvnwbz().b[56][1]++,providerAuthData.id));cov_2dp9rvnwbz().s[158]++;return(cov_2dp9rvnwbz().b[57][0]++,canHandle)&&((cov_2dp9rvnwbz().b[57][1]++,hasToken)||(cov_2dp9rvnwbz().b[57][2]++,providerAuthData==null));},true));cov_2dp9rvnwbz().s[159]++;if(canHandleAuthData){cov_2dp9rvnwbz().b[58][0]++;cov_2dp9rvnwbz().s[160]++;return this.handleAuthData(authData);}else{cov_2dp9rvnwbz().b[58][1]++;}}else{cov_2dp9rvnwbz().b[55][1]++;}cov_2dp9rvnwbz().s[161]++;throw new Parse.Error(Parse.Error.UNSUPPORTED_SERVICE,'This authentication method is unsupported.');};cov_2dp9rvnwbz().s[162]++;RestWrite.prototype.handleAuthDataValidation=function(authData){cov_2dp9rvnwbz().f[42]++;const validations=(cov_2dp9rvnwbz().s[163]++,Object.keys(authData).map(provider=>{cov_2dp9rvnwbz().f[43]++;cov_2dp9rvnwbz().s[164]++;if(authData[provider]===null){cov_2dp9rvnwbz().b[59][0]++;cov_2dp9rvnwbz().s[165]++;return Promise.resolve();}else{cov_2dp9rvnwbz().b[59][1]++;}const validateAuthData=(cov_2dp9rvnwbz().s[166]++,this.config.authDataManager.getValidatorForProvider(provider));cov_2dp9rvnwbz().s[167]++;if(!validateAuthData){cov_2dp9rvnwbz().b[60][0]++;cov_2dp9rvnwbz().s[168]++;throw new Parse.Error(Parse.Error.UNSUPPORTED_SERVICE,'This authentication method is unsupported.');}else{cov_2dp9rvnwbz().b[60][1]++;}cov_2dp9rvnwbz().s[169]++;return validateAuthData(authData[provider]);}));cov_2dp9rvnwbz().s[170]++;return Promise.all(validations);};cov_2dp9rvnwbz().s[171]++;RestWrite.prototype.findUsersWithAuthData=function(authData){cov_2dp9rvnwbz().f[44]++;const providers=(cov_2dp9rvnwbz().s[172]++,Object.keys(authData));const query=(cov_2dp9rvnwbz().s[173]++,providers.reduce((memo,provider)=>{cov_2dp9rvnwbz().f[45]++;cov_2dp9rvnwbz().s[174]++;if(!authData[provider]){cov_2dp9rvnwbz().b[61][0]++;cov_2dp9rvnwbz().s[175]++;return memo;}else{cov_2dp9rvnwbz().b[61][1]++;}const queryKey=(cov_2dp9rvnwbz().s[176]++,`authData.${provider}.id`);const query=(cov_2dp9rvnwbz().s[177]++,{});cov_2dp9rvnwbz().s[178]++;query[queryKey]=authData[provider].id;cov_2dp9rvnwbz().s[179]++;memo.push(query);cov_2dp9rvnwbz().s[180]++;return memo;},[]).filter(q=>{cov_2dp9rvnwbz().f[46]++;cov_2dp9rvnwbz().s[181]++;return typeof q!=='undefined';}));let findPromise=(cov_2dp9rvnwbz().s[182]++,Promise.resolve([]));cov_2dp9rvnwbz().s[183]++;if(query.length>0){cov_2dp9rvnwbz().b[62][0]++;cov_2dp9rvnwbz().s[184]++;findPromise=this.config.database.find(this.className,{$or:query},{});}else{cov_2dp9rvnwbz().b[62][1]++;}cov_2dp9rvnwbz().s[185]++;return findPromise;};cov_2dp9rvnwbz().s[186]++;RestWrite.prototype.filteredObjectsByACL=function(objects){cov_2dp9rvnwbz().f[47]++;cov_2dp9rvnwbz().s[187]++;if(this.auth.isMaster){cov_2dp9rvnwbz().b[63][0]++;cov_2dp9rvnwbz().s[188]++;return objects;}else{cov_2dp9rvnwbz().b[63][1]++;}cov_2dp9rvnwbz().s[189]++;return objects.filter(object=>{cov_2dp9rvnwbz().f[48]++;cov_2dp9rvnwbz().s[190]++;if(!object.ACL){cov_2dp9rvnwbz().b[64][0]++;cov_2dp9rvnwbz().s[191]++;return true;// legacy users that have no ACL field on them
}else{cov_2dp9rvnwbz().b[64][1]++;}// Regular users that have been locked out.
cov_2dp9rvnwbz().s[192]++;return(cov_2dp9rvnwbz().b[65][0]++,object.ACL)&&(cov_2dp9rvnwbz().b[65][1]++,Object.keys(object.ACL).length>0);});};cov_2dp9rvnwbz().s[193]++;RestWrite.prototype.handleAuthData=function(authData){cov_2dp9rvnwbz().f[49]++;let results;cov_2dp9rvnwbz().s[194]++;return this.findUsersWithAuthData(authData).then(async r=>{cov_2dp9rvnwbz().f[50]++;cov_2dp9rvnwbz().s[195]++;results=this.filteredObjectsByACL(r);cov_2dp9rvnwbz().s[196]++;if(results.length==1){cov_2dp9rvnwbz().b[66][0]++;cov_2dp9rvnwbz().s[197]++;this.storage['authProvider']=Object.keys(authData).join(',');const userResult=(cov_2dp9rvnwbz().s[198]++,results[0]);const mutatedAuthData=(cov_2dp9rvnwbz().s[199]++,{});cov_2dp9rvnwbz().s[200]++;Object.keys(authData).forEach(provider=>{cov_2dp9rvnwbz().f[51]++;const providerData=(cov_2dp9rvnwbz().s[201]++,authData[provider]);const userAuthData=(cov_2dp9rvnwbz().s[202]++,userResult.authData[provider]);cov_2dp9rvnwbz().s[203]++;if(!_lodash.default.isEqual(providerData,userAuthData)){cov_2dp9rvnwbz().b[67][0]++;cov_2dp9rvnwbz().s[204]++;mutatedAuthData[provider]=providerData;}else{cov_2dp9rvnwbz().b[67][1]++;}});const hasMutatedAuthData=(cov_2dp9rvnwbz().s[205]++,Object.keys(mutatedAuthData).length!==0);let userId;cov_2dp9rvnwbz().s[206]++;if((cov_2dp9rvnwbz().b[69][0]++,this.query)&&(cov_2dp9rvnwbz().b[69][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[68][0]++;cov_2dp9rvnwbz().s[207]++;userId=this.query.objectId;}else{cov_2dp9rvnwbz().b[68][1]++;cov_2dp9rvnwbz().s[208]++;if((cov_2dp9rvnwbz().b[71][0]++,this.auth)&&(cov_2dp9rvnwbz().b[71][1]++,this.auth.user)&&(cov_2dp9rvnwbz().b[71][2]++,this.auth.user.id)){cov_2dp9rvnwbz().b[70][0]++;cov_2dp9rvnwbz().s[209]++;userId=this.auth.user.id;}else{cov_2dp9rvnwbz().b[70][1]++;}}cov_2dp9rvnwbz().s[210]++;if((cov_2dp9rvnwbz().b[73][0]++,!userId)||(cov_2dp9rvnwbz().b[73][1]++,userId===userResult.objectId)){cov_2dp9rvnwbz().b[72][0]++;cov_2dp9rvnwbz().s[211]++;// no user making the call
// OR the user making the call is the right one
// Login with auth data
delete results[0].password;// need to set the objectId first otherwise location has trailing undefined
cov_2dp9rvnwbz().s[212]++;this.data.objectId=userResult.objectId;cov_2dp9rvnwbz().s[213]++;if((cov_2dp9rvnwbz().b[75][0]++,!this.query)||(cov_2dp9rvnwbz().b[75][1]++,!this.query.objectId)){cov_2dp9rvnwbz().b[74][0]++;cov_2dp9rvnwbz().s[214]++;// this a login call, no userId passed
this.response={response:userResult,location:this.location()};// Run beforeLogin hook before storing any updates
// to authData on the db; changes to userResult
// will be ignored.
cov_2dp9rvnwbz().s[215]++;await this.runBeforeLoginTrigger(deepcopy(userResult));}else{cov_2dp9rvnwbz().b[74][1]++;}// If we didn't change the auth data, just keep going
cov_2dp9rvnwbz().s[216]++;if(!hasMutatedAuthData){cov_2dp9rvnwbz().b[76][0]++;cov_2dp9rvnwbz().s[217]++;return;}else{cov_2dp9rvnwbz().b[76][1]++;}// We have authData that is updated on login
// that can happen when token are refreshed,
// We should update the token and let the user in
// We should only check the mutated keys
cov_2dp9rvnwbz().s[218]++;return this.handleAuthDataValidation(mutatedAuthData).then(async()=>{cov_2dp9rvnwbz().f[52]++;cov_2dp9rvnwbz().s[219]++;// IF we have a response, we'll skip the database operation / beforeSave / afterSave etc...
// we need to set it up there.
// We are supposed to have a response only on LOGIN with authData, so we skip those
// If we're not logging in, but just updating the current user, we can safely skip that part
if(this.response){cov_2dp9rvnwbz().b[77][0]++;cov_2dp9rvnwbz().s[220]++;// Assign the new authData in the response
Object.keys(mutatedAuthData).forEach(provider=>{cov_2dp9rvnwbz().f[53]++;cov_2dp9rvnwbz().s[221]++;this.response.response.authData[provider]=mutatedAuthData[provider];});// Run the DB update directly, as 'master'
// Just update the authData part
// Then we're good for the user, early exit of sorts
cov_2dp9rvnwbz().s[222]++;return this.config.database.update(this.className,{objectId:this.data.objectId},{authData:mutatedAuthData},{});}else{cov_2dp9rvnwbz().b[77][1]++;}});}else{cov_2dp9rvnwbz().b[72][1]++;cov_2dp9rvnwbz().s[223]++;if(userId){cov_2dp9rvnwbz().b[78][0]++;cov_2dp9rvnwbz().s[224]++;// Trying to update auth data but users
// are different
if(userResult.objectId!==userId){cov_2dp9rvnwbz().b[79][0]++;cov_2dp9rvnwbz().s[225]++;throw new Parse.Error(Parse.Error.ACCOUNT_ALREADY_LINKED,'this auth is already used');}else{cov_2dp9rvnwbz().b[79][1]++;}// No auth data was mutated, just keep going
cov_2dp9rvnwbz().s[226]++;if(!hasMutatedAuthData){cov_2dp9rvnwbz().b[80][0]++;cov_2dp9rvnwbz().s[227]++;return;}else{cov_2dp9rvnwbz().b[80][1]++;}}else{cov_2dp9rvnwbz().b[78][1]++;}}}else{cov_2dp9rvnwbz().b[66][1]++;}cov_2dp9rvnwbz().s[228]++;return this.handleAuthDataValidation(authData).then(()=>{cov_2dp9rvnwbz().f[54]++;cov_2dp9rvnwbz().s[229]++;if(results.length>1){cov_2dp9rvnwbz().b[81][0]++;cov_2dp9rvnwbz().s[230]++;// More than 1 user with the passed id's
throw new Parse.Error(Parse.Error.ACCOUNT_ALREADY_LINKED,'this auth is already used');}else{cov_2dp9rvnwbz().b[81][1]++;}});});};// The non-third-party parts of User transformation
cov_2dp9rvnwbz().s[231]++;RestWrite.prototype.transformUser=function(){cov_2dp9rvnwbz().f[55]++;var promise=(cov_2dp9rvnwbz().s[232]++,Promise.resolve());cov_2dp9rvnwbz().s[233]++;if(this.className!=='_User'){cov_2dp9rvnwbz().b[82][0]++;cov_2dp9rvnwbz().s[234]++;return promise;}else{cov_2dp9rvnwbz().b[82][1]++;}cov_2dp9rvnwbz().s[235]++;if((cov_2dp9rvnwbz().b[84][0]++,!this.auth.isMaster)&&(cov_2dp9rvnwbz().b[84][1]++,'emailVerified'in this.data)){cov_2dp9rvnwbz().b[83][0]++;const error=(cov_2dp9rvnwbz().s[236]++,`Clients aren't allowed to manually update email verification.`);cov_2dp9rvnwbz().s[237]++;throw new Parse.Error(Parse.Error.OPERATION_FORBIDDEN,error);}else{cov_2dp9rvnwbz().b[83][1]++;}// Do not cleanup session if objectId is not set
cov_2dp9rvnwbz().s[238]++;if((cov_2dp9rvnwbz().b[86][0]++,this.query)&&(cov_2dp9rvnwbz().b[86][1]++,this.objectId())){cov_2dp9rvnwbz().b[85][0]++;cov_2dp9rvnwbz().s[239]++;// If we're updating a _User object, we need to clear out the cache for that user. Find all their
// session tokens, and remove them from the cache.
promise=new _RestQuery.default(this.config,Auth.master(this.config),'_Session',{user:{__type:'Pointer',className:'_User',objectId:this.objectId()}}).execute().then(results=>{cov_2dp9rvnwbz().f[56]++;cov_2dp9rvnwbz().s[240]++;results.results.forEach(session=>{cov_2dp9rvnwbz().f[57]++;cov_2dp9rvnwbz().s[241]++;return this.config.cacheController.user.del(session.sessionToken);});});}else{cov_2dp9rvnwbz().b[85][1]++;}cov_2dp9rvnwbz().s[242]++;return promise.then(()=>{cov_2dp9rvnwbz().f[58]++;cov_2dp9rvnwbz().s[243]++;// Transform the password
if(this.data.password===undefined){cov_2dp9rvnwbz().b[87][0]++;cov_2dp9rvnwbz().s[244]++;// ignore only if undefined. should proceed if empty ('')
return Promise.resolve();}else{cov_2dp9rvnwbz().b[87][1]++;}cov_2dp9rvnwbz().s[245]++;if(this.query){cov_2dp9rvnwbz().b[88][0]++;cov_2dp9rvnwbz().s[246]++;this.storage['clearSessions']=true;// Generate a new session only if the user requested
cov_2dp9rvnwbz().s[247]++;if(!this.auth.isMaster){cov_2dp9rvnwbz().b[89][0]++;cov_2dp9rvnwbz().s[248]++;this.storage['generateNewSession']=true;}else{cov_2dp9rvnwbz().b[89][1]++;}}else{cov_2dp9rvnwbz().b[88][1]++;}cov_2dp9rvnwbz().s[249]++;return this._validatePasswordPolicy().then(()=>{cov_2dp9rvnwbz().f[59]++;cov_2dp9rvnwbz().s[250]++;return passwordCrypto.hash(this.data.password).then(hashedPassword=>{cov_2dp9rvnwbz().f[60]++;cov_2dp9rvnwbz().s[251]++;this.data._hashed_password=hashedPassword;cov_2dp9rvnwbz().s[252]++;delete this.data.password;});});}).then(()=>{cov_2dp9rvnwbz().f[61]++;cov_2dp9rvnwbz().s[253]++;return this._validateUserName();}).then(()=>{cov_2dp9rvnwbz().f[62]++;cov_2dp9rvnwbz().s[254]++;return this._validateEmail();});};cov_2dp9rvnwbz().s[255]++;RestWrite.prototype._validateUserName=function(){cov_2dp9rvnwbz().f[63]++;cov_2dp9rvnwbz().s[256]++;// Check for username uniqueness
if(!this.data.username){cov_2dp9rvnwbz().b[90][0]++;cov_2dp9rvnwbz().s[257]++;if(!this.query){cov_2dp9rvnwbz().b[91][0]++;cov_2dp9rvnwbz().s[258]++;this.data.username=cryptoUtils.randomString(25);cov_2dp9rvnwbz().s[259]++;this.responseShouldHaveUsername=true;}else{cov_2dp9rvnwbz().b[91][1]++;}cov_2dp9rvnwbz().s[260]++;return Promise.resolve();}else{cov_2dp9rvnwbz().b[90][1]++;}/*
    Usernames should be unique when compared case insensitively
     Users should be able to make case sensitive usernames and
    login using the case they entered.  I.e. 'Snoopy' should preclude
    'snoopy' as a valid username.
  */cov_2dp9rvnwbz().s[261]++;return this.config.database.find(this.className,{username:this.data.username,objectId:{$ne:this.objectId()}},{limit:1,caseInsensitive:true},{},this.validSchemaController).then(results=>{cov_2dp9rvnwbz().f[64]++;cov_2dp9rvnwbz().s[262]++;if(results.length>0){cov_2dp9rvnwbz().b[92][0]++;cov_2dp9rvnwbz().s[263]++;throw new Parse.Error(Parse.Error.USERNAME_TAKEN,'Account already exists for this username.');}else{cov_2dp9rvnwbz().b[92][1]++;}cov_2dp9rvnwbz().s[264]++;return;});};/*
  As with usernames, Parse should not allow case insensitive collisions of email.
  unlike with usernames (which can have case insensitive collisions in the case of
  auth adapters), emails should never have a case insensitive collision.

  This behavior can be enforced through a properly configured index see:
  https://docs.mongodb.com/manual/core/index-case-insensitive/#create-a-case-insensitive-index
  which could be implemented instead of this code based validation.

  Given that this lookup should be a relatively low use case and that the case sensitive
  unique index will be used by the db for the query, this is an adequate solution.
*/cov_2dp9rvnwbz().s[265]++;RestWrite.prototype._validateEmail=function(){cov_2dp9rvnwbz().f[65]++;cov_2dp9rvnwbz().s[266]++;if((cov_2dp9rvnwbz().b[94][0]++,!this.data.email)||(cov_2dp9rvnwbz().b[94][1]++,this.data.email.__op==='Delete')){cov_2dp9rvnwbz().b[93][0]++;cov_2dp9rvnwbz().s[267]++;return Promise.resolve();}else{cov_2dp9rvnwbz().b[93][1]++;}// Validate basic email address format
cov_2dp9rvnwbz().s[268]++;if(!this.data.email.match(/^.+@.+$/)){cov_2dp9rvnwbz().b[95][0]++;cov_2dp9rvnwbz().s[269]++;return Promise.reject(new Parse.Error(Parse.Error.INVALID_EMAIL_ADDRESS,'Email address format is invalid.'));}else{cov_2dp9rvnwbz().b[95][1]++;}// Case insensitive match, see note above function.
cov_2dp9rvnwbz().s[270]++;return this.config.database.find(this.className,{email:this.data.email,objectId:{$ne:this.objectId()}},{limit:1,caseInsensitive:true},{},this.validSchemaController).then(results=>{cov_2dp9rvnwbz().f[66]++;cov_2dp9rvnwbz().s[271]++;if(results.length>0){cov_2dp9rvnwbz().b[96][0]++;cov_2dp9rvnwbz().s[272]++;throw new Parse.Error(Parse.Error.EMAIL_TAKEN,'Account already exists for this email address.');}else{cov_2dp9rvnwbz().b[96][1]++;}cov_2dp9rvnwbz().s[273]++;if((cov_2dp9rvnwbz().b[98][0]++,!this.data.authData)||(cov_2dp9rvnwbz().b[98][1]++,!Object.keys(this.data.authData).length)||(cov_2dp9rvnwbz().b[98][2]++,Object.keys(this.data.authData).length===1)&&(cov_2dp9rvnwbz().b[98][3]++,Object.keys(this.data.authData)[0]==='anonymous')){cov_2dp9rvnwbz().b[97][0]++;cov_2dp9rvnwbz().s[274]++;// We updated the email, send a new validation
this.storage['sendVerificationEmail']=true;cov_2dp9rvnwbz().s[275]++;this.config.userController.setEmailVerifyToken(this.data);}else{cov_2dp9rvnwbz().b[97][1]++;}});};cov_2dp9rvnwbz().s[276]++;RestWrite.prototype._validatePasswordPolicy=function(){cov_2dp9rvnwbz().f[67]++;cov_2dp9rvnwbz().s[277]++;if(!this.config.passwordPolicy){cov_2dp9rvnwbz().b[99][0]++;cov_2dp9rvnwbz().s[278]++;return Promise.resolve();}else{cov_2dp9rvnwbz().b[99][1]++;}cov_2dp9rvnwbz().s[279]++;return this._validatePasswordRequirements().then(()=>{cov_2dp9rvnwbz().f[68]++;cov_2dp9rvnwbz().s[280]++;return this._validatePasswordHistory();});};cov_2dp9rvnwbz().s[281]++;RestWrite.prototype._validatePasswordRequirements=function(){cov_2dp9rvnwbz().f[69]++;// check if the password conforms to the defined password policy if configured
// If we specified a custom error in our configuration use it.
// Example: "Passwords must include a Capital Letter, Lowercase Letter, and a number."
//
// This is especially useful on the generic "password reset" page,
// as it allows the programmer to communicate specific requirements instead of:
// a. making the user guess whats wrong
// b. making a custom password reset page that shows the requirements
const policyError=(cov_2dp9rvnwbz().s[282]++,this.config.passwordPolicy.validationError?(cov_2dp9rvnwbz().b[100][0]++,this.config.passwordPolicy.validationError):(cov_2dp9rvnwbz().b[100][1]++,'Password does not meet the Password Policy requirements.'));const containsUsernameError=(cov_2dp9rvnwbz().s[283]++,'Password cannot contain your username.');// check whether the password meets the password strength requirements
cov_2dp9rvnwbz().s[284]++;if((cov_2dp9rvnwbz().b[102][0]++,this.config.passwordPolicy.patternValidator)&&(cov_2dp9rvnwbz().b[102][1]++,!this.config.passwordPolicy.patternValidator(this.data.password))||(cov_2dp9rvnwbz().b[102][2]++,this.config.passwordPolicy.validatorCallback)&&(cov_2dp9rvnwbz().b[102][3]++,!this.config.passwordPolicy.validatorCallback(this.data.password))){cov_2dp9rvnwbz().b[101][0]++;cov_2dp9rvnwbz().s[285]++;return Promise.reject(new Parse.Error(Parse.Error.VALIDATION_ERROR,policyError));}else{cov_2dp9rvnwbz().b[101][1]++;}// check whether password contain username
cov_2dp9rvnwbz().s[286]++;if(this.config.passwordPolicy.doNotAllowUsername===true){cov_2dp9rvnwbz().b[103][0]++;cov_2dp9rvnwbz().s[287]++;if(this.data.username){cov_2dp9rvnwbz().b[104][0]++;cov_2dp9rvnwbz().s[288]++;// username is not passed during password reset
if(this.data.password.indexOf(this.data.username)>=0){cov_2dp9rvnwbz().b[105][0]++;cov_2dp9rvnwbz().s[289]++;return Promise.reject(new Parse.Error(Parse.Error.VALIDATION_ERROR,containsUsernameError));}else{cov_2dp9rvnwbz().b[105][1]++;}}else{cov_2dp9rvnwbz().b[104][1]++;cov_2dp9rvnwbz().s[290]++;// retrieve the User object using objectId during password reset
return this.config.database.find('_User',{objectId:this.objectId()}).then(results=>{cov_2dp9rvnwbz().f[70]++;cov_2dp9rvnwbz().s[291]++;if(results.length!=1){cov_2dp9rvnwbz().b[106][0]++;cov_2dp9rvnwbz().s[292]++;throw undefined;}else{cov_2dp9rvnwbz().b[106][1]++;}cov_2dp9rvnwbz().s[293]++;if(this.data.password.indexOf(results[0].username)>=0){cov_2dp9rvnwbz().b[107][0]++;cov_2dp9rvnwbz().s[294]++;return Promise.reject(new Parse.Error(Parse.Error.VALIDATION_ERROR,containsUsernameError));}else{cov_2dp9rvnwbz().b[107][1]++;}cov_2dp9rvnwbz().s[295]++;return Promise.resolve();});}}else{cov_2dp9rvnwbz().b[103][1]++;}cov_2dp9rvnwbz().s[296]++;return Promise.resolve();};cov_2dp9rvnwbz().s[297]++;RestWrite.prototype._validatePasswordHistory=function(){cov_2dp9rvnwbz().f[71]++;cov_2dp9rvnwbz().s[298]++;// check whether password is repeating from specified history
if((cov_2dp9rvnwbz().b[109][0]++,this.query)&&(cov_2dp9rvnwbz().b[109][1]++,this.config.passwordPolicy.maxPasswordHistory)){cov_2dp9rvnwbz().b[108][0]++;cov_2dp9rvnwbz().s[299]++;return this.config.database.find('_User',{objectId:this.objectId()},{keys:['_password_history','_hashed_password']}).then(results=>{cov_2dp9rvnwbz().f[72]++;cov_2dp9rvnwbz().s[300]++;if(results.length!=1){cov_2dp9rvnwbz().b[110][0]++;cov_2dp9rvnwbz().s[301]++;throw undefined;}else{cov_2dp9rvnwbz().b[110][1]++;}const user=(cov_2dp9rvnwbz().s[302]++,results[0]);let oldPasswords=(cov_2dp9rvnwbz().s[303]++,[]);cov_2dp9rvnwbz().s[304]++;if(user._password_history){cov_2dp9rvnwbz().b[111][0]++;cov_2dp9rvnwbz().s[305]++;oldPasswords=_lodash.default.take(user._password_history,this.config.passwordPolicy.maxPasswordHistory-1);}else{cov_2dp9rvnwbz().b[111][1]++;}cov_2dp9rvnwbz().s[306]++;oldPasswords.push(user.password);const newPassword=(cov_2dp9rvnwbz().s[307]++,this.data.password);// compare the new password hash with all old password hashes
const promises=(cov_2dp9rvnwbz().s[308]++,oldPasswords.map(function(hash){cov_2dp9rvnwbz().f[73]++;cov_2dp9rvnwbz().s[309]++;return passwordCrypto.compare(newPassword,hash).then(result=>{cov_2dp9rvnwbz().f[74]++;cov_2dp9rvnwbz().s[310]++;if(result){cov_2dp9rvnwbz().b[112][0]++;cov_2dp9rvnwbz().s[311]++;// reject if there is a match
return Promise.reject('REPEAT_PASSWORD');}else{cov_2dp9rvnwbz().b[112][1]++;}cov_2dp9rvnwbz().s[312]++;return Promise.resolve();});}));// wait for all comparisons to complete
cov_2dp9rvnwbz().s[313]++;return Promise.all(promises).then(()=>{cov_2dp9rvnwbz().f[75]++;cov_2dp9rvnwbz().s[314]++;return Promise.resolve();}).catch(err=>{cov_2dp9rvnwbz().f[76]++;cov_2dp9rvnwbz().s[315]++;if(err==='REPEAT_PASSWORD'){cov_2dp9rvnwbz().b[113][0]++;cov_2dp9rvnwbz().s[316]++;// a match was found
return Promise.reject(new Parse.Error(Parse.Error.VALIDATION_ERROR,`New password should not be the same as last ${this.config.passwordPolicy.maxPasswordHistory} passwords.`));}else{cov_2dp9rvnwbz().b[113][1]++;}cov_2dp9rvnwbz().s[317]++;throw err;});});}else{cov_2dp9rvnwbz().b[108][1]++;}cov_2dp9rvnwbz().s[318]++;return Promise.resolve();};cov_2dp9rvnwbz().s[319]++;RestWrite.prototype.createSessionTokenIfNeeded=function(){cov_2dp9rvnwbz().f[77]++;cov_2dp9rvnwbz().s[320]++;if(this.className!=='_User'){cov_2dp9rvnwbz().b[114][0]++;cov_2dp9rvnwbz().s[321]++;return;}else{cov_2dp9rvnwbz().b[114][1]++;}// Don't generate session for updating user (this.query is set) unless authData exists
cov_2dp9rvnwbz().s[322]++;if((cov_2dp9rvnwbz().b[116][0]++,this.query)&&(cov_2dp9rvnwbz().b[116][1]++,!this.data.authData)){cov_2dp9rvnwbz().b[115][0]++;cov_2dp9rvnwbz().s[323]++;return;}else{cov_2dp9rvnwbz().b[115][1]++;}// Don't generate new sessionToken if linking via sessionToken
cov_2dp9rvnwbz().s[324]++;if((cov_2dp9rvnwbz().b[118][0]++,this.auth.user)&&(cov_2dp9rvnwbz().b[118][1]++,this.data.authData)){cov_2dp9rvnwbz().b[117][0]++;cov_2dp9rvnwbz().s[325]++;return;}else{cov_2dp9rvnwbz().b[117][1]++;}cov_2dp9rvnwbz().s[326]++;if((cov_2dp9rvnwbz().b[120][0]++,!this.storage['authProvider'])&&(cov_2dp9rvnwbz().b[120][1]++,// signup call, with
this.config.preventLoginWithUnverifiedEmail)&&(cov_2dp9rvnwbz().b[120][2]++,// no login without verification
this.config.verifyUserEmails)){cov_2dp9rvnwbz().b[119][0]++;cov_2dp9rvnwbz().s[327]++;// verification is on
return;// do not create the session token in that case!
}else{cov_2dp9rvnwbz().b[119][1]++;}cov_2dp9rvnwbz().s[328]++;return this.createSessionToken();};cov_2dp9rvnwbz().s[329]++;RestWrite.prototype.createSessionToken=async function(){cov_2dp9rvnwbz().f[78]++;cov_2dp9rvnwbz().s[330]++;// cloud installationId from Cloud Code,
// never create session tokens from there.
if((cov_2dp9rvnwbz().b[122][0]++,this.auth.installationId)&&(cov_2dp9rvnwbz().b[122][1]++,this.auth.installationId==='cloud')){cov_2dp9rvnwbz().b[121][0]++;cov_2dp9rvnwbz().s[331]++;return;}else{cov_2dp9rvnwbz().b[121][1]++;}cov_2dp9rvnwbz().s[332]++;if((cov_2dp9rvnwbz().b[124][0]++,this.storage['authProvider']==null)&&(cov_2dp9rvnwbz().b[124][1]++,this.data.authData)){cov_2dp9rvnwbz().b[123][0]++;cov_2dp9rvnwbz().s[333]++;this.storage['authProvider']=Object.keys(this.data.authData).join(',');}else{cov_2dp9rvnwbz().b[123][1]++;}const{sessionData,createSession}=(cov_2dp9rvnwbz().s[334]++,RestWrite.createSession(this.config,{userId:this.objectId(),createdWith:{action:this.storage['authProvider']?(cov_2dp9rvnwbz().b[125][0]++,'login'):(cov_2dp9rvnwbz().b[125][1]++,'signup'),authProvider:(cov_2dp9rvnwbz().b[126][0]++,this.storage['authProvider'])||(cov_2dp9rvnwbz().b[126][1]++,'password')},installationId:this.auth.installationId}));cov_2dp9rvnwbz().s[335]++;if((cov_2dp9rvnwbz().b[128][0]++,this.response)&&(cov_2dp9rvnwbz().b[128][1]++,this.response.response)){cov_2dp9rvnwbz().b[127][0]++;cov_2dp9rvnwbz().s[336]++;this.response.response.sessionToken=sessionData.sessionToken;}else{cov_2dp9rvnwbz().b[127][1]++;}cov_2dp9rvnwbz().s[337]++;return createSession();};cov_2dp9rvnwbz().s[338]++;RestWrite.createSession=function(config,{userId,createdWith,installationId,additionalSessionData}){cov_2dp9rvnwbz().f[79]++;const token=(cov_2dp9rvnwbz().s[339]++,'r:'+cryptoUtils.newToken());const expiresAt=(cov_2dp9rvnwbz().s[340]++,config.generateSessionExpiresAt());const sessionData=(cov_2dp9rvnwbz().s[341]++,{sessionToken:token,user:{__type:'Pointer',className:'_User',objectId:userId},createdWith,expiresAt:Parse._encode(expiresAt)});cov_2dp9rvnwbz().s[342]++;if(installationId){cov_2dp9rvnwbz().b[129][0]++;cov_2dp9rvnwbz().s[343]++;sessionData.installationId=installationId;}else{cov_2dp9rvnwbz().b[129][1]++;}cov_2dp9rvnwbz().s[344]++;Object.assign(sessionData,additionalSessionData);cov_2dp9rvnwbz().s[345]++;return{sessionData,createSession:()=>{cov_2dp9rvnwbz().f[80]++;cov_2dp9rvnwbz().s[346]++;return new RestWrite(config,Auth.master(config),'_Session',null,sessionData).execute();}};};// Delete email reset tokens if user is changing password or email.
cov_2dp9rvnwbz().s[347]++;RestWrite.prototype.deleteEmailResetTokenIfNeeded=function(){cov_2dp9rvnwbz().f[81]++;cov_2dp9rvnwbz().s[348]++;if((cov_2dp9rvnwbz().b[131][0]++,this.className!=='_User')||(cov_2dp9rvnwbz().b[131][1]++,this.query===null)){cov_2dp9rvnwbz().b[130][0]++;cov_2dp9rvnwbz().s[349]++;// null query means create
return;}else{cov_2dp9rvnwbz().b[130][1]++;}cov_2dp9rvnwbz().s[350]++;if((cov_2dp9rvnwbz().b[133][0]++,'password'in this.data)||(cov_2dp9rvnwbz().b[133][1]++,'email'in this.data)){cov_2dp9rvnwbz().b[132][0]++;const addOps=(cov_2dp9rvnwbz().s[351]++,{_perishable_token:{__op:'Delete'},_perishable_token_expires_at:{__op:'Delete'}});cov_2dp9rvnwbz().s[352]++;this.data=Object.assign(this.data,addOps);}else{cov_2dp9rvnwbz().b[132][1]++;}};cov_2dp9rvnwbz().s[353]++;RestWrite.prototype.destroyDuplicatedSessions=function(){cov_2dp9rvnwbz().f[82]++;cov_2dp9rvnwbz().s[354]++;// Only for _Session, and at creation time
if((cov_2dp9rvnwbz().b[135][0]++,this.className!='_Session')||(cov_2dp9rvnwbz().b[135][1]++,this.query)){cov_2dp9rvnwbz().b[134][0]++;cov_2dp9rvnwbz().s[355]++;return;}else{cov_2dp9rvnwbz().b[134][1]++;}// Destroy the sessions in 'Background'
const{user,installationId,sessionToken}=(cov_2dp9rvnwbz().s[356]++,this.data);cov_2dp9rvnwbz().s[357]++;if((cov_2dp9rvnwbz().b[137][0]++,!user)||(cov_2dp9rvnwbz().b[137][1]++,!installationId)){cov_2dp9rvnwbz().b[136][0]++;cov_2dp9rvnwbz().s[358]++;return;}else{cov_2dp9rvnwbz().b[136][1]++;}cov_2dp9rvnwbz().s[359]++;if(!user.objectId){cov_2dp9rvnwbz().b[138][0]++;cov_2dp9rvnwbz().s[360]++;return;}else{cov_2dp9rvnwbz().b[138][1]++;}cov_2dp9rvnwbz().s[361]++;this.config.database.destroy('_Session',{user,installationId,sessionToken:{$ne:sessionToken}},{},this.validSchemaController);};// Handles any followup logic
cov_2dp9rvnwbz().s[362]++;RestWrite.prototype.handleFollowup=function(){cov_2dp9rvnwbz().f[83]++;cov_2dp9rvnwbz().s[363]++;if((cov_2dp9rvnwbz().b[140][0]++,this.storage)&&(cov_2dp9rvnwbz().b[140][1]++,this.storage['clearSessions'])&&(cov_2dp9rvnwbz().b[140][2]++,this.config.revokeSessionOnPasswordReset)){cov_2dp9rvnwbz().b[139][0]++;var sessionQuery=(cov_2dp9rvnwbz().s[364]++,{user:{__type:'Pointer',className:'_User',objectId:this.objectId()}});cov_2dp9rvnwbz().s[365]++;delete this.storage['clearSessions'];cov_2dp9rvnwbz().s[366]++;return this.config.database.destroy('_Session',sessionQuery).then(this.handleFollowup.bind(this));}else{cov_2dp9rvnwbz().b[139][1]++;}cov_2dp9rvnwbz().s[367]++;if((cov_2dp9rvnwbz().b[142][0]++,this.storage)&&(cov_2dp9rvnwbz().b[142][1]++,this.storage['generateNewSession'])){cov_2dp9rvnwbz().b[141][0]++;cov_2dp9rvnwbz().s[368]++;delete this.storage['generateNewSession'];cov_2dp9rvnwbz().s[369]++;return this.createSessionToken().then(this.handleFollowup.bind(this));}else{cov_2dp9rvnwbz().b[141][1]++;}cov_2dp9rvnwbz().s[370]++;if((cov_2dp9rvnwbz().b[144][0]++,this.storage)&&(cov_2dp9rvnwbz().b[144][1]++,this.storage['sendVerificationEmail'])){cov_2dp9rvnwbz().b[143][0]++;cov_2dp9rvnwbz().s[371]++;delete this.storage['sendVerificationEmail'];// Fire and forget!
cov_2dp9rvnwbz().s[372]++;this.config.userController.sendVerificationEmail(this.data);cov_2dp9rvnwbz().s[373]++;return this.handleFollowup.bind(this);}else{cov_2dp9rvnwbz().b[143][1]++;}};// Handles the _Session class specialness.
// Does nothing if this isn't an _Session object.
cov_2dp9rvnwbz().s[374]++;RestWrite.prototype.handleSession=function(){cov_2dp9rvnwbz().f[84]++;cov_2dp9rvnwbz().s[375]++;if((cov_2dp9rvnwbz().b[146][0]++,this.response)||(cov_2dp9rvnwbz().b[146][1]++,this.className!=='_Session')){cov_2dp9rvnwbz().b[145][0]++;cov_2dp9rvnwbz().s[376]++;return;}else{cov_2dp9rvnwbz().b[145][1]++;}cov_2dp9rvnwbz().s[377]++;if((cov_2dp9rvnwbz().b[148][0]++,!this.auth.user)&&(cov_2dp9rvnwbz().b[148][1]++,!this.auth.isMaster)){cov_2dp9rvnwbz().b[147][0]++;cov_2dp9rvnwbz().s[378]++;throw new Parse.Error(Parse.Error.INVALID_SESSION_TOKEN,'Session token required.');}else{cov_2dp9rvnwbz().b[147][1]++;}// TODO: Verify proper error to throw
cov_2dp9rvnwbz().s[379]++;if(this.data.ACL){cov_2dp9rvnwbz().b[149][0]++;cov_2dp9rvnwbz().s[380]++;throw new Parse.Error(Parse.Error.INVALID_KEY_NAME,'Cannot set '+'ACL on a Session.');}else{cov_2dp9rvnwbz().b[149][1]++;}cov_2dp9rvnwbz().s[381]++;if(this.query){cov_2dp9rvnwbz().b[150][0]++;cov_2dp9rvnwbz().s[382]++;if((cov_2dp9rvnwbz().b[152][0]++,this.data.user)&&(cov_2dp9rvnwbz().b[152][1]++,!this.auth.isMaster)&&(cov_2dp9rvnwbz().b[152][2]++,this.data.user.objectId!=this.auth.user.id)){cov_2dp9rvnwbz().b[151][0]++;cov_2dp9rvnwbz().s[383]++;throw new Parse.Error(Parse.Error.INVALID_KEY_NAME);}else{cov_2dp9rvnwbz().b[151][1]++;cov_2dp9rvnwbz().s[384]++;if(this.data.installationId){cov_2dp9rvnwbz().b[153][0]++;cov_2dp9rvnwbz().s[385]++;throw new Parse.Error(Parse.Error.INVALID_KEY_NAME);}else{cov_2dp9rvnwbz().b[153][1]++;cov_2dp9rvnwbz().s[386]++;if(this.data.sessionToken){cov_2dp9rvnwbz().b[154][0]++;cov_2dp9rvnwbz().s[387]++;throw new Parse.Error(Parse.Error.INVALID_KEY_NAME);}else{cov_2dp9rvnwbz().b[154][1]++;}}}}else{cov_2dp9rvnwbz().b[150][1]++;}cov_2dp9rvnwbz().s[388]++;if((cov_2dp9rvnwbz().b[156][0]++,!this.query)&&(cov_2dp9rvnwbz().b[156][1]++,!this.auth.isMaster)){cov_2dp9rvnwbz().b[155][0]++;const additionalSessionData=(cov_2dp9rvnwbz().s[389]++,{});cov_2dp9rvnwbz().s[390]++;for(var key in this.data){cov_2dp9rvnwbz().s[391]++;if((cov_2dp9rvnwbz().b[158][0]++,key==='objectId')||(cov_2dp9rvnwbz().b[158][1]++,key==='user')){cov_2dp9rvnwbz().b[157][0]++;cov_2dp9rvnwbz().s[392]++;continue;}else{cov_2dp9rvnwbz().b[157][1]++;}cov_2dp9rvnwbz().s[393]++;additionalSessionData[key]=this.data[key];}const{sessionData,createSession}=(cov_2dp9rvnwbz().s[394]++,RestWrite.createSession(this.config,{userId:this.auth.user.id,createdWith:{action:'create'},additionalSessionData}));cov_2dp9rvnwbz().s[395]++;return createSession().then(results=>{cov_2dp9rvnwbz().f[85]++;cov_2dp9rvnwbz().s[396]++;if(!results.response){cov_2dp9rvnwbz().b[159][0]++;cov_2dp9rvnwbz().s[397]++;throw new Parse.Error(Parse.Error.INTERNAL_SERVER_ERROR,'Error creating session.');}else{cov_2dp9rvnwbz().b[159][1]++;}cov_2dp9rvnwbz().s[398]++;sessionData['objectId']=results.response['objectId'];cov_2dp9rvnwbz().s[399]++;this.response={status:201,location:results.location,response:sessionData};});}else{cov_2dp9rvnwbz().b[155][1]++;}};// Handles the _Installation class specialness.
// Does nothing if this isn't an installation object.
// If an installation is found, this can mutate this.query and turn a create
// into an update.
// Returns a promise for when we're done if it can't finish this tick.
cov_2dp9rvnwbz().s[400]++;RestWrite.prototype.handleInstallation=function(){cov_2dp9rvnwbz().f[86]++;cov_2dp9rvnwbz().s[401]++;if((cov_2dp9rvnwbz().b[161][0]++,this.response)||(cov_2dp9rvnwbz().b[161][1]++,this.className!=='_Installation')){cov_2dp9rvnwbz().b[160][0]++;cov_2dp9rvnwbz().s[402]++;return;}else{cov_2dp9rvnwbz().b[160][1]++;}cov_2dp9rvnwbz().s[403]++;if((cov_2dp9rvnwbz().b[163][0]++,!this.query)&&(cov_2dp9rvnwbz().b[163][1]++,!this.data.deviceToken)&&(cov_2dp9rvnwbz().b[163][2]++,!this.data.installationId)&&(cov_2dp9rvnwbz().b[163][3]++,!this.auth.installationId)){cov_2dp9rvnwbz().b[162][0]++;cov_2dp9rvnwbz().s[404]++;throw new Parse.Error(135,'at least one ID field (deviceToken, installationId) '+'must be specified in this operation');}else{cov_2dp9rvnwbz().b[162][1]++;}// If the device token is 64 characters long, we assume it is for iOS
// and lowercase it.
cov_2dp9rvnwbz().s[405]++;if((cov_2dp9rvnwbz().b[165][0]++,this.data.deviceToken)&&(cov_2dp9rvnwbz().b[165][1]++,this.data.deviceToken.length==64)){cov_2dp9rvnwbz().b[164][0]++;cov_2dp9rvnwbz().s[406]++;this.data.deviceToken=this.data.deviceToken.toLowerCase();}else{cov_2dp9rvnwbz().b[164][1]++;}// We lowercase the installationId if present
cov_2dp9rvnwbz().s[407]++;if(this.data.installationId){cov_2dp9rvnwbz().b[166][0]++;cov_2dp9rvnwbz().s[408]++;this.data.installationId=this.data.installationId.toLowerCase();}else{cov_2dp9rvnwbz().b[166][1]++;}let installationId=(cov_2dp9rvnwbz().s[409]++,this.data.installationId);// If data.installationId is not set and we're not master, we can lookup in auth
cov_2dp9rvnwbz().s[410]++;if((cov_2dp9rvnwbz().b[168][0]++,!installationId)&&(cov_2dp9rvnwbz().b[168][1]++,!this.auth.isMaster)){cov_2dp9rvnwbz().b[167][0]++;cov_2dp9rvnwbz().s[411]++;installationId=this.auth.installationId;}else{cov_2dp9rvnwbz().b[167][1]++;}cov_2dp9rvnwbz().s[412]++;if(installationId){cov_2dp9rvnwbz().b[169][0]++;cov_2dp9rvnwbz().s[413]++;installationId=installationId.toLowerCase();}else{cov_2dp9rvnwbz().b[169][1]++;}// Updating _Installation but not updating anything critical
cov_2dp9rvnwbz().s[414]++;if((cov_2dp9rvnwbz().b[171][0]++,this.query)&&(cov_2dp9rvnwbz().b[171][1]++,!this.data.deviceToken)&&(cov_2dp9rvnwbz().b[171][2]++,!installationId)&&(cov_2dp9rvnwbz().b[171][3]++,!this.data.deviceType)){cov_2dp9rvnwbz().b[170][0]++;cov_2dp9rvnwbz().s[415]++;return;}else{cov_2dp9rvnwbz().b[170][1]++;}var promise=(cov_2dp9rvnwbz().s[416]++,Promise.resolve());var idMatch;// Will be a match on either objectId or installationId
var objectIdMatch;var installationIdMatch;var deviceTokenMatches=(cov_2dp9rvnwbz().s[417]++,[]);// Instead of issuing 3 reads, let's do it with one OR.
const orQueries=(cov_2dp9rvnwbz().s[418]++,[]);cov_2dp9rvnwbz().s[419]++;if((cov_2dp9rvnwbz().b[173][0]++,this.query)&&(cov_2dp9rvnwbz().b[173][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[172][0]++;cov_2dp9rvnwbz().s[420]++;orQueries.push({objectId:this.query.objectId});}else{cov_2dp9rvnwbz().b[172][1]++;}cov_2dp9rvnwbz().s[421]++;if(installationId){cov_2dp9rvnwbz().b[174][0]++;cov_2dp9rvnwbz().s[422]++;orQueries.push({installationId:installationId});}else{cov_2dp9rvnwbz().b[174][1]++;}cov_2dp9rvnwbz().s[423]++;if(this.data.deviceToken){cov_2dp9rvnwbz().b[175][0]++;cov_2dp9rvnwbz().s[424]++;orQueries.push({deviceToken:this.data.deviceToken});}else{cov_2dp9rvnwbz().b[175][1]++;}cov_2dp9rvnwbz().s[425]++;if(orQueries.length==0){cov_2dp9rvnwbz().b[176][0]++;cov_2dp9rvnwbz().s[426]++;return;}else{cov_2dp9rvnwbz().b[176][1]++;}cov_2dp9rvnwbz().s[427]++;promise=promise.then(()=>{cov_2dp9rvnwbz().f[87]++;cov_2dp9rvnwbz().s[428]++;return this.config.database.find('_Installation',{$or:orQueries},{});}).then(results=>{cov_2dp9rvnwbz().f[88]++;cov_2dp9rvnwbz().s[429]++;results.forEach(result=>{cov_2dp9rvnwbz().f[89]++;cov_2dp9rvnwbz().s[430]++;if((cov_2dp9rvnwbz().b[178][0]++,this.query)&&(cov_2dp9rvnwbz().b[178][1]++,this.query.objectId)&&(cov_2dp9rvnwbz().b[178][2]++,result.objectId==this.query.objectId)){cov_2dp9rvnwbz().b[177][0]++;cov_2dp9rvnwbz().s[431]++;objectIdMatch=result;}else{cov_2dp9rvnwbz().b[177][1]++;}cov_2dp9rvnwbz().s[432]++;if(result.installationId==installationId){cov_2dp9rvnwbz().b[179][0]++;cov_2dp9rvnwbz().s[433]++;installationIdMatch=result;}else{cov_2dp9rvnwbz().b[179][1]++;}cov_2dp9rvnwbz().s[434]++;if(result.deviceToken==this.data.deviceToken){cov_2dp9rvnwbz().b[180][0]++;cov_2dp9rvnwbz().s[435]++;deviceTokenMatches.push(result);}else{cov_2dp9rvnwbz().b[180][1]++;}});// Sanity checks when running a query
cov_2dp9rvnwbz().s[436]++;if((cov_2dp9rvnwbz().b[182][0]++,this.query)&&(cov_2dp9rvnwbz().b[182][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[181][0]++;cov_2dp9rvnwbz().s[437]++;if(!objectIdMatch){cov_2dp9rvnwbz().b[183][0]++;cov_2dp9rvnwbz().s[438]++;throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND,'Object not found for update.');}else{cov_2dp9rvnwbz().b[183][1]++;}cov_2dp9rvnwbz().s[439]++;if((cov_2dp9rvnwbz().b[185][0]++,this.data.installationId)&&(cov_2dp9rvnwbz().b[185][1]++,objectIdMatch.installationId)&&(cov_2dp9rvnwbz().b[185][2]++,this.data.installationId!==objectIdMatch.installationId)){cov_2dp9rvnwbz().b[184][0]++;cov_2dp9rvnwbz().s[440]++;throw new Parse.Error(136,'installationId may not be changed in this '+'operation');}else{cov_2dp9rvnwbz().b[184][1]++;}cov_2dp9rvnwbz().s[441]++;if((cov_2dp9rvnwbz().b[187][0]++,this.data.deviceToken)&&(cov_2dp9rvnwbz().b[187][1]++,objectIdMatch.deviceToken)&&(cov_2dp9rvnwbz().b[187][2]++,this.data.deviceToken!==objectIdMatch.deviceToken)&&(cov_2dp9rvnwbz().b[187][3]++,!this.data.installationId)&&(cov_2dp9rvnwbz().b[187][4]++,!objectIdMatch.installationId)){cov_2dp9rvnwbz().b[186][0]++;cov_2dp9rvnwbz().s[442]++;throw new Parse.Error(136,'deviceToken may not be changed in this '+'operation');}else{cov_2dp9rvnwbz().b[186][1]++;}cov_2dp9rvnwbz().s[443]++;if((cov_2dp9rvnwbz().b[189][0]++,this.data.deviceType)&&(cov_2dp9rvnwbz().b[189][1]++,this.data.deviceType)&&(cov_2dp9rvnwbz().b[189][2]++,this.data.deviceType!==objectIdMatch.deviceType)){cov_2dp9rvnwbz().b[188][0]++;cov_2dp9rvnwbz().s[444]++;throw new Parse.Error(136,'deviceType may not be changed in this '+'operation');}else{cov_2dp9rvnwbz().b[188][1]++;}}else{cov_2dp9rvnwbz().b[181][1]++;}cov_2dp9rvnwbz().s[445]++;if((cov_2dp9rvnwbz().b[191][0]++,this.query)&&(cov_2dp9rvnwbz().b[191][1]++,this.query.objectId)&&(cov_2dp9rvnwbz().b[191][2]++,objectIdMatch)){cov_2dp9rvnwbz().b[190][0]++;cov_2dp9rvnwbz().s[446]++;idMatch=objectIdMatch;}else{cov_2dp9rvnwbz().b[190][1]++;}cov_2dp9rvnwbz().s[447]++;if((cov_2dp9rvnwbz().b[193][0]++,installationId)&&(cov_2dp9rvnwbz().b[193][1]++,installationIdMatch)){cov_2dp9rvnwbz().b[192][0]++;cov_2dp9rvnwbz().s[448]++;idMatch=installationIdMatch;}else{cov_2dp9rvnwbz().b[192][1]++;}// need to specify deviceType only if it's new
cov_2dp9rvnwbz().s[449]++;if((cov_2dp9rvnwbz().b[195][0]++,!this.query)&&(cov_2dp9rvnwbz().b[195][1]++,!this.data.deviceType)&&(cov_2dp9rvnwbz().b[195][2]++,!idMatch)){cov_2dp9rvnwbz().b[194][0]++;cov_2dp9rvnwbz().s[450]++;throw new Parse.Error(135,'deviceType must be specified in this operation');}else{cov_2dp9rvnwbz().b[194][1]++;}}).then(()=>{cov_2dp9rvnwbz().f[90]++;cov_2dp9rvnwbz().s[451]++;if(!idMatch){cov_2dp9rvnwbz().b[196][0]++;cov_2dp9rvnwbz().s[452]++;if(!deviceTokenMatches.length){cov_2dp9rvnwbz().b[197][0]++;cov_2dp9rvnwbz().s[453]++;return;}else{cov_2dp9rvnwbz().b[197][1]++;cov_2dp9rvnwbz().s[454]++;if((cov_2dp9rvnwbz().b[199][0]++,deviceTokenMatches.length==1)&&((cov_2dp9rvnwbz().b[199][1]++,!deviceTokenMatches[0]['installationId'])||(cov_2dp9rvnwbz().b[199][2]++,!installationId))){cov_2dp9rvnwbz().b[198][0]++;cov_2dp9rvnwbz().s[455]++;// Single match on device token but none on installationId, and either
// the passed object or the match is missing an installationId, so we
// can just return the match.
return deviceTokenMatches[0]['objectId'];}else{cov_2dp9rvnwbz().b[198][1]++;cov_2dp9rvnwbz().s[456]++;if(!this.data.installationId){cov_2dp9rvnwbz().b[200][0]++;cov_2dp9rvnwbz().s[457]++;throw new Parse.Error(132,'Must specify installationId when deviceToken '+'matches multiple Installation objects');}else{cov_2dp9rvnwbz().b[200][1]++;// Multiple device token matches and we specified an installation ID,
// or a single match where both the passed and matching objects have
// an installation ID. Try cleaning out old installations that match
// the deviceToken, and return nil to signal that a new object should
// be created.
var delQuery=(cov_2dp9rvnwbz().s[458]++,{deviceToken:this.data.deviceToken,installationId:{$ne:installationId}});cov_2dp9rvnwbz().s[459]++;if(this.data.appIdentifier){cov_2dp9rvnwbz().b[201][0]++;cov_2dp9rvnwbz().s[460]++;delQuery['appIdentifier']=this.data.appIdentifier;}else{cov_2dp9rvnwbz().b[201][1]++;}cov_2dp9rvnwbz().s[461]++;this.config.database.destroy('_Installation',delQuery).catch(err=>{cov_2dp9rvnwbz().f[91]++;cov_2dp9rvnwbz().s[462]++;if(err.code==Parse.Error.OBJECT_NOT_FOUND){cov_2dp9rvnwbz().b[202][0]++;cov_2dp9rvnwbz().s[463]++;// no deletions were made. Can be ignored.
return;}else{cov_2dp9rvnwbz().b[202][1]++;}// rethrow the error
cov_2dp9rvnwbz().s[464]++;throw err;});cov_2dp9rvnwbz().s[465]++;return;}}}}else{cov_2dp9rvnwbz().b[196][1]++;cov_2dp9rvnwbz().s[466]++;if((cov_2dp9rvnwbz().b[204][0]++,deviceTokenMatches.length==1)&&(cov_2dp9rvnwbz().b[204][1]++,!deviceTokenMatches[0]['installationId'])){cov_2dp9rvnwbz().b[203][0]++;// Exactly one device token match and it doesn't have an installation
// ID. This is the one case where we want to merge with the existing
// object.
const delQuery=(cov_2dp9rvnwbz().s[467]++,{objectId:idMatch.objectId});cov_2dp9rvnwbz().s[468]++;return this.config.database.destroy('_Installation',delQuery).then(()=>{cov_2dp9rvnwbz().f[92]++;cov_2dp9rvnwbz().s[469]++;return deviceTokenMatches[0]['objectId'];}).catch(err=>{cov_2dp9rvnwbz().f[93]++;cov_2dp9rvnwbz().s[470]++;if(err.code==Parse.Error.OBJECT_NOT_FOUND){cov_2dp9rvnwbz().b[205][0]++;cov_2dp9rvnwbz().s[471]++;// no deletions were made. Can be ignored
return;}else{cov_2dp9rvnwbz().b[205][1]++;}// rethrow the error
cov_2dp9rvnwbz().s[472]++;throw err;});}else{cov_2dp9rvnwbz().b[203][1]++;cov_2dp9rvnwbz().s[473]++;if((cov_2dp9rvnwbz().b[207][0]++,this.data.deviceToken)&&(cov_2dp9rvnwbz().b[207][1]++,idMatch.deviceToken!=this.data.deviceToken)){cov_2dp9rvnwbz().b[206][0]++;// We're setting the device token on an existing installation, so
// we should try cleaning out old installations that match this
// device token.
const delQuery=(cov_2dp9rvnwbz().s[474]++,{deviceToken:this.data.deviceToken});// We have a unique install Id, use that to preserve
// the interesting installation
cov_2dp9rvnwbz().s[475]++;if(this.data.installationId){cov_2dp9rvnwbz().b[208][0]++;cov_2dp9rvnwbz().s[476]++;delQuery['installationId']={$ne:this.data.installationId};}else{cov_2dp9rvnwbz().b[208][1]++;cov_2dp9rvnwbz().s[477]++;if((cov_2dp9rvnwbz().b[210][0]++,idMatch.objectId)&&(cov_2dp9rvnwbz().b[210][1]++,this.data.objectId)&&(cov_2dp9rvnwbz().b[210][2]++,idMatch.objectId==this.data.objectId)){cov_2dp9rvnwbz().b[209][0]++;cov_2dp9rvnwbz().s[478]++;// we passed an objectId, preserve that instalation
delQuery['objectId']={$ne:idMatch.objectId};}else{cov_2dp9rvnwbz().b[209][1]++;cov_2dp9rvnwbz().s[479]++;// What to do here? can't really clean up everything...
return idMatch.objectId;}}cov_2dp9rvnwbz().s[480]++;if(this.data.appIdentifier){cov_2dp9rvnwbz().b[211][0]++;cov_2dp9rvnwbz().s[481]++;delQuery['appIdentifier']=this.data.appIdentifier;}else{cov_2dp9rvnwbz().b[211][1]++;}cov_2dp9rvnwbz().s[482]++;this.config.database.destroy('_Installation',delQuery).catch(err=>{cov_2dp9rvnwbz().f[94]++;cov_2dp9rvnwbz().s[483]++;if(err.code==Parse.Error.OBJECT_NOT_FOUND){cov_2dp9rvnwbz().b[212][0]++;cov_2dp9rvnwbz().s[484]++;// no deletions were made. Can be ignored.
return;}else{cov_2dp9rvnwbz().b[212][1]++;}// rethrow the error
cov_2dp9rvnwbz().s[485]++;throw err;});}else{cov_2dp9rvnwbz().b[206][1]++;}// In non-merge scenarios, just return the installation match id
cov_2dp9rvnwbz().s[486]++;return idMatch.objectId;}}}).then(objId=>{cov_2dp9rvnwbz().f[95]++;cov_2dp9rvnwbz().s[487]++;if(objId){cov_2dp9rvnwbz().b[213][0]++;cov_2dp9rvnwbz().s[488]++;this.query={objectId:objId};cov_2dp9rvnwbz().s[489]++;delete this.data.objectId;cov_2dp9rvnwbz().s[490]++;delete this.data.createdAt;}else{cov_2dp9rvnwbz().b[213][1]++;}// TODO: Validate ops (add/remove on channels, $inc on badge, etc.)
});cov_2dp9rvnwbz().s[491]++;return promise;};// If we short-circuited the object response - then we need to make sure we expand all the files,
// since this might not have a query, meaning it won't return the full result back.
// TODO: (nlutsenko) This should die when we move to per-class based controllers on _Session/_User
cov_2dp9rvnwbz().s[492]++;RestWrite.prototype.expandFilesForExistingObjects=function(){cov_2dp9rvnwbz().f[96]++;cov_2dp9rvnwbz().s[493]++;// Check whether we have a short-circuited response - only then run expansion.
if((cov_2dp9rvnwbz().b[215][0]++,this.response)&&(cov_2dp9rvnwbz().b[215][1]++,this.response.response)){cov_2dp9rvnwbz().b[214][0]++;cov_2dp9rvnwbz().s[494]++;this.config.filesController.expandFilesInObject(this.config,this.response.response);}else{cov_2dp9rvnwbz().b[214][1]++;}};cov_2dp9rvnwbz().s[495]++;RestWrite.prototype.runDatabaseOperation=function(){cov_2dp9rvnwbz().f[97]++;cov_2dp9rvnwbz().s[496]++;if(this.response){cov_2dp9rvnwbz().b[216][0]++;cov_2dp9rvnwbz().s[497]++;return;}else{cov_2dp9rvnwbz().b[216][1]++;}cov_2dp9rvnwbz().s[498]++;if(this.className==='_Role'){cov_2dp9rvnwbz().b[217][0]++;cov_2dp9rvnwbz().s[499]++;this.config.cacheController.role.clear();}else{cov_2dp9rvnwbz().b[217][1]++;}cov_2dp9rvnwbz().s[500]++;if((cov_2dp9rvnwbz().b[219][0]++,this.className==='_User')&&(cov_2dp9rvnwbz().b[219][1]++,this.query)&&(cov_2dp9rvnwbz().b[219][2]++,this.auth.isUnauthenticated())){cov_2dp9rvnwbz().b[218][0]++;cov_2dp9rvnwbz().s[501]++;throw new Parse.Error(Parse.Error.SESSION_MISSING,`Cannot modify user ${this.query.objectId}.`);}else{cov_2dp9rvnwbz().b[218][1]++;}cov_2dp9rvnwbz().s[502]++;if((cov_2dp9rvnwbz().b[221][0]++,this.className==='_Product')&&(cov_2dp9rvnwbz().b[221][1]++,this.data.download)){cov_2dp9rvnwbz().b[220][0]++;cov_2dp9rvnwbz().s[503]++;this.data.downloadName=this.data.download.name;}else{cov_2dp9rvnwbz().b[220][1]++;}// TODO: Add better detection for ACL, ensuring a user can't be locked from
//       their own user record.
cov_2dp9rvnwbz().s[504]++;if((cov_2dp9rvnwbz().b[223][0]++,this.data.ACL)&&(cov_2dp9rvnwbz().b[223][1]++,this.data.ACL['*unresolved'])){cov_2dp9rvnwbz().b[222][0]++;cov_2dp9rvnwbz().s[505]++;throw new Parse.Error(Parse.Error.INVALID_ACL,'Invalid ACL.');}else{cov_2dp9rvnwbz().b[222][1]++;}cov_2dp9rvnwbz().s[506]++;if(this.query){cov_2dp9rvnwbz().b[224][0]++;cov_2dp9rvnwbz().s[507]++;// Force the user to not lockout
// Matched with parse.com
if((cov_2dp9rvnwbz().b[226][0]++,this.className==='_User')&&(cov_2dp9rvnwbz().b[226][1]++,this.data.ACL)&&(cov_2dp9rvnwbz().b[226][2]++,this.auth.isMaster!==true)){cov_2dp9rvnwbz().b[225][0]++;cov_2dp9rvnwbz().s[508]++;this.data.ACL[this.query.objectId]={read:true,write:true};}else{cov_2dp9rvnwbz().b[225][1]++;}// update password timestamp if user password is being changed
cov_2dp9rvnwbz().s[509]++;if((cov_2dp9rvnwbz().b[228][0]++,this.className==='_User')&&(cov_2dp9rvnwbz().b[228][1]++,this.data._hashed_password)&&(cov_2dp9rvnwbz().b[228][2]++,this.config.passwordPolicy)&&(cov_2dp9rvnwbz().b[228][3]++,this.config.passwordPolicy.maxPasswordAge)){cov_2dp9rvnwbz().b[227][0]++;cov_2dp9rvnwbz().s[510]++;this.data._password_changed_at=Parse._encode(new Date());}else{cov_2dp9rvnwbz().b[227][1]++;}// Ignore createdAt when update
cov_2dp9rvnwbz().s[511]++;delete this.data.createdAt;let defer=(cov_2dp9rvnwbz().s[512]++,Promise.resolve());// if password history is enabled then save the current password to history
cov_2dp9rvnwbz().s[513]++;if((cov_2dp9rvnwbz().b[230][0]++,this.className==='_User')&&(cov_2dp9rvnwbz().b[230][1]++,this.data._hashed_password)&&(cov_2dp9rvnwbz().b[230][2]++,this.config.passwordPolicy)&&(cov_2dp9rvnwbz().b[230][3]++,this.config.passwordPolicy.maxPasswordHistory)){cov_2dp9rvnwbz().b[229][0]++;cov_2dp9rvnwbz().s[514]++;defer=this.config.database.find('_User',{objectId:this.objectId()},{keys:['_password_history','_hashed_password']}).then(results=>{cov_2dp9rvnwbz().f[98]++;cov_2dp9rvnwbz().s[515]++;if(results.length!=1){cov_2dp9rvnwbz().b[231][0]++;cov_2dp9rvnwbz().s[516]++;throw undefined;}else{cov_2dp9rvnwbz().b[231][1]++;}const user=(cov_2dp9rvnwbz().s[517]++,results[0]);let oldPasswords=(cov_2dp9rvnwbz().s[518]++,[]);cov_2dp9rvnwbz().s[519]++;if(user._password_history){cov_2dp9rvnwbz().b[232][0]++;cov_2dp9rvnwbz().s[520]++;oldPasswords=_lodash.default.take(user._password_history,this.config.passwordPolicy.maxPasswordHistory);}else{cov_2dp9rvnwbz().b[232][1]++;}//n-1 passwords go into history including last password
cov_2dp9rvnwbz().s[521]++;while(oldPasswords.length>Math.max(0,this.config.passwordPolicy.maxPasswordHistory-2)){cov_2dp9rvnwbz().s[522]++;oldPasswords.shift();}cov_2dp9rvnwbz().s[523]++;oldPasswords.push(user.password);cov_2dp9rvnwbz().s[524]++;this.data._password_history=oldPasswords;});}else{cov_2dp9rvnwbz().b[229][1]++;}cov_2dp9rvnwbz().s[525]++;return defer.then(()=>{cov_2dp9rvnwbz().f[99]++;cov_2dp9rvnwbz().s[526]++;// Run an update
return this.config.database.update(this.className,this.query,this.data,this.runOptions,false,false,this.validSchemaController).then(response=>{cov_2dp9rvnwbz().f[100]++;cov_2dp9rvnwbz().s[527]++;response.updatedAt=this.updatedAt;cov_2dp9rvnwbz().s[528]++;this._updateResponseWithData(response,this.data);cov_2dp9rvnwbz().s[529]++;this.response={response};});});}else{cov_2dp9rvnwbz().b[224][1]++;cov_2dp9rvnwbz().s[530]++;// Set the default ACL and password timestamp for the new _User
if(this.className==='_User'){cov_2dp9rvnwbz().b[233][0]++;var ACL=(cov_2dp9rvnwbz().s[531]++,this.data.ACL);// default public r/w ACL
cov_2dp9rvnwbz().s[532]++;if(!ACL){cov_2dp9rvnwbz().b[234][0]++;cov_2dp9rvnwbz().s[533]++;ACL={};cov_2dp9rvnwbz().s[534]++;if(!this.config.enforcePrivateUsers){cov_2dp9rvnwbz().b[235][0]++;cov_2dp9rvnwbz().s[535]++;ACL['*']={read:true,write:false};}else{cov_2dp9rvnwbz().b[235][1]++;}}else{cov_2dp9rvnwbz().b[234][1]++;}// make sure the user is not locked down
cov_2dp9rvnwbz().s[536]++;ACL[this.data.objectId]={read:true,write:true};cov_2dp9rvnwbz().s[537]++;this.data.ACL=ACL;// password timestamp to be used when password expiry policy is enforced
cov_2dp9rvnwbz().s[538]++;if((cov_2dp9rvnwbz().b[237][0]++,this.config.passwordPolicy)&&(cov_2dp9rvnwbz().b[237][1]++,this.config.passwordPolicy.maxPasswordAge)){cov_2dp9rvnwbz().b[236][0]++;cov_2dp9rvnwbz().s[539]++;this.data._password_changed_at=Parse._encode(new Date());}else{cov_2dp9rvnwbz().b[236][1]++;}}else{cov_2dp9rvnwbz().b[233][1]++;}// Run a create
cov_2dp9rvnwbz().s[540]++;return this.config.database.create(this.className,this.data,this.runOptions,false,this.validSchemaController).catch(error=>{cov_2dp9rvnwbz().f[101]++;cov_2dp9rvnwbz().s[541]++;if((cov_2dp9rvnwbz().b[239][0]++,this.className!=='_User')||(cov_2dp9rvnwbz().b[239][1]++,error.code!==Parse.Error.DUPLICATE_VALUE)){cov_2dp9rvnwbz().b[238][0]++;cov_2dp9rvnwbz().s[542]++;throw error;}else{cov_2dp9rvnwbz().b[238][1]++;}// Quick check, if we were able to infer the duplicated field name
cov_2dp9rvnwbz().s[543]++;if((cov_2dp9rvnwbz().b[241][0]++,error)&&(cov_2dp9rvnwbz().b[241][1]++,error.userInfo)&&(cov_2dp9rvnwbz().b[241][2]++,error.userInfo.duplicated_field==='username')){cov_2dp9rvnwbz().b[240][0]++;cov_2dp9rvnwbz().s[544]++;throw new Parse.Error(Parse.Error.USERNAME_TAKEN,'Account already exists for this username.');}else{cov_2dp9rvnwbz().b[240][1]++;}cov_2dp9rvnwbz().s[545]++;if((cov_2dp9rvnwbz().b[243][0]++,error)&&(cov_2dp9rvnwbz().b[243][1]++,error.userInfo)&&(cov_2dp9rvnwbz().b[243][2]++,error.userInfo.duplicated_field==='email')){cov_2dp9rvnwbz().b[242][0]++;cov_2dp9rvnwbz().s[546]++;throw new Parse.Error(Parse.Error.EMAIL_TAKEN,'Account already exists for this email address.');}else{cov_2dp9rvnwbz().b[242][1]++;}// If this was a failed user creation due to username or email already taken, we need to
// check whether it was username or email and return the appropriate error.
// Fallback to the original method
// TODO: See if we can later do this without additional queries by using named indexes.
cov_2dp9rvnwbz().s[547]++;return this.config.database.find(this.className,{username:this.data.username,objectId:{$ne:this.objectId()}},{limit:1}).then(results=>{cov_2dp9rvnwbz().f[102]++;cov_2dp9rvnwbz().s[548]++;if(results.length>0){cov_2dp9rvnwbz().b[244][0]++;cov_2dp9rvnwbz().s[549]++;throw new Parse.Error(Parse.Error.USERNAME_TAKEN,'Account already exists for this username.');}else{cov_2dp9rvnwbz().b[244][1]++;}cov_2dp9rvnwbz().s[550]++;return this.config.database.find(this.className,{email:this.data.email,objectId:{$ne:this.objectId()}},{limit:1});}).then(results=>{cov_2dp9rvnwbz().f[103]++;cov_2dp9rvnwbz().s[551]++;if(results.length>0){cov_2dp9rvnwbz().b[245][0]++;cov_2dp9rvnwbz().s[552]++;throw new Parse.Error(Parse.Error.EMAIL_TAKEN,'Account already exists for this email address.');}else{cov_2dp9rvnwbz().b[245][1]++;}cov_2dp9rvnwbz().s[553]++;throw new Parse.Error(Parse.Error.DUPLICATE_VALUE,'A duplicate value for a field with unique values was provided');});}).then(response=>{cov_2dp9rvnwbz().f[104]++;cov_2dp9rvnwbz().s[554]++;response.objectId=this.data.objectId;cov_2dp9rvnwbz().s[555]++;response.createdAt=this.data.createdAt;cov_2dp9rvnwbz().s[556]++;if(this.responseShouldHaveUsername){cov_2dp9rvnwbz().b[246][0]++;cov_2dp9rvnwbz().s[557]++;response.username=this.data.username;}else{cov_2dp9rvnwbz().b[246][1]++;}cov_2dp9rvnwbz().s[558]++;this._updateResponseWithData(response,this.data);cov_2dp9rvnwbz().s[559]++;this.response={status:201,response,location:this.location()};});}};// Returns nothing - doesn't wait for the trigger.
cov_2dp9rvnwbz().s[560]++;RestWrite.prototype.runAfterSaveTrigger=function(){cov_2dp9rvnwbz().f[105]++;cov_2dp9rvnwbz().s[561]++;if((cov_2dp9rvnwbz().b[248][0]++,!this.response)||(cov_2dp9rvnwbz().b[248][1]++,!this.response.response)){cov_2dp9rvnwbz().b[247][0]++;cov_2dp9rvnwbz().s[562]++;return;}else{cov_2dp9rvnwbz().b[247][1]++;}// Avoid doing any setup for triggers if there is no 'afterSave' trigger for this class.
const hasAfterSaveHook=(cov_2dp9rvnwbz().s[563]++,triggers.triggerExists(this.className,triggers.Types.afterSave,this.config.applicationId));const hasLiveQuery=(cov_2dp9rvnwbz().s[564]++,this.config.liveQueryController.hasLiveQuery(this.className));cov_2dp9rvnwbz().s[565]++;if((cov_2dp9rvnwbz().b[250][0]++,!hasAfterSaveHook)&&(cov_2dp9rvnwbz().b[250][1]++,!hasLiveQuery)){cov_2dp9rvnwbz().b[249][0]++;cov_2dp9rvnwbz().s[566]++;return Promise.resolve();}else{cov_2dp9rvnwbz().b[249][1]++;}var extraData=(cov_2dp9rvnwbz().s[567]++,{className:this.className});cov_2dp9rvnwbz().s[568]++;if((cov_2dp9rvnwbz().b[252][0]++,this.query)&&(cov_2dp9rvnwbz().b[252][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[251][0]++;cov_2dp9rvnwbz().s[569]++;extraData.objectId=this.query.objectId;}else{cov_2dp9rvnwbz().b[251][1]++;}// Build the original object, we only do this for a update write.
let originalObject;cov_2dp9rvnwbz().s[570]++;if((cov_2dp9rvnwbz().b[254][0]++,this.query)&&(cov_2dp9rvnwbz().b[254][1]++,this.query.objectId)){cov_2dp9rvnwbz().b[253][0]++;cov_2dp9rvnwbz().s[571]++;originalObject=triggers.inflate(extraData,this.originalData);}else{cov_2dp9rvnwbz().b[253][1]++;}// Build the inflated object, different from beforeSave, originalData is not empty
// since developers can change data in the beforeSave.
const updatedObject=(cov_2dp9rvnwbz().s[572]++,this.buildUpdatedObject(extraData));cov_2dp9rvnwbz().s[573]++;updatedObject._handleSaveResponse(this.response.response,(cov_2dp9rvnwbz().b[255][0]++,this.response.status)||(cov_2dp9rvnwbz().b[255][1]++,200));cov_2dp9rvnwbz().s[574]++;this.config.database.loadSchema().then(schemaController=>{cov_2dp9rvnwbz().f[106]++;// Notifiy LiveQueryServer if possible
const perms=(cov_2dp9rvnwbz().s[575]++,schemaController.getClassLevelPermissions(updatedObject.className));cov_2dp9rvnwbz().s[576]++;this.config.liveQueryController.onAfterSave(updatedObject.className,updatedObject,originalObject,perms);});// Run afterSave trigger
cov_2dp9rvnwbz().s[577]++;return triggers.maybeRunTrigger(triggers.Types.afterSave,this.auth,updatedObject,originalObject,this.config,this.context).then(result=>{cov_2dp9rvnwbz().f[107]++;cov_2dp9rvnwbz().s[578]++;if((cov_2dp9rvnwbz().b[257][0]++,result)&&(cov_2dp9rvnwbz().b[257][1]++,typeof result==='object')){cov_2dp9rvnwbz().b[256][0]++;cov_2dp9rvnwbz().s[579]++;this.response.response=result;}else{cov_2dp9rvnwbz().b[256][1]++;}}).catch(function(err){cov_2dp9rvnwbz().f[108]++;cov_2dp9rvnwbz().s[580]++;_logger.default.warn('afterSave caught an error',err);});};// A helper to figure out what location this operation happens at.
cov_2dp9rvnwbz().s[581]++;RestWrite.prototype.location=function(){cov_2dp9rvnwbz().f[109]++;var middle=(cov_2dp9rvnwbz().s[582]++,this.className==='_User'?(cov_2dp9rvnwbz().b[258][0]++,'/users/'):(cov_2dp9rvnwbz().b[258][1]++,'/classes/'+this.className+'/'));const mount=(cov_2dp9rvnwbz().s[583]++,(cov_2dp9rvnwbz().b[259][0]++,this.config.mount)||(cov_2dp9rvnwbz().b[259][1]++,this.config.serverURL));cov_2dp9rvnwbz().s[584]++;return mount+middle+this.data.objectId;};// A helper to get the object id for this operation.
// Because it could be either on the query or on the data
cov_2dp9rvnwbz().s[585]++;RestWrite.prototype.objectId=function(){cov_2dp9rvnwbz().f[110]++;cov_2dp9rvnwbz().s[586]++;return(cov_2dp9rvnwbz().b[260][0]++,this.data.objectId)||(cov_2dp9rvnwbz().b[260][1]++,this.query.objectId);};// Returns a copy of the data and delete bad keys (_auth_data, _hashed_password...)
cov_2dp9rvnwbz().s[587]++;RestWrite.prototype.sanitizedData=function(){cov_2dp9rvnwbz().f[111]++;const data=(cov_2dp9rvnwbz().s[588]++,Object.keys(this.data).reduce((data,key)=>{cov_2dp9rvnwbz().f[112]++;cov_2dp9rvnwbz().s[589]++;// Regexp comes from Parse.Object.prototype.validate
if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(key)){cov_2dp9rvnwbz().b[261][0]++;cov_2dp9rvnwbz().s[590]++;delete data[key];}else{cov_2dp9rvnwbz().b[261][1]++;}cov_2dp9rvnwbz().s[591]++;return data;},deepcopy(this.data)));cov_2dp9rvnwbz().s[592]++;return Parse._decode(undefined,data);};// Returns an updated copy of the object
cov_2dp9rvnwbz().s[593]++;RestWrite.prototype.buildUpdatedObject=function(extraData){cov_2dp9rvnwbz().f[113]++;const className=(cov_2dp9rvnwbz().s[594]++,Parse.Object.fromJSON(extraData));const readOnlyAttributes=(cov_2dp9rvnwbz().s[595]++,className.constructor.readOnlyAttributes?(cov_2dp9rvnwbz().b[262][0]++,className.constructor.readOnlyAttributes()):(cov_2dp9rvnwbz().b[262][1]++,[]));cov_2dp9rvnwbz().s[596]++;if(!this.originalData){cov_2dp9rvnwbz().b[263][0]++;cov_2dp9rvnwbz().s[597]++;for(const attribute of readOnlyAttributes){cov_2dp9rvnwbz().s[598]++;extraData[attribute]=this.data[attribute];}}else{cov_2dp9rvnwbz().b[263][1]++;}const updatedObject=(cov_2dp9rvnwbz().s[599]++,triggers.inflate(extraData,this.originalData));cov_2dp9rvnwbz().s[600]++;Object.keys(this.data).reduce(function(data,key){cov_2dp9rvnwbz().f[114]++;cov_2dp9rvnwbz().s[601]++;if(key.indexOf('.')>0){cov_2dp9rvnwbz().b[264][0]++;cov_2dp9rvnwbz().s[602]++;if(typeof data[key].__op==='string'){cov_2dp9rvnwbz().b[265][0]++;cov_2dp9rvnwbz().s[603]++;if(!readOnlyAttributes.includes(key)){cov_2dp9rvnwbz().b[266][0]++;cov_2dp9rvnwbz().s[604]++;updatedObject.set(key,data[key]);}else{cov_2dp9rvnwbz().b[266][1]++;}}else{cov_2dp9rvnwbz().b[265][1]++;// subdocument key with dot notation { 'x.y': v } => { 'x': { 'y' : v } })
const splittedKey=(cov_2dp9rvnwbz().s[605]++,key.split('.'));const parentProp=(cov_2dp9rvnwbz().s[606]++,splittedKey[0]);let parentVal=(cov_2dp9rvnwbz().s[607]++,updatedObject.get(parentProp));cov_2dp9rvnwbz().s[608]++;if(typeof parentVal!=='object'){cov_2dp9rvnwbz().b[267][0]++;cov_2dp9rvnwbz().s[609]++;parentVal={};}else{cov_2dp9rvnwbz().b[267][1]++;}cov_2dp9rvnwbz().s[610]++;parentVal[splittedKey[1]]=data[key];cov_2dp9rvnwbz().s[611]++;updatedObject.set(parentProp,parentVal);}cov_2dp9rvnwbz().s[612]++;delete data[key];}else{cov_2dp9rvnwbz().b[264][1]++;}cov_2dp9rvnwbz().s[613]++;return data;},deepcopy(this.data));const sanitized=(cov_2dp9rvnwbz().s[614]++,this.sanitizedData());cov_2dp9rvnwbz().s[615]++;for(const attribute of readOnlyAttributes){cov_2dp9rvnwbz().s[616]++;delete sanitized[attribute];}cov_2dp9rvnwbz().s[617]++;updatedObject.set(sanitized);cov_2dp9rvnwbz().s[618]++;return updatedObject;};cov_2dp9rvnwbz().s[619]++;RestWrite.prototype.cleanUserAuthData=function(){cov_2dp9rvnwbz().f[115]++;cov_2dp9rvnwbz().s[620]++;if((cov_2dp9rvnwbz().b[269][0]++,this.response)&&(cov_2dp9rvnwbz().b[269][1]++,this.response.response)&&(cov_2dp9rvnwbz().b[269][2]++,this.className==='_User')){cov_2dp9rvnwbz().b[268][0]++;const user=(cov_2dp9rvnwbz().s[621]++,this.response.response);cov_2dp9rvnwbz().s[622]++;if(user.authData){cov_2dp9rvnwbz().b[270][0]++;cov_2dp9rvnwbz().s[623]++;Object.keys(user.authData).forEach(provider=>{cov_2dp9rvnwbz().f[116]++;cov_2dp9rvnwbz().s[624]++;if(user.authData[provider]===null){cov_2dp9rvnwbz().b[271][0]++;cov_2dp9rvnwbz().s[625]++;delete user.authData[provider];}else{cov_2dp9rvnwbz().b[271][1]++;}});cov_2dp9rvnwbz().s[626]++;if(Object.keys(user.authData).length==0){cov_2dp9rvnwbz().b[272][0]++;cov_2dp9rvnwbz().s[627]++;delete user.authData;}else{cov_2dp9rvnwbz().b[272][1]++;}}else{cov_2dp9rvnwbz().b[270][1]++;}}else{cov_2dp9rvnwbz().b[268][1]++;}};cov_2dp9rvnwbz().s[628]++;RestWrite.prototype._updateResponseWithData=function(response,data){cov_2dp9rvnwbz().f[117]++;cov_2dp9rvnwbz().s[629]++;if(_lodash.default.isEmpty(this.storage.fieldsChangedByTrigger)){cov_2dp9rvnwbz().b[273][0]++;cov_2dp9rvnwbz().s[630]++;return response;}else{cov_2dp9rvnwbz().b[273][1]++;}const clientSupportsDelete=(cov_2dp9rvnwbz().s[631]++,ClientSDK.supportsForwardDelete(this.clientSDK));cov_2dp9rvnwbz().s[632]++;this.storage.fieldsChangedByTrigger.forEach(fieldName=>{cov_2dp9rvnwbz().f[118]++;const dataValue=(cov_2dp9rvnwbz().s[633]++,data[fieldName]);cov_2dp9rvnwbz().s[634]++;if(!Object.prototype.hasOwnProperty.call(response,fieldName)){cov_2dp9rvnwbz().b[274][0]++;cov_2dp9rvnwbz().s[635]++;response[fieldName]=dataValue;}else{cov_2dp9rvnwbz().b[274][1]++;}// Strips operations from responses
cov_2dp9rvnwbz().s[636]++;if((cov_2dp9rvnwbz().b[276][0]++,response[fieldName])&&(cov_2dp9rvnwbz().b[276][1]++,response[fieldName].__op)){cov_2dp9rvnwbz().b[275][0]++;cov_2dp9rvnwbz().s[637]++;delete response[fieldName];cov_2dp9rvnwbz().s[638]++;if((cov_2dp9rvnwbz().b[278][0]++,clientSupportsDelete)&&(cov_2dp9rvnwbz().b[278][1]++,dataValue.__op=='Delete')){cov_2dp9rvnwbz().b[277][0]++;cov_2dp9rvnwbz().s[639]++;response[fieldName]=dataValue;}else{cov_2dp9rvnwbz().b[277][1]++;}}else{cov_2dp9rvnwbz().b[275][1]++;}});cov_2dp9rvnwbz().s[640]++;return response;};var _default=(cov_2dp9rvnwbz().s[641]++,RestWrite);cov_2dp9rvnwbz().s[642]++;exports.default=_default;cov_2dp9rvnwbz().s[643]++;module.exports=RestWrite;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9SZXN0V3JpdGUuanMiXSwibmFtZXMiOlsiU2NoZW1hQ29udHJvbGxlciIsInJlcXVpcmUiLCJkZWVwY29weSIsIkF1dGgiLCJjcnlwdG9VdGlscyIsInBhc3N3b3JkQ3J5cHRvIiwiUGFyc2UiLCJ0cmlnZ2VycyIsIkNsaWVudFNESyIsIlJlc3RXcml0ZSIsImNvbmZpZyIsImF1dGgiLCJjbGFzc05hbWUiLCJxdWVyeSIsImRhdGEiLCJvcmlnaW5hbERhdGEiLCJjbGllbnRTREsiLCJjb250ZXh0IiwiYWN0aW9uIiwiaXNSZWFkT25seSIsIkVycm9yIiwiT1BFUkFUSU9OX0ZPUkJJRERFTiIsInN0b3JhZ2UiLCJydW5PcHRpb25zIiwiYWxsb3dDdXN0b21PYmplY3RJZCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm9iamVjdElkIiwiTUlTU0lOR19PQkpFQ1RfSUQiLCJJTlZBTElEX0tFWV9OQU1FIiwiaWQiLCJyZXNwb25zZSIsInVwZGF0ZWRBdCIsIl9lbmNvZGUiLCJEYXRlIiwiaXNvIiwidmFsaWRTY2hlbWFDb250cm9sbGVyIiwiZXhlY3V0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImdldFVzZXJBbmRSb2xlQUNMIiwidmFsaWRhdGVDbGllbnRDbGFzc0NyZWF0aW9uIiwiaGFuZGxlSW5zdGFsbGF0aW9uIiwiaGFuZGxlU2Vzc2lvbiIsInZhbGlkYXRlQXV0aERhdGEiLCJydW5CZWZvcmVTYXZlVHJpZ2dlciIsImRlbGV0ZUVtYWlsUmVzZXRUb2tlbklmTmVlZGVkIiwidmFsaWRhdGVTY2hlbWEiLCJzY2hlbWFDb250cm9sbGVyIiwic2V0UmVxdWlyZWRGaWVsZHNJZk5lZWRlZCIsInRyYW5zZm9ybVVzZXIiLCJleHBhbmRGaWxlc0ZvckV4aXN0aW5nT2JqZWN0cyIsImRlc3Ryb3lEdXBsaWNhdGVkU2Vzc2lvbnMiLCJydW5EYXRhYmFzZU9wZXJhdGlvbiIsImNyZWF0ZVNlc3Npb25Ub2tlbklmTmVlZGVkIiwiaGFuZGxlRm9sbG93dXAiLCJydW5BZnRlclNhdmVUcmlnZ2VyIiwiY2xlYW5Vc2VyQXV0aERhdGEiLCJpc01hc3RlciIsImFjbCIsInVzZXIiLCJnZXRVc2VyUm9sZXMiLCJyb2xlcyIsImNvbmNhdCIsImFsbG93Q2xpZW50Q2xhc3NDcmVhdGlvbiIsInN5c3RlbUNsYXNzZXMiLCJpbmRleE9mIiwiZGF0YWJhc2UiLCJsb2FkU2NoZW1hIiwiaGFzQ2xhc3MiLCJ2YWxpZGF0ZU9iamVjdCIsInRyaWdnZXJFeGlzdHMiLCJUeXBlcyIsImJlZm9yZVNhdmUiLCJhcHBsaWNhdGlvbklkIiwiZXh0cmFEYXRhIiwib3JpZ2luYWxPYmplY3QiLCJ1cGRhdGVkT2JqZWN0IiwiYnVpbGRVcGRhdGVkT2JqZWN0IiwiaW5mbGF0ZSIsImRhdGFiYXNlUHJvbWlzZSIsInVwZGF0ZSIsImNyZWF0ZSIsInJlc3VsdCIsImxlbmd0aCIsIk9CSkVDVF9OT1RfRk9VTkQiLCJtYXliZVJ1blRyaWdnZXIiLCJvYmplY3QiLCJmaWVsZHNDaGFuZ2VkQnlUcmlnZ2VyIiwiXyIsInJlZHVjZSIsInZhbHVlIiwia2V5IiwiaXNFcXVhbCIsInB1c2giLCJydW5CZWZvcmVMb2dpblRyaWdnZXIiLCJ1c2VyRGF0YSIsImJlZm9yZUxvZ2luIiwiZmlsZXNDb250cm9sbGVyIiwiZXhwYW5kRmlsZXNJbk9iamVjdCIsImdldEFsbENsYXNzZXMiLCJhbGxDbGFzc2VzIiwic2NoZW1hIiwiZmluZCIsIm9uZUNsYXNzIiwic2V0UmVxdWlyZWRGaWVsZElmTmVlZGVkIiwiZmllbGROYW1lIiwic2V0RGVmYXVsdCIsInVuZGVmaW5lZCIsIl9fb3AiLCJmaWVsZHMiLCJkZWZhdWx0VmFsdWUiLCJyZXF1aXJlZCIsIlZBTElEQVRJT05fRVJST1IiLCJjcmVhdGVkQXQiLCJuZXdPYmplY3RJZCIsIm9iamVjdElkU2l6ZSIsImtleXMiLCJmb3JFYWNoIiwiYXV0aERhdGEiLCJ1c2VybmFtZSIsImlzRW1wdHkiLCJVU0VSTkFNRV9NSVNTSU5HIiwicGFzc3dvcmQiLCJQQVNTV09SRF9NSVNTSU5HIiwiVU5TVVBQT1JURURfU0VSVklDRSIsInByb3ZpZGVycyIsImNhbkhhbmRsZUF1dGhEYXRhIiwiY2FuSGFuZGxlIiwicHJvdmlkZXIiLCJwcm92aWRlckF1dGhEYXRhIiwiaGFzVG9rZW4iLCJoYW5kbGVBdXRoRGF0YSIsImhhbmRsZUF1dGhEYXRhVmFsaWRhdGlvbiIsInZhbGlkYXRpb25zIiwibWFwIiwiYXV0aERhdGFNYW5hZ2VyIiwiZ2V0VmFsaWRhdG9yRm9yUHJvdmlkZXIiLCJhbGwiLCJmaW5kVXNlcnNXaXRoQXV0aERhdGEiLCJtZW1vIiwicXVlcnlLZXkiLCJmaWx0ZXIiLCJxIiwiZmluZFByb21pc2UiLCIkb3IiLCJmaWx0ZXJlZE9iamVjdHNCeUFDTCIsIm9iamVjdHMiLCJBQ0wiLCJyZXN1bHRzIiwiciIsImpvaW4iLCJ1c2VyUmVzdWx0IiwibXV0YXRlZEF1dGhEYXRhIiwicHJvdmlkZXJEYXRhIiwidXNlckF1dGhEYXRhIiwiaGFzTXV0YXRlZEF1dGhEYXRhIiwidXNlcklkIiwibG9jYXRpb24iLCJBQ0NPVU5UX0FMUkVBRFlfTElOS0VEIiwicHJvbWlzZSIsImVycm9yIiwiUmVzdFF1ZXJ5IiwibWFzdGVyIiwiX190eXBlIiwic2Vzc2lvbiIsImNhY2hlQ29udHJvbGxlciIsImRlbCIsInNlc3Npb25Ub2tlbiIsIl92YWxpZGF0ZVBhc3N3b3JkUG9saWN5IiwiaGFzaCIsImhhc2hlZFBhc3N3b3JkIiwiX2hhc2hlZF9wYXNzd29yZCIsIl92YWxpZGF0ZVVzZXJOYW1lIiwiX3ZhbGlkYXRlRW1haWwiLCJyYW5kb21TdHJpbmciLCJyZXNwb25zZVNob3VsZEhhdmVVc2VybmFtZSIsIiRuZSIsImxpbWl0IiwiY2FzZUluc2Vuc2l0aXZlIiwiVVNFUk5BTUVfVEFLRU4iLCJlbWFpbCIsIm1hdGNoIiwicmVqZWN0IiwiSU5WQUxJRF9FTUFJTF9BRERSRVNTIiwiRU1BSUxfVEFLRU4iLCJ1c2VyQ29udHJvbGxlciIsInNldEVtYWlsVmVyaWZ5VG9rZW4iLCJwYXNzd29yZFBvbGljeSIsIl92YWxpZGF0ZVBhc3N3b3JkUmVxdWlyZW1lbnRzIiwiX3ZhbGlkYXRlUGFzc3dvcmRIaXN0b3J5IiwicG9saWN5RXJyb3IiLCJ2YWxpZGF0aW9uRXJyb3IiLCJjb250YWluc1VzZXJuYW1lRXJyb3IiLCJwYXR0ZXJuVmFsaWRhdG9yIiwidmFsaWRhdG9yQ2FsbGJhY2siLCJkb05vdEFsbG93VXNlcm5hbWUiLCJtYXhQYXNzd29yZEhpc3RvcnkiLCJvbGRQYXNzd29yZHMiLCJfcGFzc3dvcmRfaGlzdG9yeSIsInRha2UiLCJuZXdQYXNzd29yZCIsInByb21pc2VzIiwiY29tcGFyZSIsImNhdGNoIiwiZXJyIiwicHJldmVudExvZ2luV2l0aFVudmVyaWZpZWRFbWFpbCIsInZlcmlmeVVzZXJFbWFpbHMiLCJjcmVhdGVTZXNzaW9uVG9rZW4iLCJpbnN0YWxsYXRpb25JZCIsInNlc3Npb25EYXRhIiwiY3JlYXRlU2Vzc2lvbiIsImNyZWF0ZWRXaXRoIiwiYXV0aFByb3ZpZGVyIiwiYWRkaXRpb25hbFNlc3Npb25EYXRhIiwidG9rZW4iLCJuZXdUb2tlbiIsImV4cGlyZXNBdCIsImdlbmVyYXRlU2Vzc2lvbkV4cGlyZXNBdCIsImFzc2lnbiIsImFkZE9wcyIsIl9wZXJpc2hhYmxlX3Rva2VuIiwiX3BlcmlzaGFibGVfdG9rZW5fZXhwaXJlc19hdCIsImRlc3Ryb3kiLCJyZXZva2VTZXNzaW9uT25QYXNzd29yZFJlc2V0Iiwic2Vzc2lvblF1ZXJ5IiwiYmluZCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsIklOVkFMSURfU0VTU0lPTl9UT0tFTiIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsInN0YXR1cyIsImRldmljZVRva2VuIiwidG9Mb3dlckNhc2UiLCJkZXZpY2VUeXBlIiwiaWRNYXRjaCIsIm9iamVjdElkTWF0Y2giLCJpbnN0YWxsYXRpb25JZE1hdGNoIiwiZGV2aWNlVG9rZW5NYXRjaGVzIiwib3JRdWVyaWVzIiwiZGVsUXVlcnkiLCJhcHBJZGVudGlmaWVyIiwiY29kZSIsIm9iaklkIiwicm9sZSIsImNsZWFyIiwiaXNVbmF1dGhlbnRpY2F0ZWQiLCJTRVNTSU9OX01JU1NJTkciLCJkb3dubG9hZCIsImRvd25sb2FkTmFtZSIsIm5hbWUiLCJJTlZBTElEX0FDTCIsInJlYWQiLCJ3cml0ZSIsIm1heFBhc3N3b3JkQWdlIiwiX3Bhc3N3b3JkX2NoYW5nZWRfYXQiLCJkZWZlciIsIk1hdGgiLCJtYXgiLCJzaGlmdCIsIl91cGRhdGVSZXNwb25zZVdpdGhEYXRhIiwiZW5mb3JjZVByaXZhdGVVc2VycyIsIkRVUExJQ0FURV9WQUxVRSIsInVzZXJJbmZvIiwiZHVwbGljYXRlZF9maWVsZCIsImhhc0FmdGVyU2F2ZUhvb2siLCJhZnRlclNhdmUiLCJoYXNMaXZlUXVlcnkiLCJsaXZlUXVlcnlDb250cm9sbGVyIiwiX2hhbmRsZVNhdmVSZXNwb25zZSIsInBlcm1zIiwiZ2V0Q2xhc3NMZXZlbFBlcm1pc3Npb25zIiwib25BZnRlclNhdmUiLCJsb2dnZXIiLCJ3YXJuIiwibWlkZGxlIiwibW91bnQiLCJzZXJ2ZXJVUkwiLCJzYW5pdGl6ZWREYXRhIiwidGVzdCIsIl9kZWNvZGUiLCJmcm9tSlNPTiIsInJlYWRPbmx5QXR0cmlidXRlcyIsImNvbnN0cnVjdG9yIiwiYXR0cmlidXRlIiwiaW5jbHVkZXMiLCJzZXQiLCJzcGxpdHRlZEtleSIsInNwbGl0IiwicGFyZW50UHJvcCIsInBhcmVudFZhbCIsImdldCIsInNhbml0aXplZCIsImNsaWVudFN1cHBvcnRzRGVsZXRlIiwic3VwcG9ydHNGb3J3YXJkRGVsZXRlIiwiZGF0YVZhbHVlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQWFBOztBQUNBOztBQUNBOzs7O0FBZkE7QUFDQTtBQUNBO0FBRUEsSUFBSUEsZ0JBQWdCLEdBQUdDLE9BQU8sQ0FBQyxnQ0FBRCxDQUE5Qjs7QUFDQSxJQUFJQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUVB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QW9CLEdBQUcvUixTQUFTLENBQUNnUyxxQkFBVixDQUFnQyxLQUFLeFIsU0FBckMsQ0FBN0I7QUFDQSxPQUFLTSxPQUFMLENBQWFxRSxzQkFBYixDQUFvQzhCLE9BQXBDLENBQTRDWixTQUFTLElBQUk7QUFDdkQsVUFBTTRMLFNBQVMsR0FBRzNSLElBQUksQ0FBQytGLFNBQUQsQ0FBdEI7O0FBRUEsUUFBSSxDQUFDcEYsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNLLFFBQXJDLEVBQStDNEUsU0FBL0MsQ0FBTCxFQUFnRTtBQUM5RDVFLE1BQUFBLFFBQVEsQ0FBQzRFLFNBQUQsQ0FBUixHQUFzQjRMLFNBQXRCO0FBQ0QsS0FMc0QsQ0FPdkQ7OztBQUNBLFFBQUl4USxRQUFRLENBQUM0RSxTQUFELENBQVIsSUFBdUI1RSxRQUFRLENBQUM0RSxTQUFELENBQVIsQ0FBb0JHLElBQS9DLEVBQXFEO0FBQ25ELGFBQU8vRSxRQUFRLENBQUM0RSxTQUFELENBQWY7O0FBQ0EsVUFBSTBMLG9CQUFvQixJQUFJRSxTQUFTLENBQUN6TCxJQUFWLElBQWtCLFFBQTlDLEVBQXdEO0FBQ3REL0UsUUFBQUEsUUFBUSxDQUFDNEUsU0FBRCxDQUFSLEdBQXNCNEwsU0FBdEI7QUFDRDtBQUNGO0FBQ0YsR0FkRDtBQWVBLFNBQU94USxRQUFQO0FBQ0QsQ0FyQkQ7O2VBdUJleEIsUzs7QUFDZmlTLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmxTLFNBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQSBSZXN0V3JpdGUgZW5jYXBzdWxhdGVzIGV2ZXJ5dGhpbmcgd2UgbmVlZCB0byBydW4gYW4gb3BlcmF0aW9uXG4vLyB0aGF0IHdyaXRlcyB0byB0aGUgZGF0YWJhc2UuXG4vLyBUaGlzIGNvdWxkIGJlIGVpdGhlciBhIFwiY3JlYXRlXCIgb3IgYW4gXCJ1cGRhdGVcIi5cblxudmFyIFNjaGVtYUNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL0NvbnRyb2xsZXJzL1NjaGVtYUNvbnRyb2xsZXInKTtcbnZhciBkZWVwY29weSA9IHJlcXVpcmUoJ2RlZXBjb3B5Jyk7XG5cbmNvbnN0IEF1dGggPSByZXF1aXJlKCcuL0F1dGgnKTtcbnZhciBjcnlwdG9VdGlscyA9IHJlcXVpcmUoJy4vY3J5cHRvVXRpbHMnKTtcbnZhciBwYXNzd29yZENyeXB0byA9IHJlcXVpcmUoJy4vcGFzc3dvcmQnKTtcbnZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlL25vZGUnKTtcbnZhciB0cmlnZ2VycyA9IHJlcXVpcmUoJy4vdHJpZ2dlcnMnKTtcbnZhciBDbGllbnRTREsgPSByZXF1aXJlKCcuL0NsaWVudFNESycpO1xuaW1wb3J0IFJlc3RRdWVyeSBmcm9tICcuL1Jlc3RRdWVyeSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5cbi8vIHF1ZXJ5IGFuZCBkYXRhIGFyZSBib3RoIHByb3ZpZGVkIGluIFJFU1QgQVBJIGZvcm1hdC4gU28gZGF0YVxuLy8gdHlwZXMgYXJlIGVuY29kZWQgYnkgcGxhaW4gb2xkIG9iamVjdHMuXG4vLyBJZiBxdWVyeSBpcyBudWxsLCB0aGlzIGlzIGEgXCJjcmVhdGVcIiBhbmQgdGhlIGRhdGEgaW4gZGF0YSBzaG91bGQgYmVcbi8vIGNyZWF0ZWQuXG4vLyBPdGhlcndpc2UgdGhpcyBpcyBhbiBcInVwZGF0ZVwiIC0gdGhlIG9iamVjdCBtYXRjaGluZyB0aGUgcXVlcnlcbi8vIHNob3VsZCBnZXQgdXBkYXRlZCB3aXRoIGRhdGEuXG4vLyBSZXN0V3JpdGUgd2lsbCBoYW5kbGUgb2JqZWN0SWQsIGNyZWF0ZWRBdCwgYW5kIHVwZGF0ZWRBdCBmb3Jcbi8vIGV2ZXJ5dGhpbmcuIEl0IGFsc28ga25vd3MgdG8gdXNlIHRyaWdnZXJzIGFuZCBzcGVjaWFsIG1vZGlmaWNhdGlvbnNcbi8vIGZvciB0aGUgX1VzZXIgY2xhc3MuXG5mdW5jdGlvbiBSZXN0V3JpdGUoY29uZmlnLCBhdXRoLCBjbGFzc05hbWUsIHF1ZXJ5LCBkYXRhLCBvcmlnaW5hbERhdGEsIGNsaWVudFNESywgY29udGV4dCwgYWN0aW9uKSB7XG4gIGlmIChhdXRoLmlzUmVhZE9ubHkpIHtcbiAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICBQYXJzZS5FcnJvci5PUEVSQVRJT05fRk9SQklEREVOLFxuICAgICAgJ0Nhbm5vdCBwZXJmb3JtIGEgd3JpdGUgb3BlcmF0aW9uIHdoZW4gdXNpbmcgcmVhZE9ubHlNYXN0ZXJLZXknXG4gICAgKTtcbiAgfVxuICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgdGhpcy5hdXRoID0gYXV0aDtcbiAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gIHRoaXMuY2xpZW50U0RLID0gY2xpZW50U0RLO1xuICB0aGlzLnN0b3JhZ2UgPSB7fTtcbiAgdGhpcy5ydW5PcHRpb25zID0ge307XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge307XG5cbiAgaWYgKGFjdGlvbikge1xuICAgIHRoaXMucnVuT3B0aW9ucy5hY3Rpb24gPSBhY3Rpb247XG4gIH1cblxuICBpZiAoIXF1ZXJ5KSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLmFsbG93Q3VzdG9tT2JqZWN0SWQpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwgJ29iamVjdElkJykgJiYgIWRhdGEub2JqZWN0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgIFBhcnNlLkVycm9yLk1JU1NJTkdfT0JKRUNUX0lELFxuICAgICAgICAgICdvYmplY3RJZCBtdXN0IG5vdCBiZSBlbXB0eSwgbnVsbCBvciB1bmRlZmluZWQnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkYXRhLm9iamVjdElkKSB7XG4gICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FLCAnb2JqZWN0SWQgaXMgYW4gaW52YWxpZCBmaWVsZCBuYW1lLicpO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsICdpZCBpcyBhbiBpbnZhbGlkIGZpZWxkIG5hbWUuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gV2hlbiB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlLCB0aGlzLnJlc3BvbnNlIG1heSBoYXZlIHNldmVyYWxcbiAgLy8gZmllbGRzLlxuICAvLyByZXNwb25zZTogdGhlIGFjdHVhbCBkYXRhIHRvIGJlIHJldHVybmVkXG4gIC8vIHN0YXR1czogdGhlIGh0dHAgc3RhdHVzIGNvZGUuIGlmIG5vdCBwcmVzZW50LCB0cmVhdGVkIGxpa2UgYSAyMDBcbiAgLy8gbG9jYXRpb246IHRoZSBsb2NhdGlvbiBoZWFkZXIuIGlmIG5vdCBwcmVzZW50LCBubyBsb2NhdGlvbiBoZWFkZXJcbiAgdGhpcy5yZXNwb25zZSA9IG51bGw7XG5cbiAgLy8gUHJvY2Vzc2luZyB0aGlzIG9wZXJhdGlvbiBtYXkgbXV0YXRlIG91ciBkYXRhLCBzbyB3ZSBvcGVyYXRlIG9uIGFcbiAgLy8gY29weVxuICB0aGlzLnF1ZXJ5ID0gZGVlcGNvcHkocXVlcnkpO1xuICB0aGlzLmRhdGEgPSBkZWVwY29weShkYXRhKTtcbiAgLy8gV2UgbmV2ZXIgY2hhbmdlIG9yaWdpbmFsRGF0YSwgc28gd2UgZG8gbm90IG5lZWQgYSBkZWVwIGNvcHlcbiAgdGhpcy5vcmlnaW5hbERhdGEgPSBvcmlnaW5hbERhdGE7XG5cbiAgLy8gVGhlIHRpbWVzdGFtcCB3ZSdsbCB1c2UgZm9yIHRoaXMgd2hvbGUgb3BlcmF0aW9uXG4gIHRoaXMudXBkYXRlZEF0ID0gUGFyc2UuX2VuY29kZShuZXcgRGF0ZSgpKS5pc287XG5cbiAgLy8gU2hhcmVkIFNjaGVtYUNvbnRyb2xsZXIgdG8gYmUgcmV1c2VkIHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIGxvYWRTY2hlbWEoKSBjYWxscyBwZXIgcmVxdWVzdFxuICAvLyBPbmNlIHNldCB0aGUgc2NoZW1hRGF0YSBzaG91bGQgYmUgaW1tdXRhYmxlXG4gIHRoaXMudmFsaWRTY2hlbWFDb250cm9sbGVyID0gbnVsbDtcbn1cblxuLy8gQSBjb252ZW5pZW50IG1ldGhvZCB0byBwZXJmb3JtIGFsbCB0aGUgc3RlcHMgb2YgcHJvY2Vzc2luZyB0aGVcbi8vIHdyaXRlLCBpbiBvcmRlci5cbi8vIFJldHVybnMgYSBwcm9taXNlIGZvciBhIHtyZXNwb25zZSwgc3RhdHVzLCBsb2NhdGlvbn0gb2JqZWN0LlxuLy8gc3RhdHVzIGFuZCBsb2NhdGlvbiBhcmUgb3B0aW9uYWwuXG5SZXN0V3JpdGUucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmdldFVzZXJBbmRSb2xlQUNMKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUNsaWVudENsYXNzQ3JlYXRpb24oKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZUluc3RhbGxhdGlvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU2Vzc2lvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVBdXRoRGF0YSgpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucnVuQmVmb3JlU2F2ZVRyaWdnZXIoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUVtYWlsUmVzZXRUb2tlbklmTmVlZGVkKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNjaGVtYSgpO1xuICAgIH0pXG4gICAgLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiB7XG4gICAgICB0aGlzLnZhbGlkU2NoZW1hQ29udHJvbGxlciA9IHNjaGVtYUNvbnRyb2xsZXI7XG4gICAgICByZXR1cm4gdGhpcy5zZXRSZXF1aXJlZEZpZWxkc0lmTmVlZGVkKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Vc2VyKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5leHBhbmRGaWxlc0ZvckV4aXN0aW5nT2JqZWN0cygpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveUR1cGxpY2F0ZWRTZXNzaW9ucygpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucnVuRGF0YWJhc2VPcGVyYXRpb24oKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlc3Npb25Ub2tlbklmTmVlZGVkKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVGb2xsb3d1cCgpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucnVuQWZ0ZXJTYXZlVHJpZ2dlcigpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuY2xlYW5Vc2VyQXV0aERhdGEoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlO1xuICAgIH0pO1xufTtcblxuLy8gVXNlcyB0aGUgQXV0aCBvYmplY3QgdG8gZ2V0IHRoZSBsaXN0IG9mIHJvbGVzLCBhZGRzIHRoZSB1c2VyIGlkXG5SZXN0V3JpdGUucHJvdG90eXBlLmdldFVzZXJBbmRSb2xlQUNMID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5hdXRoLmlzTWFzdGVyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgdGhpcy5ydW5PcHRpb25zLmFjbCA9IFsnKiddO1xuXG4gIGlmICh0aGlzLmF1dGgudXNlcikge1xuICAgIHJldHVybiB0aGlzLmF1dGguZ2V0VXNlclJvbGVzKCkudGhlbihyb2xlcyA9PiB7XG4gICAgICB0aGlzLnJ1bk9wdGlvbnMuYWNsID0gdGhpcy5ydW5PcHRpb25zLmFjbC5jb25jYXQocm9sZXMsIFt0aGlzLmF1dGgudXNlci5pZF0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLy8gVmFsaWRhdGVzIHRoaXMgb3BlcmF0aW9uIGFnYWluc3QgdGhlIGFsbG93Q2xpZW50Q2xhc3NDcmVhdGlvbiBjb25maWcuXG5SZXN0V3JpdGUucHJvdG90eXBlLnZhbGlkYXRlQ2xpZW50Q2xhc3NDcmVhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKFxuICAgIHRoaXMuY29uZmlnLmFsbG93Q2xpZW50Q2xhc3NDcmVhdGlvbiA9PT0gZmFsc2UgJiZcbiAgICAhdGhpcy5hdXRoLmlzTWFzdGVyICYmXG4gICAgU2NoZW1hQ29udHJvbGxlci5zeXN0ZW1DbGFzc2VzLmluZGV4T2YodGhpcy5jbGFzc05hbWUpID09PSAtMVxuICApIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgIC5sb2FkU2NoZW1hKClcbiAgICAgIC50aGVuKHNjaGVtYUNvbnRyb2xsZXIgPT4gc2NoZW1hQ29udHJvbGxlci5oYXNDbGFzcyh0aGlzLmNsYXNzTmFtZSkpXG4gICAgICAudGhlbihoYXNDbGFzcyA9PiB7XG4gICAgICAgIGlmIChoYXNDbGFzcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihcbiAgICAgICAgICAgIFBhcnNlLkVycm9yLk9QRVJBVElPTl9GT1JCSURERU4sXG4gICAgICAgICAgICAnVGhpcyB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIGFjY2VzcyAnICsgJ25vbi1leGlzdGVudCBjbGFzczogJyArIHRoaXMuY2xhc3NOYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59O1xuXG4vLyBWYWxpZGF0ZXMgdGhpcyBvcGVyYXRpb24gYWdhaW5zdCB0aGUgc2NoZW1hLlxuUmVzdFdyaXRlLnByb3RvdHlwZS52YWxpZGF0ZVNjaGVtYSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlLnZhbGlkYXRlT2JqZWN0KFxuICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgIHRoaXMuZGF0YSxcbiAgICB0aGlzLnF1ZXJ5LFxuICAgIHRoaXMucnVuT3B0aW9uc1xuICApO1xufTtcblxuLy8gUnVucyBhbnkgYmVmb3JlU2F2ZSB0cmlnZ2VycyBhZ2FpbnN0IHRoaXMgb3BlcmF0aW9uLlxuLy8gQW55IGNoYW5nZSBsZWFkcyB0byBvdXIgZGF0YSBiZWluZyBtdXRhdGVkLlxuUmVzdFdyaXRlLnByb3RvdHlwZS5ydW5CZWZvcmVTYXZlVHJpZ2dlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBBdm9pZCBkb2luZyBhbnkgc2V0dXAgZm9yIHRyaWdnZXJzIGlmIHRoZXJlIGlzIG5vICdiZWZvcmVTYXZlJyB0cmlnZ2VyIGZvciB0aGlzIGNsYXNzLlxuICBpZiAoXG4gICAgIXRyaWdnZXJzLnRyaWdnZXJFeGlzdHModGhpcy5jbGFzc05hbWUsIHRyaWdnZXJzLlR5cGVzLmJlZm9yZVNhdmUsIHRoaXMuY29uZmlnLmFwcGxpY2F0aW9uSWQpXG4gICkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8vIENsb3VkIGNvZGUgZ2V0cyBhIGJpdCBvZiBleHRyYSBkYXRhIGZvciBpdHMgb2JqZWN0c1xuICB2YXIgZXh0cmFEYXRhID0geyBjbGFzc05hbWU6IHRoaXMuY2xhc3NOYW1lIH07XG4gIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMucXVlcnkub2JqZWN0SWQpIHtcbiAgICBleHRyYURhdGEub2JqZWN0SWQgPSB0aGlzLnF1ZXJ5Lm9iamVjdElkO1xuICB9XG5cbiAgbGV0IG9yaWdpbmFsT2JqZWN0ID0gbnVsbDtcbiAgY29uc3QgdXBkYXRlZE9iamVjdCA9IHRoaXMuYnVpbGRVcGRhdGVkT2JqZWN0KGV4dHJhRGF0YSk7XG4gIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMucXVlcnkub2JqZWN0SWQpIHtcbiAgICAvLyBUaGlzIGlzIGFuIHVwZGF0ZSBmb3IgZXhpc3Rpbmcgb2JqZWN0LlxuICAgIG9yaWdpbmFsT2JqZWN0ID0gdHJpZ2dlcnMuaW5mbGF0ZShleHRyYURhdGEsIHRoaXMub3JpZ2luYWxEYXRhKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIC8vIEJlZm9yZSBjYWxsaW5nIHRoZSB0cmlnZ2VyLCB2YWxpZGF0ZSB0aGUgcGVybWlzc2lvbnMgZm9yIHRoZSBzYXZlIG9wZXJhdGlvblxuICAgICAgbGV0IGRhdGFiYXNlUHJvbWlzZSA9IG51bGw7XG4gICAgICBpZiAodGhpcy5xdWVyeSkge1xuICAgICAgICAvLyBWYWxpZGF0ZSBmb3IgdXBkYXRpbmdcbiAgICAgICAgZGF0YWJhc2VQcm9taXNlID0gdGhpcy5jb25maWcuZGF0YWJhc2UudXBkYXRlKFxuICAgICAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICAgIHRoaXMucXVlcnksXG4gICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgIHRoaXMucnVuT3B0aW9ucyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFZhbGlkYXRlIGZvciBjcmVhdGluZ1xuICAgICAgICBkYXRhYmFzZVByb21pc2UgPSB0aGlzLmNvbmZpZy5kYXRhYmFzZS5jcmVhdGUoXG4gICAgICAgICAgdGhpcy5jbGFzc05hbWUsXG4gICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgIHRoaXMucnVuT3B0aW9ucyxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBJbiB0aGUgY2FzZSB0aGF0IHRoZXJlIGlzIG5vIHBlcm1pc3Npb24gZm9yIHRoZSBvcGVyYXRpb24sIGl0IHRocm93cyBhbiBlcnJvclxuICAgICAgcmV0dXJuIGRhdGFiYXNlUHJvbWlzZS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIGlmICghcmVzdWx0IHx8IHJlc3VsdC5sZW5ndGggPD0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdHJpZ2dlcnMubWF5YmVSdW5UcmlnZ2VyKFxuICAgICAgICB0cmlnZ2Vycy5UeXBlcy5iZWZvcmVTYXZlLFxuICAgICAgICB0aGlzLmF1dGgsXG4gICAgICAgIHVwZGF0ZWRPYmplY3QsXG4gICAgICAgIG9yaWdpbmFsT2JqZWN0LFxuICAgICAgICB0aGlzLmNvbmZpZyxcbiAgICAgICAgdGhpcy5jb250ZXh0XG4gICAgICApO1xuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm9iamVjdCkge1xuICAgICAgICB0aGlzLnN0b3JhZ2UuZmllbGRzQ2hhbmdlZEJ5VHJpZ2dlciA9IF8ucmVkdWNlKFxuICAgICAgICAgIHJlc3BvbnNlLm9iamVjdCxcbiAgICAgICAgICAocmVzdWx0LCB2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIV8uaXNFcXVhbCh0aGlzLmRhdGFba2V5XSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW11cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2Uub2JqZWN0O1xuICAgICAgICAvLyBXZSBzaG91bGQgZGVsZXRlIHRoZSBvYmplY3RJZCBmb3IgYW4gdXBkYXRlIHdyaXRlXG4gICAgICAgIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMucXVlcnkub2JqZWN0SWQpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5kYXRhLm9iamVjdElkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLnJ1bkJlZm9yZUxvZ2luVHJpZ2dlciA9IGFzeW5jIGZ1bmN0aW9uICh1c2VyRGF0YSkge1xuICAvLyBBdm9pZCBkb2luZyBhbnkgc2V0dXAgZm9yIHRyaWdnZXJzIGlmIHRoZXJlIGlzIG5vICdiZWZvcmVMb2dpbicgdHJpZ2dlclxuICBpZiAoXG4gICAgIXRyaWdnZXJzLnRyaWdnZXJFeGlzdHModGhpcy5jbGFzc05hbWUsIHRyaWdnZXJzLlR5cGVzLmJlZm9yZUxvZ2luLCB0aGlzLmNvbmZpZy5hcHBsaWNhdGlvbklkKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDbG91ZCBjb2RlIGdldHMgYSBiaXQgb2YgZXh0cmEgZGF0YSBmb3IgaXRzIG9iamVjdHNcbiAgY29uc3QgZXh0cmFEYXRhID0geyBjbGFzc05hbWU6IHRoaXMuY2xhc3NOYW1lIH07XG5cbiAgLy8gRXhwYW5kIGZpbGUgb2JqZWN0c1xuICB0aGlzLmNvbmZpZy5maWxlc0NvbnRyb2xsZXIuZXhwYW5kRmlsZXNJbk9iamVjdCh0aGlzLmNvbmZpZywgdXNlckRhdGEpO1xuXG4gIGNvbnN0IHVzZXIgPSB0cmlnZ2Vycy5pbmZsYXRlKGV4dHJhRGF0YSwgdXNlckRhdGEpO1xuXG4gIC8vIG5vIG5lZWQgdG8gcmV0dXJuIGEgcmVzcG9uc2VcbiAgYXdhaXQgdHJpZ2dlcnMubWF5YmVSdW5UcmlnZ2VyKFxuICAgIHRyaWdnZXJzLlR5cGVzLmJlZm9yZUxvZ2luLFxuICAgIHRoaXMuYXV0aCxcbiAgICB1c2VyLFxuICAgIG51bGwsXG4gICAgdGhpcy5jb25maWcsXG4gICAgdGhpcy5jb250ZXh0XG4gICk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLnNldFJlcXVpcmVkRmllbGRzSWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZFNjaGVtYUNvbnRyb2xsZXIuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oYWxsQ2xhc3NlcyA9PiB7XG4gICAgICBjb25zdCBzY2hlbWEgPSBhbGxDbGFzc2VzLmZpbmQob25lQ2xhc3MgPT4gb25lQ2xhc3MuY2xhc3NOYW1lID09PSB0aGlzLmNsYXNzTmFtZSk7XG4gICAgICBjb25zdCBzZXRSZXF1aXJlZEZpZWxkSWZOZWVkZWQgPSAoZmllbGROYW1lLCBzZXREZWZhdWx0KSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmRhdGFbZmllbGROYW1lXSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgdGhpcy5kYXRhW2ZpZWxkTmFtZV0gPT09IG51bGwgfHxcbiAgICAgICAgICB0aGlzLmRhdGFbZmllbGROYW1lXSA9PT0gJycgfHxcbiAgICAgICAgICAodHlwZW9mIHRoaXMuZGF0YVtmaWVsZE5hbWVdID09PSAnb2JqZWN0JyAmJiB0aGlzLmRhdGFbZmllbGROYW1lXS5fX29wID09PSAnRGVsZXRlJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2V0RGVmYXVsdCAmJlxuICAgICAgICAgICAgc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdICYmXG4gICAgICAgICAgICBzY2hlbWEuZmllbGRzW2ZpZWxkTmFtZV0uZGVmYXVsdFZhbHVlICE9PSBudWxsICYmXG4gICAgICAgICAgICBzY2hlbWEuZmllbGRzW2ZpZWxkTmFtZV0uZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICh0aGlzLmRhdGFbZmllbGROYW1lXSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICh0eXBlb2YgdGhpcy5kYXRhW2ZpZWxkTmFtZV0gPT09ICdvYmplY3QnICYmIHRoaXMuZGF0YVtmaWVsZE5hbWVdLl9fb3AgPT09ICdEZWxldGUnKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtmaWVsZE5hbWVdID0gc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5maWVsZHNDaGFuZ2VkQnlUcmlnZ2VyID0gdGhpcy5zdG9yYWdlLmZpZWxkc0NoYW5nZWRCeVRyaWdnZXIgfHwgW107XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmZpZWxkc0NoYW5nZWRCeVRyaWdnZXIuaW5kZXhPZihmaWVsZE5hbWUpIDwgMCkge1xuICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UuZmllbGRzQ2hhbmdlZEJ5VHJpZ2dlci5wdXNoKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEuZmllbGRzW2ZpZWxkTmFtZV0gJiYgc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdLnJlcXVpcmVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuVkFMSURBVElPTl9FUlJPUiwgYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZGApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGRlZmF1bHQgZmllbGRzXG4gICAgICB0aGlzLmRhdGEudXBkYXRlZEF0ID0gdGhpcy51cGRhdGVkQXQ7XG4gICAgICBpZiAoIXRoaXMucXVlcnkpIHtcbiAgICAgICAgdGhpcy5kYXRhLmNyZWF0ZWRBdCA9IHRoaXMudXBkYXRlZEF0O1xuXG4gICAgICAgIC8vIE9ubHkgYXNzaWduIG5ldyBvYmplY3RJZCBpZiB3ZSBhcmUgY3JlYXRpbmcgbmV3IG9iamVjdFxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5vYmplY3RJZCkge1xuICAgICAgICAgIHRoaXMuZGF0YS5vYmplY3RJZCA9IGNyeXB0b1V0aWxzLm5ld09iamVjdElkKHRoaXMuY29uZmlnLm9iamVjdElkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgICAgICAgIHNldFJlcXVpcmVkRmllbGRJZk5lZWRlZChmaWVsZE5hbWUsIHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYSkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgICAgICBzZXRSZXF1aXJlZEZpZWxkSWZOZWVkZWQoZmllbGROYW1lLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbi8vIFRyYW5zZm9ybXMgYXV0aCBkYXRhIGZvciBhIHVzZXIgb2JqZWN0LlxuLy8gRG9lcyBub3RoaW5nIGlmIHRoaXMgaXNuJ3QgYSB1c2VyIG9iamVjdC5cbi8vIFJldHVybnMgYSBwcm9taXNlIGZvciB3aGVuIHdlJ3JlIGRvbmUgaWYgaXQgY2FuJ3QgZmluaXNoIHRoaXMgdGljay5cblJlc3RXcml0ZS5wcm90b3R5cGUudmFsaWRhdGVBdXRoRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY2xhc3NOYW1lICE9PSAnX1VzZXInKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF0aGlzLnF1ZXJ5ICYmICF0aGlzLmRhdGEuYXV0aERhdGEpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZGF0YS51c2VybmFtZSAhPT0gJ3N0cmluZycgfHwgXy5pc0VtcHR5KHRoaXMuZGF0YS51c2VybmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5VU0VSTkFNRV9NSVNTSU5HLCAnYmFkIG9yIG1pc3NpbmcgdXNlcm5hbWUnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEucGFzc3dvcmQgIT09ICdzdHJpbmcnIHx8IF8uaXNFbXB0eSh0aGlzLmRhdGEucGFzc3dvcmQpKSB7XG4gICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuUEFTU1dPUkRfTUlTU0lORywgJ3Bhc3N3b3JkIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgICh0aGlzLmRhdGEuYXV0aERhdGEgJiYgIU9iamVjdC5rZXlzKHRoaXMuZGF0YS5hdXRoRGF0YSkubGVuZ3RoKSB8fFxuICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5kYXRhLCAnYXV0aERhdGEnKVxuICApIHtcbiAgICAvLyBIYW5kbGUgc2F2aW5nIGF1dGhEYXRhIHRvIHt9IG9yIGlmIGF1dGhEYXRhIGRvZXNuJ3QgZXhpc3RcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZGF0YSwgJ2F1dGhEYXRhJykgJiYgIXRoaXMuZGF0YS5hdXRoRGF0YSkge1xuICAgIC8vIEhhbmRsZSBzYXZpbmcgYXV0aERhdGEgdG8gbnVsbFxuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihcbiAgICAgIFBhcnNlLkVycm9yLlVOU1VQUE9SVEVEX1NFUlZJQ0UsXG4gICAgICAnVGhpcyBhdXRoZW50aWNhdGlvbiBtZXRob2QgaXMgdW5zdXBwb3J0ZWQuJ1xuICAgICk7XG4gIH1cblxuICB2YXIgYXV0aERhdGEgPSB0aGlzLmRhdGEuYXV0aERhdGE7XG4gIHZhciBwcm92aWRlcnMgPSBPYmplY3Qua2V5cyhhdXRoRGF0YSk7XG4gIGlmIChwcm92aWRlcnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGNhbkhhbmRsZUF1dGhEYXRhID0gcHJvdmlkZXJzLnJlZHVjZSgoY2FuSGFuZGxlLCBwcm92aWRlcikgPT4ge1xuICAgICAgdmFyIHByb3ZpZGVyQXV0aERhdGEgPSBhdXRoRGF0YVtwcm92aWRlcl07XG4gICAgICB2YXIgaGFzVG9rZW4gPSBwcm92aWRlckF1dGhEYXRhICYmIHByb3ZpZGVyQXV0aERhdGEuaWQ7XG4gICAgICByZXR1cm4gY2FuSGFuZGxlICYmIChoYXNUb2tlbiB8fCBwcm92aWRlckF1dGhEYXRhID09IG51bGwpO1xuICAgIH0sIHRydWUpO1xuICAgIGlmIChjYW5IYW5kbGVBdXRoRGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXV0aERhdGEoYXV0aERhdGEpO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgUGFyc2UuRXJyb3IuVU5TVVBQT1JURURfU0VSVklDRSxcbiAgICAnVGhpcyBhdXRoZW50aWNhdGlvbiBtZXRob2QgaXMgdW5zdXBwb3J0ZWQuJ1xuICApO1xufTtcblxuUmVzdFdyaXRlLnByb3RvdHlwZS5oYW5kbGVBdXRoRGF0YVZhbGlkYXRpb24gPSBmdW5jdGlvbiAoYXV0aERhdGEpIHtcbiAgY29uc3QgdmFsaWRhdGlvbnMgPSBPYmplY3Qua2V5cyhhdXRoRGF0YSkubWFwKHByb3ZpZGVyID0+IHtcbiAgICBpZiAoYXV0aERhdGFbcHJvdmlkZXJdID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRlQXV0aERhdGEgPSB0aGlzLmNvbmZpZy5hdXRoRGF0YU1hbmFnZXIuZ2V0VmFsaWRhdG9yRm9yUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIGlmICghdmFsaWRhdGVBdXRoRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICBQYXJzZS5FcnJvci5VTlNVUFBPUlRFRF9TRVJWSUNFLFxuICAgICAgICAnVGhpcyBhdXRoZW50aWNhdGlvbiBtZXRob2QgaXMgdW5zdXBwb3J0ZWQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRlQXV0aERhdGEoYXV0aERhdGFbcHJvdmlkZXJdKTtcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLmFsbCh2YWxpZGF0aW9ucyk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmZpbmRVc2Vyc1dpdGhBdXRoRGF0YSA9IGZ1bmN0aW9uIChhdXRoRGF0YSkge1xuICBjb25zdCBwcm92aWRlcnMgPSBPYmplY3Qua2V5cyhhdXRoRGF0YSk7XG4gIGNvbnN0IHF1ZXJ5ID0gcHJvdmlkZXJzXG4gICAgLnJlZHVjZSgobWVtbywgcHJvdmlkZXIpID0+IHtcbiAgICAgIGlmICghYXV0aERhdGFbcHJvdmlkZXJdKSB7XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfVxuICAgICAgY29uc3QgcXVlcnlLZXkgPSBgYXV0aERhdGEuJHtwcm92aWRlcn0uaWRgO1xuICAgICAgY29uc3QgcXVlcnkgPSB7fTtcbiAgICAgIHF1ZXJ5W3F1ZXJ5S2V5XSA9IGF1dGhEYXRhW3Byb3ZpZGVyXS5pZDtcbiAgICAgIG1lbW8ucHVzaChxdWVyeSk7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCBbXSlcbiAgICAuZmlsdGVyKHEgPT4ge1xuICAgICAgcmV0dXJuIHR5cGVvZiBxICE9PSAndW5kZWZpbmVkJztcbiAgICB9KTtcblxuICBsZXQgZmluZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoW10pO1xuICBpZiAocXVlcnkubGVuZ3RoID4gMCkge1xuICAgIGZpbmRQcm9taXNlID0gdGhpcy5jb25maWcuZGF0YWJhc2UuZmluZCh0aGlzLmNsYXNzTmFtZSwgeyAkb3I6IHF1ZXJ5IH0sIHt9KTtcbiAgfVxuXG4gIHJldHVybiBmaW5kUHJvbWlzZTtcbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUuZmlsdGVyZWRPYmplY3RzQnlBQ0wgPSBmdW5jdGlvbiAob2JqZWN0cykge1xuICBpZiAodGhpcy5hdXRoLmlzTWFzdGVyKSB7XG4gICAgcmV0dXJuIG9iamVjdHM7XG4gIH1cbiAgcmV0dXJuIG9iamVjdHMuZmlsdGVyKG9iamVjdCA9PiB7XG4gICAgaWYgKCFvYmplY3QuQUNMKSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gbGVnYWN5IHVzZXJzIHRoYXQgaGF2ZSBubyBBQ0wgZmllbGQgb24gdGhlbVxuICAgIH1cbiAgICAvLyBSZWd1bGFyIHVzZXJzIHRoYXQgaGF2ZSBiZWVuIGxvY2tlZCBvdXQuXG4gICAgcmV0dXJuIG9iamVjdC5BQ0wgJiYgT2JqZWN0LmtleXMob2JqZWN0LkFDTCkubGVuZ3RoID4gMDtcbiAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmhhbmRsZUF1dGhEYXRhID0gZnVuY3Rpb24gKGF1dGhEYXRhKSB7XG4gIGxldCByZXN1bHRzO1xuICByZXR1cm4gdGhpcy5maW5kVXNlcnNXaXRoQXV0aERhdGEoYXV0aERhdGEpLnRoZW4oYXN5bmMgciA9PiB7XG4gICAgcmVzdWx0cyA9IHRoaXMuZmlsdGVyZWRPYmplY3RzQnlBQ0wocik7XG5cbiAgICBpZiAocmVzdWx0cy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSA9IE9iamVjdC5rZXlzKGF1dGhEYXRhKS5qb2luKCcsJyk7XG5cbiAgICAgIGNvbnN0IHVzZXJSZXN1bHQgPSByZXN1bHRzWzBdO1xuICAgICAgY29uc3QgbXV0YXRlZEF1dGhEYXRhID0ge307XG4gICAgICBPYmplY3Qua2V5cyhhdXRoRGF0YSkuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IGF1dGhEYXRhW3Byb3ZpZGVyXTtcbiAgICAgICAgY29uc3QgdXNlckF1dGhEYXRhID0gdXNlclJlc3VsdC5hdXRoRGF0YVtwcm92aWRlcl07XG4gICAgICAgIGlmICghXy5pc0VxdWFsKHByb3ZpZGVyRGF0YSwgdXNlckF1dGhEYXRhKSkge1xuICAgICAgICAgIG11dGF0ZWRBdXRoRGF0YVtwcm92aWRlcl0gPSBwcm92aWRlckRhdGE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgaGFzTXV0YXRlZEF1dGhEYXRhID0gT2JqZWN0LmtleXMobXV0YXRlZEF1dGhEYXRhKS5sZW5ndGggIT09IDA7XG4gICAgICBsZXQgdXNlcklkO1xuICAgICAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgICAgICB1c2VySWQgPSB0aGlzLnF1ZXJ5Lm9iamVjdElkO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dGggJiYgdGhpcy5hdXRoLnVzZXIgJiYgdGhpcy5hdXRoLnVzZXIuaWQpIHtcbiAgICAgICAgdXNlcklkID0gdGhpcy5hdXRoLnVzZXIuaWQ7XG4gICAgICB9XG4gICAgICBpZiAoIXVzZXJJZCB8fCB1c2VySWQgPT09IHVzZXJSZXN1bHQub2JqZWN0SWQpIHtcbiAgICAgICAgLy8gbm8gdXNlciBtYWtpbmcgdGhlIGNhbGxcbiAgICAgICAgLy8gT1IgdGhlIHVzZXIgbWFraW5nIHRoZSBjYWxsIGlzIHRoZSByaWdodCBvbmVcbiAgICAgICAgLy8gTG9naW4gd2l0aCBhdXRoIGRhdGFcbiAgICAgICAgZGVsZXRlIHJlc3VsdHNbMF0ucGFzc3dvcmQ7XG5cbiAgICAgICAgLy8gbmVlZCB0byBzZXQgdGhlIG9iamVjdElkIGZpcnN0IG90aGVyd2lzZSBsb2NhdGlvbiBoYXMgdHJhaWxpbmcgdW5kZWZpbmVkXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RJZCA9IHVzZXJSZXN1bHQub2JqZWN0SWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLnF1ZXJ5IHx8ICF0aGlzLnF1ZXJ5Lm9iamVjdElkKSB7XG4gICAgICAgICAgLy8gdGhpcyBhIGxvZ2luIGNhbGwsIG5vIHVzZXJJZCBwYXNzZWRcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlID0ge1xuICAgICAgICAgICAgcmVzcG9uc2U6IHVzZXJSZXN1bHQsXG4gICAgICAgICAgICBsb2NhdGlvbjogdGhpcy5sb2NhdGlvbigpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gUnVuIGJlZm9yZUxvZ2luIGhvb2sgYmVmb3JlIHN0b3JpbmcgYW55IHVwZGF0ZXNcbiAgICAgICAgICAvLyB0byBhdXRoRGF0YSBvbiB0aGUgZGI7IGNoYW5nZXMgdG8gdXNlclJlc3VsdFxuICAgICAgICAgIC8vIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgICAgICBhd2FpdCB0aGlzLnJ1bkJlZm9yZUxvZ2luVHJpZ2dlcihkZWVwY29weSh1c2VyUmVzdWx0KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgY2hhbmdlIHRoZSBhdXRoIGRhdGEsIGp1c3Qga2VlcCBnb2luZ1xuICAgICAgICBpZiAoIWhhc011dGF0ZWRBdXRoRGF0YSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBoYXZlIGF1dGhEYXRhIHRoYXQgaXMgdXBkYXRlZCBvbiBsb2dpblxuICAgICAgICAvLyB0aGF0IGNhbiBoYXBwZW4gd2hlbiB0b2tlbiBhcmUgcmVmcmVzaGVkLFxuICAgICAgICAvLyBXZSBzaG91bGQgdXBkYXRlIHRoZSB0b2tlbiBhbmQgbGV0IHRoZSB1c2VyIGluXG4gICAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGNoZWNrIHRoZSBtdXRhdGVkIGtleXNcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXV0aERhdGFWYWxpZGF0aW9uKG11dGF0ZWRBdXRoRGF0YSkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgLy8gSUYgd2UgaGF2ZSBhIHJlc3BvbnNlLCB3ZSdsbCBza2lwIHRoZSBkYXRhYmFzZSBvcGVyYXRpb24gLyBiZWZvcmVTYXZlIC8gYWZ0ZXJTYXZlIGV0Yy4uLlxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gc2V0IGl0IHVwIHRoZXJlLlxuICAgICAgICAgIC8vIFdlIGFyZSBzdXBwb3NlZCB0byBoYXZlIGEgcmVzcG9uc2Ugb25seSBvbiBMT0dJTiB3aXRoIGF1dGhEYXRhLCBzbyB3ZSBza2lwIHRob3NlXG4gICAgICAgICAgLy8gSWYgd2UncmUgbm90IGxvZ2dpbmcgaW4sIGJ1dCBqdXN0IHVwZGF0aW5nIHRoZSBjdXJyZW50IHVzZXIsIHdlIGNhbiBzYWZlbHkgc2tpcCB0aGF0IHBhcnRcbiAgICAgICAgICBpZiAodGhpcy5yZXNwb25zZSkge1xuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBuZXcgYXV0aERhdGEgaW4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtdXRhdGVkQXV0aERhdGEpLmZvckVhY2gocHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlLnJlc3BvbnNlLmF1dGhEYXRhW3Byb3ZpZGVyXSA9IG11dGF0ZWRBdXRoRGF0YVtwcm92aWRlcl07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUnVuIHRoZSBEQiB1cGRhdGUgZGlyZWN0bHksIGFzICdtYXN0ZXInXG4gICAgICAgICAgICAvLyBKdXN0IHVwZGF0ZSB0aGUgYXV0aERhdGEgcGFydFxuICAgICAgICAgICAgLy8gVGhlbiB3ZSdyZSBnb29kIGZvciB0aGUgdXNlciwgZWFybHkgZXhpdCBvZiBzb3J0c1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlLnVwZGF0ZShcbiAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgIHsgb2JqZWN0SWQ6IHRoaXMuZGF0YS5vYmplY3RJZCB9LFxuICAgICAgICAgICAgICB7IGF1dGhEYXRhOiBtdXRhdGVkQXV0aERhdGEgfSxcbiAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodXNlcklkKSB7XG4gICAgICAgIC8vIFRyeWluZyB0byB1cGRhdGUgYXV0aCBkYXRhIGJ1dCB1c2Vyc1xuICAgICAgICAvLyBhcmUgZGlmZmVyZW50XG4gICAgICAgIGlmICh1c2VyUmVzdWx0Lm9iamVjdElkICE9PSB1c2VySWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuQUNDT1VOVF9BTFJFQURZX0xJTktFRCwgJ3RoaXMgYXV0aCBpcyBhbHJlYWR5IHVzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBObyBhdXRoIGRhdGEgd2FzIG11dGF0ZWQsIGp1c3Qga2VlcCBnb2luZ1xuICAgICAgICBpZiAoIWhhc011dGF0ZWRBdXRoRGF0YSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oYW5kbGVBdXRoRGF0YVZhbGlkYXRpb24oYXV0aERhdGEpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBNb3JlIHRoYW4gMSB1c2VyIHdpdGggdGhlIHBhc3NlZCBpZCdzXG4gICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5BQ0NPVU5UX0FMUkVBRFlfTElOS0VELCAndGhpcyBhdXRoIGlzIGFscmVhZHkgdXNlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8vIFRoZSBub24tdGhpcmQtcGFydHkgcGFydHMgb2YgVXNlciB0cmFuc2Zvcm1hdGlvblxuUmVzdFdyaXRlLnByb3RvdHlwZS50cmFuc2Zvcm1Vc2VyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gIGlmICh0aGlzLmNsYXNzTmFtZSAhPT0gJ19Vc2VyJykge1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgaWYgKCF0aGlzLmF1dGguaXNNYXN0ZXIgJiYgJ2VtYWlsVmVyaWZpZWQnIGluIHRoaXMuZGF0YSkge1xuICAgIGNvbnN0IGVycm9yID0gYENsaWVudHMgYXJlbid0IGFsbG93ZWQgdG8gbWFudWFsbHkgdXBkYXRlIGVtYWlsIHZlcmlmaWNhdGlvbi5gO1xuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PUEVSQVRJT05fRk9SQklEREVOLCBlcnJvcik7XG4gIH1cblxuICAvLyBEbyBub3QgY2xlYW51cCBzZXNzaW9uIGlmIG9iamVjdElkIGlzIG5vdCBzZXRcbiAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5vYmplY3RJZCgpKSB7XG4gICAgLy8gSWYgd2UncmUgdXBkYXRpbmcgYSBfVXNlciBvYmplY3QsIHdlIG5lZWQgdG8gY2xlYXIgb3V0IHRoZSBjYWNoZSBmb3IgdGhhdCB1c2VyLiBGaW5kIGFsbCB0aGVpclxuICAgIC8vIHNlc3Npb24gdG9rZW5zLCBhbmQgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgY2FjaGUuXG4gICAgcHJvbWlzZSA9IG5ldyBSZXN0UXVlcnkodGhpcy5jb25maWcsIEF1dGgubWFzdGVyKHRoaXMuY29uZmlnKSwgJ19TZXNzaW9uJywge1xuICAgICAgdXNlcjoge1xuICAgICAgICBfX3R5cGU6ICdQb2ludGVyJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnX1VzZXInLFxuICAgICAgICBvYmplY3RJZDogdGhpcy5vYmplY3RJZCgpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLmV4ZWN1dGUoKVxuICAgICAgLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICAgIHJlc3VsdHMucmVzdWx0cy5mb3JFYWNoKHNlc3Npb24gPT5cbiAgICAgICAgICB0aGlzLmNvbmZpZy5jYWNoZUNvbnRyb2xsZXIudXNlci5kZWwoc2Vzc2lvbi5zZXNzaW9uVG9rZW4pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gVHJhbnNmb3JtIHRoZSBwYXNzd29yZFxuICAgICAgaWYgKHRoaXMuZGF0YS5wYXNzd29yZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGlnbm9yZSBvbmx5IGlmIHVuZGVmaW5lZC4gc2hvdWxkIHByb2NlZWQgaWYgZW1wdHkgKCcnKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZVsnY2xlYXJTZXNzaW9ucyddID0gdHJ1ZTtcbiAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgc2Vzc2lvbiBvbmx5IGlmIHRoZSB1c2VyIHJlcXVlc3RlZFxuICAgICAgICBpZiAoIXRoaXMuYXV0aC5pc01hc3Rlcikge1xuICAgICAgICAgIHRoaXMuc3RvcmFnZVsnZ2VuZXJhdGVOZXdTZXNzaW9uJ10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl92YWxpZGF0ZVBhc3N3b3JkUG9saWN5KCkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXNzd29yZENyeXB0by5oYXNoKHRoaXMuZGF0YS5wYXNzd29yZCkudGhlbihoYXNoZWRQYXNzd29yZCA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhLl9oYXNoZWRfcGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICAgICAgICBkZWxldGUgdGhpcy5kYXRhLnBhc3N3b3JkO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlVXNlck5hbWUoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl92YWxpZGF0ZUVtYWlsKCk7XG4gICAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLl92YWxpZGF0ZVVzZXJOYW1lID0gZnVuY3Rpb24gKCkge1xuICAvLyBDaGVjayBmb3IgdXNlcm5hbWUgdW5pcXVlbmVzc1xuICBpZiAoIXRoaXMuZGF0YS51c2VybmFtZSkge1xuICAgIGlmICghdGhpcy5xdWVyeSkge1xuICAgICAgdGhpcy5kYXRhLnVzZXJuYW1lID0gY3J5cHRvVXRpbHMucmFuZG9tU3RyaW5nKDI1KTtcbiAgICAgIHRoaXMucmVzcG9uc2VTaG91bGRIYXZlVXNlcm5hbWUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgLypcbiAgICBVc2VybmFtZXMgc2hvdWxkIGJlIHVuaXF1ZSB3aGVuIGNvbXBhcmVkIGNhc2UgaW5zZW5zaXRpdmVseVxuXG4gICAgVXNlcnMgc2hvdWxkIGJlIGFibGUgdG8gbWFrZSBjYXNlIHNlbnNpdGl2ZSB1c2VybmFtZXMgYW5kXG4gICAgbG9naW4gdXNpbmcgdGhlIGNhc2UgdGhleSBlbnRlcmVkLiAgSS5lLiAnU25vb3B5JyBzaG91bGQgcHJlY2x1ZGVcbiAgICAnc25vb3B5JyBhcyBhIHZhbGlkIHVzZXJuYW1lLlxuICAqL1xuICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAuZmluZChcbiAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdGhpcy5kYXRhLnVzZXJuYW1lLFxuICAgICAgICBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgfSxcbiAgICAgIHsgbGltaXQ6IDEsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZSB9LFxuICAgICAge30sXG4gICAgICB0aGlzLnZhbGlkU2NoZW1hQ29udHJvbGxlclxuICAgIClcbiAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgIFBhcnNlLkVycm9yLlVTRVJOQU1FX1RBS0VOLFxuICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHVzZXJuYW1lLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9KTtcbn07XG5cbi8qXG4gIEFzIHdpdGggdXNlcm5hbWVzLCBQYXJzZSBzaG91bGQgbm90IGFsbG93IGNhc2UgaW5zZW5zaXRpdmUgY29sbGlzaW9ucyBvZiBlbWFpbC5cbiAgdW5saWtlIHdpdGggdXNlcm5hbWVzICh3aGljaCBjYW4gaGF2ZSBjYXNlIGluc2Vuc2l0aXZlIGNvbGxpc2lvbnMgaW4gdGhlIGNhc2Ugb2ZcbiAgYXV0aCBhZGFwdGVycyksIGVtYWlscyBzaG91bGQgbmV2ZXIgaGF2ZSBhIGNhc2UgaW5zZW5zaXRpdmUgY29sbGlzaW9uLlxuXG4gIFRoaXMgYmVoYXZpb3IgY2FuIGJlIGVuZm9yY2VkIHRocm91Z2ggYSBwcm9wZXJseSBjb25maWd1cmVkIGluZGV4IHNlZTpcbiAgaHR0cHM6Ly9kb2NzLm1vbmdvZGIuY29tL21hbnVhbC9jb3JlL2luZGV4LWNhc2UtaW5zZW5zaXRpdmUvI2NyZWF0ZS1hLWNhc2UtaW5zZW5zaXRpdmUtaW5kZXhcbiAgd2hpY2ggY291bGQgYmUgaW1wbGVtZW50ZWQgaW5zdGVhZCBvZiB0aGlzIGNvZGUgYmFzZWQgdmFsaWRhdGlvbi5cblxuICBHaXZlbiB0aGF0IHRoaXMgbG9va3VwIHNob3VsZCBiZSBhIHJlbGF0aXZlbHkgbG93IHVzZSBjYXNlIGFuZCB0aGF0IHRoZSBjYXNlIHNlbnNpdGl2ZVxuICB1bmlxdWUgaW5kZXggd2lsbCBiZSB1c2VkIGJ5IHRoZSBkYiBmb3IgdGhlIHF1ZXJ5LCB0aGlzIGlzIGFuIGFkZXF1YXRlIHNvbHV0aW9uLlxuKi9cblJlc3RXcml0ZS5wcm90b3R5cGUuX3ZhbGlkYXRlRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5kYXRhLmVtYWlsIHx8IHRoaXMuZGF0YS5lbWFpbC5fX29wID09PSAnRGVsZXRlJykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICAvLyBWYWxpZGF0ZSBiYXNpYyBlbWFpbCBhZGRyZXNzIGZvcm1hdFxuICBpZiAoIXRoaXMuZGF0YS5lbWFpbC5tYXRjaCgvXi4rQC4rJC8pKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfRU1BSUxfQUREUkVTUywgJ0VtYWlsIGFkZHJlc3MgZm9ybWF0IGlzIGludmFsaWQuJylcbiAgICApO1xuICB9XG4gIC8vIENhc2UgaW5zZW5zaXRpdmUgbWF0Y2gsIHNlZSBub3RlIGFib3ZlIGZ1bmN0aW9uLlxuICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAuZmluZChcbiAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAge1xuICAgICAgICBlbWFpbDogdGhpcy5kYXRhLmVtYWlsLFxuICAgICAgICBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgfSxcbiAgICAgIHsgbGltaXQ6IDEsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZSB9LFxuICAgICAge30sXG4gICAgICB0aGlzLnZhbGlkU2NoZW1hQ29udHJvbGxlclxuICAgIClcbiAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgIFBhcnNlLkVycm9yLkVNQUlMX1RBS0VOLFxuICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGVtYWlsIGFkZHJlc3MuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5kYXRhLmF1dGhEYXRhIHx8XG4gICAgICAgICFPYmplY3Qua2V5cyh0aGlzLmRhdGEuYXV0aERhdGEpLmxlbmd0aCB8fFxuICAgICAgICAoT2JqZWN0LmtleXModGhpcy5kYXRhLmF1dGhEYXRhKS5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmRhdGEuYXV0aERhdGEpWzBdID09PSAnYW5vbnltb3VzJylcbiAgICAgICkge1xuICAgICAgICAvLyBXZSB1cGRhdGVkIHRoZSBlbWFpbCwgc2VuZCBhIG5ldyB2YWxpZGF0aW9uXG4gICAgICAgIHRoaXMuc3RvcmFnZVsnc2VuZFZlcmlmaWNhdGlvbkVtYWlsJ10gPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbmZpZy51c2VyQ29udHJvbGxlci5zZXRFbWFpbFZlcmlmeVRva2VuKHRoaXMuZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLl92YWxpZGF0ZVBhc3N3b3JkUG9saWN5ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5KSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHJldHVybiB0aGlzLl92YWxpZGF0ZVBhc3N3b3JkUmVxdWlyZW1lbnRzKCkudGhlbigoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlUGFzc3dvcmRIaXN0b3J5KCk7XG4gIH0pO1xufTtcblxuUmVzdFdyaXRlLnByb3RvdHlwZS5fdmFsaWRhdGVQYXNzd29yZFJlcXVpcmVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gY2hlY2sgaWYgdGhlIHBhc3N3b3JkIGNvbmZvcm1zIHRvIHRoZSBkZWZpbmVkIHBhc3N3b3JkIHBvbGljeSBpZiBjb25maWd1cmVkXG4gIC8vIElmIHdlIHNwZWNpZmllZCBhIGN1c3RvbSBlcnJvciBpbiBvdXIgY29uZmlndXJhdGlvbiB1c2UgaXQuXG4gIC8vIEV4YW1wbGU6IFwiUGFzc3dvcmRzIG11c3QgaW5jbHVkZSBhIENhcGl0YWwgTGV0dGVyLCBMb3dlcmNhc2UgTGV0dGVyLCBhbmQgYSBudW1iZXIuXCJcbiAgLy9cbiAgLy8gVGhpcyBpcyBlc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgZ2VuZXJpYyBcInBhc3N3b3JkIHJlc2V0XCIgcGFnZSxcbiAgLy8gYXMgaXQgYWxsb3dzIHRoZSBwcm9ncmFtbWVyIHRvIGNvbW11bmljYXRlIHNwZWNpZmljIHJlcXVpcmVtZW50cyBpbnN0ZWFkIG9mOlxuICAvLyBhLiBtYWtpbmcgdGhlIHVzZXIgZ3Vlc3Mgd2hhdHMgd3JvbmdcbiAgLy8gYi4gbWFraW5nIGEgY3VzdG9tIHBhc3N3b3JkIHJlc2V0IHBhZ2UgdGhhdCBzaG93cyB0aGUgcmVxdWlyZW1lbnRzXG4gIGNvbnN0IHBvbGljeUVycm9yID0gdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kudmFsaWRhdGlvbkVycm9yXG4gICAgPyB0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS52YWxpZGF0aW9uRXJyb3JcbiAgICA6ICdQYXNzd29yZCBkb2VzIG5vdCBtZWV0IHRoZSBQYXNzd29yZCBQb2xpY3kgcmVxdWlyZW1lbnRzLic7XG4gIGNvbnN0IGNvbnRhaW5zVXNlcm5hbWVFcnJvciA9ICdQYXNzd29yZCBjYW5ub3QgY29udGFpbiB5b3VyIHVzZXJuYW1lLic7XG5cbiAgLy8gY2hlY2sgd2hldGhlciB0aGUgcGFzc3dvcmQgbWVldHMgdGhlIHBhc3N3b3JkIHN0cmVuZ3RoIHJlcXVpcmVtZW50c1xuICBpZiAoXG4gICAgKHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5LnBhdHRlcm5WYWxpZGF0b3IgJiZcbiAgICAgICF0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS5wYXR0ZXJuVmFsaWRhdG9yKHRoaXMuZGF0YS5wYXNzd29yZCkpIHx8XG4gICAgKHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5LnZhbGlkYXRvckNhbGxiYWNrICYmXG4gICAgICAhdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yQ2FsbGJhY2sodGhpcy5kYXRhLnBhc3N3b3JkKSlcbiAgKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5WQUxJREFUSU9OX0VSUk9SLCBwb2xpY3lFcnJvcikpO1xuICB9XG5cbiAgLy8gY2hlY2sgd2hldGhlciBwYXNzd29yZCBjb250YWluIHVzZXJuYW1lXG4gIGlmICh0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS5kb05vdEFsbG93VXNlcm5hbWUgPT09IHRydWUpIHtcbiAgICBpZiAodGhpcy5kYXRhLnVzZXJuYW1lKSB7XG4gICAgICAvLyB1c2VybmFtZSBpcyBub3QgcGFzc2VkIGR1cmluZyBwYXNzd29yZCByZXNldFxuICAgICAgaWYgKHRoaXMuZGF0YS5wYXNzd29yZC5pbmRleE9mKHRoaXMuZGF0YS51c2VybmFtZSkgPj0gMClcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5WQUxJREFUSU9OX0VSUk9SLCBjb250YWluc1VzZXJuYW1lRXJyb3IpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmV0cmlldmUgdGhlIFVzZXIgb2JqZWN0IHVzaW5nIG9iamVjdElkIGR1cmluZyBwYXNzd29yZCByZXNldFxuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlLmZpbmQoJ19Vc2VyJywgeyBvYmplY3RJZDogdGhpcy5vYmplY3RJZCgpIH0pLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgdGhyb3cgdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRhdGEucGFzc3dvcmQuaW5kZXhPZihyZXN1bHRzWzBdLnVzZXJuYW1lKSA+PSAwKVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgIG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5WQUxJREFUSU9OX0VSUk9SLCBjb250YWluc1VzZXJuYW1lRXJyb3IpXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUuX3ZhbGlkYXRlUGFzc3dvcmRIaXN0b3J5ID0gZnVuY3Rpb24gKCkge1xuICAvLyBjaGVjayB3aGV0aGVyIHBhc3N3b3JkIGlzIHJlcGVhdGluZyBmcm9tIHNwZWNpZmllZCBoaXN0b3J5XG4gIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5kYXRhYmFzZVxuICAgICAgLmZpbmQoXG4gICAgICAgICdfVXNlcicsXG4gICAgICAgIHsgb2JqZWN0SWQ6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgICB7IGtleXM6IFsnX3Bhc3N3b3JkX2hpc3RvcnknLCAnX2hhc2hlZF9wYXNzd29yZCddIH1cbiAgICAgIClcbiAgICAgIC50aGVuKHJlc3VsdHMgPT4ge1xuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT0gMSkge1xuICAgICAgICAgIHRocm93IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0c1swXTtcbiAgICAgICAgbGV0IG9sZFBhc3N3b3JkcyA9IFtdO1xuICAgICAgICBpZiAodXNlci5fcGFzc3dvcmRfaGlzdG9yeSlcbiAgICAgICAgICBvbGRQYXNzd29yZHMgPSBfLnRha2UoXG4gICAgICAgICAgICB1c2VyLl9wYXNzd29yZF9oaXN0b3J5LFxuICAgICAgICAgICAgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRIaXN0b3J5IC0gMVxuICAgICAgICAgICk7XG4gICAgICAgIG9sZFBhc3N3b3Jkcy5wdXNoKHVzZXIucGFzc3dvcmQpO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IHRoaXMuZGF0YS5wYXNzd29yZDtcbiAgICAgICAgLy8gY29tcGFyZSB0aGUgbmV3IHBhc3N3b3JkIGhhc2ggd2l0aCBhbGwgb2xkIHBhc3N3b3JkIGhhc2hlc1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IG9sZFBhc3N3b3Jkcy5tYXAoZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgICAgICByZXR1cm4gcGFzc3dvcmRDcnlwdG8uY29tcGFyZShuZXdQYXNzd29yZCwgaGFzaCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgICAgLy8gcmVqZWN0IGlmIHRoZXJlIGlzIGEgbWF0Y2hcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdSRVBFQVRfUEFTU1dPUkQnKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHdhaXQgZm9yIGFsbCBjb21wYXJpc29ucyB0byBjb21wbGV0ZVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyID09PSAnUkVQRUFUX1BBU1NXT1JEJylcbiAgICAgICAgICAgICAgLy8gYSBtYXRjaCB3YXMgZm91bmRcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgICAgIG5ldyBQYXJzZS5FcnJvcihcbiAgICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICBgTmV3IHBhc3N3b3JkIHNob3VsZCBub3QgYmUgdGhlIHNhbWUgYXMgbGFzdCAke3RoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeX0gcGFzc3dvcmRzLmBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmNyZWF0ZVNlc3Npb25Ub2tlbklmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jbGFzc05hbWUgIT09ICdfVXNlcicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gRG9uJ3QgZ2VuZXJhdGUgc2Vzc2lvbiBmb3IgdXBkYXRpbmcgdXNlciAodGhpcy5xdWVyeSBpcyBzZXQpIHVubGVzcyBhdXRoRGF0YSBleGlzdHNcbiAgaWYgKHRoaXMucXVlcnkgJiYgIXRoaXMuZGF0YS5hdXRoRGF0YSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBEb24ndCBnZW5lcmF0ZSBuZXcgc2Vzc2lvblRva2VuIGlmIGxpbmtpbmcgdmlhIHNlc3Npb25Ub2tlblxuICBpZiAodGhpcy5hdXRoLnVzZXIgJiYgdGhpcy5kYXRhLmF1dGhEYXRhKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChcbiAgICAhdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSAmJiAvLyBzaWdudXAgY2FsbCwgd2l0aFxuICAgIHRoaXMuY29uZmlnLnByZXZlbnRMb2dpbldpdGhVbnZlcmlmaWVkRW1haWwgJiYgLy8gbm8gbG9naW4gd2l0aG91dCB2ZXJpZmljYXRpb25cbiAgICB0aGlzLmNvbmZpZy52ZXJpZnlVc2VyRW1haWxzXG4gICkge1xuICAgIC8vIHZlcmlmaWNhdGlvbiBpcyBvblxuICAgIHJldHVybjsgLy8gZG8gbm90IGNyZWF0ZSB0aGUgc2Vzc2lvbiB0b2tlbiBpbiB0aGF0IGNhc2UhXG4gIH1cbiAgcmV0dXJuIHRoaXMuY3JlYXRlU2Vzc2lvblRva2VuKCk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmNyZWF0ZVNlc3Npb25Ub2tlbiA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgLy8gY2xvdWQgaW5zdGFsbGF0aW9uSWQgZnJvbSBDbG91ZCBDb2RlLFxuICAvLyBuZXZlciBjcmVhdGUgc2Vzc2lvbiB0b2tlbnMgZnJvbSB0aGVyZS5cbiAgaWYgKHRoaXMuYXV0aC5pbnN0YWxsYXRpb25JZCAmJiB0aGlzLmF1dGguaW5zdGFsbGF0aW9uSWQgPT09ICdjbG91ZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSA9PSBudWxsICYmIHRoaXMuZGF0YS5hdXRoRGF0YSkge1xuICAgIHRoaXMuc3RvcmFnZVsnYXV0aFByb3ZpZGVyJ10gPSBPYmplY3Qua2V5cyh0aGlzLmRhdGEuYXV0aERhdGEpLmpvaW4oJywnKTtcbiAgfVxuXG4gIGNvbnN0IHsgc2Vzc2lvbkRhdGEsIGNyZWF0ZVNlc3Npb24gfSA9IFJlc3RXcml0ZS5jcmVhdGVTZXNzaW9uKHRoaXMuY29uZmlnLCB7XG4gICAgdXNlcklkOiB0aGlzLm9iamVjdElkKCksXG4gICAgY3JlYXRlZFdpdGg6IHtcbiAgICAgIGFjdGlvbjogdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSA/ICdsb2dpbicgOiAnc2lnbnVwJyxcbiAgICAgIGF1dGhQcm92aWRlcjogdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSB8fCAncGFzc3dvcmQnLFxuICAgIH0sXG4gICAgaW5zdGFsbGF0aW9uSWQ6IHRoaXMuYXV0aC5pbnN0YWxsYXRpb25JZCxcbiAgfSk7XG5cbiAgaWYgKHRoaXMucmVzcG9uc2UgJiYgdGhpcy5yZXNwb25zZS5yZXNwb25zZSkge1xuICAgIHRoaXMucmVzcG9uc2UucmVzcG9uc2Uuc2Vzc2lvblRva2VuID0gc2Vzc2lvbkRhdGEuc2Vzc2lvblRva2VuO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVNlc3Npb24oKTtcbn07XG5cblJlc3RXcml0ZS5jcmVhdGVTZXNzaW9uID0gZnVuY3Rpb24gKFxuICBjb25maWcsXG4gIHsgdXNlcklkLCBjcmVhdGVkV2l0aCwgaW5zdGFsbGF0aW9uSWQsIGFkZGl0aW9uYWxTZXNzaW9uRGF0YSB9XG4pIHtcbiAgY29uc3QgdG9rZW4gPSAncjonICsgY3J5cHRvVXRpbHMubmV3VG9rZW4oKTtcbiAgY29uc3QgZXhwaXJlc0F0ID0gY29uZmlnLmdlbmVyYXRlU2Vzc2lvbkV4cGlyZXNBdCgpO1xuICBjb25zdCBzZXNzaW9uRGF0YSA9IHtcbiAgICBzZXNzaW9uVG9rZW46IHRva2VuLFxuICAgIHVzZXI6IHtcbiAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgY2xhc3NOYW1lOiAnX1VzZXInLFxuICAgICAgb2JqZWN0SWQ6IHVzZXJJZCxcbiAgICB9LFxuICAgIGNyZWF0ZWRXaXRoLFxuICAgIGV4cGlyZXNBdDogUGFyc2UuX2VuY29kZShleHBpcmVzQXQpLFxuICB9O1xuXG4gIGlmIChpbnN0YWxsYXRpb25JZCkge1xuICAgIHNlc3Npb25EYXRhLmluc3RhbGxhdGlvbklkID0gaW5zdGFsbGF0aW9uSWQ7XG4gIH1cblxuICBPYmplY3QuYXNzaWduKHNlc3Npb25EYXRhLCBhZGRpdGlvbmFsU2Vzc2lvbkRhdGEpO1xuXG4gIHJldHVybiB7XG4gICAgc2Vzc2lvbkRhdGEsXG4gICAgY3JlYXRlU2Vzc2lvbjogKCkgPT5cbiAgICAgIG5ldyBSZXN0V3JpdGUoY29uZmlnLCBBdXRoLm1hc3Rlcihjb25maWcpLCAnX1Nlc3Npb24nLCBudWxsLCBzZXNzaW9uRGF0YSkuZXhlY3V0ZSgpLFxuICB9O1xufTtcblxuLy8gRGVsZXRlIGVtYWlsIHJlc2V0IHRva2VucyBpZiB1c2VyIGlzIGNoYW5naW5nIHBhc3N3b3JkIG9yIGVtYWlsLlxuUmVzdFdyaXRlLnByb3RvdHlwZS5kZWxldGVFbWFpbFJlc2V0VG9rZW5JZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY2xhc3NOYW1lICE9PSAnX1VzZXInIHx8IHRoaXMucXVlcnkgPT09IG51bGwpIHtcbiAgICAvLyBudWxsIHF1ZXJ5IG1lYW5zIGNyZWF0ZVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICgncGFzc3dvcmQnIGluIHRoaXMuZGF0YSB8fCAnZW1haWwnIGluIHRoaXMuZGF0YSkge1xuICAgIGNvbnN0IGFkZE9wcyA9IHtcbiAgICAgIF9wZXJpc2hhYmxlX3Rva2VuOiB7IF9fb3A6ICdEZWxldGUnIH0sXG4gICAgICBfcGVyaXNoYWJsZV90b2tlbl9leHBpcmVzX2F0OiB7IF9fb3A6ICdEZWxldGUnIH0sXG4gICAgfTtcbiAgICB0aGlzLmRhdGEgPSBPYmplY3QuYXNzaWduKHRoaXMuZGF0YSwgYWRkT3BzKTtcbiAgfVxufTtcblxuUmVzdFdyaXRlLnByb3RvdHlwZS5kZXN0cm95RHVwbGljYXRlZFNlc3Npb25zID0gZnVuY3Rpb24gKCkge1xuICAvLyBPbmx5IGZvciBfU2Vzc2lvbiwgYW5kIGF0IGNyZWF0aW9uIHRpbWVcbiAgaWYgKHRoaXMuY2xhc3NOYW1lICE9ICdfU2Vzc2lvbicgfHwgdGhpcy5xdWVyeSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBEZXN0cm95IHRoZSBzZXNzaW9ucyBpbiAnQmFja2dyb3VuZCdcbiAgY29uc3QgeyB1c2VyLCBpbnN0YWxsYXRpb25JZCwgc2Vzc2lvblRva2VuIH0gPSB0aGlzLmRhdGE7XG4gIGlmICghdXNlciB8fCAhaW5zdGFsbGF0aW9uSWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCF1c2VyLm9iamVjdElkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuY29uZmlnLmRhdGFiYXNlLmRlc3Ryb3koXG4gICAgJ19TZXNzaW9uJyxcbiAgICB7XG4gICAgICB1c2VyLFxuICAgICAgaW5zdGFsbGF0aW9uSWQsXG4gICAgICBzZXNzaW9uVG9rZW46IHsgJG5lOiBzZXNzaW9uVG9rZW4gfSxcbiAgICB9LFxuICAgIHt9LFxuICAgIHRoaXMudmFsaWRTY2hlbWFDb250cm9sbGVyXG4gICk7XG59O1xuXG4vLyBIYW5kbGVzIGFueSBmb2xsb3d1cCBsb2dpY1xuUmVzdFdyaXRlLnByb3RvdHlwZS5oYW5kbGVGb2xsb3d1cCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc3RvcmFnZSAmJiB0aGlzLnN0b3JhZ2VbJ2NsZWFyU2Vzc2lvbnMnXSAmJiB0aGlzLmNvbmZpZy5yZXZva2VTZXNzaW9uT25QYXNzd29yZFJlc2V0KSB7XG4gICAgdmFyIHNlc3Npb25RdWVyeSA9IHtcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgX190eXBlOiAnUG9pbnRlcicsXG4gICAgICAgIGNsYXNzTmFtZTogJ19Vc2VyJyxcbiAgICAgICAgb2JqZWN0SWQ6IHRoaXMub2JqZWN0SWQoKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBkZWxldGUgdGhpcy5zdG9yYWdlWydjbGVhclNlc3Npb25zJ107XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlXG4gICAgICAuZGVzdHJveSgnX1Nlc3Npb24nLCBzZXNzaW9uUXVlcnkpXG4gICAgICAudGhlbih0aGlzLmhhbmRsZUZvbGxvd3VwLmJpbmQodGhpcykpO1xuICB9XG5cbiAgaWYgKHRoaXMuc3RvcmFnZSAmJiB0aGlzLnN0b3JhZ2VbJ2dlbmVyYXRlTmV3U2Vzc2lvbiddKSB7XG4gICAgZGVsZXRlIHRoaXMuc3RvcmFnZVsnZ2VuZXJhdGVOZXdTZXNzaW9uJ107XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2Vzc2lvblRva2VuKCkudGhlbih0aGlzLmhhbmRsZUZvbGxvd3VwLmJpbmQodGhpcykpO1xuICB9XG5cbiAgaWYgKHRoaXMuc3RvcmFnZSAmJiB0aGlzLnN0b3JhZ2VbJ3NlbmRWZXJpZmljYXRpb25FbWFpbCddKSB7XG4gICAgZGVsZXRlIHRoaXMuc3RvcmFnZVsnc2VuZFZlcmlmaWNhdGlvbkVtYWlsJ107XG4gICAgLy8gRmlyZSBhbmQgZm9yZ2V0IVxuICAgIHRoaXMuY29uZmlnLnVzZXJDb250cm9sbGVyLnNlbmRWZXJpZmljYXRpb25FbWFpbCh0aGlzLmRhdGEpO1xuICAgIHJldHVybiB0aGlzLmhhbmRsZUZvbGxvd3VwLmJpbmQodGhpcyk7XG4gIH1cbn07XG5cbi8vIEhhbmRsZXMgdGhlIF9TZXNzaW9uIGNsYXNzIHNwZWNpYWxuZXNzLlxuLy8gRG9lcyBub3RoaW5nIGlmIHRoaXMgaXNuJ3QgYW4gX1Nlc3Npb24gb2JqZWN0LlxuUmVzdFdyaXRlLnByb3RvdHlwZS5oYW5kbGVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5yZXNwb25zZSB8fCB0aGlzLmNsYXNzTmFtZSAhPT0gJ19TZXNzaW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghdGhpcy5hdXRoLnVzZXIgJiYgIXRoaXMuYXV0aC5pc01hc3Rlcikge1xuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX1NFU1NJT05fVE9LRU4sICdTZXNzaW9uIHRva2VuIHJlcXVpcmVkLicpO1xuICB9XG5cbiAgLy8gVE9ETzogVmVyaWZ5IHByb3BlciBlcnJvciB0byB0aHJvd1xuICBpZiAodGhpcy5kYXRhLkFDTCkge1xuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FLCAnQ2Fubm90IHNldCAnICsgJ0FDTCBvbiBhIFNlc3Npb24uJyk7XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSkge1xuICAgIGlmICh0aGlzLmRhdGEudXNlciAmJiAhdGhpcy5hdXRoLmlzTWFzdGVyICYmIHRoaXMuZGF0YS51c2VyLm9iamVjdElkICE9IHRoaXMuYXV0aC51c2VyLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9LRVlfTkFNRSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuaW5zdGFsbGF0aW9uSWQpIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5zZXNzaW9uVG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIXRoaXMucXVlcnkgJiYgIXRoaXMuYXV0aC5pc01hc3Rlcikge1xuICAgIGNvbnN0IGFkZGl0aW9uYWxTZXNzaW9uRGF0YSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRhdGEpIHtcbiAgICAgIGlmIChrZXkgPT09ICdvYmplY3RJZCcgfHwga2V5ID09PSAndXNlcicpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBhZGRpdGlvbmFsU2Vzc2lvbkRhdGFba2V5XSA9IHRoaXMuZGF0YVtrZXldO1xuICAgIH1cblxuICAgIGNvbnN0IHsgc2Vzc2lvbkRhdGEsIGNyZWF0ZVNlc3Npb24gfSA9IFJlc3RXcml0ZS5jcmVhdGVTZXNzaW9uKHRoaXMuY29uZmlnLCB7XG4gICAgICB1c2VySWQ6IHRoaXMuYXV0aC51c2VyLmlkLFxuICAgICAgY3JlYXRlZFdpdGg6IHtcbiAgICAgICAgYWN0aW9uOiAnY3JlYXRlJyxcbiAgICAgIH0sXG4gICAgICBhZGRpdGlvbmFsU2Vzc2lvbkRhdGEsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gY3JlYXRlU2Vzc2lvbigpLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICBpZiAoIXJlc3VsdHMucmVzcG9uc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVEVSTkFMX1NFUlZFUl9FUlJPUiwgJ0Vycm9yIGNyZWF0aW5nIHNlc3Npb24uJyk7XG4gICAgICB9XG4gICAgICBzZXNzaW9uRGF0YVsnb2JqZWN0SWQnXSA9IHJlc3VsdHMucmVzcG9uc2VbJ29iamVjdElkJ107XG4gICAgICB0aGlzLnJlc3BvbnNlID0ge1xuICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgbG9jYXRpb246IHJlc3VsdHMubG9jYXRpb24sXG4gICAgICAgIHJlc3BvbnNlOiBzZXNzaW9uRGF0YSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIEhhbmRsZXMgdGhlIF9JbnN0YWxsYXRpb24gY2xhc3Mgc3BlY2lhbG5lc3MuXG4vLyBEb2VzIG5vdGhpbmcgaWYgdGhpcyBpc24ndCBhbiBpbnN0YWxsYXRpb24gb2JqZWN0LlxuLy8gSWYgYW4gaW5zdGFsbGF0aW9uIGlzIGZvdW5kLCB0aGlzIGNhbiBtdXRhdGUgdGhpcy5xdWVyeSBhbmQgdHVybiBhIGNyZWF0ZVxuLy8gaW50byBhbiB1cGRhdGUuXG4vLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3Igd2hlbiB3ZSdyZSBkb25lIGlmIGl0IGNhbid0IGZpbmlzaCB0aGlzIHRpY2suXG5SZXN0V3JpdGUucHJvdG90eXBlLmhhbmRsZUluc3RhbGxhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmVzcG9uc2UgfHwgdGhpcy5jbGFzc05hbWUgIT09ICdfSW5zdGFsbGF0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChcbiAgICAhdGhpcy5xdWVyeSAmJlxuICAgICF0aGlzLmRhdGEuZGV2aWNlVG9rZW4gJiZcbiAgICAhdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkICYmXG4gICAgIXRoaXMuYXV0aC5pbnN0YWxsYXRpb25JZFxuICApIHtcbiAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAxMzUsXG4gICAgICAnYXQgbGVhc3Qgb25lIElEIGZpZWxkIChkZXZpY2VUb2tlbiwgaW5zdGFsbGF0aW9uSWQpICcgKyAnbXVzdCBiZSBzcGVjaWZpZWQgaW4gdGhpcyBvcGVyYXRpb24nXG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIHRoZSBkZXZpY2UgdG9rZW4gaXMgNjQgY2hhcmFjdGVycyBsb25nLCB3ZSBhc3N1bWUgaXQgaXMgZm9yIGlPU1xuICAvLyBhbmQgbG93ZXJjYXNlIGl0LlxuICBpZiAodGhpcy5kYXRhLmRldmljZVRva2VuICYmIHRoaXMuZGF0YS5kZXZpY2VUb2tlbi5sZW5ndGggPT0gNjQpIHtcbiAgICB0aGlzLmRhdGEuZGV2aWNlVG9rZW4gPSB0aGlzLmRhdGEuZGV2aWNlVG9rZW4udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8vIFdlIGxvd2VyY2FzZSB0aGUgaW5zdGFsbGF0aW9uSWQgaWYgcHJlc2VudFxuICBpZiAodGhpcy5kYXRhLmluc3RhbGxhdGlvbklkKSB7XG4gICAgdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkID0gdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBsZXQgaW5zdGFsbGF0aW9uSWQgPSB0aGlzLmRhdGEuaW5zdGFsbGF0aW9uSWQ7XG5cbiAgLy8gSWYgZGF0YS5pbnN0YWxsYXRpb25JZCBpcyBub3Qgc2V0IGFuZCB3ZSdyZSBub3QgbWFzdGVyLCB3ZSBjYW4gbG9va3VwIGluIGF1dGhcbiAgaWYgKCFpbnN0YWxsYXRpb25JZCAmJiAhdGhpcy5hdXRoLmlzTWFzdGVyKSB7XG4gICAgaW5zdGFsbGF0aW9uSWQgPSB0aGlzLmF1dGguaW5zdGFsbGF0aW9uSWQ7XG4gIH1cblxuICBpZiAoaW5zdGFsbGF0aW9uSWQpIHtcbiAgICBpbnN0YWxsYXRpb25JZCA9IGluc3RhbGxhdGlvbklkLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICAvLyBVcGRhdGluZyBfSW5zdGFsbGF0aW9uIGJ1dCBub3QgdXBkYXRpbmcgYW55dGhpbmcgY3JpdGljYWxcbiAgaWYgKHRoaXMucXVlcnkgJiYgIXRoaXMuZGF0YS5kZXZpY2VUb2tlbiAmJiAhaW5zdGFsbGF0aW9uSWQgJiYgIXRoaXMuZGF0YS5kZXZpY2VUeXBlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICB2YXIgaWRNYXRjaDsgLy8gV2lsbCBiZSBhIG1hdGNoIG9uIGVpdGhlciBvYmplY3RJZCBvciBpbnN0YWxsYXRpb25JZFxuICB2YXIgb2JqZWN0SWRNYXRjaDtcbiAgdmFyIGluc3RhbGxhdGlvbklkTWF0Y2g7XG4gIHZhciBkZXZpY2VUb2tlbk1hdGNoZXMgPSBbXTtcblxuICAvLyBJbnN0ZWFkIG9mIGlzc3VpbmcgMyByZWFkcywgbGV0J3MgZG8gaXQgd2l0aCBvbmUgT1IuXG4gIGNvbnN0IG9yUXVlcmllcyA9IFtdO1xuICBpZiAodGhpcy5xdWVyeSAmJiB0aGlzLnF1ZXJ5Lm9iamVjdElkKSB7XG4gICAgb3JRdWVyaWVzLnB1c2goe1xuICAgICAgb2JqZWN0SWQ6IHRoaXMucXVlcnkub2JqZWN0SWQsXG4gICAgfSk7XG4gIH1cbiAgaWYgKGluc3RhbGxhdGlvbklkKSB7XG4gICAgb3JRdWVyaWVzLnB1c2goe1xuICAgICAgaW5zdGFsbGF0aW9uSWQ6IGluc3RhbGxhdGlvbklkLFxuICAgIH0pO1xuICB9XG4gIGlmICh0aGlzLmRhdGEuZGV2aWNlVG9rZW4pIHtcbiAgICBvclF1ZXJpZXMucHVzaCh7IGRldmljZVRva2VuOiB0aGlzLmRhdGEuZGV2aWNlVG9rZW4gfSk7XG4gIH1cblxuICBpZiAob3JRdWVyaWVzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZSA9IHByb21pc2VcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2UuZmluZChcbiAgICAgICAgJ19JbnN0YWxsYXRpb24nLFxuICAgICAgICB7XG4gICAgICAgICAgJG9yOiBvclF1ZXJpZXMsXG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgIH0pXG4gICAgLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCAmJiByZXN1bHQub2JqZWN0SWQgPT0gdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgICAgICAgIG9iamVjdElkTWF0Y2ggPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5pbnN0YWxsYXRpb25JZCA9PSBpbnN0YWxsYXRpb25JZCkge1xuICAgICAgICAgIGluc3RhbGxhdGlvbklkTWF0Y2ggPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5kZXZpY2VUb2tlbiA9PSB0aGlzLmRhdGEuZGV2aWNlVG9rZW4pIHtcbiAgICAgICAgICBkZXZpY2VUb2tlbk1hdGNoZXMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gU2FuaXR5IGNoZWNrcyB3aGVuIHJ1bm5pbmcgYSBxdWVyeVxuICAgICAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgICAgICBpZiAoIW9iamVjdElkTWF0Y2gpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuT0JKRUNUX05PVF9GT1VORCwgJ09iamVjdCBub3QgZm91bmQgZm9yIHVwZGF0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkICYmXG4gICAgICAgICAgb2JqZWN0SWRNYXRjaC5pbnN0YWxsYXRpb25JZCAmJlxuICAgICAgICAgIHRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCAhPT0gb2JqZWN0SWRNYXRjaC5pbnN0YWxsYXRpb25JZFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTM2LCAnaW5zdGFsbGF0aW9uSWQgbWF5IG5vdCBiZSBjaGFuZ2VkIGluIHRoaXMgJyArICdvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5kYXRhLmRldmljZVRva2VuICYmXG4gICAgICAgICAgb2JqZWN0SWRNYXRjaC5kZXZpY2VUb2tlbiAmJlxuICAgICAgICAgIHRoaXMuZGF0YS5kZXZpY2VUb2tlbiAhPT0gb2JqZWN0SWRNYXRjaC5kZXZpY2VUb2tlbiAmJlxuICAgICAgICAgICF0aGlzLmRhdGEuaW5zdGFsbGF0aW9uSWQgJiZcbiAgICAgICAgICAhb2JqZWN0SWRNYXRjaC5pbnN0YWxsYXRpb25JZFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTM2LCAnZGV2aWNlVG9rZW4gbWF5IG5vdCBiZSBjaGFuZ2VkIGluIHRoaXMgJyArICdvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5kYXRhLmRldmljZVR5cGUgJiZcbiAgICAgICAgICB0aGlzLmRhdGEuZGV2aWNlVHlwZSAmJlxuICAgICAgICAgIHRoaXMuZGF0YS5kZXZpY2VUeXBlICE9PSBvYmplY3RJZE1hdGNoLmRldmljZVR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKDEzNiwgJ2RldmljZVR5cGUgbWF5IG5vdCBiZSBjaGFuZ2VkIGluIHRoaXMgJyArICdvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5xdWVyeSAmJiB0aGlzLnF1ZXJ5Lm9iamVjdElkICYmIG9iamVjdElkTWF0Y2gpIHtcbiAgICAgICAgaWRNYXRjaCA9IG9iamVjdElkTWF0Y2g7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnN0YWxsYXRpb25JZCAmJiBpbnN0YWxsYXRpb25JZE1hdGNoKSB7XG4gICAgICAgIGlkTWF0Y2ggPSBpbnN0YWxsYXRpb25JZE1hdGNoO1xuICAgICAgfVxuICAgICAgLy8gbmVlZCB0byBzcGVjaWZ5IGRldmljZVR5cGUgb25seSBpZiBpdCdzIG5ld1xuICAgICAgaWYgKCF0aGlzLnF1ZXJ5ICYmICF0aGlzLmRhdGEuZGV2aWNlVHlwZSAmJiAhaWRNYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTM1LCAnZGV2aWNlVHlwZSBtdXN0IGJlIHNwZWNpZmllZCBpbiB0aGlzIG9wZXJhdGlvbicpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKCFpZE1hdGNoKSB7XG4gICAgICAgIGlmICghZGV2aWNlVG9rZW5NYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBkZXZpY2VUb2tlbk1hdGNoZXMubGVuZ3RoID09IDEgJiZcbiAgICAgICAgICAoIWRldmljZVRva2VuTWF0Y2hlc1swXVsnaW5zdGFsbGF0aW9uSWQnXSB8fCAhaW5zdGFsbGF0aW9uSWQpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNpbmdsZSBtYXRjaCBvbiBkZXZpY2UgdG9rZW4gYnV0IG5vbmUgb24gaW5zdGFsbGF0aW9uSWQsIGFuZCBlaXRoZXJcbiAgICAgICAgICAvLyB0aGUgcGFzc2VkIG9iamVjdCBvciB0aGUgbWF0Y2ggaXMgbWlzc2luZyBhbiBpbnN0YWxsYXRpb25JZCwgc28gd2VcbiAgICAgICAgICAvLyBjYW4ganVzdCByZXR1cm4gdGhlIG1hdGNoLlxuICAgICAgICAgIHJldHVybiBkZXZpY2VUb2tlbk1hdGNoZXNbMF1bJ29iamVjdElkJ107XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihcbiAgICAgICAgICAgIDEzMixcbiAgICAgICAgICAgICdNdXN0IHNwZWNpZnkgaW5zdGFsbGF0aW9uSWQgd2hlbiBkZXZpY2VUb2tlbiAnICtcbiAgICAgICAgICAgICAgJ21hdGNoZXMgbXVsdGlwbGUgSW5zdGFsbGF0aW9uIG9iamVjdHMnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNdWx0aXBsZSBkZXZpY2UgdG9rZW4gbWF0Y2hlcyBhbmQgd2Ugc3BlY2lmaWVkIGFuIGluc3RhbGxhdGlvbiBJRCxcbiAgICAgICAgICAvLyBvciBhIHNpbmdsZSBtYXRjaCB3aGVyZSBib3RoIHRoZSBwYXNzZWQgYW5kIG1hdGNoaW5nIG9iamVjdHMgaGF2ZVxuICAgICAgICAgIC8vIGFuIGluc3RhbGxhdGlvbiBJRC4gVHJ5IGNsZWFuaW5nIG91dCBvbGQgaW5zdGFsbGF0aW9ucyB0aGF0IG1hdGNoXG4gICAgICAgICAgLy8gdGhlIGRldmljZVRva2VuLCBhbmQgcmV0dXJuIG5pbCB0byBzaWduYWwgdGhhdCBhIG5ldyBvYmplY3Qgc2hvdWxkXG4gICAgICAgICAgLy8gYmUgY3JlYXRlZC5cbiAgICAgICAgICB2YXIgZGVsUXVlcnkgPSB7XG4gICAgICAgICAgICBkZXZpY2VUb2tlbjogdGhpcy5kYXRhLmRldmljZVRva2VuLFxuICAgICAgICAgICAgaW5zdGFsbGF0aW9uSWQ6IHtcbiAgICAgICAgICAgICAgJG5lOiBpbnN0YWxsYXRpb25JZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAodGhpcy5kYXRhLmFwcElkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGRlbFF1ZXJ5WydhcHBJZGVudGlmaWVyJ10gPSB0aGlzLmRhdGEuYXBwSWRlbnRpZmllcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb25maWcuZGF0YWJhc2UuZGVzdHJveSgnX0luc3RhbGxhdGlvbicsIGRlbFF1ZXJ5KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgaWYgKGVyci5jb2RlID09IFBhcnNlLkVycm9yLk9CSkVDVF9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgICAgLy8gbm8gZGVsZXRpb25zIHdlcmUgbWFkZS4gQ2FuIGJlIGlnbm9yZWQuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldGhyb3cgdGhlIGVycm9yXG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGV2aWNlVG9rZW5NYXRjaGVzLmxlbmd0aCA9PSAxICYmICFkZXZpY2VUb2tlbk1hdGNoZXNbMF1bJ2luc3RhbGxhdGlvbklkJ10pIHtcbiAgICAgICAgICAvLyBFeGFjdGx5IG9uZSBkZXZpY2UgdG9rZW4gbWF0Y2ggYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhbiBpbnN0YWxsYXRpb25cbiAgICAgICAgICAvLyBJRC4gVGhpcyBpcyB0aGUgb25lIGNhc2Ugd2hlcmUgd2Ugd2FudCB0byBtZXJnZSB3aXRoIHRoZSBleGlzdGluZ1xuICAgICAgICAgIC8vIG9iamVjdC5cbiAgICAgICAgICBjb25zdCBkZWxRdWVyeSA9IHsgb2JqZWN0SWQ6IGlkTWF0Y2gub2JqZWN0SWQgfTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgICAgIC5kZXN0cm95KCdfSW5zdGFsbGF0aW9uJywgZGVsUXVlcnkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBkZXZpY2VUb2tlbk1hdGNoZXNbMF1bJ29iamVjdElkJ107XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PSBQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gZGVsZXRpb25zIHdlcmUgbWFkZS4gQ2FuIGJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gcmV0aHJvdyB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS5kZXZpY2VUb2tlbiAmJiBpZE1hdGNoLmRldmljZVRva2VuICE9IHRoaXMuZGF0YS5kZXZpY2VUb2tlbikge1xuICAgICAgICAgICAgLy8gV2UncmUgc2V0dGluZyB0aGUgZGV2aWNlIHRva2VuIG9uIGFuIGV4aXN0aW5nIGluc3RhbGxhdGlvbiwgc29cbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCB0cnkgY2xlYW5pbmcgb3V0IG9sZCBpbnN0YWxsYXRpb25zIHRoYXQgbWF0Y2ggdGhpc1xuICAgICAgICAgICAgLy8gZGV2aWNlIHRva2VuLlxuICAgICAgICAgICAgY29uc3QgZGVsUXVlcnkgPSB7XG4gICAgICAgICAgICAgIGRldmljZVRva2VuOiB0aGlzLmRhdGEuZGV2aWNlVG9rZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHVuaXF1ZSBpbnN0YWxsIElkLCB1c2UgdGhhdCB0byBwcmVzZXJ2ZVxuICAgICAgICAgICAgLy8gdGhlIGludGVyZXN0aW5nIGluc3RhbGxhdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCkge1xuICAgICAgICAgICAgICBkZWxRdWVyeVsnaW5zdGFsbGF0aW9uSWQnXSA9IHtcbiAgICAgICAgICAgICAgICAkbmU6IHRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIGlkTWF0Y2gub2JqZWN0SWQgJiZcbiAgICAgICAgICAgICAgdGhpcy5kYXRhLm9iamVjdElkICYmXG4gICAgICAgICAgICAgIGlkTWF0Y2gub2JqZWN0SWQgPT0gdGhpcy5kYXRhLm9iamVjdElkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gd2UgcGFzc2VkIGFuIG9iamVjdElkLCBwcmVzZXJ2ZSB0aGF0IGluc3RhbGF0aW9uXG4gICAgICAgICAgICAgIGRlbFF1ZXJ5WydvYmplY3RJZCddID0ge1xuICAgICAgICAgICAgICAgICRuZTogaWRNYXRjaC5vYmplY3RJZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFdoYXQgdG8gZG8gaGVyZT8gY2FuJ3QgcmVhbGx5IGNsZWFuIHVwIGV2ZXJ5dGhpbmcuLi5cbiAgICAgICAgICAgICAgcmV0dXJuIGlkTWF0Y2gub2JqZWN0SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmFwcElkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgZGVsUXVlcnlbJ2FwcElkZW50aWZpZXInXSA9IHRoaXMuZGF0YS5hcHBJZGVudGlmaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25maWcuZGF0YWJhc2UuZGVzdHJveSgnX0luc3RhbGxhdGlvbicsIGRlbFF1ZXJ5KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT0gUGFyc2UuRXJyb3IuT0JKRUNUX05PVF9GT1VORCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGRlbGV0aW9ucyB3ZXJlIG1hZGUuIENhbiBiZSBpZ25vcmVkLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyByZXRocm93IHRoZSBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSW4gbm9uLW1lcmdlIHNjZW5hcmlvcywganVzdCByZXR1cm4gdGhlIGluc3RhbGxhdGlvbiBtYXRjaCBpZFxuICAgICAgICAgIHJldHVybiBpZE1hdGNoLm9iamVjdElkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihvYmpJZCA9PiB7XG4gICAgICBpZiAob2JqSWQpIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IHsgb2JqZWN0SWQ6IG9iaklkIH07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRhdGEub2JqZWN0SWQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRhdGEuY3JlYXRlZEF0O1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogVmFsaWRhdGUgb3BzIChhZGQvcmVtb3ZlIG9uIGNoYW5uZWxzLCAkaW5jIG9uIGJhZGdlLCBldGMuKVxuICAgIH0pO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIElmIHdlIHNob3J0LWNpcmN1aXRlZCB0aGUgb2JqZWN0IHJlc3BvbnNlIC0gdGhlbiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB3ZSBleHBhbmQgYWxsIHRoZSBmaWxlcyxcbi8vIHNpbmNlIHRoaXMgbWlnaHQgbm90IGhhdmUgYSBxdWVyeSwgbWVhbmluZyBpdCB3b24ndCByZXR1cm4gdGhlIGZ1bGwgcmVzdWx0IGJhY2suXG4vLyBUT0RPOiAobmx1dHNlbmtvKSBUaGlzIHNob3VsZCBkaWUgd2hlbiB3ZSBtb3ZlIHRvIHBlci1jbGFzcyBiYXNlZCBjb250cm9sbGVycyBvbiBfU2Vzc2lvbi9fVXNlclxuUmVzdFdyaXRlLnByb3RvdHlwZS5leHBhbmRGaWxlc0ZvckV4aXN0aW5nT2JqZWN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgc2hvcnQtY2lyY3VpdGVkIHJlc3BvbnNlIC0gb25seSB0aGVuIHJ1biBleHBhbnNpb24uXG4gIGlmICh0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2UucmVzcG9uc2UpIHtcbiAgICB0aGlzLmNvbmZpZy5maWxlc0NvbnRyb2xsZXIuZXhwYW5kRmlsZXNJbk9iamVjdCh0aGlzLmNvbmZpZywgdGhpcy5yZXNwb25zZS5yZXNwb25zZSk7XG4gIH1cbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUucnVuRGF0YWJhc2VPcGVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlc3BvbnNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHRoaXMuY2xhc3NOYW1lID09PSAnX1JvbGUnKSB7XG4gICAgdGhpcy5jb25maWcuY2FjaGVDb250cm9sbGVyLnJvbGUuY2xlYXIoKTtcbiAgfVxuXG4gIGlmICh0aGlzLmNsYXNzTmFtZSA9PT0gJ19Vc2VyJyAmJiB0aGlzLnF1ZXJ5ICYmIHRoaXMuYXV0aC5pc1VuYXV0aGVudGljYXRlZCgpKSB7XG4gICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgUGFyc2UuRXJyb3IuU0VTU0lPTl9NSVNTSU5HLFxuICAgICAgYENhbm5vdCBtb2RpZnkgdXNlciAke3RoaXMucXVlcnkub2JqZWN0SWR9LmBcbiAgICApO1xuICB9XG5cbiAgaWYgKHRoaXMuY2xhc3NOYW1lID09PSAnX1Byb2R1Y3QnICYmIHRoaXMuZGF0YS5kb3dubG9hZCkge1xuICAgIHRoaXMuZGF0YS5kb3dubG9hZE5hbWUgPSB0aGlzLmRhdGEuZG93bmxvYWQubmFtZTtcbiAgfVxuXG4gIC8vIFRPRE86IEFkZCBiZXR0ZXIgZGV0ZWN0aW9uIGZvciBBQ0wsIGVuc3VyaW5nIGEgdXNlciBjYW4ndCBiZSBsb2NrZWQgZnJvbVxuICAvLyAgICAgICB0aGVpciBvd24gdXNlciByZWNvcmQuXG4gIGlmICh0aGlzLmRhdGEuQUNMICYmIHRoaXMuZGF0YS5BQ0xbJyp1bnJlc29sdmVkJ10pIHtcbiAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9BQ0wsICdJbnZhbGlkIEFDTC4nKTtcbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5KSB7XG4gICAgLy8gRm9yY2UgdGhlIHVzZXIgdG8gbm90IGxvY2tvdXRcbiAgICAvLyBNYXRjaGVkIHdpdGggcGFyc2UuY29tXG4gICAgaWYgKHRoaXMuY2xhc3NOYW1lID09PSAnX1VzZXInICYmIHRoaXMuZGF0YS5BQ0wgJiYgdGhpcy5hdXRoLmlzTWFzdGVyICE9PSB0cnVlKSB7XG4gICAgICB0aGlzLmRhdGEuQUNMW3RoaXMucXVlcnkub2JqZWN0SWRdID0geyByZWFkOiB0cnVlLCB3cml0ZTogdHJ1ZSB9O1xuICAgIH1cbiAgICAvLyB1cGRhdGUgcGFzc3dvcmQgdGltZXN0YW1wIGlmIHVzZXIgcGFzc3dvcmQgaXMgYmVpbmcgY2hhbmdlZFxuICAgIGlmIChcbiAgICAgIHRoaXMuY2xhc3NOYW1lID09PSAnX1VzZXInICYmXG4gICAgICB0aGlzLmRhdGEuX2hhc2hlZF9wYXNzd29yZCAmJlxuICAgICAgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kgJiZcbiAgICAgIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkQWdlXG4gICAgKSB7XG4gICAgICB0aGlzLmRhdGEuX3Bhc3N3b3JkX2NoYW5nZWRfYXQgPSBQYXJzZS5fZW5jb2RlKG5ldyBEYXRlKCkpO1xuICAgIH1cbiAgICAvLyBJZ25vcmUgY3JlYXRlZEF0IHdoZW4gdXBkYXRlXG4gICAgZGVsZXRlIHRoaXMuZGF0YS5jcmVhdGVkQXQ7XG5cbiAgICBsZXQgZGVmZXIgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAvLyBpZiBwYXNzd29yZCBoaXN0b3J5IGlzIGVuYWJsZWQgdGhlbiBzYXZlIHRoZSBjdXJyZW50IHBhc3N3b3JkIHRvIGhpc3RvcnlcbiAgICBpZiAoXG4gICAgICB0aGlzLmNsYXNzTmFtZSA9PT0gJ19Vc2VyJyAmJlxuICAgICAgdGhpcy5kYXRhLl9oYXNoZWRfcGFzc3dvcmQgJiZcbiAgICAgIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5ICYmXG4gICAgICB0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnlcbiAgICApIHtcbiAgICAgIGRlZmVyID0gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgLmZpbmQoXG4gICAgICAgICAgJ19Vc2VyJyxcbiAgICAgICAgICB7IG9iamVjdElkOiB0aGlzLm9iamVjdElkKCkgfSxcbiAgICAgICAgICB7IGtleXM6IFsnX3Bhc3N3b3JkX2hpc3RvcnknLCAnX2hhc2hlZF9wYXNzd29yZCddIH1cbiAgICAgICAgKVxuICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0c1swXTtcbiAgICAgICAgICBsZXQgb2xkUGFzc3dvcmRzID0gW107XG4gICAgICAgICAgaWYgKHVzZXIuX3Bhc3N3b3JkX2hpc3RvcnkpIHtcbiAgICAgICAgICAgIG9sZFBhc3N3b3JkcyA9IF8udGFrZShcbiAgICAgICAgICAgICAgdXNlci5fcGFzc3dvcmRfaGlzdG9yeSxcbiAgICAgICAgICAgICAgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRIaXN0b3J5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL24tMSBwYXNzd29yZHMgZ28gaW50byBoaXN0b3J5IGluY2x1ZGluZyBsYXN0IHBhc3N3b3JkXG4gICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgb2xkUGFzc3dvcmRzLmxlbmd0aCA+IE1hdGgubWF4KDAsIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSAtIDIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBvbGRQYXNzd29yZHMuc2hpZnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2xkUGFzc3dvcmRzLnB1c2godXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgdGhpcy5kYXRhLl9wYXNzd29yZF9oaXN0b3J5ID0gb2xkUGFzc3dvcmRzO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmZXIudGhlbigoKSA9PiB7XG4gICAgICAvLyBSdW4gYW4gdXBkYXRlXG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgLnVwZGF0ZShcbiAgICAgICAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICB0aGlzLnF1ZXJ5LFxuICAgICAgICAgIHRoaXMuZGF0YSxcbiAgICAgICAgICB0aGlzLnJ1bk9wdGlvbnMsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgdGhpcy52YWxpZFNjaGVtYUNvbnRyb2xsZXJcbiAgICAgICAgKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgcmVzcG9uc2UudXBkYXRlZEF0ID0gdGhpcy51cGRhdGVkQXQ7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlUmVzcG9uc2VXaXRoRGF0YShyZXNwb25zZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlID0geyByZXNwb25zZSB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHQgQUNMIGFuZCBwYXNzd29yZCB0aW1lc3RhbXAgZm9yIHRoZSBuZXcgX1VzZXJcbiAgICBpZiAodGhpcy5jbGFzc05hbWUgPT09ICdfVXNlcicpIHtcbiAgICAgIHZhciBBQ0wgPSB0aGlzLmRhdGEuQUNMO1xuICAgICAgLy8gZGVmYXVsdCBwdWJsaWMgci93IEFDTFxuICAgICAgaWYgKCFBQ0wpIHtcbiAgICAgICAgQUNMID0ge307XG4gICAgICAgIGlmICghdGhpcy5jb25maWcuZW5mb3JjZVByaXZhdGVVc2Vycykge1xuICAgICAgICAgIEFDTFsnKiddID0geyByZWFkOiB0cnVlLCB3cml0ZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gbWFrZSBzdXJlIHRoZSB1c2VyIGlzIG5vdCBsb2NrZWQgZG93blxuICAgICAgQUNMW3RoaXMuZGF0YS5vYmplY3RJZF0gPSB7IHJlYWQ6IHRydWUsIHdyaXRlOiB0cnVlIH07XG4gICAgICB0aGlzLmRhdGEuQUNMID0gQUNMO1xuICAgICAgLy8gcGFzc3dvcmQgdGltZXN0YW1wIHRvIGJlIHVzZWQgd2hlbiBwYXNzd29yZCBleHBpcnkgcG9saWN5IGlzIGVuZm9yY2VkXG4gICAgICBpZiAodGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kgJiYgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRBZ2UpIHtcbiAgICAgICAgdGhpcy5kYXRhLl9wYXNzd29yZF9jaGFuZ2VkX2F0ID0gUGFyc2UuX2VuY29kZShuZXcgRGF0ZSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSdW4gYSBjcmVhdGVcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgIC5jcmVhdGUodGhpcy5jbGFzc05hbWUsIHRoaXMuZGF0YSwgdGhpcy5ydW5PcHRpb25zLCBmYWxzZSwgdGhpcy52YWxpZFNjaGVtYUNvbnRyb2xsZXIpXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUgIT09ICdfVXNlcicgfHwgZXJyb3IuY29kZSAhPT0gUGFyc2UuRXJyb3IuRFVQTElDQVRFX1ZBTFVFKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBRdWljayBjaGVjaywgaWYgd2Ugd2VyZSBhYmxlIHRvIGluZmVyIHRoZSBkdXBsaWNhdGVkIGZpZWxkIG5hbWVcbiAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLnVzZXJJbmZvICYmIGVycm9yLnVzZXJJbmZvLmR1cGxpY2F0ZWRfZmllbGQgPT09ICd1c2VybmFtZScpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5VU0VSTkFNRV9UQUtFTixcbiAgICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHVzZXJuYW1lLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLnVzZXJJbmZvICYmIGVycm9yLnVzZXJJbmZvLmR1cGxpY2F0ZWRfZmllbGQgPT09ICdlbWFpbCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5FTUFJTF9UQUtFTixcbiAgICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGVtYWlsIGFkZHJlc3MuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIHdhcyBhIGZhaWxlZCB1c2VyIGNyZWF0aW9uIGR1ZSB0byB1c2VybmFtZSBvciBlbWFpbCBhbHJlYWR5IHRha2VuLCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgaXQgd2FzIHVzZXJuYW1lIG9yIGVtYWlsIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIGVycm9yLlxuICAgICAgICAvLyBGYWxsYmFjayB0byB0aGUgb3JpZ2luYWwgbWV0aG9kXG4gICAgICAgIC8vIFRPRE86IFNlZSBpZiB3ZSBjYW4gbGF0ZXIgZG8gdGhpcyB3aXRob3V0IGFkZGl0aW9uYWwgcXVlcmllcyBieSB1c2luZyBuYW1lZCBpbmRleGVzLlxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgICAuZmluZChcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5kYXRhLnVzZXJuYW1lLFxuICAgICAgICAgICAgICBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgbGltaXQ6IDEgfVxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLlVTRVJOQU1FX1RBS0VOLFxuICAgICAgICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHVzZXJuYW1lLidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5kYXRhYmFzZS5maW5kKFxuICAgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgeyBlbWFpbDogdGhpcy5kYXRhLmVtYWlsLCBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9IH0sXG4gICAgICAgICAgICAgIHsgbGltaXQ6IDEgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHJlc3VsdHMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICAgICAgUGFyc2UuRXJyb3IuRU1BSUxfVEFLRU4sXG4gICAgICAgICAgICAgICAgJ0FjY291bnQgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgZW1haWwgYWRkcmVzcy4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICAgIFBhcnNlLkVycm9yLkRVUExJQ0FURV9WQUxVRSxcbiAgICAgICAgICAgICAgJ0EgZHVwbGljYXRlIHZhbHVlIGZvciBhIGZpZWxkIHdpdGggdW5pcXVlIHZhbHVlcyB3YXMgcHJvdmlkZWQnXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmVzcG9uc2Uub2JqZWN0SWQgPSB0aGlzLmRhdGEub2JqZWN0SWQ7XG4gICAgICAgIHJlc3BvbnNlLmNyZWF0ZWRBdCA9IHRoaXMuZGF0YS5jcmVhdGVkQXQ7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzcG9uc2VTaG91bGRIYXZlVXNlcm5hbWUpIHtcbiAgICAgICAgICByZXNwb25zZS51c2VybmFtZSA9IHRoaXMuZGF0YS51c2VybmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVSZXNwb25zZVdpdGhEYXRhKHJlc3BvbnNlLCB0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0ge1xuICAgICAgICAgIHN0YXR1czogMjAxLFxuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLmxvY2F0aW9uKCksXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgfVxufTtcblxuLy8gUmV0dXJucyBub3RoaW5nIC0gZG9lc24ndCB3YWl0IGZvciB0aGUgdHJpZ2dlci5cblJlc3RXcml0ZS5wcm90b3R5cGUucnVuQWZ0ZXJTYXZlVHJpZ2dlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnJlc3BvbnNlIHx8ICF0aGlzLnJlc3BvbnNlLnJlc3BvbnNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQXZvaWQgZG9pbmcgYW55IHNldHVwIGZvciB0cmlnZ2VycyBpZiB0aGVyZSBpcyBubyAnYWZ0ZXJTYXZlJyB0cmlnZ2VyIGZvciB0aGlzIGNsYXNzLlxuICBjb25zdCBoYXNBZnRlclNhdmVIb29rID0gdHJpZ2dlcnMudHJpZ2dlckV4aXN0cyhcbiAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICB0cmlnZ2Vycy5UeXBlcy5hZnRlclNhdmUsXG4gICAgdGhpcy5jb25maWcuYXBwbGljYXRpb25JZFxuICApO1xuICBjb25zdCBoYXNMaXZlUXVlcnkgPSB0aGlzLmNvbmZpZy5saXZlUXVlcnlDb250cm9sbGVyLmhhc0xpdmVRdWVyeSh0aGlzLmNsYXNzTmFtZSk7XG4gIGlmICghaGFzQWZ0ZXJTYXZlSG9vayAmJiAhaGFzTGl2ZVF1ZXJ5KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgdmFyIGV4dHJhRGF0YSA9IHsgY2xhc3NOYW1lOiB0aGlzLmNsYXNzTmFtZSB9O1xuICBpZiAodGhpcy5xdWVyeSAmJiB0aGlzLnF1ZXJ5Lm9iamVjdElkKSB7XG4gICAgZXh0cmFEYXRhLm9iamVjdElkID0gdGhpcy5xdWVyeS5vYmplY3RJZDtcbiAgfVxuXG4gIC8vIEJ1aWxkIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdlIG9ubHkgZG8gdGhpcyBmb3IgYSB1cGRhdGUgd3JpdGUuXG4gIGxldCBvcmlnaW5hbE9iamVjdDtcbiAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgIG9yaWdpbmFsT2JqZWN0ID0gdHJpZ2dlcnMuaW5mbGF0ZShleHRyYURhdGEsIHRoaXMub3JpZ2luYWxEYXRhKTtcbiAgfVxuXG4gIC8vIEJ1aWxkIHRoZSBpbmZsYXRlZCBvYmplY3QsIGRpZmZlcmVudCBmcm9tIGJlZm9yZVNhdmUsIG9yaWdpbmFsRGF0YSBpcyBub3QgZW1wdHlcbiAgLy8gc2luY2UgZGV2ZWxvcGVycyBjYW4gY2hhbmdlIGRhdGEgaW4gdGhlIGJlZm9yZVNhdmUuXG4gIGNvbnN0IHVwZGF0ZWRPYmplY3QgPSB0aGlzLmJ1aWxkVXBkYXRlZE9iamVjdChleHRyYURhdGEpO1xuICB1cGRhdGVkT2JqZWN0Ll9oYW5kbGVTYXZlUmVzcG9uc2UodGhpcy5yZXNwb25zZS5yZXNwb25zZSwgdGhpcy5yZXNwb25zZS5zdGF0dXMgfHwgMjAwKTtcblxuICB0aGlzLmNvbmZpZy5kYXRhYmFzZS5sb2FkU2NoZW1hKCkudGhlbihzY2hlbWFDb250cm9sbGVyID0+IHtcbiAgICAvLyBOb3RpZml5IExpdmVRdWVyeVNlcnZlciBpZiBwb3NzaWJsZVxuICAgIGNvbnN0IHBlcm1zID0gc2NoZW1hQ29udHJvbGxlci5nZXRDbGFzc0xldmVsUGVybWlzc2lvbnModXBkYXRlZE9iamVjdC5jbGFzc05hbWUpO1xuICAgIHRoaXMuY29uZmlnLmxpdmVRdWVyeUNvbnRyb2xsZXIub25BZnRlclNhdmUoXG4gICAgICB1cGRhdGVkT2JqZWN0LmNsYXNzTmFtZSxcbiAgICAgIHVwZGF0ZWRPYmplY3QsXG4gICAgICBvcmlnaW5hbE9iamVjdCxcbiAgICAgIHBlcm1zXG4gICAgKTtcbiAgfSk7XG5cbiAgLy8gUnVuIGFmdGVyU2F2ZSB0cmlnZ2VyXG4gIHJldHVybiB0cmlnZ2Vyc1xuICAgIC5tYXliZVJ1blRyaWdnZXIoXG4gICAgICB0cmlnZ2Vycy5UeXBlcy5hZnRlclNhdmUsXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICB1cGRhdGVkT2JqZWN0LFxuICAgICAgb3JpZ2luYWxPYmplY3QsXG4gICAgICB0aGlzLmNvbmZpZyxcbiAgICAgIHRoaXMuY29udGV4dFxuICAgIClcbiAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLnJlc3BvbnNlLnJlc3BvbnNlID0gcmVzdWx0O1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdhZnRlclNhdmUgY2F1Z2h0IGFuIGVycm9yJywgZXJyKTtcbiAgICB9KTtcbn07XG5cbi8vIEEgaGVscGVyIHRvIGZpZ3VyZSBvdXQgd2hhdCBsb2NhdGlvbiB0aGlzIG9wZXJhdGlvbiBoYXBwZW5zIGF0LlxuUmVzdFdyaXRlLnByb3RvdHlwZS5sb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG1pZGRsZSA9IHRoaXMuY2xhc3NOYW1lID09PSAnX1VzZXInID8gJy91c2Vycy8nIDogJy9jbGFzc2VzLycgKyB0aGlzLmNsYXNzTmFtZSArICcvJztcbiAgY29uc3QgbW91bnQgPSB0aGlzLmNvbmZpZy5tb3VudCB8fCB0aGlzLmNvbmZpZy5zZXJ2ZXJVUkw7XG4gIHJldHVybiBtb3VudCArIG1pZGRsZSArIHRoaXMuZGF0YS5vYmplY3RJZDtcbn07XG5cbi8vIEEgaGVscGVyIHRvIGdldCB0aGUgb2JqZWN0IGlkIGZvciB0aGlzIG9wZXJhdGlvbi5cbi8vIEJlY2F1c2UgaXQgY291bGQgYmUgZWl0aGVyIG9uIHRoZSBxdWVyeSBvciBvbiB0aGUgZGF0YVxuUmVzdFdyaXRlLnByb3RvdHlwZS5vYmplY3RJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZGF0YS5vYmplY3RJZCB8fCB0aGlzLnF1ZXJ5Lm9iamVjdElkO1xufTtcblxuLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGRhdGEgYW5kIGRlbGV0ZSBiYWQga2V5cyAoX2F1dGhfZGF0YSwgX2hhc2hlZF9wYXNzd29yZC4uLilcblJlc3RXcml0ZS5wcm90b3R5cGUuc2FuaXRpemVkRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgZGF0YSA9IE9iamVjdC5rZXlzKHRoaXMuZGF0YSkucmVkdWNlKChkYXRhLCBrZXkpID0+IHtcbiAgICAvLyBSZWdleHAgY29tZXMgZnJvbSBQYXJzZS5PYmplY3QucHJvdG90eXBlLnZhbGlkYXRlXG4gICAgaWYgKCEvXltBLVphLXpdWzAtOUEtWmEtel9dKiQvLnRlc3Qoa2V5KSkge1xuICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sIGRlZXBjb3B5KHRoaXMuZGF0YSkpO1xuICByZXR1cm4gUGFyc2UuX2RlY29kZSh1bmRlZmluZWQsIGRhdGEpO1xufTtcblxuLy8gUmV0dXJucyBhbiB1cGRhdGVkIGNvcHkgb2YgdGhlIG9iamVjdFxuUmVzdFdyaXRlLnByb3RvdHlwZS5idWlsZFVwZGF0ZWRPYmplY3QgPSBmdW5jdGlvbiAoZXh0cmFEYXRhKSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IFBhcnNlLk9iamVjdC5mcm9tSlNPTihleHRyYURhdGEpO1xuICBjb25zdCByZWFkT25seUF0dHJpYnV0ZXMgPSBjbGFzc05hbWUuY29uc3RydWN0b3IucmVhZE9ubHlBdHRyaWJ1dGVzXG4gICAgPyBjbGFzc05hbWUuY29uc3RydWN0b3IucmVhZE9ubHlBdHRyaWJ1dGVzKClcbiAgICA6IFtdO1xuICBpZiAoIXRoaXMub3JpZ2luYWxEYXRhKSB7XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgcmVhZE9ubHlBdHRyaWJ1dGVzKSB7XG4gICAgICBleHRyYURhdGFbYXR0cmlidXRlXSA9IHRoaXMuZGF0YVthdHRyaWJ1dGVdO1xuICAgIH1cbiAgfVxuICBjb25zdCB1cGRhdGVkT2JqZWN0ID0gdHJpZ2dlcnMuaW5mbGF0ZShleHRyYURhdGEsIHRoaXMub3JpZ2luYWxEYXRhKTtcbiAgT2JqZWN0LmtleXModGhpcy5kYXRhKS5yZWR1Y2UoZnVuY3Rpb24gKGRhdGEsIGtleSkge1xuICAgIGlmIChrZXkuaW5kZXhPZignLicpID4gMCkge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhW2tleV0uX19vcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKCFyZWFkT25seUF0dHJpYnV0ZXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgIHVwZGF0ZWRPYmplY3Quc2V0KGtleSwgZGF0YVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3ViZG9jdW1lbnQga2V5IHdpdGggZG90IG5vdGF0aW9uIHsgJ3gueSc6IHYgfSA9PiB7ICd4JzogeyAneScgOiB2IH0gfSlcbiAgICAgICAgY29uc3Qgc3BsaXR0ZWRLZXkgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICAgICAgY29uc3QgcGFyZW50UHJvcCA9IHNwbGl0dGVkS2V5WzBdO1xuICAgICAgICBsZXQgcGFyZW50VmFsID0gdXBkYXRlZE9iamVjdC5nZXQocGFyZW50UHJvcCk7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyZW50VmFsICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHBhcmVudFZhbCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudFZhbFtzcGxpdHRlZEtleVsxXV0gPSBkYXRhW2tleV07XG4gICAgICAgIHVwZGF0ZWRPYmplY3Quc2V0KHBhcmVudFByb3AsIHBhcmVudFZhbCk7XG4gICAgICB9XG4gICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSwgZGVlcGNvcHkodGhpcy5kYXRhKSk7XG5cbiAgY29uc3Qgc2FuaXRpemVkID0gdGhpcy5zYW5pdGl6ZWREYXRhKCk7XG4gIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHJlYWRPbmx5QXR0cmlidXRlcykge1xuICAgIGRlbGV0ZSBzYW5pdGl6ZWRbYXR0cmlidXRlXTtcbiAgfVxuICB1cGRhdGVkT2JqZWN0LnNldChzYW5pdGl6ZWQpO1xuICByZXR1cm4gdXBkYXRlZE9iamVjdDtcbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUuY2xlYW5Vc2VyQXV0aERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2UucmVzcG9uc2UgJiYgdGhpcy5jbGFzc05hbWUgPT09ICdfVXNlcicpIHtcbiAgICBjb25zdCB1c2VyID0gdGhpcy5yZXNwb25zZS5yZXNwb25zZTtcbiAgICBpZiAodXNlci5hdXRoRGF0YSkge1xuICAgICAgT2JqZWN0LmtleXModXNlci5hdXRoRGF0YSkuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICAgIGlmICh1c2VyLmF1dGhEYXRhW3Byb3ZpZGVyXSA9PT0gbnVsbCkge1xuICAgICAgICAgIGRlbGV0ZSB1c2VyLmF1dGhEYXRhW3Byb3ZpZGVyXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoT2JqZWN0LmtleXModXNlci5hdXRoRGF0YSkubGVuZ3RoID09IDApIHtcbiAgICAgICAgZGVsZXRlIHVzZXIuYXV0aERhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLl91cGRhdGVSZXNwb25zZVdpdGhEYXRhID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhKSB7XG4gIGlmIChfLmlzRW1wdHkodGhpcy5zdG9yYWdlLmZpZWxkc0NoYW5nZWRCeVRyaWdnZXIpKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzRGVsZXRlID0gQ2xpZW50U0RLLnN1cHBvcnRzRm9yd2FyZERlbGV0ZSh0aGlzLmNsaWVudFNESyk7XG4gIHRoaXMuc3RvcmFnZS5maWVsZHNDaGFuZ2VkQnlUcmlnZ2VyLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICBjb25zdCBkYXRhVmFsdWUgPSBkYXRhW2ZpZWxkTmFtZV07XG5cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXNwb25zZSwgZmllbGROYW1lKSkge1xuICAgICAgcmVzcG9uc2VbZmllbGROYW1lXSA9IGRhdGFWYWx1ZTtcbiAgICB9XG5cbiAgICAvLyBTdHJpcHMgb3BlcmF0aW9ucyBmcm9tIHJlc3BvbnNlc1xuICAgIGlmIChyZXNwb25zZVtmaWVsZE5hbWVdICYmIHJlc3BvbnNlW2ZpZWxkTmFtZV0uX19vcCkge1xuICAgICAgZGVsZXRlIHJlc3BvbnNlW2ZpZWxkTmFtZV07XG4gICAgICBpZiAoY2xpZW50U3VwcG9ydHNEZWxldGUgJiYgZGF0YVZhbHVlLl9fb3AgPT0gJ0RlbGV0ZScpIHtcbiAgICAgICAgcmVzcG9uc2VbZmllbGROYW1lXSA9IGRhdGFWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZXN0V3JpdGU7XG5tb2R1bGUuZXhwb3J0cyA9IFJlc3RXcml0ZTtcbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9SZXN0V3JpdGUuanMiXSwibmFtZXMiOlsiU2NoZW1hQ29udHJvbGxlciIsInJlcXVpcmUiLCJkZWVwY29weSIsIkF1dGgiLCJjcnlwdG9VdGlscyIsInBhc3N3b3JkQ3J5cHRvIiwiUGFyc2UiLCJ0cmlnZ2VycyIsIkNsaWVudFNESyIsImF1dGgiLCJjb250ZXh0IiwiT2JqZWN0IiwiZGF0YSIsIlJlc3RXcml0ZSIsInNjaGVtYUNvbnRyb2xsZXIiLCJQcm9taXNlIiwicm9sZXMiLCJoYXNDbGFzcyIsImV4dHJhRGF0YSIsImNsYXNzTmFtZSIsIm9yaWdpbmFsT2JqZWN0IiwidXBkYXRlZE9iamVjdCIsImRhdGFiYXNlUHJvbWlzZSIsInJlc3VsdCIsInJlc3BvbnNlIiwiXyIsInVzZXIiLCJhbGxDbGFzc2VzIiwic2NoZW1hIiwib25lQ2xhc3MiLCJzZXRSZXF1aXJlZEZpZWxkSWZOZWVkZWQiLCJzZXREZWZhdWx0IiwiZmllbGROYW1lIiwiYXV0aERhdGEiLCJwcm92aWRlcnMiLCJjYW5IYW5kbGVBdXRoRGF0YSIsInByb3ZpZGVyQXV0aERhdGEiLCJoYXNUb2tlbiIsImNhbkhhbmRsZSIsInZhbGlkYXRpb25zIiwicHJvdmlkZXIiLCJ2YWxpZGF0ZUF1dGhEYXRhIiwicXVlcnkiLCJxdWVyeUtleSIsIm1lbW8iLCJxIiwiZmluZFByb21pc2UiLCIkb3IiLCJvYmplY3QiLCJyZXN1bHRzIiwidXNlclJlc3VsdCIsIm11dGF0ZWRBdXRoRGF0YSIsInByb3ZpZGVyRGF0YSIsInVzZXJBdXRoRGF0YSIsImhhc011dGF0ZWRBdXRoRGF0YSIsInVzZXJJZCIsImxvY2F0aW9uIiwib2JqZWN0SWQiLCJwcm9taXNlIiwiZXJyb3IiLCJSZXN0UXVlcnkiLCJfX3R5cGUiLCJzZXNzaW9uIiwiaGFzaGVkUGFzc3dvcmQiLCJ1c2VybmFtZSIsIiRuZSIsImxpbWl0IiwiY2FzZUluc2Vuc2l0aXZlIiwiZW1haWwiLCJwb2xpY3lFcnJvciIsImNvbnRhaW5zVXNlcm5hbWVFcnJvciIsImtleXMiLCJvbGRQYXNzd29yZHMiLCJuZXdQYXNzd29yZCIsInByb21pc2VzIiwiZXJyIiwibWF4UGFzc3dvcmRIaXN0b3J5IiwiY3JlYXRlU2Vzc2lvbiIsImNyZWF0ZWRXaXRoIiwiYWN0aW9uIiwiYXV0aFByb3ZpZGVyIiwiaW5zdGFsbGF0aW9uSWQiLCJzZXNzaW9uRGF0YSIsImFkZGl0aW9uYWxTZXNzaW9uRGF0YSIsInRva2VuIiwiZXhwaXJlc0F0IiwiY29uZmlnIiwic2Vzc2lvblRva2VuIiwiYWRkT3BzIiwiX3BlcmlzaGFibGVfdG9rZW4iLCJfX29wIiwiX3BlcmlzaGFibGVfdG9rZW5fZXhwaXJlc19hdCIsInNlc3Npb25RdWVyeSIsImtleSIsInN0YXR1cyIsImRldmljZVRva2VuTWF0Y2hlcyIsIm9yUXVlcmllcyIsImRldmljZVRva2VuIiwib2JqZWN0SWRNYXRjaCIsImluc3RhbGxhdGlvbklkTWF0Y2giLCJpZE1hdGNoIiwiZGVsUXVlcnkiLCJvYmpJZCIsInJlYWQiLCJ3cml0ZSIsImRlZmVyIiwiTWF0aCIsIkFDTCIsImhhc0FmdGVyU2F2ZUhvb2siLCJoYXNMaXZlUXVlcnkiLCJwZXJtcyIsImxvZ2dlciIsIm1pZGRsZSIsIm1vdW50IiwicmVhZE9ubHlBdHRyaWJ1dGVzIiwic3BsaXR0ZWRLZXkiLCJwYXJlbnRQcm9wIiwicGFyZW50VmFsIiwic2FuaXRpemVkIiwiY2xpZW50U3VwcG9ydHNEZWxldGUiLCJkYXRhVmFsdWUiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJvcG5PQUFBOzJOQWFBLEdBQUEsQ0FBQSxVQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLGFBQUEsQ0FBQSxDQUFBLENBQUEsQ0FDQSxHQUFBLENBQUEsT0FBQSwwQkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxRQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLE9BQUEsMEJBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsVUFBQSxDQUFBLENBQUEsQ0FBQSxDLHNQ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QUFBQSxTQUFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQSBSZXN0V3JpdGUgZW5jYXBzdWxhdGVzIGV2ZXJ5dGhpbmcgd2UgbmVlZCB0byBydW4gYW4gb3BlcmF0aW9uXG4vLyB0aGF0IHdyaXRlcyB0byB0aGUgZGF0YWJhc2UuXG4vLyBUaGlzIGNvdWxkIGJlIGVpdGhlciBhIFwiY3JlYXRlXCIgb3IgYW4gXCJ1cGRhdGVcIi5cblxudmFyIFNjaGVtYUNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL0NvbnRyb2xsZXJzL1NjaGVtYUNvbnRyb2xsZXInKTtcbnZhciBkZWVwY29weSA9IHJlcXVpcmUoJ2RlZXBjb3B5Jyk7XG5cbmNvbnN0IEF1dGggPSByZXF1aXJlKCcuL0F1dGgnKTtcbnZhciBjcnlwdG9VdGlscyA9IHJlcXVpcmUoJy4vY3J5cHRvVXRpbHMnKTtcbnZhciBwYXNzd29yZENyeXB0byA9IHJlcXVpcmUoJy4vcGFzc3dvcmQnKTtcbnZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlL25vZGUnKTtcbnZhciB0cmlnZ2VycyA9IHJlcXVpcmUoJy4vdHJpZ2dlcnMnKTtcbnZhciBDbGllbnRTREsgPSByZXF1aXJlKCcuL0NsaWVudFNESycpO1xuaW1wb3J0IFJlc3RRdWVyeSBmcm9tICcuL1Jlc3RRdWVyeSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5cbi8vIHF1ZXJ5IGFuZCBkYXRhIGFyZSBib3RoIHByb3ZpZGVkIGluIFJFU1QgQVBJIGZvcm1hdC4gU28gZGF0YVxuLy8gdHlwZXMgYXJlIGVuY29kZWQgYnkgcGxhaW4gb2xkIG9iamVjdHMuXG4vLyBJZiBxdWVyeSBpcyBudWxsLCB0aGlzIGlzIGEgXCJjcmVhdGVcIiBhbmQgdGhlIGRhdGEgaW4gZGF0YSBzaG91bGQgYmVcbi8vIGNyZWF0ZWQuXG4vLyBPdGhlcndpc2UgdGhpcyBpcyBhbiBcInVwZGF0ZVwiIC0gdGhlIG9iamVjdCBtYXRjaGluZyB0aGUgcXVlcnlcbi8vIHNob3VsZCBnZXQgdXBkYXRlZCB3aXRoIGRhdGEuXG4vLyBSZXN0V3JpdGUgd2lsbCBoYW5kbGUgb2JqZWN0SWQsIGNyZWF0ZWRBdCwgYW5kIHVwZGF0ZWRBdCBmb3Jcbi8vIGV2ZXJ5dGhpbmcuIEl0IGFsc28ga25vd3MgdG8gdXNlIHRyaWdnZXJzIGFuZCBzcGVjaWFsIG1vZGlmaWNhdGlvbnNcbi8vIGZvciB0aGUgX1VzZXIgY2xhc3MuXG5mdW5jdGlvbiBSZXN0V3JpdGUoY29uZmlnLCBhdXRoLCBjbGFzc05hbWUsIHF1ZXJ5LCBkYXRhLCBvcmlnaW5hbERhdGEsIGNsaWVudFNESywgY29udGV4dCwgYWN0aW9uKSB7XG4gIGlmIChhdXRoLmlzUmVhZE9ubHkpIHtcbiAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICBQYXJzZS5FcnJvci5PUEVSQVRJT05fRk9SQklEREVOLFxuICAgICAgJ0Nhbm5vdCBwZXJmb3JtIGEgd3JpdGUgb3BlcmF0aW9uIHdoZW4gdXNpbmcgcmVhZE9ubHlNYXN0ZXJLZXknXG4gICAgKTtcbiAgfVxuICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgdGhpcy5hdXRoID0gYXV0aDtcbiAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gIHRoaXMuY2xpZW50U0RLID0gY2xpZW50U0RLO1xuICB0aGlzLnN0b3JhZ2UgPSB7fTtcbiAgdGhpcy5ydW5PcHRpb25zID0ge307XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge307XG5cbiAgaWYgKGFjdGlvbikge1xuICAgIHRoaXMucnVuT3B0aW9ucy5hY3Rpb24gPSBhY3Rpb247XG4gIH1cblxuICBpZiAoIXF1ZXJ5KSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLmFsbG93Q3VzdG9tT2JqZWN0SWQpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwgJ29iamVjdElkJykgJiYgIWRhdGEub2JqZWN0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgIFBhcnNlLkVycm9yLk1JU1NJTkdfT0JKRUNUX0lELFxuICAgICAgICAgICdvYmplY3RJZCBtdXN0IG5vdCBiZSBlbXB0eSwgbnVsbCBvciB1bmRlZmluZWQnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkYXRhLm9iamVjdElkKSB7XG4gICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FLCAnb2JqZWN0SWQgaXMgYW4gaW52YWxpZCBmaWVsZCBuYW1lLicpO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfS0VZX05BTUUsICdpZCBpcyBhbiBpbnZhbGlkIGZpZWxkIG5hbWUuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gV2hlbiB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlLCB0aGlzLnJlc3BvbnNlIG1heSBoYXZlIHNldmVyYWxcbiAgLy8gZmllbGRzLlxuICAvLyByZXNwb25zZTogdGhlIGFjdHVhbCBkYXRhIHRvIGJlIHJldHVybmVkXG4gIC8vIHN0YXR1czogdGhlIGh0dHAgc3RhdHVzIGNvZGUuIGlmIG5vdCBwcmVzZW50LCB0cmVhdGVkIGxpa2UgYSAyMDBcbiAgLy8gbG9jYXRpb246IHRoZSBsb2NhdGlvbiBoZWFkZXIuIGlmIG5vdCBwcmVzZW50LCBubyBsb2NhdGlvbiBoZWFkZXJcbiAgdGhpcy5yZXNwb25zZSA9IG51bGw7XG5cbiAgLy8gUHJvY2Vzc2luZyB0aGlzIG9wZXJhdGlvbiBtYXkgbXV0YXRlIG91ciBkYXRhLCBzbyB3ZSBvcGVyYXRlIG9uIGFcbiAgLy8gY29weVxuICB0aGlzLnF1ZXJ5ID0gZGVlcGNvcHkocXVlcnkpO1xuICB0aGlzLmRhdGEgPSBkZWVwY29weShkYXRhKTtcbiAgLy8gV2UgbmV2ZXIgY2hhbmdlIG9yaWdpbmFsRGF0YSwgc28gd2UgZG8gbm90IG5lZWQgYSBkZWVwIGNvcHlcbiAgdGhpcy5vcmlnaW5hbERhdGEgPSBvcmlnaW5hbERhdGE7XG5cbiAgLy8gVGhlIHRpbWVzdGFtcCB3ZSdsbCB1c2UgZm9yIHRoaXMgd2hvbGUgb3BlcmF0aW9uXG4gIHRoaXMudXBkYXRlZEF0ID0gUGFyc2UuX2VuY29kZShuZXcgRGF0ZSgpKS5pc287XG5cbiAgLy8gU2hhcmVkIFNjaGVtYUNvbnRyb2xsZXIgdG8gYmUgcmV1c2VkIHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIGxvYWRTY2hlbWEoKSBjYWxscyBwZXIgcmVxdWVzdFxuICAvLyBPbmNlIHNldCB0aGUgc2NoZW1hRGF0YSBzaG91bGQgYmUgaW1tdXRhYmxlXG4gIHRoaXMudmFsaWRTY2hlbWFDb250cm9sbGVyID0gbnVsbDtcbn1cblxuLy8gQSBjb252ZW5pZW50IG1ldGhvZCB0byBwZXJmb3JtIGFsbCB0aGUgc3RlcHMgb2YgcHJvY2Vzc2luZyB0aGVcbi8vIHdyaXRlLCBpbiBvcmRlci5cbi8vIFJldHVybnMgYSBwcm9taXNlIGZvciBhIHtyZXNwb25zZSwgc3RhdHVzLCBsb2NhdGlvbn0gb2JqZWN0LlxuLy8gc3RhdHVzIGFuZCBsb2NhdGlvbiBhcmUgb3B0aW9uYWwuXG5SZXN0V3JpdGUucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmdldFVzZXJBbmRSb2xlQUNMKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUNsaWVudENsYXNzQ3JlYXRpb24oKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZUluc3RhbGxhdGlvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU2Vzc2lvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVBdXRoRGF0YSgpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucnVuQmVmb3JlU2F2ZVRyaWdnZXIoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUVtYWlsUmVzZXRUb2tlbklmTmVlZGVkKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNjaGVtYSgpO1xuICAgIH0pXG4gICAgLnRoZW4oc2NoZW1hQ29udHJvbGxlciA9PiB7XG4gICAgICB0aGlzLnZhbGlkU2NoZW1hQ29udHJvbGxlciA9IHNjaGVtYUNvbnRyb2xsZXI7XG4gICAgICByZXR1cm4gdGhpcy5zZXRSZXF1aXJlZEZpZWxkc0lmTmVlZGVkKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Vc2VyKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5leHBhbmRGaWxlc0ZvckV4aXN0aW5nT2JqZWN0cygpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveUR1cGxpY2F0ZWRTZXNzaW9ucygpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucnVuRGF0YWJhc2VPcGVyYXRpb24oKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlc3Npb25Ub2tlbklmTmVlZGVkKCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVGb2xsb3d1cCgpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucnVuQWZ0ZXJTYXZlVHJpZ2dlcigpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuY2xlYW5Vc2VyQXV0aERhdGEoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlO1xuICAgIH0pO1xufTtcblxuLy8gVXNlcyB0aGUgQXV0aCBvYmplY3QgdG8gZ2V0IHRoZSBsaXN0IG9mIHJvbGVzLCBhZGRzIHRoZSB1c2VyIGlkXG5SZXN0V3JpdGUucHJvdG90eXBlLmdldFVzZXJBbmRSb2xlQUNMID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5hdXRoLmlzTWFzdGVyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgdGhpcy5ydW5PcHRpb25zLmFjbCA9IFsnKiddO1xuXG4gIGlmICh0aGlzLmF1dGgudXNlcikge1xuICAgIHJldHVybiB0aGlzLmF1dGguZ2V0VXNlclJvbGVzKCkudGhlbihyb2xlcyA9PiB7XG4gICAgICB0aGlzLnJ1bk9wdGlvbnMuYWNsID0gdGhpcy5ydW5PcHRpb25zLmFjbC5jb25jYXQocm9sZXMsIFt0aGlzLmF1dGgudXNlci5pZF0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLy8gVmFsaWRhdGVzIHRoaXMgb3BlcmF0aW9uIGFnYWluc3QgdGhlIGFsbG93Q2xpZW50Q2xhc3NDcmVhdGlvbiBjb25maWcuXG5SZXN0V3JpdGUucHJvdG90eXBlLnZhbGlkYXRlQ2xpZW50Q2xhc3NDcmVhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKFxuICAgIHRoaXMuY29uZmlnLmFsbG93Q2xpZW50Q2xhc3NDcmVhdGlvbiA9PT0gZmFsc2UgJiZcbiAgICAhdGhpcy5hdXRoLmlzTWFzdGVyICYmXG4gICAgU2NoZW1hQ29udHJvbGxlci5zeXN0ZW1DbGFzc2VzLmluZGV4T2YodGhpcy5jbGFzc05hbWUpID09PSAtMVxuICApIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgIC5sb2FkU2NoZW1hKClcbiAgICAgIC50aGVuKHNjaGVtYUNvbnRyb2xsZXIgPT4gc2NoZW1hQ29udHJvbGxlci5oYXNDbGFzcyh0aGlzLmNsYXNzTmFtZSkpXG4gICAgICAudGhlbihoYXNDbGFzcyA9PiB7XG4gICAgICAgIGlmIChoYXNDbGFzcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihcbiAgICAgICAgICAgIFBhcnNlLkVycm9yLk9QRVJBVElPTl9GT1JCSURERU4sXG4gICAgICAgICAgICAnVGhpcyB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIGFjY2VzcyAnICsgJ25vbi1leGlzdGVudCBjbGFzczogJyArIHRoaXMuY2xhc3NOYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59O1xuXG4vLyBWYWxpZGF0ZXMgdGhpcyBvcGVyYXRpb24gYWdhaW5zdCB0aGUgc2NoZW1hLlxuUmVzdFdyaXRlLnByb3RvdHlwZS52YWxpZGF0ZVNjaGVtYSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlLnZhbGlkYXRlT2JqZWN0KFxuICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgIHRoaXMuZGF0YSxcbiAgICB0aGlzLnF1ZXJ5LFxuICAgIHRoaXMucnVuT3B0aW9uc1xuICApO1xufTtcblxuLy8gUnVucyBhbnkgYmVmb3JlU2F2ZSB0cmlnZ2VycyBhZ2FpbnN0IHRoaXMgb3BlcmF0aW9uLlxuLy8gQW55IGNoYW5nZSBsZWFkcyB0byBvdXIgZGF0YSBiZWluZyBtdXRhdGVkLlxuUmVzdFdyaXRlLnByb3RvdHlwZS5ydW5CZWZvcmVTYXZlVHJpZ2dlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBBdm9pZCBkb2luZyBhbnkgc2V0dXAgZm9yIHRyaWdnZXJzIGlmIHRoZXJlIGlzIG5vICdiZWZvcmVTYXZlJyB0cmlnZ2VyIGZvciB0aGlzIGNsYXNzLlxuICBpZiAoXG4gICAgIXRyaWdnZXJzLnRyaWdnZXJFeGlzdHModGhpcy5jbGFzc05hbWUsIHRyaWdnZXJzLlR5cGVzLmJlZm9yZVNhdmUsIHRoaXMuY29uZmlnLmFwcGxpY2F0aW9uSWQpXG4gICkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8vIENsb3VkIGNvZGUgZ2V0cyBhIGJpdCBvZiBleHRyYSBkYXRhIGZvciBpdHMgb2JqZWN0c1xuICB2YXIgZXh0cmFEYXRhID0geyBjbGFzc05hbWU6IHRoaXMuY2xhc3NOYW1lIH07XG4gIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMucXVlcnkub2JqZWN0SWQpIHtcbiAgICBleHRyYURhdGEub2JqZWN0SWQgPSB0aGlzLnF1ZXJ5Lm9iamVjdElkO1xuICB9XG5cbiAgbGV0IG9yaWdpbmFsT2JqZWN0ID0gbnVsbDtcbiAgY29uc3QgdXBkYXRlZE9iamVjdCA9IHRoaXMuYnVpbGRVcGRhdGVkT2JqZWN0KGV4dHJhRGF0YSk7XG4gIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMucXVlcnkub2JqZWN0SWQpIHtcbiAgICAvLyBUaGlzIGlzIGFuIHVwZGF0ZSBmb3IgZXhpc3Rpbmcgb2JqZWN0LlxuICAgIG9yaWdpbmFsT2JqZWN0ID0gdHJpZ2dlcnMuaW5mbGF0ZShleHRyYURhdGEsIHRoaXMub3JpZ2luYWxEYXRhKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIC8vIEJlZm9yZSBjYWxsaW5nIHRoZSB0cmlnZ2VyLCB2YWxpZGF0ZSB0aGUgcGVybWlzc2lvbnMgZm9yIHRoZSBzYXZlIG9wZXJhdGlvblxuICAgICAgbGV0IGRhdGFiYXNlUHJvbWlzZSA9IG51bGw7XG4gICAgICBpZiAodGhpcy5xdWVyeSkge1xuICAgICAgICAvLyBWYWxpZGF0ZSBmb3IgdXBkYXRpbmdcbiAgICAgICAgZGF0YWJhc2VQcm9taXNlID0gdGhpcy5jb25maWcuZGF0YWJhc2UudXBkYXRlKFxuICAgICAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICAgIHRoaXMucXVlcnksXG4gICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgIHRoaXMucnVuT3B0aW9ucyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFZhbGlkYXRlIGZvciBjcmVhdGluZ1xuICAgICAgICBkYXRhYmFzZVByb21pc2UgPSB0aGlzLmNvbmZpZy5kYXRhYmFzZS5jcmVhdGUoXG4gICAgICAgICAgdGhpcy5jbGFzc05hbWUsXG4gICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgIHRoaXMucnVuT3B0aW9ucyxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBJbiB0aGUgY2FzZSB0aGF0IHRoZXJlIGlzIG5vIHBlcm1pc3Npb24gZm9yIHRoZSBvcGVyYXRpb24sIGl0IHRocm93cyBhbiBlcnJvclxuICAgICAgcmV0dXJuIGRhdGFiYXNlUHJvbWlzZS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIGlmICghcmVzdWx0IHx8IHJlc3VsdC5sZW5ndGggPD0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdHJpZ2dlcnMubWF5YmVSdW5UcmlnZ2VyKFxuICAgICAgICB0cmlnZ2Vycy5UeXBlcy5iZWZvcmVTYXZlLFxuICAgICAgICB0aGlzLmF1dGgsXG4gICAgICAgIHVwZGF0ZWRPYmplY3QsXG4gICAgICAgIG9yaWdpbmFsT2JqZWN0LFxuICAgICAgICB0aGlzLmNvbmZpZyxcbiAgICAgICAgdGhpcy5jb250ZXh0XG4gICAgICApO1xuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm9iamVjdCkge1xuICAgICAgICB0aGlzLnN0b3JhZ2UuZmllbGRzQ2hhbmdlZEJ5VHJpZ2dlciA9IF8ucmVkdWNlKFxuICAgICAgICAgIHJlc3BvbnNlLm9iamVjdCxcbiAgICAgICAgICAocmVzdWx0LCB2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIV8uaXNFcXVhbCh0aGlzLmRhdGFba2V5XSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW11cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2Uub2JqZWN0O1xuICAgICAgICAvLyBXZSBzaG91bGQgZGVsZXRlIHRoZSBvYmplY3RJZCBmb3IgYW4gdXBkYXRlIHdyaXRlXG4gICAgICAgIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMucXVlcnkub2JqZWN0SWQpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5kYXRhLm9iamVjdElkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLnJ1bkJlZm9yZUxvZ2luVHJpZ2dlciA9IGFzeW5jIGZ1bmN0aW9uICh1c2VyRGF0YSkge1xuICAvLyBBdm9pZCBkb2luZyBhbnkgc2V0dXAgZm9yIHRyaWdnZXJzIGlmIHRoZXJlIGlzIG5vICdiZWZvcmVMb2dpbicgdHJpZ2dlclxuICBpZiAoXG4gICAgIXRyaWdnZXJzLnRyaWdnZXJFeGlzdHModGhpcy5jbGFzc05hbWUsIHRyaWdnZXJzLlR5cGVzLmJlZm9yZUxvZ2luLCB0aGlzLmNvbmZpZy5hcHBsaWNhdGlvbklkKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDbG91ZCBjb2RlIGdldHMgYSBiaXQgb2YgZXh0cmEgZGF0YSBmb3IgaXRzIG9iamVjdHNcbiAgY29uc3QgZXh0cmFEYXRhID0geyBjbGFzc05hbWU6IHRoaXMuY2xhc3NOYW1lIH07XG5cbiAgLy8gRXhwYW5kIGZpbGUgb2JqZWN0c1xuICB0aGlzLmNvbmZpZy5maWxlc0NvbnRyb2xsZXIuZXhwYW5kRmlsZXNJbk9iamVjdCh0aGlzLmNvbmZpZywgdXNlckRhdGEpO1xuXG4gIGNvbnN0IHVzZXIgPSB0cmlnZ2Vycy5pbmZsYXRlKGV4dHJhRGF0YSwgdXNlckRhdGEpO1xuXG4gIC8vIG5vIG5lZWQgdG8gcmV0dXJuIGEgcmVzcG9uc2VcbiAgYXdhaXQgdHJpZ2dlcnMubWF5YmVSdW5UcmlnZ2VyKFxuICAgIHRyaWdnZXJzLlR5cGVzLmJlZm9yZUxvZ2luLFxuICAgIHRoaXMuYXV0aCxcbiAgICB1c2VyLFxuICAgIG51bGwsXG4gICAgdGhpcy5jb25maWcsXG4gICAgdGhpcy5jb250ZXh0XG4gICk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLnNldFJlcXVpcmVkRmllbGRzSWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZFNjaGVtYUNvbnRyb2xsZXIuZ2V0QWxsQ2xhc3NlcygpLnRoZW4oYWxsQ2xhc3NlcyA9PiB7XG4gICAgICBjb25zdCBzY2hlbWEgPSBhbGxDbGFzc2VzLmZpbmQob25lQ2xhc3MgPT4gb25lQ2xhc3MuY2xhc3NOYW1lID09PSB0aGlzLmNsYXNzTmFtZSk7XG4gICAgICBjb25zdCBzZXRSZXF1aXJlZEZpZWxkSWZOZWVkZWQgPSAoZmllbGROYW1lLCBzZXREZWZhdWx0KSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmRhdGFbZmllbGROYW1lXSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgdGhpcy5kYXRhW2ZpZWxkTmFtZV0gPT09IG51bGwgfHxcbiAgICAgICAgICB0aGlzLmRhdGFbZmllbGROYW1lXSA9PT0gJycgfHxcbiAgICAgICAgICAodHlwZW9mIHRoaXMuZGF0YVtmaWVsZE5hbWVdID09PSAnb2JqZWN0JyAmJiB0aGlzLmRhdGFbZmllbGROYW1lXS5fX29wID09PSAnRGVsZXRlJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2V0RGVmYXVsdCAmJlxuICAgICAgICAgICAgc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdICYmXG4gICAgICAgICAgICBzY2hlbWEuZmllbGRzW2ZpZWxkTmFtZV0uZGVmYXVsdFZhbHVlICE9PSBudWxsICYmXG4gICAgICAgICAgICBzY2hlbWEuZmllbGRzW2ZpZWxkTmFtZV0uZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICh0aGlzLmRhdGFbZmllbGROYW1lXSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICh0eXBlb2YgdGhpcy5kYXRhW2ZpZWxkTmFtZV0gPT09ICdvYmplY3QnICYmIHRoaXMuZGF0YVtmaWVsZE5hbWVdLl9fb3AgPT09ICdEZWxldGUnKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtmaWVsZE5hbWVdID0gc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5maWVsZHNDaGFuZ2VkQnlUcmlnZ2VyID0gdGhpcy5zdG9yYWdlLmZpZWxkc0NoYW5nZWRCeVRyaWdnZXIgfHwgW107XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmZpZWxkc0NoYW5nZWRCeVRyaWdnZXIuaW5kZXhPZihmaWVsZE5hbWUpIDwgMCkge1xuICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UuZmllbGRzQ2hhbmdlZEJ5VHJpZ2dlci5wdXNoKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEuZmllbGRzW2ZpZWxkTmFtZV0gJiYgc2NoZW1hLmZpZWxkc1tmaWVsZE5hbWVdLnJlcXVpcmVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuVkFMSURBVElPTl9FUlJPUiwgYCR7ZmllbGROYW1lfSBpcyByZXF1aXJlZGApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGRlZmF1bHQgZmllbGRzXG4gICAgICB0aGlzLmRhdGEudXBkYXRlZEF0ID0gdGhpcy51cGRhdGVkQXQ7XG4gICAgICBpZiAoIXRoaXMucXVlcnkpIHtcbiAgICAgICAgdGhpcy5kYXRhLmNyZWF0ZWRBdCA9IHRoaXMudXBkYXRlZEF0O1xuXG4gICAgICAgIC8vIE9ubHkgYXNzaWduIG5ldyBvYmplY3RJZCBpZiB3ZSBhcmUgY3JlYXRpbmcgbmV3IG9iamVjdFxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5vYmplY3RJZCkge1xuICAgICAgICAgIHRoaXMuZGF0YS5vYmplY3RJZCA9IGNyeXB0b1V0aWxzLm5ld09iamVjdElkKHRoaXMuY29uZmlnLm9iamVjdElkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgICAgICAgIHNldFJlcXVpcmVkRmllbGRJZk5lZWRlZChmaWVsZE5hbWUsIHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYSkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgICAgICBzZXRSZXF1aXJlZEZpZWxkSWZOZWVkZWQoZmllbGROYW1lLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbi8vIFRyYW5zZm9ybXMgYXV0aCBkYXRhIGZvciBhIHVzZXIgb2JqZWN0LlxuLy8gRG9lcyBub3RoaW5nIGlmIHRoaXMgaXNuJ3QgYSB1c2VyIG9iamVjdC5cbi8vIFJldHVybnMgYSBwcm9taXNlIGZvciB3aGVuIHdlJ3JlIGRvbmUgaWYgaXQgY2FuJ3QgZmluaXNoIHRoaXMgdGljay5cblJlc3RXcml0ZS5wcm90b3R5cGUudmFsaWRhdGVBdXRoRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY2xhc3NOYW1lICE9PSAnX1VzZXInKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF0aGlzLnF1ZXJ5ICYmICF0aGlzLmRhdGEuYXV0aERhdGEpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZGF0YS51c2VybmFtZSAhPT0gJ3N0cmluZycgfHwgXy5pc0VtcHR5KHRoaXMuZGF0YS51c2VybmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5VU0VSTkFNRV9NSVNTSU5HLCAnYmFkIG9yIG1pc3NpbmcgdXNlcm5hbWUnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEucGFzc3dvcmQgIT09ICdzdHJpbmcnIHx8IF8uaXNFbXB0eSh0aGlzLmRhdGEucGFzc3dvcmQpKSB7XG4gICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuUEFTU1dPUkRfTUlTU0lORywgJ3Bhc3N3b3JkIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgICh0aGlzLmRhdGEuYXV0aERhdGEgJiYgIU9iamVjdC5rZXlzKHRoaXMuZGF0YS5hdXRoRGF0YSkubGVuZ3RoKSB8fFxuICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5kYXRhLCAnYXV0aERhdGEnKVxuICApIHtcbiAgICAvLyBIYW5kbGUgc2F2aW5nIGF1dGhEYXRhIHRvIHt9IG9yIGlmIGF1dGhEYXRhIGRvZXNuJ3QgZXhpc3RcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZGF0YSwgJ2F1dGhEYXRhJykgJiYgIXRoaXMuZGF0YS5hdXRoRGF0YSkge1xuICAgIC8vIEhhbmRsZSBzYXZpbmcgYXV0aERhdGEgdG8gbnVsbFxuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihcbiAgICAgIFBhcnNlLkVycm9yLlVOU1VQUE9SVEVEX1NFUlZJQ0UsXG4gICAgICAnVGhpcyBhdXRoZW50aWNhdGlvbiBtZXRob2QgaXMgdW5zdXBwb3J0ZWQuJ1xuICAgICk7XG4gIH1cblxuICB2YXIgYXV0aERhdGEgPSB0aGlzLmRhdGEuYXV0aERhdGE7XG4gIHZhciBwcm92aWRlcnMgPSBPYmplY3Qua2V5cyhhdXRoRGF0YSk7XG4gIGlmIChwcm92aWRlcnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGNhbkhhbmRsZUF1dGhEYXRhID0gcHJvdmlkZXJzLnJlZHVjZSgoY2FuSGFuZGxlLCBwcm92aWRlcikgPT4ge1xuICAgICAgdmFyIHByb3ZpZGVyQXV0aERhdGEgPSBhdXRoRGF0YVtwcm92aWRlcl07XG4gICAgICB2YXIgaGFzVG9rZW4gPSBwcm92aWRlckF1dGhEYXRhICYmIHByb3ZpZGVyQXV0aERhdGEuaWQ7XG4gICAgICByZXR1cm4gY2FuSGFuZGxlICYmIChoYXNUb2tlbiB8fCBwcm92aWRlckF1dGhEYXRhID09IG51bGwpO1xuICAgIH0sIHRydWUpO1xuICAgIGlmIChjYW5IYW5kbGVBdXRoRGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXV0aERhdGEoYXV0aERhdGEpO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgUGFyc2UuRXJyb3IuVU5TVVBQT1JURURfU0VSVklDRSxcbiAgICAnVGhpcyBhdXRoZW50aWNhdGlvbiBtZXRob2QgaXMgdW5zdXBwb3J0ZWQuJ1xuICApO1xufTtcblxuUmVzdFdyaXRlLnByb3RvdHlwZS5oYW5kbGVBdXRoRGF0YVZhbGlkYXRpb24gPSBmdW5jdGlvbiAoYXV0aERhdGEpIHtcbiAgY29uc3QgdmFsaWRhdGlvbnMgPSBPYmplY3Qua2V5cyhhdXRoRGF0YSkubWFwKHByb3ZpZGVyID0+IHtcbiAgICBpZiAoYXV0aERhdGFbcHJvdmlkZXJdID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRlQXV0aERhdGEgPSB0aGlzLmNvbmZpZy5hdXRoRGF0YU1hbmFnZXIuZ2V0VmFsaWRhdG9yRm9yUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIGlmICghdmFsaWRhdGVBdXRoRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICBQYXJzZS5FcnJvci5VTlNVUFBPUlRFRF9TRVJWSUNFLFxuICAgICAgICAnVGhpcyBhdXRoZW50aWNhdGlvbiBtZXRob2QgaXMgdW5zdXBwb3J0ZWQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRlQXV0aERhdGEoYXV0aERhdGFbcHJvdmlkZXJdKTtcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLmFsbCh2YWxpZGF0aW9ucyk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmZpbmRVc2Vyc1dpdGhBdXRoRGF0YSA9IGZ1bmN0aW9uIChhdXRoRGF0YSkge1xuICBjb25zdCBwcm92aWRlcnMgPSBPYmplY3Qua2V5cyhhdXRoRGF0YSk7XG4gIGNvbnN0IHF1ZXJ5ID0gcHJvdmlkZXJzXG4gICAgLnJlZHVjZSgobWVtbywgcHJvdmlkZXIpID0+IHtcbiAgICAgIGlmICghYXV0aERhdGFbcHJvdmlkZXJdKSB7XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfVxuICAgICAgY29uc3QgcXVlcnlLZXkgPSBgYXV0aERhdGEuJHtwcm92aWRlcn0uaWRgO1xuICAgICAgY29uc3QgcXVlcnkgPSB7fTtcbiAgICAgIHF1ZXJ5W3F1ZXJ5S2V5XSA9IGF1dGhEYXRhW3Byb3ZpZGVyXS5pZDtcbiAgICAgIG1lbW8ucHVzaChxdWVyeSk7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCBbXSlcbiAgICAuZmlsdGVyKHEgPT4ge1xuICAgICAgcmV0dXJuIHR5cGVvZiBxICE9PSAndW5kZWZpbmVkJztcbiAgICB9KTtcblxuICBsZXQgZmluZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoW10pO1xuICBpZiAocXVlcnkubGVuZ3RoID4gMCkge1xuICAgIGZpbmRQcm9taXNlID0gdGhpcy5jb25maWcuZGF0YWJhc2UuZmluZCh0aGlzLmNsYXNzTmFtZSwgeyAkb3I6IHF1ZXJ5IH0sIHt9KTtcbiAgfVxuXG4gIHJldHVybiBmaW5kUHJvbWlzZTtcbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUuZmlsdGVyZWRPYmplY3RzQnlBQ0wgPSBmdW5jdGlvbiAob2JqZWN0cykge1xuICBpZiAodGhpcy5hdXRoLmlzTWFzdGVyKSB7XG4gICAgcmV0dXJuIG9iamVjdHM7XG4gIH1cbiAgcmV0dXJuIG9iamVjdHMuZmlsdGVyKG9iamVjdCA9PiB7XG4gICAgaWYgKCFvYmplY3QuQUNMKSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gbGVnYWN5IHVzZXJzIHRoYXQgaGF2ZSBubyBBQ0wgZmllbGQgb24gdGhlbVxuICAgIH1cbiAgICAvLyBSZWd1bGFyIHVzZXJzIHRoYXQgaGF2ZSBiZWVuIGxvY2tlZCBvdXQuXG4gICAgcmV0dXJuIG9iamVjdC5BQ0wgJiYgT2JqZWN0LmtleXMob2JqZWN0LkFDTCkubGVuZ3RoID4gMDtcbiAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmhhbmRsZUF1dGhEYXRhID0gZnVuY3Rpb24gKGF1dGhEYXRhKSB7XG4gIGxldCByZXN1bHRzO1xuICByZXR1cm4gdGhpcy5maW5kVXNlcnNXaXRoQXV0aERhdGEoYXV0aERhdGEpLnRoZW4oYXN5bmMgciA9PiB7XG4gICAgcmVzdWx0cyA9IHRoaXMuZmlsdGVyZWRPYmplY3RzQnlBQ0wocik7XG5cbiAgICBpZiAocmVzdWx0cy5sZW5ndGggPT0gMSkge1xuICAgICAgdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSA9IE9iamVjdC5rZXlzKGF1dGhEYXRhKS5qb2luKCcsJyk7XG5cbiAgICAgIGNvbnN0IHVzZXJSZXN1bHQgPSByZXN1bHRzWzBdO1xuICAgICAgY29uc3QgbXV0YXRlZEF1dGhEYXRhID0ge307XG4gICAgICBPYmplY3Qua2V5cyhhdXRoRGF0YSkuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IGF1dGhEYXRhW3Byb3ZpZGVyXTtcbiAgICAgICAgY29uc3QgdXNlckF1dGhEYXRhID0gdXNlclJlc3VsdC5hdXRoRGF0YVtwcm92aWRlcl07XG4gICAgICAgIGlmICghXy5pc0VxdWFsKHByb3ZpZGVyRGF0YSwgdXNlckF1dGhEYXRhKSkge1xuICAgICAgICAgIG11dGF0ZWRBdXRoRGF0YVtwcm92aWRlcl0gPSBwcm92aWRlckRhdGE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgaGFzTXV0YXRlZEF1dGhEYXRhID0gT2JqZWN0LmtleXMobXV0YXRlZEF1dGhEYXRhKS5sZW5ndGggIT09IDA7XG4gICAgICBsZXQgdXNlcklkO1xuICAgICAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgICAgICB1c2VySWQgPSB0aGlzLnF1ZXJ5Lm9iamVjdElkO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dGggJiYgdGhpcy5hdXRoLnVzZXIgJiYgdGhpcy5hdXRoLnVzZXIuaWQpIHtcbiAgICAgICAgdXNlcklkID0gdGhpcy5hdXRoLnVzZXIuaWQ7XG4gICAgICB9XG4gICAgICBpZiAoIXVzZXJJZCB8fCB1c2VySWQgPT09IHVzZXJSZXN1bHQub2JqZWN0SWQpIHtcbiAgICAgICAgLy8gbm8gdXNlciBtYWtpbmcgdGhlIGNhbGxcbiAgICAgICAgLy8gT1IgdGhlIHVzZXIgbWFraW5nIHRoZSBjYWxsIGlzIHRoZSByaWdodCBvbmVcbiAgICAgICAgLy8gTG9naW4gd2l0aCBhdXRoIGRhdGFcbiAgICAgICAgZGVsZXRlIHJlc3VsdHNbMF0ucGFzc3dvcmQ7XG5cbiAgICAgICAgLy8gbmVlZCB0byBzZXQgdGhlIG9iamVjdElkIGZpcnN0IG90aGVyd2lzZSBsb2NhdGlvbiBoYXMgdHJhaWxpbmcgdW5kZWZpbmVkXG4gICAgICAgIHRoaXMuZGF0YS5vYmplY3RJZCA9IHVzZXJSZXN1bHQub2JqZWN0SWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLnF1ZXJ5IHx8ICF0aGlzLnF1ZXJ5Lm9iamVjdElkKSB7XG4gICAgICAgICAgLy8gdGhpcyBhIGxvZ2luIGNhbGwsIG5vIHVzZXJJZCBwYXNzZWRcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlID0ge1xuICAgICAgICAgICAgcmVzcG9uc2U6IHVzZXJSZXN1bHQsXG4gICAgICAgICAgICBsb2NhdGlvbjogdGhpcy5sb2NhdGlvbigpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gUnVuIGJlZm9yZUxvZ2luIGhvb2sgYmVmb3JlIHN0b3JpbmcgYW55IHVwZGF0ZXNcbiAgICAgICAgICAvLyB0byBhdXRoRGF0YSBvbiB0aGUgZGI7IGNoYW5nZXMgdG8gdXNlclJlc3VsdFxuICAgICAgICAgIC8vIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgICAgICBhd2FpdCB0aGlzLnJ1bkJlZm9yZUxvZ2luVHJpZ2dlcihkZWVwY29weSh1c2VyUmVzdWx0KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgY2hhbmdlIHRoZSBhdXRoIGRhdGEsIGp1c3Qga2VlcCBnb2luZ1xuICAgICAgICBpZiAoIWhhc011dGF0ZWRBdXRoRGF0YSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBoYXZlIGF1dGhEYXRhIHRoYXQgaXMgdXBkYXRlZCBvbiBsb2dpblxuICAgICAgICAvLyB0aGF0IGNhbiBoYXBwZW4gd2hlbiB0b2tlbiBhcmUgcmVmcmVzaGVkLFxuICAgICAgICAvLyBXZSBzaG91bGQgdXBkYXRlIHRoZSB0b2tlbiBhbmQgbGV0IHRoZSB1c2VyIGluXG4gICAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGNoZWNrIHRoZSBtdXRhdGVkIGtleXNcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXV0aERhdGFWYWxpZGF0aW9uKG11dGF0ZWRBdXRoRGF0YSkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgLy8gSUYgd2UgaGF2ZSBhIHJlc3BvbnNlLCB3ZSdsbCBza2lwIHRoZSBkYXRhYmFzZSBvcGVyYXRpb24gLyBiZWZvcmVTYXZlIC8gYWZ0ZXJTYXZlIGV0Yy4uLlxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gc2V0IGl0IHVwIHRoZXJlLlxuICAgICAgICAgIC8vIFdlIGFyZSBzdXBwb3NlZCB0byBoYXZlIGEgcmVzcG9uc2Ugb25seSBvbiBMT0dJTiB3aXRoIGF1dGhEYXRhLCBzbyB3ZSBza2lwIHRob3NlXG4gICAgICAgICAgLy8gSWYgd2UncmUgbm90IGxvZ2dpbmcgaW4sIGJ1dCBqdXN0IHVwZGF0aW5nIHRoZSBjdXJyZW50IHVzZXIsIHdlIGNhbiBzYWZlbHkgc2tpcCB0aGF0IHBhcnRcbiAgICAgICAgICBpZiAodGhpcy5yZXNwb25zZSkge1xuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBuZXcgYXV0aERhdGEgaW4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtdXRhdGVkQXV0aERhdGEpLmZvckVhY2gocHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlLnJlc3BvbnNlLmF1dGhEYXRhW3Byb3ZpZGVyXSA9IG11dGF0ZWRBdXRoRGF0YVtwcm92aWRlcl07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUnVuIHRoZSBEQiB1cGRhdGUgZGlyZWN0bHksIGFzICdtYXN0ZXInXG4gICAgICAgICAgICAvLyBKdXN0IHVwZGF0ZSB0aGUgYXV0aERhdGEgcGFydFxuICAgICAgICAgICAgLy8gVGhlbiB3ZSdyZSBnb29kIGZvciB0aGUgdXNlciwgZWFybHkgZXhpdCBvZiBzb3J0c1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlLnVwZGF0ZShcbiAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgIHsgb2JqZWN0SWQ6IHRoaXMuZGF0YS5vYmplY3RJZCB9LFxuICAgICAgICAgICAgICB7IGF1dGhEYXRhOiBtdXRhdGVkQXV0aERhdGEgfSxcbiAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodXNlcklkKSB7XG4gICAgICAgIC8vIFRyeWluZyB0byB1cGRhdGUgYXV0aCBkYXRhIGJ1dCB1c2Vyc1xuICAgICAgICAvLyBhcmUgZGlmZmVyZW50XG4gICAgICAgIGlmICh1c2VyUmVzdWx0Lm9iamVjdElkICE9PSB1c2VySWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuQUNDT1VOVF9BTFJFQURZX0xJTktFRCwgJ3RoaXMgYXV0aCBpcyBhbHJlYWR5IHVzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBObyBhdXRoIGRhdGEgd2FzIG11dGF0ZWQsIGp1c3Qga2VlcCBnb2luZ1xuICAgICAgICBpZiAoIWhhc011dGF0ZWRBdXRoRGF0YSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oYW5kbGVBdXRoRGF0YVZhbGlkYXRpb24oYXV0aERhdGEpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBNb3JlIHRoYW4gMSB1c2VyIHdpdGggdGhlIHBhc3NlZCBpZCdzXG4gICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5BQ0NPVU5UX0FMUkVBRFlfTElOS0VELCAndGhpcyBhdXRoIGlzIGFscmVhZHkgdXNlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8vIFRoZSBub24tdGhpcmQtcGFydHkgcGFydHMgb2YgVXNlciB0cmFuc2Zvcm1hdGlvblxuUmVzdFdyaXRlLnByb3RvdHlwZS50cmFuc2Zvcm1Vc2VyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gIGlmICh0aGlzLmNsYXNzTmFtZSAhPT0gJ19Vc2VyJykge1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgaWYgKCF0aGlzLmF1dGguaXNNYXN0ZXIgJiYgJ2VtYWlsVmVyaWZpZWQnIGluIHRoaXMuZGF0YSkge1xuICAgIGNvbnN0IGVycm9yID0gYENsaWVudHMgYXJlbid0IGFsbG93ZWQgdG8gbWFudWFsbHkgdXBkYXRlIGVtYWlsIHZlcmlmaWNhdGlvbi5gO1xuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5PUEVSQVRJT05fRk9SQklEREVOLCBlcnJvcik7XG4gIH1cblxuICAvLyBEbyBub3QgY2xlYW51cCBzZXNzaW9uIGlmIG9iamVjdElkIGlzIG5vdCBzZXRcbiAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5vYmplY3RJZCgpKSB7XG4gICAgLy8gSWYgd2UncmUgdXBkYXRpbmcgYSBfVXNlciBvYmplY3QsIHdlIG5lZWQgdG8gY2xlYXIgb3V0IHRoZSBjYWNoZSBmb3IgdGhhdCB1c2VyLiBGaW5kIGFsbCB0aGVpclxuICAgIC8vIHNlc3Npb24gdG9rZW5zLCBhbmQgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgY2FjaGUuXG4gICAgcHJvbWlzZSA9IG5ldyBSZXN0UXVlcnkodGhpcy5jb25maWcsIEF1dGgubWFzdGVyKHRoaXMuY29uZmlnKSwgJ19TZXNzaW9uJywge1xuICAgICAgdXNlcjoge1xuICAgICAgICBfX3R5cGU6ICdQb2ludGVyJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnX1VzZXInLFxuICAgICAgICBvYmplY3RJZDogdGhpcy5vYmplY3RJZCgpLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLmV4ZWN1dGUoKVxuICAgICAgLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICAgIHJlc3VsdHMucmVzdWx0cy5mb3JFYWNoKHNlc3Npb24gPT5cbiAgICAgICAgICB0aGlzLmNvbmZpZy5jYWNoZUNvbnRyb2xsZXIudXNlci5kZWwoc2Vzc2lvbi5zZXNzaW9uVG9rZW4pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gVHJhbnNmb3JtIHRoZSBwYXNzd29yZFxuICAgICAgaWYgKHRoaXMuZGF0YS5wYXNzd29yZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGlnbm9yZSBvbmx5IGlmIHVuZGVmaW5lZC4gc2hvdWxkIHByb2NlZWQgaWYgZW1wdHkgKCcnKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZVsnY2xlYXJTZXNzaW9ucyddID0gdHJ1ZTtcbiAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgc2Vzc2lvbiBvbmx5IGlmIHRoZSB1c2VyIHJlcXVlc3RlZFxuICAgICAgICBpZiAoIXRoaXMuYXV0aC5pc01hc3Rlcikge1xuICAgICAgICAgIHRoaXMuc3RvcmFnZVsnZ2VuZXJhdGVOZXdTZXNzaW9uJ10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl92YWxpZGF0ZVBhc3N3b3JkUG9saWN5KCkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXNzd29yZENyeXB0by5oYXNoKHRoaXMuZGF0YS5wYXNzd29yZCkudGhlbihoYXNoZWRQYXNzd29yZCA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhLl9oYXNoZWRfcGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICAgICAgICBkZWxldGUgdGhpcy5kYXRhLnBhc3N3b3JkO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlVXNlck5hbWUoKTtcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl92YWxpZGF0ZUVtYWlsKCk7XG4gICAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLl92YWxpZGF0ZVVzZXJOYW1lID0gZnVuY3Rpb24gKCkge1xuICAvLyBDaGVjayBmb3IgdXNlcm5hbWUgdW5pcXVlbmVzc1xuICBpZiAoIXRoaXMuZGF0YS51c2VybmFtZSkge1xuICAgIGlmICghdGhpcy5xdWVyeSkge1xuICAgICAgdGhpcy5kYXRhLnVzZXJuYW1lID0gY3J5cHRvVXRpbHMucmFuZG9tU3RyaW5nKDI1KTtcbiAgICAgIHRoaXMucmVzcG9uc2VTaG91bGRIYXZlVXNlcm5hbWUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgLypcbiAgICBVc2VybmFtZXMgc2hvdWxkIGJlIHVuaXF1ZSB3aGVuIGNvbXBhcmVkIGNhc2UgaW5zZW5zaXRpdmVseVxuXG4gICAgVXNlcnMgc2hvdWxkIGJlIGFibGUgdG8gbWFrZSBjYXNlIHNlbnNpdGl2ZSB1c2VybmFtZXMgYW5kXG4gICAgbG9naW4gdXNpbmcgdGhlIGNhc2UgdGhleSBlbnRlcmVkLiAgSS5lLiAnU25vb3B5JyBzaG91bGQgcHJlY2x1ZGVcbiAgICAnc25vb3B5JyBhcyBhIHZhbGlkIHVzZXJuYW1lLlxuICAqL1xuICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAuZmluZChcbiAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdGhpcy5kYXRhLnVzZXJuYW1lLFxuICAgICAgICBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgfSxcbiAgICAgIHsgbGltaXQ6IDEsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZSB9LFxuICAgICAge30sXG4gICAgICB0aGlzLnZhbGlkU2NoZW1hQ29udHJvbGxlclxuICAgIClcbiAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgIFBhcnNlLkVycm9yLlVTRVJOQU1FX1RBS0VOLFxuICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHVzZXJuYW1lLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9KTtcbn07XG5cbi8qXG4gIEFzIHdpdGggdXNlcm5hbWVzLCBQYXJzZSBzaG91bGQgbm90IGFsbG93IGNhc2UgaW5zZW5zaXRpdmUgY29sbGlzaW9ucyBvZiBlbWFpbC5cbiAgdW5saWtlIHdpdGggdXNlcm5hbWVzICh3aGljaCBjYW4gaGF2ZSBjYXNlIGluc2Vuc2l0aXZlIGNvbGxpc2lvbnMgaW4gdGhlIGNhc2Ugb2ZcbiAgYXV0aCBhZGFwdGVycyksIGVtYWlscyBzaG91bGQgbmV2ZXIgaGF2ZSBhIGNhc2UgaW5zZW5zaXRpdmUgY29sbGlzaW9uLlxuXG4gIFRoaXMgYmVoYXZpb3IgY2FuIGJlIGVuZm9yY2VkIHRocm91Z2ggYSBwcm9wZXJseSBjb25maWd1cmVkIGluZGV4IHNlZTpcbiAgaHR0cHM6Ly9kb2NzLm1vbmdvZGIuY29tL21hbnVhbC9jb3JlL2luZGV4LWNhc2UtaW5zZW5zaXRpdmUvI2NyZWF0ZS1hLWNhc2UtaW5zZW5zaXRpdmUtaW5kZXhcbiAgd2hpY2ggY291bGQgYmUgaW1wbGVtZW50ZWQgaW5zdGVhZCBvZiB0aGlzIGNvZGUgYmFzZWQgdmFsaWRhdGlvbi5cblxuICBHaXZlbiB0aGF0IHRoaXMgbG9va3VwIHNob3VsZCBiZSBhIHJlbGF0aXZlbHkgbG93IHVzZSBjYXNlIGFuZCB0aGF0IHRoZSBjYXNlIHNlbnNpdGl2ZVxuICB1bmlxdWUgaW5kZXggd2lsbCBiZSB1c2VkIGJ5IHRoZSBkYiBmb3IgdGhlIHF1ZXJ5LCB0aGlzIGlzIGFuIGFkZXF1YXRlIHNvbHV0aW9uLlxuKi9cblJlc3RXcml0ZS5wcm90b3R5cGUuX3ZhbGlkYXRlRW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5kYXRhLmVtYWlsIHx8IHRoaXMuZGF0YS5lbWFpbC5fX29wID09PSAnRGVsZXRlJykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICAvLyBWYWxpZGF0ZSBiYXNpYyBlbWFpbCBhZGRyZXNzIGZvcm1hdFxuICBpZiAoIXRoaXMuZGF0YS5lbWFpbC5tYXRjaCgvXi4rQC4rJC8pKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVkFMSURfRU1BSUxfQUREUkVTUywgJ0VtYWlsIGFkZHJlc3MgZm9ybWF0IGlzIGludmFsaWQuJylcbiAgICApO1xuICB9XG4gIC8vIENhc2UgaW5zZW5zaXRpdmUgbWF0Y2gsIHNlZSBub3RlIGFib3ZlIGZ1bmN0aW9uLlxuICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAuZmluZChcbiAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAge1xuICAgICAgICBlbWFpbDogdGhpcy5kYXRhLmVtYWlsLFxuICAgICAgICBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgfSxcbiAgICAgIHsgbGltaXQ6IDEsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZSB9LFxuICAgICAge30sXG4gICAgICB0aGlzLnZhbGlkU2NoZW1hQ29udHJvbGxlclxuICAgIClcbiAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgIFBhcnNlLkVycm9yLkVNQUlMX1RBS0VOLFxuICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGVtYWlsIGFkZHJlc3MuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5kYXRhLmF1dGhEYXRhIHx8XG4gICAgICAgICFPYmplY3Qua2V5cyh0aGlzLmRhdGEuYXV0aERhdGEpLmxlbmd0aCB8fFxuICAgICAgICAoT2JqZWN0LmtleXModGhpcy5kYXRhLmF1dGhEYXRhKS5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmRhdGEuYXV0aERhdGEpWzBdID09PSAnYW5vbnltb3VzJylcbiAgICAgICkge1xuICAgICAgICAvLyBXZSB1cGRhdGVkIHRoZSBlbWFpbCwgc2VuZCBhIG5ldyB2YWxpZGF0aW9uXG4gICAgICAgIHRoaXMuc3RvcmFnZVsnc2VuZFZlcmlmaWNhdGlvbkVtYWlsJ10gPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbmZpZy51c2VyQ29udHJvbGxlci5zZXRFbWFpbFZlcmlmeVRva2VuKHRoaXMuZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLl92YWxpZGF0ZVBhc3N3b3JkUG9saWN5ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5KSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHJldHVybiB0aGlzLl92YWxpZGF0ZVBhc3N3b3JkUmVxdWlyZW1lbnRzKCkudGhlbigoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlUGFzc3dvcmRIaXN0b3J5KCk7XG4gIH0pO1xufTtcblxuUmVzdFdyaXRlLnByb3RvdHlwZS5fdmFsaWRhdGVQYXNzd29yZFJlcXVpcmVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gY2hlY2sgaWYgdGhlIHBhc3N3b3JkIGNvbmZvcm1zIHRvIHRoZSBkZWZpbmVkIHBhc3N3b3JkIHBvbGljeSBpZiBjb25maWd1cmVkXG4gIC8vIElmIHdlIHNwZWNpZmllZCBhIGN1c3RvbSBlcnJvciBpbiBvdXIgY29uZmlndXJhdGlvbiB1c2UgaXQuXG4gIC8vIEV4YW1wbGU6IFwiUGFzc3dvcmRzIG11c3QgaW5jbHVkZSBhIENhcGl0YWwgTGV0dGVyLCBMb3dlcmNhc2UgTGV0dGVyLCBhbmQgYSBudW1iZXIuXCJcbiAgLy9cbiAgLy8gVGhpcyBpcyBlc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgZ2VuZXJpYyBcInBhc3N3b3JkIHJlc2V0XCIgcGFnZSxcbiAgLy8gYXMgaXQgYWxsb3dzIHRoZSBwcm9ncmFtbWVyIHRvIGNvbW11bmljYXRlIHNwZWNpZmljIHJlcXVpcmVtZW50cyBpbnN0ZWFkIG9mOlxuICAvLyBhLiBtYWtpbmcgdGhlIHVzZXIgZ3Vlc3Mgd2hhdHMgd3JvbmdcbiAgLy8gYi4gbWFraW5nIGEgY3VzdG9tIHBhc3N3b3JkIHJlc2V0IHBhZ2UgdGhhdCBzaG93cyB0aGUgcmVxdWlyZW1lbnRzXG4gIGNvbnN0IHBvbGljeUVycm9yID0gdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kudmFsaWRhdGlvbkVycm9yXG4gICAgPyB0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS52YWxpZGF0aW9uRXJyb3JcbiAgICA6ICdQYXNzd29yZCBkb2VzIG5vdCBtZWV0IHRoZSBQYXNzd29yZCBQb2xpY3kgcmVxdWlyZW1lbnRzLic7XG4gIGNvbnN0IGNvbnRhaW5zVXNlcm5hbWVFcnJvciA9ICdQYXNzd29yZCBjYW5ub3QgY29udGFpbiB5b3VyIHVzZXJuYW1lLic7XG5cbiAgLy8gY2hlY2sgd2hldGhlciB0aGUgcGFzc3dvcmQgbWVldHMgdGhlIHBhc3N3b3JkIHN0cmVuZ3RoIHJlcXVpcmVtZW50c1xuICBpZiAoXG4gICAgKHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5LnBhdHRlcm5WYWxpZGF0b3IgJiZcbiAgICAgICF0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS5wYXR0ZXJuVmFsaWRhdG9yKHRoaXMuZGF0YS5wYXNzd29yZCkpIHx8XG4gICAgKHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5LnZhbGlkYXRvckNhbGxiYWNrICYmXG4gICAgICAhdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kudmFsaWRhdG9yQ2FsbGJhY2sodGhpcy5kYXRhLnBhc3N3b3JkKSlcbiAgKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5WQUxJREFUSU9OX0VSUk9SLCBwb2xpY3lFcnJvcikpO1xuICB9XG5cbiAgLy8gY2hlY2sgd2hldGhlciBwYXNzd29yZCBjb250YWluIHVzZXJuYW1lXG4gIGlmICh0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS5kb05vdEFsbG93VXNlcm5hbWUgPT09IHRydWUpIHtcbiAgICBpZiAodGhpcy5kYXRhLnVzZXJuYW1lKSB7XG4gICAgICAvLyB1c2VybmFtZSBpcyBub3QgcGFzc2VkIGR1cmluZyBwYXNzd29yZCByZXNldFxuICAgICAgaWYgKHRoaXMuZGF0YS5wYXNzd29yZC5pbmRleE9mKHRoaXMuZGF0YS51c2VybmFtZSkgPj0gMClcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5WQUxJREFUSU9OX0VSUk9SLCBjb250YWluc1VzZXJuYW1lRXJyb3IpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmV0cmlldmUgdGhlIFVzZXIgb2JqZWN0IHVzaW5nIG9iamVjdElkIGR1cmluZyBwYXNzd29yZCByZXNldFxuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlLmZpbmQoJ19Vc2VyJywgeyBvYmplY3RJZDogdGhpcy5vYmplY3RJZCgpIH0pLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgdGhyb3cgdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRhdGEucGFzc3dvcmQuaW5kZXhPZihyZXN1bHRzWzBdLnVzZXJuYW1lKSA+PSAwKVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgIG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5WQUxJREFUSU9OX0VSUk9SLCBjb250YWluc1VzZXJuYW1lRXJyb3IpXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUuX3ZhbGlkYXRlUGFzc3dvcmRIaXN0b3J5ID0gZnVuY3Rpb24gKCkge1xuICAvLyBjaGVjayB3aGV0aGVyIHBhc3N3b3JkIGlzIHJlcGVhdGluZyBmcm9tIHNwZWNpZmllZCBoaXN0b3J5XG4gIGlmICh0aGlzLnF1ZXJ5ICYmIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5kYXRhYmFzZVxuICAgICAgLmZpbmQoXG4gICAgICAgICdfVXNlcicsXG4gICAgICAgIHsgb2JqZWN0SWQ6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgICB7IGtleXM6IFsnX3Bhc3N3b3JkX2hpc3RvcnknLCAnX2hhc2hlZF9wYXNzd29yZCddIH1cbiAgICAgIClcbiAgICAgIC50aGVuKHJlc3VsdHMgPT4ge1xuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT0gMSkge1xuICAgICAgICAgIHRocm93IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0c1swXTtcbiAgICAgICAgbGV0IG9sZFBhc3N3b3JkcyA9IFtdO1xuICAgICAgICBpZiAodXNlci5fcGFzc3dvcmRfaGlzdG9yeSlcbiAgICAgICAgICBvbGRQYXNzd29yZHMgPSBfLnRha2UoXG4gICAgICAgICAgICB1c2VyLl9wYXNzd29yZF9oaXN0b3J5LFxuICAgICAgICAgICAgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRIaXN0b3J5IC0gMVxuICAgICAgICAgICk7XG4gICAgICAgIG9sZFBhc3N3b3Jkcy5wdXNoKHVzZXIucGFzc3dvcmQpO1xuICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IHRoaXMuZGF0YS5wYXNzd29yZDtcbiAgICAgICAgLy8gY29tcGFyZSB0aGUgbmV3IHBhc3N3b3JkIGhhc2ggd2l0aCBhbGwgb2xkIHBhc3N3b3JkIGhhc2hlc1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IG9sZFBhc3N3b3Jkcy5tYXAoZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgICAgICByZXR1cm4gcGFzc3dvcmRDcnlwdG8uY29tcGFyZShuZXdQYXNzd29yZCwgaGFzaCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgICAgLy8gcmVqZWN0IGlmIHRoZXJlIGlzIGEgbWF0Y2hcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdSRVBFQVRfUEFTU1dPUkQnKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHdhaXQgZm9yIGFsbCBjb21wYXJpc29ucyB0byBjb21wbGV0ZVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyID09PSAnUkVQRUFUX1BBU1NXT1JEJylcbiAgICAgICAgICAgICAgLy8gYSBtYXRjaCB3YXMgZm91bmRcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgICAgIG5ldyBQYXJzZS5FcnJvcihcbiAgICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICBgTmV3IHBhc3N3b3JkIHNob3VsZCBub3QgYmUgdGhlIHNhbWUgYXMgbGFzdCAke3RoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeX0gcGFzc3dvcmRzLmBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmNyZWF0ZVNlc3Npb25Ub2tlbklmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jbGFzc05hbWUgIT09ICdfVXNlcicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gRG9uJ3QgZ2VuZXJhdGUgc2Vzc2lvbiBmb3IgdXBkYXRpbmcgdXNlciAodGhpcy5xdWVyeSBpcyBzZXQpIHVubGVzcyBhdXRoRGF0YSBleGlzdHNcbiAgaWYgKHRoaXMucXVlcnkgJiYgIXRoaXMuZGF0YS5hdXRoRGF0YSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBEb24ndCBnZW5lcmF0ZSBuZXcgc2Vzc2lvblRva2VuIGlmIGxpbmtpbmcgdmlhIHNlc3Npb25Ub2tlblxuICBpZiAodGhpcy5hdXRoLnVzZXIgJiYgdGhpcy5kYXRhLmF1dGhEYXRhKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChcbiAgICAhdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSAmJiAvLyBzaWdudXAgY2FsbCwgd2l0aFxuICAgIHRoaXMuY29uZmlnLnByZXZlbnRMb2dpbldpdGhVbnZlcmlmaWVkRW1haWwgJiYgLy8gbm8gbG9naW4gd2l0aG91dCB2ZXJpZmljYXRpb25cbiAgICB0aGlzLmNvbmZpZy52ZXJpZnlVc2VyRW1haWxzXG4gICkge1xuICAgIC8vIHZlcmlmaWNhdGlvbiBpcyBvblxuICAgIHJldHVybjsgLy8gZG8gbm90IGNyZWF0ZSB0aGUgc2Vzc2lvbiB0b2tlbiBpbiB0aGF0IGNhc2UhXG4gIH1cbiAgcmV0dXJuIHRoaXMuY3JlYXRlU2Vzc2lvblRva2VuKCk7XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLmNyZWF0ZVNlc3Npb25Ub2tlbiA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgLy8gY2xvdWQgaW5zdGFsbGF0aW9uSWQgZnJvbSBDbG91ZCBDb2RlLFxuICAvLyBuZXZlciBjcmVhdGUgc2Vzc2lvbiB0b2tlbnMgZnJvbSB0aGVyZS5cbiAgaWYgKHRoaXMuYXV0aC5pbnN0YWxsYXRpb25JZCAmJiB0aGlzLmF1dGguaW5zdGFsbGF0aW9uSWQgPT09ICdjbG91ZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSA9PSBudWxsICYmIHRoaXMuZGF0YS5hdXRoRGF0YSkge1xuICAgIHRoaXMuc3RvcmFnZVsnYXV0aFByb3ZpZGVyJ10gPSBPYmplY3Qua2V5cyh0aGlzLmRhdGEuYXV0aERhdGEpLmpvaW4oJywnKTtcbiAgfVxuXG4gIGNvbnN0IHsgc2Vzc2lvbkRhdGEsIGNyZWF0ZVNlc3Npb24gfSA9IFJlc3RXcml0ZS5jcmVhdGVTZXNzaW9uKHRoaXMuY29uZmlnLCB7XG4gICAgdXNlcklkOiB0aGlzLm9iamVjdElkKCksXG4gICAgY3JlYXRlZFdpdGg6IHtcbiAgICAgIGFjdGlvbjogdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSA/ICdsb2dpbicgOiAnc2lnbnVwJyxcbiAgICAgIGF1dGhQcm92aWRlcjogdGhpcy5zdG9yYWdlWydhdXRoUHJvdmlkZXInXSB8fCAncGFzc3dvcmQnLFxuICAgIH0sXG4gICAgaW5zdGFsbGF0aW9uSWQ6IHRoaXMuYXV0aC5pbnN0YWxsYXRpb25JZCxcbiAgfSk7XG5cbiAgaWYgKHRoaXMucmVzcG9uc2UgJiYgdGhpcy5yZXNwb25zZS5yZXNwb25zZSkge1xuICAgIHRoaXMucmVzcG9uc2UucmVzcG9uc2Uuc2Vzc2lvblRva2VuID0gc2Vzc2lvbkRhdGEuc2Vzc2lvblRva2VuO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVNlc3Npb24oKTtcbn07XG5cblJlc3RXcml0ZS5jcmVhdGVTZXNzaW9uID0gZnVuY3Rpb24gKFxuICBjb25maWcsXG4gIHsgdXNlcklkLCBjcmVhdGVkV2l0aCwgaW5zdGFsbGF0aW9uSWQsIGFkZGl0aW9uYWxTZXNzaW9uRGF0YSB9XG4pIHtcbiAgY29uc3QgdG9rZW4gPSAncjonICsgY3J5cHRvVXRpbHMubmV3VG9rZW4oKTtcbiAgY29uc3QgZXhwaXJlc0F0ID0gY29uZmlnLmdlbmVyYXRlU2Vzc2lvbkV4cGlyZXNBdCgpO1xuICBjb25zdCBzZXNzaW9uRGF0YSA9IHtcbiAgICBzZXNzaW9uVG9rZW46IHRva2VuLFxuICAgIHVzZXI6IHtcbiAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgY2xhc3NOYW1lOiAnX1VzZXInLFxuICAgICAgb2JqZWN0SWQ6IHVzZXJJZCxcbiAgICB9LFxuICAgIGNyZWF0ZWRXaXRoLFxuICAgIGV4cGlyZXNBdDogUGFyc2UuX2VuY29kZShleHBpcmVzQXQpLFxuICB9O1xuXG4gIGlmIChpbnN0YWxsYXRpb25JZCkge1xuICAgIHNlc3Npb25EYXRhLmluc3RhbGxhdGlvbklkID0gaW5zdGFsbGF0aW9uSWQ7XG4gIH1cblxuICBPYmplY3QuYXNzaWduKHNlc3Npb25EYXRhLCBhZGRpdGlvbmFsU2Vzc2lvbkRhdGEpO1xuXG4gIHJldHVybiB7XG4gICAgc2Vzc2lvbkRhdGEsXG4gICAgY3JlYXRlU2Vzc2lvbjogKCkgPT5cbiAgICAgIG5ldyBSZXN0V3JpdGUoY29uZmlnLCBBdXRoLm1hc3Rlcihjb25maWcpLCAnX1Nlc3Npb24nLCBudWxsLCBzZXNzaW9uRGF0YSkuZXhlY3V0ZSgpLFxuICB9O1xufTtcblxuLy8gRGVsZXRlIGVtYWlsIHJlc2V0IHRva2VucyBpZiB1c2VyIGlzIGNoYW5naW5nIHBhc3N3b3JkIG9yIGVtYWlsLlxuUmVzdFdyaXRlLnByb3RvdHlwZS5kZWxldGVFbWFpbFJlc2V0VG9rZW5JZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY2xhc3NOYW1lICE9PSAnX1VzZXInIHx8IHRoaXMucXVlcnkgPT09IG51bGwpIHtcbiAgICAvLyBudWxsIHF1ZXJ5IG1lYW5zIGNyZWF0ZVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICgncGFzc3dvcmQnIGluIHRoaXMuZGF0YSB8fCAnZW1haWwnIGluIHRoaXMuZGF0YSkge1xuICAgIGNvbnN0IGFkZE9wcyA9IHtcbiAgICAgIF9wZXJpc2hhYmxlX3Rva2VuOiB7IF9fb3A6ICdEZWxldGUnIH0sXG4gICAgICBfcGVyaXNoYWJsZV90b2tlbl9leHBpcmVzX2F0OiB7IF9fb3A6ICdEZWxldGUnIH0sXG4gICAgfTtcbiAgICB0aGlzLmRhdGEgPSBPYmplY3QuYXNzaWduKHRoaXMuZGF0YSwgYWRkT3BzKTtcbiAgfVxufTtcblxuUmVzdFdyaXRlLnByb3RvdHlwZS5kZXN0cm95RHVwbGljYXRlZFNlc3Npb25zID0gZnVuY3Rpb24gKCkge1xuICAvLyBPbmx5IGZvciBfU2Vzc2lvbiwgYW5kIGF0IGNyZWF0aW9uIHRpbWVcbiAgaWYgKHRoaXMuY2xhc3NOYW1lICE9ICdfU2Vzc2lvbicgfHwgdGhpcy5xdWVyeSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBEZXN0cm95IHRoZSBzZXNzaW9ucyBpbiAnQmFja2dyb3VuZCdcbiAgY29uc3QgeyB1c2VyLCBpbnN0YWxsYXRpb25JZCwgc2Vzc2lvblRva2VuIH0gPSB0aGlzLmRhdGE7XG4gIGlmICghdXNlciB8fCAhaW5zdGFsbGF0aW9uSWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCF1c2VyLm9iamVjdElkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuY29uZmlnLmRhdGFiYXNlLmRlc3Ryb3koXG4gICAgJ19TZXNzaW9uJyxcbiAgICB7XG4gICAgICB1c2VyLFxuICAgICAgaW5zdGFsbGF0aW9uSWQsXG4gICAgICBzZXNzaW9uVG9rZW46IHsgJG5lOiBzZXNzaW9uVG9rZW4gfSxcbiAgICB9LFxuICAgIHt9LFxuICAgIHRoaXMudmFsaWRTY2hlbWFDb250cm9sbGVyXG4gICk7XG59O1xuXG4vLyBIYW5kbGVzIGFueSBmb2xsb3d1cCBsb2dpY1xuUmVzdFdyaXRlLnByb3RvdHlwZS5oYW5kbGVGb2xsb3d1cCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc3RvcmFnZSAmJiB0aGlzLnN0b3JhZ2VbJ2NsZWFyU2Vzc2lvbnMnXSAmJiB0aGlzLmNvbmZpZy5yZXZva2VTZXNzaW9uT25QYXNzd29yZFJlc2V0KSB7XG4gICAgdmFyIHNlc3Npb25RdWVyeSA9IHtcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgX190eXBlOiAnUG9pbnRlcicsXG4gICAgICAgIGNsYXNzTmFtZTogJ19Vc2VyJyxcbiAgICAgICAgb2JqZWN0SWQ6IHRoaXMub2JqZWN0SWQoKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBkZWxldGUgdGhpcy5zdG9yYWdlWydjbGVhclNlc3Npb25zJ107XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGFiYXNlXG4gICAgICAuZGVzdHJveSgnX1Nlc3Npb24nLCBzZXNzaW9uUXVlcnkpXG4gICAgICAudGhlbih0aGlzLmhhbmRsZUZvbGxvd3VwLmJpbmQodGhpcykpO1xuICB9XG5cbiAgaWYgKHRoaXMuc3RvcmFnZSAmJiB0aGlzLnN0b3JhZ2VbJ2dlbmVyYXRlTmV3U2Vzc2lvbiddKSB7XG4gICAgZGVsZXRlIHRoaXMuc3RvcmFnZVsnZ2VuZXJhdGVOZXdTZXNzaW9uJ107XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2Vzc2lvblRva2VuKCkudGhlbih0aGlzLmhhbmRsZUZvbGxvd3VwLmJpbmQodGhpcykpO1xuICB9XG5cbiAgaWYgKHRoaXMuc3RvcmFnZSAmJiB0aGlzLnN0b3JhZ2VbJ3NlbmRWZXJpZmljYXRpb25FbWFpbCddKSB7XG4gICAgZGVsZXRlIHRoaXMuc3RvcmFnZVsnc2VuZFZlcmlmaWNhdGlvbkVtYWlsJ107XG4gICAgLy8gRmlyZSBhbmQgZm9yZ2V0IVxuICAgIHRoaXMuY29uZmlnLnVzZXJDb250cm9sbGVyLnNlbmRWZXJpZmljYXRpb25FbWFpbCh0aGlzLmRhdGEpO1xuICAgIHJldHVybiB0aGlzLmhhbmRsZUZvbGxvd3VwLmJpbmQodGhpcyk7XG4gIH1cbn07XG5cbi8vIEhhbmRsZXMgdGhlIF9TZXNzaW9uIGNsYXNzIHNwZWNpYWxuZXNzLlxuLy8gRG9lcyBub3RoaW5nIGlmIHRoaXMgaXNuJ3QgYW4gX1Nlc3Npb24gb2JqZWN0LlxuUmVzdFdyaXRlLnByb3RvdHlwZS5oYW5kbGVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5yZXNwb25zZSB8fCB0aGlzLmNsYXNzTmFtZSAhPT0gJ19TZXNzaW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghdGhpcy5hdXRoLnVzZXIgJiYgIXRoaXMuYXV0aC5pc01hc3Rlcikge1xuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX1NFU1NJT05fVE9LRU4sICdTZXNzaW9uIHRva2VuIHJlcXVpcmVkLicpO1xuICB9XG5cbiAgLy8gVE9ETzogVmVyaWZ5IHByb3BlciBlcnJvciB0byB0aHJvd1xuICBpZiAodGhpcy5kYXRhLkFDTCkge1xuICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FLCAnQ2Fubm90IHNldCAnICsgJ0FDTCBvbiBhIFNlc3Npb24uJyk7XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSkge1xuICAgIGlmICh0aGlzLmRhdGEudXNlciAmJiAhdGhpcy5hdXRoLmlzTWFzdGVyICYmIHRoaXMuZGF0YS51c2VyLm9iamVjdElkICE9IHRoaXMuYXV0aC51c2VyLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9LRVlfTkFNRSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuaW5zdGFsbGF0aW9uSWQpIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5zZXNzaW9uVG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihQYXJzZS5FcnJvci5JTlZBTElEX0tFWV9OQU1FKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIXRoaXMucXVlcnkgJiYgIXRoaXMuYXV0aC5pc01hc3Rlcikge1xuICAgIGNvbnN0IGFkZGl0aW9uYWxTZXNzaW9uRGF0YSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRhdGEpIHtcbiAgICAgIGlmIChrZXkgPT09ICdvYmplY3RJZCcgfHwga2V5ID09PSAndXNlcicpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBhZGRpdGlvbmFsU2Vzc2lvbkRhdGFba2V5XSA9IHRoaXMuZGF0YVtrZXldO1xuICAgIH1cblxuICAgIGNvbnN0IHsgc2Vzc2lvbkRhdGEsIGNyZWF0ZVNlc3Npb24gfSA9IFJlc3RXcml0ZS5jcmVhdGVTZXNzaW9uKHRoaXMuY29uZmlnLCB7XG4gICAgICB1c2VySWQ6IHRoaXMuYXV0aC51c2VyLmlkLFxuICAgICAgY3JlYXRlZFdpdGg6IHtcbiAgICAgICAgYWN0aW9uOiAnY3JlYXRlJyxcbiAgICAgIH0sXG4gICAgICBhZGRpdGlvbmFsU2Vzc2lvbkRhdGEsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gY3JlYXRlU2Vzc2lvbigpLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICBpZiAoIXJlc3VsdHMucmVzcG9uc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFBhcnNlLkVycm9yLklOVEVSTkFMX1NFUlZFUl9FUlJPUiwgJ0Vycm9yIGNyZWF0aW5nIHNlc3Npb24uJyk7XG4gICAgICB9XG4gICAgICBzZXNzaW9uRGF0YVsnb2JqZWN0SWQnXSA9IHJlc3VsdHMucmVzcG9uc2VbJ29iamVjdElkJ107XG4gICAgICB0aGlzLnJlc3BvbnNlID0ge1xuICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgbG9jYXRpb246IHJlc3VsdHMubG9jYXRpb24sXG4gICAgICAgIHJlc3BvbnNlOiBzZXNzaW9uRGF0YSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIEhhbmRsZXMgdGhlIF9JbnN0YWxsYXRpb24gY2xhc3Mgc3BlY2lhbG5lc3MuXG4vLyBEb2VzIG5vdGhpbmcgaWYgdGhpcyBpc24ndCBhbiBpbnN0YWxsYXRpb24gb2JqZWN0LlxuLy8gSWYgYW4gaW5zdGFsbGF0aW9uIGlzIGZvdW5kLCB0aGlzIGNhbiBtdXRhdGUgdGhpcy5xdWVyeSBhbmQgdHVybiBhIGNyZWF0ZVxuLy8gaW50byBhbiB1cGRhdGUuXG4vLyBSZXR1cm5zIGEgcHJvbWlzZSBmb3Igd2hlbiB3ZSdyZSBkb25lIGlmIGl0IGNhbid0IGZpbmlzaCB0aGlzIHRpY2suXG5SZXN0V3JpdGUucHJvdG90eXBlLmhhbmRsZUluc3RhbGxhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmVzcG9uc2UgfHwgdGhpcy5jbGFzc05hbWUgIT09ICdfSW5zdGFsbGF0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChcbiAgICAhdGhpcy5xdWVyeSAmJlxuICAgICF0aGlzLmRhdGEuZGV2aWNlVG9rZW4gJiZcbiAgICAhdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkICYmXG4gICAgIXRoaXMuYXV0aC5pbnN0YWxsYXRpb25JZFxuICApIHtcbiAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAxMzUsXG4gICAgICAnYXQgbGVhc3Qgb25lIElEIGZpZWxkIChkZXZpY2VUb2tlbiwgaW5zdGFsbGF0aW9uSWQpICcgKyAnbXVzdCBiZSBzcGVjaWZpZWQgaW4gdGhpcyBvcGVyYXRpb24nXG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIHRoZSBkZXZpY2UgdG9rZW4gaXMgNjQgY2hhcmFjdGVycyBsb25nLCB3ZSBhc3N1bWUgaXQgaXMgZm9yIGlPU1xuICAvLyBhbmQgbG93ZXJjYXNlIGl0LlxuICBpZiAodGhpcy5kYXRhLmRldmljZVRva2VuICYmIHRoaXMuZGF0YS5kZXZpY2VUb2tlbi5sZW5ndGggPT0gNjQpIHtcbiAgICB0aGlzLmRhdGEuZGV2aWNlVG9rZW4gPSB0aGlzLmRhdGEuZGV2aWNlVG9rZW4udG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8vIFdlIGxvd2VyY2FzZSB0aGUgaW5zdGFsbGF0aW9uSWQgaWYgcHJlc2VudFxuICBpZiAodGhpcy5kYXRhLmluc3RhbGxhdGlvbklkKSB7XG4gICAgdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkID0gdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBsZXQgaW5zdGFsbGF0aW9uSWQgPSB0aGlzLmRhdGEuaW5zdGFsbGF0aW9uSWQ7XG5cbiAgLy8gSWYgZGF0YS5pbnN0YWxsYXRpb25JZCBpcyBub3Qgc2V0IGFuZCB3ZSdyZSBub3QgbWFzdGVyLCB3ZSBjYW4gbG9va3VwIGluIGF1dGhcbiAgaWYgKCFpbnN0YWxsYXRpb25JZCAmJiAhdGhpcy5hdXRoLmlzTWFzdGVyKSB7XG4gICAgaW5zdGFsbGF0aW9uSWQgPSB0aGlzLmF1dGguaW5zdGFsbGF0aW9uSWQ7XG4gIH1cblxuICBpZiAoaW5zdGFsbGF0aW9uSWQpIHtcbiAgICBpbnN0YWxsYXRpb25JZCA9IGluc3RhbGxhdGlvbklkLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICAvLyBVcGRhdGluZyBfSW5zdGFsbGF0aW9uIGJ1dCBub3QgdXBkYXRpbmcgYW55dGhpbmcgY3JpdGljYWxcbiAgaWYgKHRoaXMucXVlcnkgJiYgIXRoaXMuZGF0YS5kZXZpY2VUb2tlbiAmJiAhaW5zdGFsbGF0aW9uSWQgJiYgIXRoaXMuZGF0YS5kZXZpY2VUeXBlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICB2YXIgaWRNYXRjaDsgLy8gV2lsbCBiZSBhIG1hdGNoIG9uIGVpdGhlciBvYmplY3RJZCBvciBpbnN0YWxsYXRpb25JZFxuICB2YXIgb2JqZWN0SWRNYXRjaDtcbiAgdmFyIGluc3RhbGxhdGlvbklkTWF0Y2g7XG4gIHZhciBkZXZpY2VUb2tlbk1hdGNoZXMgPSBbXTtcblxuICAvLyBJbnN0ZWFkIG9mIGlzc3VpbmcgMyByZWFkcywgbGV0J3MgZG8gaXQgd2l0aCBvbmUgT1IuXG4gIGNvbnN0IG9yUXVlcmllcyA9IFtdO1xuICBpZiAodGhpcy5xdWVyeSAmJiB0aGlzLnF1ZXJ5Lm9iamVjdElkKSB7XG4gICAgb3JRdWVyaWVzLnB1c2goe1xuICAgICAgb2JqZWN0SWQ6IHRoaXMucXVlcnkub2JqZWN0SWQsXG4gICAgfSk7XG4gIH1cbiAgaWYgKGluc3RhbGxhdGlvbklkKSB7XG4gICAgb3JRdWVyaWVzLnB1c2goe1xuICAgICAgaW5zdGFsbGF0aW9uSWQ6IGluc3RhbGxhdGlvbklkLFxuICAgIH0pO1xuICB9XG4gIGlmICh0aGlzLmRhdGEuZGV2aWNlVG9rZW4pIHtcbiAgICBvclF1ZXJpZXMucHVzaCh7IGRldmljZVRva2VuOiB0aGlzLmRhdGEuZGV2aWNlVG9rZW4gfSk7XG4gIH1cblxuICBpZiAob3JRdWVyaWVzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZSA9IHByb21pc2VcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2UuZmluZChcbiAgICAgICAgJ19JbnN0YWxsYXRpb24nLFxuICAgICAgICB7XG4gICAgICAgICAgJG9yOiBvclF1ZXJpZXMsXG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgIH0pXG4gICAgLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCAmJiByZXN1bHQub2JqZWN0SWQgPT0gdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgICAgICAgIG9iamVjdElkTWF0Y2ggPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5pbnN0YWxsYXRpb25JZCA9PSBpbnN0YWxsYXRpb25JZCkge1xuICAgICAgICAgIGluc3RhbGxhdGlvbklkTWF0Y2ggPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5kZXZpY2VUb2tlbiA9PSB0aGlzLmRhdGEuZGV2aWNlVG9rZW4pIHtcbiAgICAgICAgICBkZXZpY2VUb2tlbk1hdGNoZXMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gU2FuaXR5IGNoZWNrcyB3aGVuIHJ1bm5pbmcgYSBxdWVyeVxuICAgICAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgICAgICBpZiAoIW9iamVjdElkTWF0Y2gpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuT0JKRUNUX05PVF9GT1VORCwgJ09iamVjdCBub3QgZm91bmQgZm9yIHVwZGF0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5kYXRhLmluc3RhbGxhdGlvbklkICYmXG4gICAgICAgICAgb2JqZWN0SWRNYXRjaC5pbnN0YWxsYXRpb25JZCAmJlxuICAgICAgICAgIHRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCAhPT0gb2JqZWN0SWRNYXRjaC5pbnN0YWxsYXRpb25JZFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTM2LCAnaW5zdGFsbGF0aW9uSWQgbWF5IG5vdCBiZSBjaGFuZ2VkIGluIHRoaXMgJyArICdvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5kYXRhLmRldmljZVRva2VuICYmXG4gICAgICAgICAgb2JqZWN0SWRNYXRjaC5kZXZpY2VUb2tlbiAmJlxuICAgICAgICAgIHRoaXMuZGF0YS5kZXZpY2VUb2tlbiAhPT0gb2JqZWN0SWRNYXRjaC5kZXZpY2VUb2tlbiAmJlxuICAgICAgICAgICF0aGlzLmRhdGEuaW5zdGFsbGF0aW9uSWQgJiZcbiAgICAgICAgICAhb2JqZWN0SWRNYXRjaC5pbnN0YWxsYXRpb25JZFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTM2LCAnZGV2aWNlVG9rZW4gbWF5IG5vdCBiZSBjaGFuZ2VkIGluIHRoaXMgJyArICdvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5kYXRhLmRldmljZVR5cGUgJiZcbiAgICAgICAgICB0aGlzLmRhdGEuZGV2aWNlVHlwZSAmJlxuICAgICAgICAgIHRoaXMuZGF0YS5kZXZpY2VUeXBlICE9PSBvYmplY3RJZE1hdGNoLmRldmljZVR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKDEzNiwgJ2RldmljZVR5cGUgbWF5IG5vdCBiZSBjaGFuZ2VkIGluIHRoaXMgJyArICdvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5xdWVyeSAmJiB0aGlzLnF1ZXJ5Lm9iamVjdElkICYmIG9iamVjdElkTWF0Y2gpIHtcbiAgICAgICAgaWRNYXRjaCA9IG9iamVjdElkTWF0Y2g7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnN0YWxsYXRpb25JZCAmJiBpbnN0YWxsYXRpb25JZE1hdGNoKSB7XG4gICAgICAgIGlkTWF0Y2ggPSBpbnN0YWxsYXRpb25JZE1hdGNoO1xuICAgICAgfVxuICAgICAgLy8gbmVlZCB0byBzcGVjaWZ5IGRldmljZVR5cGUgb25seSBpZiBpdCdzIG5ld1xuICAgICAgaWYgKCF0aGlzLnF1ZXJ5ICYmICF0aGlzLmRhdGEuZGV2aWNlVHlwZSAmJiAhaWRNYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTM1LCAnZGV2aWNlVHlwZSBtdXN0IGJlIHNwZWNpZmllZCBpbiB0aGlzIG9wZXJhdGlvbicpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKCFpZE1hdGNoKSB7XG4gICAgICAgIGlmICghZGV2aWNlVG9rZW5NYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBkZXZpY2VUb2tlbk1hdGNoZXMubGVuZ3RoID09IDEgJiZcbiAgICAgICAgICAoIWRldmljZVRva2VuTWF0Y2hlc1swXVsnaW5zdGFsbGF0aW9uSWQnXSB8fCAhaW5zdGFsbGF0aW9uSWQpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNpbmdsZSBtYXRjaCBvbiBkZXZpY2UgdG9rZW4gYnV0IG5vbmUgb24gaW5zdGFsbGF0aW9uSWQsIGFuZCBlaXRoZXJcbiAgICAgICAgICAvLyB0aGUgcGFzc2VkIG9iamVjdCBvciB0aGUgbWF0Y2ggaXMgbWlzc2luZyBhbiBpbnN0YWxsYXRpb25JZCwgc28gd2VcbiAgICAgICAgICAvLyBjYW4ganVzdCByZXR1cm4gdGhlIG1hdGNoLlxuICAgICAgICAgIHJldHVybiBkZXZpY2VUb2tlbk1hdGNoZXNbMF1bJ29iamVjdElkJ107XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcihcbiAgICAgICAgICAgIDEzMixcbiAgICAgICAgICAgICdNdXN0IHNwZWNpZnkgaW5zdGFsbGF0aW9uSWQgd2hlbiBkZXZpY2VUb2tlbiAnICtcbiAgICAgICAgICAgICAgJ21hdGNoZXMgbXVsdGlwbGUgSW5zdGFsbGF0aW9uIG9iamVjdHMnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNdWx0aXBsZSBkZXZpY2UgdG9rZW4gbWF0Y2hlcyBhbmQgd2Ugc3BlY2lmaWVkIGFuIGluc3RhbGxhdGlvbiBJRCxcbiAgICAgICAgICAvLyBvciBhIHNpbmdsZSBtYXRjaCB3aGVyZSBib3RoIHRoZSBwYXNzZWQgYW5kIG1hdGNoaW5nIG9iamVjdHMgaGF2ZVxuICAgICAgICAgIC8vIGFuIGluc3RhbGxhdGlvbiBJRC4gVHJ5IGNsZWFuaW5nIG91dCBvbGQgaW5zdGFsbGF0aW9ucyB0aGF0IG1hdGNoXG4gICAgICAgICAgLy8gdGhlIGRldmljZVRva2VuLCBhbmQgcmV0dXJuIG5pbCB0byBzaWduYWwgdGhhdCBhIG5ldyBvYmplY3Qgc2hvdWxkXG4gICAgICAgICAgLy8gYmUgY3JlYXRlZC5cbiAgICAgICAgICB2YXIgZGVsUXVlcnkgPSB7XG4gICAgICAgICAgICBkZXZpY2VUb2tlbjogdGhpcy5kYXRhLmRldmljZVRva2VuLFxuICAgICAgICAgICAgaW5zdGFsbGF0aW9uSWQ6IHtcbiAgICAgICAgICAgICAgJG5lOiBpbnN0YWxsYXRpb25JZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAodGhpcy5kYXRhLmFwcElkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGRlbFF1ZXJ5WydhcHBJZGVudGlmaWVyJ10gPSB0aGlzLmRhdGEuYXBwSWRlbnRpZmllcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb25maWcuZGF0YWJhc2UuZGVzdHJveSgnX0luc3RhbGxhdGlvbicsIGRlbFF1ZXJ5KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgaWYgKGVyci5jb2RlID09IFBhcnNlLkVycm9yLk9CSkVDVF9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgICAgLy8gbm8gZGVsZXRpb25zIHdlcmUgbWFkZS4gQ2FuIGJlIGlnbm9yZWQuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldGhyb3cgdGhlIGVycm9yXG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGV2aWNlVG9rZW5NYXRjaGVzLmxlbmd0aCA9PSAxICYmICFkZXZpY2VUb2tlbk1hdGNoZXNbMF1bJ2luc3RhbGxhdGlvbklkJ10pIHtcbiAgICAgICAgICAvLyBFeGFjdGx5IG9uZSBkZXZpY2UgdG9rZW4gbWF0Y2ggYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhbiBpbnN0YWxsYXRpb25cbiAgICAgICAgICAvLyBJRC4gVGhpcyBpcyB0aGUgb25lIGNhc2Ugd2hlcmUgd2Ugd2FudCB0byBtZXJnZSB3aXRoIHRoZSBleGlzdGluZ1xuICAgICAgICAgIC8vIG9iamVjdC5cbiAgICAgICAgICBjb25zdCBkZWxRdWVyeSA9IHsgb2JqZWN0SWQ6IGlkTWF0Y2gub2JqZWN0SWQgfTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgICAgIC5kZXN0cm95KCdfSW5zdGFsbGF0aW9uJywgZGVsUXVlcnkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBkZXZpY2VUb2tlbk1hdGNoZXNbMF1bJ29iamVjdElkJ107XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PSBQYXJzZS5FcnJvci5PQkpFQ1RfTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gZGVsZXRpb25zIHdlcmUgbWFkZS4gQ2FuIGJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gcmV0aHJvdyB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS5kZXZpY2VUb2tlbiAmJiBpZE1hdGNoLmRldmljZVRva2VuICE9IHRoaXMuZGF0YS5kZXZpY2VUb2tlbikge1xuICAgICAgICAgICAgLy8gV2UncmUgc2V0dGluZyB0aGUgZGV2aWNlIHRva2VuIG9uIGFuIGV4aXN0aW5nIGluc3RhbGxhdGlvbiwgc29cbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCB0cnkgY2xlYW5pbmcgb3V0IG9sZCBpbnN0YWxsYXRpb25zIHRoYXQgbWF0Y2ggdGhpc1xuICAgICAgICAgICAgLy8gZGV2aWNlIHRva2VuLlxuICAgICAgICAgICAgY29uc3QgZGVsUXVlcnkgPSB7XG4gICAgICAgICAgICAgIGRldmljZVRva2VuOiB0aGlzLmRhdGEuZGV2aWNlVG9rZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHVuaXF1ZSBpbnN0YWxsIElkLCB1c2UgdGhhdCB0byBwcmVzZXJ2ZVxuICAgICAgICAgICAgLy8gdGhlIGludGVyZXN0aW5nIGluc3RhbGxhdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCkge1xuICAgICAgICAgICAgICBkZWxRdWVyeVsnaW5zdGFsbGF0aW9uSWQnXSA9IHtcbiAgICAgICAgICAgICAgICAkbmU6IHRoaXMuZGF0YS5pbnN0YWxsYXRpb25JZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIGlkTWF0Y2gub2JqZWN0SWQgJiZcbiAgICAgICAgICAgICAgdGhpcy5kYXRhLm9iamVjdElkICYmXG4gICAgICAgICAgICAgIGlkTWF0Y2gub2JqZWN0SWQgPT0gdGhpcy5kYXRhLm9iamVjdElkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gd2UgcGFzc2VkIGFuIG9iamVjdElkLCBwcmVzZXJ2ZSB0aGF0IGluc3RhbGF0aW9uXG4gICAgICAgICAgICAgIGRlbFF1ZXJ5WydvYmplY3RJZCddID0ge1xuICAgICAgICAgICAgICAgICRuZTogaWRNYXRjaC5vYmplY3RJZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFdoYXQgdG8gZG8gaGVyZT8gY2FuJ3QgcmVhbGx5IGNsZWFuIHVwIGV2ZXJ5dGhpbmcuLi5cbiAgICAgICAgICAgICAgcmV0dXJuIGlkTWF0Y2gub2JqZWN0SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmFwcElkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgZGVsUXVlcnlbJ2FwcElkZW50aWZpZXInXSA9IHRoaXMuZGF0YS5hcHBJZGVudGlmaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25maWcuZGF0YWJhc2UuZGVzdHJveSgnX0luc3RhbGxhdGlvbicsIGRlbFF1ZXJ5KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT0gUGFyc2UuRXJyb3IuT0JKRUNUX05PVF9GT1VORCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGRlbGV0aW9ucyB3ZXJlIG1hZGUuIENhbiBiZSBpZ25vcmVkLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyByZXRocm93IHRoZSBlcnJvclxuICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSW4gbm9uLW1lcmdlIHNjZW5hcmlvcywganVzdCByZXR1cm4gdGhlIGluc3RhbGxhdGlvbiBtYXRjaCBpZFxuICAgICAgICAgIHJldHVybiBpZE1hdGNoLm9iamVjdElkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihvYmpJZCA9PiB7XG4gICAgICBpZiAob2JqSWQpIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IHsgb2JqZWN0SWQ6IG9iaklkIH07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRhdGEub2JqZWN0SWQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRhdGEuY3JlYXRlZEF0O1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogVmFsaWRhdGUgb3BzIChhZGQvcmVtb3ZlIG9uIGNoYW5uZWxzLCAkaW5jIG9uIGJhZGdlLCBldGMuKVxuICAgIH0pO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIElmIHdlIHNob3J0LWNpcmN1aXRlZCB0aGUgb2JqZWN0IHJlc3BvbnNlIC0gdGhlbiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB3ZSBleHBhbmQgYWxsIHRoZSBmaWxlcyxcbi8vIHNpbmNlIHRoaXMgbWlnaHQgbm90IGhhdmUgYSBxdWVyeSwgbWVhbmluZyBpdCB3b24ndCByZXR1cm4gdGhlIGZ1bGwgcmVzdWx0IGJhY2suXG4vLyBUT0RPOiAobmx1dHNlbmtvKSBUaGlzIHNob3VsZCBkaWUgd2hlbiB3ZSBtb3ZlIHRvIHBlci1jbGFzcyBiYXNlZCBjb250cm9sbGVycyBvbiBfU2Vzc2lvbi9fVXNlclxuUmVzdFdyaXRlLnByb3RvdHlwZS5leHBhbmRGaWxlc0ZvckV4aXN0aW5nT2JqZWN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgc2hvcnQtY2lyY3VpdGVkIHJlc3BvbnNlIC0gb25seSB0aGVuIHJ1biBleHBhbnNpb24uXG4gIGlmICh0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2UucmVzcG9uc2UpIHtcbiAgICB0aGlzLmNvbmZpZy5maWxlc0NvbnRyb2xsZXIuZXhwYW5kRmlsZXNJbk9iamVjdCh0aGlzLmNvbmZpZywgdGhpcy5yZXNwb25zZS5yZXNwb25zZSk7XG4gIH1cbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUucnVuRGF0YWJhc2VPcGVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlc3BvbnNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHRoaXMuY2xhc3NOYW1lID09PSAnX1JvbGUnKSB7XG4gICAgdGhpcy5jb25maWcuY2FjaGVDb250cm9sbGVyLnJvbGUuY2xlYXIoKTtcbiAgfVxuXG4gIGlmICh0aGlzLmNsYXNzTmFtZSA9PT0gJ19Vc2VyJyAmJiB0aGlzLnF1ZXJ5ICYmIHRoaXMuYXV0aC5pc1VuYXV0aGVudGljYXRlZCgpKSB7XG4gICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgUGFyc2UuRXJyb3IuU0VTU0lPTl9NSVNTSU5HLFxuICAgICAgYENhbm5vdCBtb2RpZnkgdXNlciAke3RoaXMucXVlcnkub2JqZWN0SWR9LmBcbiAgICApO1xuICB9XG5cbiAgaWYgKHRoaXMuY2xhc3NOYW1lID09PSAnX1Byb2R1Y3QnICYmIHRoaXMuZGF0YS5kb3dubG9hZCkge1xuICAgIHRoaXMuZGF0YS5kb3dubG9hZE5hbWUgPSB0aGlzLmRhdGEuZG93bmxvYWQubmFtZTtcbiAgfVxuXG4gIC8vIFRPRE86IEFkZCBiZXR0ZXIgZGV0ZWN0aW9uIGZvciBBQ0wsIGVuc3VyaW5nIGEgdXNlciBjYW4ndCBiZSBsb2NrZWQgZnJvbVxuICAvLyAgICAgICB0aGVpciBvd24gdXNlciByZWNvcmQuXG4gIGlmICh0aGlzLmRhdGEuQUNMICYmIHRoaXMuZGF0YS5BQ0xbJyp1bnJlc29sdmVkJ10pIHtcbiAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoUGFyc2UuRXJyb3IuSU5WQUxJRF9BQ0wsICdJbnZhbGlkIEFDTC4nKTtcbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5KSB7XG4gICAgLy8gRm9yY2UgdGhlIHVzZXIgdG8gbm90IGxvY2tvdXRcbiAgICAvLyBNYXRjaGVkIHdpdGggcGFyc2UuY29tXG4gICAgaWYgKHRoaXMuY2xhc3NOYW1lID09PSAnX1VzZXInICYmIHRoaXMuZGF0YS5BQ0wgJiYgdGhpcy5hdXRoLmlzTWFzdGVyICE9PSB0cnVlKSB7XG4gICAgICB0aGlzLmRhdGEuQUNMW3RoaXMucXVlcnkub2JqZWN0SWRdID0geyByZWFkOiB0cnVlLCB3cml0ZTogdHJ1ZSB9O1xuICAgIH1cbiAgICAvLyB1cGRhdGUgcGFzc3dvcmQgdGltZXN0YW1wIGlmIHVzZXIgcGFzc3dvcmQgaXMgYmVpbmcgY2hhbmdlZFxuICAgIGlmIChcbiAgICAgIHRoaXMuY2xhc3NOYW1lID09PSAnX1VzZXInICYmXG4gICAgICB0aGlzLmRhdGEuX2hhc2hlZF9wYXNzd29yZCAmJlxuICAgICAgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kgJiZcbiAgICAgIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkQWdlXG4gICAgKSB7XG4gICAgICB0aGlzLmRhdGEuX3Bhc3N3b3JkX2NoYW5nZWRfYXQgPSBQYXJzZS5fZW5jb2RlKG5ldyBEYXRlKCkpO1xuICAgIH1cbiAgICAvLyBJZ25vcmUgY3JlYXRlZEF0IHdoZW4gdXBkYXRlXG4gICAgZGVsZXRlIHRoaXMuZGF0YS5jcmVhdGVkQXQ7XG5cbiAgICBsZXQgZGVmZXIgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAvLyBpZiBwYXNzd29yZCBoaXN0b3J5IGlzIGVuYWJsZWQgdGhlbiBzYXZlIHRoZSBjdXJyZW50IHBhc3N3b3JkIHRvIGhpc3RvcnlcbiAgICBpZiAoXG4gICAgICB0aGlzLmNsYXNzTmFtZSA9PT0gJ19Vc2VyJyAmJlxuICAgICAgdGhpcy5kYXRhLl9oYXNoZWRfcGFzc3dvcmQgJiZcbiAgICAgIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5ICYmXG4gICAgICB0aGlzLmNvbmZpZy5wYXNzd29yZFBvbGljeS5tYXhQYXNzd29yZEhpc3RvcnlcbiAgICApIHtcbiAgICAgIGRlZmVyID0gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgLmZpbmQoXG4gICAgICAgICAgJ19Vc2VyJyxcbiAgICAgICAgICB7IG9iamVjdElkOiB0aGlzLm9iamVjdElkKCkgfSxcbiAgICAgICAgICB7IGtleXM6IFsnX3Bhc3N3b3JkX2hpc3RvcnknLCAnX2hhc2hlZF9wYXNzd29yZCddIH1cbiAgICAgICAgKVxuICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0c1swXTtcbiAgICAgICAgICBsZXQgb2xkUGFzc3dvcmRzID0gW107XG4gICAgICAgICAgaWYgKHVzZXIuX3Bhc3N3b3JkX2hpc3RvcnkpIHtcbiAgICAgICAgICAgIG9sZFBhc3N3b3JkcyA9IF8udGFrZShcbiAgICAgICAgICAgICAgdXNlci5fcGFzc3dvcmRfaGlzdG9yeSxcbiAgICAgICAgICAgICAgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRIaXN0b3J5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL24tMSBwYXNzd29yZHMgZ28gaW50byBoaXN0b3J5IGluY2x1ZGluZyBsYXN0IHBhc3N3b3JkXG4gICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgb2xkUGFzc3dvcmRzLmxlbmd0aCA+IE1hdGgubWF4KDAsIHRoaXMuY29uZmlnLnBhc3N3b3JkUG9saWN5Lm1heFBhc3N3b3JkSGlzdG9yeSAtIDIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBvbGRQYXNzd29yZHMuc2hpZnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2xkUGFzc3dvcmRzLnB1c2godXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgdGhpcy5kYXRhLl9wYXNzd29yZF9oaXN0b3J5ID0gb2xkUGFzc3dvcmRzO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmZXIudGhlbigoKSA9PiB7XG4gICAgICAvLyBSdW4gYW4gdXBkYXRlXG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgLnVwZGF0ZShcbiAgICAgICAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICB0aGlzLnF1ZXJ5LFxuICAgICAgICAgIHRoaXMuZGF0YSxcbiAgICAgICAgICB0aGlzLnJ1bk9wdGlvbnMsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgdGhpcy52YWxpZFNjaGVtYUNvbnRyb2xsZXJcbiAgICAgICAgKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgcmVzcG9uc2UudXBkYXRlZEF0ID0gdGhpcy51cGRhdGVkQXQ7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlUmVzcG9uc2VXaXRoRGF0YShyZXNwb25zZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlID0geyByZXNwb25zZSB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHQgQUNMIGFuZCBwYXNzd29yZCB0aW1lc3RhbXAgZm9yIHRoZSBuZXcgX1VzZXJcbiAgICBpZiAodGhpcy5jbGFzc05hbWUgPT09ICdfVXNlcicpIHtcbiAgICAgIHZhciBBQ0wgPSB0aGlzLmRhdGEuQUNMO1xuICAgICAgLy8gZGVmYXVsdCBwdWJsaWMgci93IEFDTFxuICAgICAgaWYgKCFBQ0wpIHtcbiAgICAgICAgQUNMID0ge307XG4gICAgICAgIGlmICghdGhpcy5jb25maWcuZW5mb3JjZVByaXZhdGVVc2Vycykge1xuICAgICAgICAgIEFDTFsnKiddID0geyByZWFkOiB0cnVlLCB3cml0ZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gbWFrZSBzdXJlIHRoZSB1c2VyIGlzIG5vdCBsb2NrZWQgZG93blxuICAgICAgQUNMW3RoaXMuZGF0YS5vYmplY3RJZF0gPSB7IHJlYWQ6IHRydWUsIHdyaXRlOiB0cnVlIH07XG4gICAgICB0aGlzLmRhdGEuQUNMID0gQUNMO1xuICAgICAgLy8gcGFzc3dvcmQgdGltZXN0YW1wIHRvIGJlIHVzZWQgd2hlbiBwYXNzd29yZCBleHBpcnkgcG9saWN5IGlzIGVuZm9yY2VkXG4gICAgICBpZiAodGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kgJiYgdGhpcy5jb25maWcucGFzc3dvcmRQb2xpY3kubWF4UGFzc3dvcmRBZ2UpIHtcbiAgICAgICAgdGhpcy5kYXRhLl9wYXNzd29yZF9jaGFuZ2VkX2F0ID0gUGFyc2UuX2VuY29kZShuZXcgRGF0ZSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSdW4gYSBjcmVhdGVcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgIC5jcmVhdGUodGhpcy5jbGFzc05hbWUsIHRoaXMuZGF0YSwgdGhpcy5ydW5PcHRpb25zLCBmYWxzZSwgdGhpcy52YWxpZFNjaGVtYUNvbnRyb2xsZXIpXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUgIT09ICdfVXNlcicgfHwgZXJyb3IuY29kZSAhPT0gUGFyc2UuRXJyb3IuRFVQTElDQVRFX1ZBTFVFKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBRdWljayBjaGVjaywgaWYgd2Ugd2VyZSBhYmxlIHRvIGluZmVyIHRoZSBkdXBsaWNhdGVkIGZpZWxkIG5hbWVcbiAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLnVzZXJJbmZvICYmIGVycm9yLnVzZXJJbmZvLmR1cGxpY2F0ZWRfZmllbGQgPT09ICd1c2VybmFtZScpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5VU0VSTkFNRV9UQUtFTixcbiAgICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHVzZXJuYW1lLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLnVzZXJJbmZvICYmIGVycm9yLnVzZXJJbmZvLmR1cGxpY2F0ZWRfZmllbGQgPT09ICdlbWFpbCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICBQYXJzZS5FcnJvci5FTUFJTF9UQUtFTixcbiAgICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGVtYWlsIGFkZHJlc3MuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIHdhcyBhIGZhaWxlZCB1c2VyIGNyZWF0aW9uIGR1ZSB0byB1c2VybmFtZSBvciBlbWFpbCBhbHJlYWR5IHRha2VuLCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgaXQgd2FzIHVzZXJuYW1lIG9yIGVtYWlsIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIGVycm9yLlxuICAgICAgICAvLyBGYWxsYmFjayB0byB0aGUgb3JpZ2luYWwgbWV0aG9kXG4gICAgICAgIC8vIFRPRE86IFNlZSBpZiB3ZSBjYW4gbGF0ZXIgZG8gdGhpcyB3aXRob3V0IGFkZGl0aW9uYWwgcXVlcmllcyBieSB1c2luZyBuYW1lZCBpbmRleGVzLlxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YWJhc2VcbiAgICAgICAgICAuZmluZChcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5kYXRhLnVzZXJuYW1lLFxuICAgICAgICAgICAgICBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgbGltaXQ6IDEgfVxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKFxuICAgICAgICAgICAgICAgIFBhcnNlLkVycm9yLlVTRVJOQU1FX1RBS0VOLFxuICAgICAgICAgICAgICAgICdBY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIHVzZXJuYW1lLidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5kYXRhYmFzZS5maW5kKFxuICAgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgeyBlbWFpbDogdGhpcy5kYXRhLmVtYWlsLCBvYmplY3RJZDogeyAkbmU6IHRoaXMub2JqZWN0SWQoKSB9IH0sXG4gICAgICAgICAgICAgIHsgbGltaXQ6IDEgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHJlc3VsdHMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICAgICAgUGFyc2UuRXJyb3IuRU1BSUxfVEFLRU4sXG4gICAgICAgICAgICAgICAgJ0FjY291bnQgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgZW1haWwgYWRkcmVzcy4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoXG4gICAgICAgICAgICAgIFBhcnNlLkVycm9yLkRVUExJQ0FURV9WQUxVRSxcbiAgICAgICAgICAgICAgJ0EgZHVwbGljYXRlIHZhbHVlIGZvciBhIGZpZWxkIHdpdGggdW5pcXVlIHZhbHVlcyB3YXMgcHJvdmlkZWQnXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmVzcG9uc2Uub2JqZWN0SWQgPSB0aGlzLmRhdGEub2JqZWN0SWQ7XG4gICAgICAgIHJlc3BvbnNlLmNyZWF0ZWRBdCA9IHRoaXMuZGF0YS5jcmVhdGVkQXQ7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzcG9uc2VTaG91bGRIYXZlVXNlcm5hbWUpIHtcbiAgICAgICAgICByZXNwb25zZS51c2VybmFtZSA9IHRoaXMuZGF0YS51c2VybmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVSZXNwb25zZVdpdGhEYXRhKHJlc3BvbnNlLCB0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0ge1xuICAgICAgICAgIHN0YXR1czogMjAxLFxuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLmxvY2F0aW9uKCksXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgfVxufTtcblxuLy8gUmV0dXJucyBub3RoaW5nIC0gZG9lc24ndCB3YWl0IGZvciB0aGUgdHJpZ2dlci5cblJlc3RXcml0ZS5wcm90b3R5cGUucnVuQWZ0ZXJTYXZlVHJpZ2dlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnJlc3BvbnNlIHx8ICF0aGlzLnJlc3BvbnNlLnJlc3BvbnNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQXZvaWQgZG9pbmcgYW55IHNldHVwIGZvciB0cmlnZ2VycyBpZiB0aGVyZSBpcyBubyAnYWZ0ZXJTYXZlJyB0cmlnZ2VyIGZvciB0aGlzIGNsYXNzLlxuICBjb25zdCBoYXNBZnRlclNhdmVIb29rID0gdHJpZ2dlcnMudHJpZ2dlckV4aXN0cyhcbiAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICB0cmlnZ2Vycy5UeXBlcy5hZnRlclNhdmUsXG4gICAgdGhpcy5jb25maWcuYXBwbGljYXRpb25JZFxuICApO1xuICBjb25zdCBoYXNMaXZlUXVlcnkgPSB0aGlzLmNvbmZpZy5saXZlUXVlcnlDb250cm9sbGVyLmhhc0xpdmVRdWVyeSh0aGlzLmNsYXNzTmFtZSk7XG4gIGlmICghaGFzQWZ0ZXJTYXZlSG9vayAmJiAhaGFzTGl2ZVF1ZXJ5KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgdmFyIGV4dHJhRGF0YSA9IHsgY2xhc3NOYW1lOiB0aGlzLmNsYXNzTmFtZSB9O1xuICBpZiAodGhpcy5xdWVyeSAmJiB0aGlzLnF1ZXJ5Lm9iamVjdElkKSB7XG4gICAgZXh0cmFEYXRhLm9iamVjdElkID0gdGhpcy5xdWVyeS5vYmplY3RJZDtcbiAgfVxuXG4gIC8vIEJ1aWxkIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdlIG9ubHkgZG8gdGhpcyBmb3IgYSB1cGRhdGUgd3JpdGUuXG4gIGxldCBvcmlnaW5hbE9iamVjdDtcbiAgaWYgKHRoaXMucXVlcnkgJiYgdGhpcy5xdWVyeS5vYmplY3RJZCkge1xuICAgIG9yaWdpbmFsT2JqZWN0ID0gdHJpZ2dlcnMuaW5mbGF0ZShleHRyYURhdGEsIHRoaXMub3JpZ2luYWxEYXRhKTtcbiAgfVxuXG4gIC8vIEJ1aWxkIHRoZSBpbmZsYXRlZCBvYmplY3QsIGRpZmZlcmVudCBmcm9tIGJlZm9yZVNhdmUsIG9yaWdpbmFsRGF0YSBpcyBub3QgZW1wdHlcbiAgLy8gc2luY2UgZGV2ZWxvcGVycyBjYW4gY2hhbmdlIGRhdGEgaW4gdGhlIGJlZm9yZVNhdmUuXG4gIGNvbnN0IHVwZGF0ZWRPYmplY3QgPSB0aGlzLmJ1aWxkVXBkYXRlZE9iamVjdChleHRyYURhdGEpO1xuICB1cGRhdGVkT2JqZWN0Ll9oYW5kbGVTYXZlUmVzcG9uc2UodGhpcy5yZXNwb25zZS5yZXNwb25zZSwgdGhpcy5yZXNwb25zZS5zdGF0dXMgfHwgMjAwKTtcblxuICB0aGlzLmNvbmZpZy5kYXRhYmFzZS5sb2FkU2NoZW1hKCkudGhlbihzY2hlbWFDb250cm9sbGVyID0+IHtcbiAgICAvLyBOb3RpZml5IExpdmVRdWVyeVNlcnZlciBpZiBwb3NzaWJsZVxuICAgIGNvbnN0IHBlcm1zID0gc2NoZW1hQ29udHJvbGxlci5nZXRDbGFzc0xldmVsUGVybWlzc2lvbnModXBkYXRlZE9iamVjdC5jbGFzc05hbWUpO1xuICAgIHRoaXMuY29uZmlnLmxpdmVRdWVyeUNvbnRyb2xsZXIub25BZnRlclNhdmUoXG4gICAgICB1cGRhdGVkT2JqZWN0LmNsYXNzTmFtZSxcbiAgICAgIHVwZGF0ZWRPYmplY3QsXG4gICAgICBvcmlnaW5hbE9iamVjdCxcbiAgICAgIHBlcm1zXG4gICAgKTtcbiAgfSk7XG5cbiAgLy8gUnVuIGFmdGVyU2F2ZSB0cmlnZ2VyXG4gIHJldHVybiB0cmlnZ2Vyc1xuICAgIC5tYXliZVJ1blRyaWdnZXIoXG4gICAgICB0cmlnZ2Vycy5UeXBlcy5hZnRlclNhdmUsXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICB1cGRhdGVkT2JqZWN0LFxuICAgICAgb3JpZ2luYWxPYmplY3QsXG4gICAgICB0aGlzLmNvbmZpZyxcbiAgICAgIHRoaXMuY29udGV4dFxuICAgIClcbiAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLnJlc3BvbnNlLnJlc3BvbnNlID0gcmVzdWx0O1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdhZnRlclNhdmUgY2F1Z2h0IGFuIGVycm9yJywgZXJyKTtcbiAgICB9KTtcbn07XG5cbi8vIEEgaGVscGVyIHRvIGZpZ3VyZSBvdXQgd2hhdCBsb2NhdGlvbiB0aGlzIG9wZXJhdGlvbiBoYXBwZW5zIGF0LlxuUmVzdFdyaXRlLnByb3RvdHlwZS5sb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG1pZGRsZSA9IHRoaXMuY2xhc3NOYW1lID09PSAnX1VzZXInID8gJy91c2Vycy8nIDogJy9jbGFzc2VzLycgKyB0aGlzLmNsYXNzTmFtZSArICcvJztcbiAgY29uc3QgbW91bnQgPSB0aGlzLmNvbmZpZy5tb3VudCB8fCB0aGlzLmNvbmZpZy5zZXJ2ZXJVUkw7XG4gIHJldHVybiBtb3VudCArIG1pZGRsZSArIHRoaXMuZGF0YS5vYmplY3RJZDtcbn07XG5cbi8vIEEgaGVscGVyIHRvIGdldCB0aGUgb2JqZWN0IGlkIGZvciB0aGlzIG9wZXJhdGlvbi5cbi8vIEJlY2F1c2UgaXQgY291bGQgYmUgZWl0aGVyIG9uIHRoZSBxdWVyeSBvciBvbiB0aGUgZGF0YVxuUmVzdFdyaXRlLnByb3RvdHlwZS5vYmplY3RJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZGF0YS5vYmplY3RJZCB8fCB0aGlzLnF1ZXJ5Lm9iamVjdElkO1xufTtcblxuLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGRhdGEgYW5kIGRlbGV0ZSBiYWQga2V5cyAoX2F1dGhfZGF0YSwgX2hhc2hlZF9wYXNzd29yZC4uLilcblJlc3RXcml0ZS5wcm90b3R5cGUuc2FuaXRpemVkRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgZGF0YSA9IE9iamVjdC5rZXlzKHRoaXMuZGF0YSkucmVkdWNlKChkYXRhLCBrZXkpID0+IHtcbiAgICAvLyBSZWdleHAgY29tZXMgZnJvbSBQYXJzZS5PYmplY3QucHJvdG90eXBlLnZhbGlkYXRlXG4gICAgaWYgKCEvXltBLVphLXpdWzAtOUEtWmEtel9dKiQvLnRlc3Qoa2V5KSkge1xuICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sIGRlZXBjb3B5KHRoaXMuZGF0YSkpO1xuICByZXR1cm4gUGFyc2UuX2RlY29kZSh1bmRlZmluZWQsIGRhdGEpO1xufTtcblxuLy8gUmV0dXJucyBhbiB1cGRhdGVkIGNvcHkgb2YgdGhlIG9iamVjdFxuUmVzdFdyaXRlLnByb3RvdHlwZS5idWlsZFVwZGF0ZWRPYmplY3QgPSBmdW5jdGlvbiAoZXh0cmFEYXRhKSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IFBhcnNlLk9iamVjdC5mcm9tSlNPTihleHRyYURhdGEpO1xuICBjb25zdCByZWFkT25seUF0dHJpYnV0ZXMgPSBjbGFzc05hbWUuY29uc3RydWN0b3IucmVhZE9ubHlBdHRyaWJ1dGVzXG4gICAgPyBjbGFzc05hbWUuY29uc3RydWN0b3IucmVhZE9ubHlBdHRyaWJ1dGVzKClcbiAgICA6IFtdO1xuICBpZiAoIXRoaXMub3JpZ2luYWxEYXRhKSB7XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgcmVhZE9ubHlBdHRyaWJ1dGVzKSB7XG4gICAgICBleHRyYURhdGFbYXR0cmlidXRlXSA9IHRoaXMuZGF0YVthdHRyaWJ1dGVdO1xuICAgIH1cbiAgfVxuICBjb25zdCB1cGRhdGVkT2JqZWN0ID0gdHJpZ2dlcnMuaW5mbGF0ZShleHRyYURhdGEsIHRoaXMub3JpZ2luYWxEYXRhKTtcbiAgT2JqZWN0LmtleXModGhpcy5kYXRhKS5yZWR1Y2UoZnVuY3Rpb24gKGRhdGEsIGtleSkge1xuICAgIGlmIChrZXkuaW5kZXhPZignLicpID4gMCkge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhW2tleV0uX19vcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKCFyZWFkT25seUF0dHJpYnV0ZXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgIHVwZGF0ZWRPYmplY3Quc2V0KGtleSwgZGF0YVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3ViZG9jdW1lbnQga2V5IHdpdGggZG90IG5vdGF0aW9uIHsgJ3gueSc6IHYgfSA9PiB7ICd4JzogeyAneScgOiB2IH0gfSlcbiAgICAgICAgY29uc3Qgc3BsaXR0ZWRLZXkgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICAgICAgY29uc3QgcGFyZW50UHJvcCA9IHNwbGl0dGVkS2V5WzBdO1xuICAgICAgICBsZXQgcGFyZW50VmFsID0gdXBkYXRlZE9iamVjdC5nZXQocGFyZW50UHJvcCk7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyZW50VmFsICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHBhcmVudFZhbCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudFZhbFtzcGxpdHRlZEtleVsxXV0gPSBkYXRhW2tleV07XG4gICAgICAgIHVwZGF0ZWRPYmplY3Quc2V0KHBhcmVudFByb3AsIHBhcmVudFZhbCk7XG4gICAgICB9XG4gICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSwgZGVlcGNvcHkodGhpcy5kYXRhKSk7XG5cbiAgY29uc3Qgc2FuaXRpemVkID0gdGhpcy5zYW5pdGl6ZWREYXRhKCk7XG4gIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHJlYWRPbmx5QXR0cmlidXRlcykge1xuICAgIGRlbGV0ZSBzYW5pdGl6ZWRbYXR0cmlidXRlXTtcbiAgfVxuICB1cGRhdGVkT2JqZWN0LnNldChzYW5pdGl6ZWQpO1xuICByZXR1cm4gdXBkYXRlZE9iamVjdDtcbn07XG5cblJlc3RXcml0ZS5wcm90b3R5cGUuY2xlYW5Vc2VyQXV0aERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2UucmVzcG9uc2UgJiYgdGhpcy5jbGFzc05hbWUgPT09ICdfVXNlcicpIHtcbiAgICBjb25zdCB1c2VyID0gdGhpcy5yZXNwb25zZS5yZXNwb25zZTtcbiAgICBpZiAodXNlci5hdXRoRGF0YSkge1xuICAgICAgT2JqZWN0LmtleXModXNlci5hdXRoRGF0YSkuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICAgIGlmICh1c2VyLmF1dGhEYXRhW3Byb3ZpZGVyXSA9PT0gbnVsbCkge1xuICAgICAgICAgIGRlbGV0ZSB1c2VyLmF1dGhEYXRhW3Byb3ZpZGVyXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoT2JqZWN0LmtleXModXNlci5hdXRoRGF0YSkubGVuZ3RoID09IDApIHtcbiAgICAgICAgZGVsZXRlIHVzZXIuYXV0aERhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5SZXN0V3JpdGUucHJvdG90eXBlLl91cGRhdGVSZXNwb25zZVdpdGhEYXRhID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhKSB7XG4gIGlmIChfLmlzRW1wdHkodGhpcy5zdG9yYWdlLmZpZWxkc0NoYW5nZWRCeVRyaWdnZXIpKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG4gIGNvbnN0IGNsaWVudFN1cHBvcnRzRGVsZXRlID0gQ2xpZW50U0RLLnN1cHBvcnRzRm9yd2FyZERlbGV0ZSh0aGlzLmNsaWVudFNESyk7XG4gIHRoaXMuc3RvcmFnZS5maWVsZHNDaGFuZ2VkQnlUcmlnZ2VyLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICBjb25zdCBkYXRhVmFsdWUgPSBkYXRhW2ZpZWxkTmFtZV07XG5cbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXNwb25zZSwgZmllbGROYW1lKSkge1xuICAgICAgcmVzcG9uc2VbZmllbGROYW1lXSA9IGRhdGFWYWx1ZTtcbiAgICB9XG5cbiAgICAvLyBTdHJpcHMgb3BlcmF0aW9ucyBmcm9tIHJlc3BvbnNlc1xuICAgIGlmIChyZXNwb25zZVtmaWVsZE5hbWVdICYmIHJlc3BvbnNlW2ZpZWxkTmFtZV0uX19vcCkge1xuICAgICAgZGVsZXRlIHJlc3BvbnNlW2ZpZWxkTmFtZV07XG4gICAgICBpZiAoY2xpZW50U3VwcG9ydHNEZWxldGUgJiYgZGF0YVZhbHVlLl9fb3AgPT0gJ0RlbGV0ZScpIHtcbiAgICAgICAgcmVzcG9uc2VbZmllbGROYW1lXSA9IGRhdGFWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZXN0V3JpdGU7XG5tb2R1bGUuZXhwb3J0cyA9IFJlc3RXcml0ZTtcbiJdfQ==