"use strict";function cov_2qhlydcytj(){var path="/parse-server/lib/Routers/SecurityRouter.js";var hash="6a859b99f6deb3f1b6cda7c3da83472108748edb";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Routers/SecurityRouter.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:50}},"2":{start:{line:8,column:21},end:{line:8,column:72}},"3":{start:{line:10,column:17},end:{line:10,column:67}},"4":{start:{line:12,column:19},end:{line:12,column:77}},"5":{start:{line:14,column:49},end:{line:14,column:96}},"6":{start:{line:14,column:84},end:{line:14,column:96}},"7":{start:{line:14,column:121},end:{line:14,column:134}},"8":{start:{line:14,column:159},end:{line:14,column:172}},"9":{start:{line:14,column:174},end:{line:14,column:309}},"10":{start:{line:14,column:234},end:{line:14,column:292}},"11":{start:{line:16,column:53},end:{line:16,column:111}},"12":{start:{line:16,column:98},end:{line:16,column:109}},"13":{start:{line:16,column:112},end:{line:16,column:214}},"14":{start:{line:16,column:188},end:{line:16,column:212}},"15":{start:{line:16,column:227},end:{line:16,column:264}},"16":{start:{line:16,column:266},end:{line:16,column:321}},"17":{start:{line:16,column:297},end:{line:16,column:319}},"18":{start:{line:16,column:335},end:{line:16,column:337}},"19":{start:{line:16,column:367},end:{line:16,column:423}},"20":{start:{line:16,column:425},end:{line:16,column:726}},"21":{start:{line:16,column:448},end:{line:16,column:724}},"22":{start:{line:16,column:534},end:{line:16,column:606}},"23":{start:{line:16,column:608},end:{line:16,column:722}},"24":{start:{line:16,column:646},end:{line:16,column:687}},"25":{start:{line:16,column:697},end:{line:16,column:720}},"26":{start:{line:16,column:727},end:{line:16,column:748}},"27":{start:{line:16,column:749},end:{line:16,column:787}},"28":{start:{line:16,column:762},end:{line:16,column:785}},"29":{start:{line:16,column:788},end:{line:16,column:802}},"30":{start:{line:18,column:39},end:{line:18,column:93}},"31":{start:{line:22,column:4},end:{line:28,column:7}},"32":{start:{line:23,column:21},end:{line:23,column:78}},"33":{start:{line:24,column:6},end:{line:27,column:8}},"34":{start:{line:32,column:19},end:{line:32,column:29}},"35":{start:{line:34,column:4},end:{line:39,column:5}},"36":{start:{line:35,column:20},end:{line:35,column:31}},"37":{start:{line:36,column:6},end:{line:36,column:25}},"38":{start:{line:37,column:6},end:{line:37,column:97}},"39":{start:{line:38,column:6},end:{line:38,column:18}},"40":{start:{line:44,column:0},end:{line:44,column:40}},"41":{start:{line:45,column:15},end:{line:45,column:29}},"42":{start:{line:46,column:0},end:{line:46,column:27}}},fnMap:{"0":{name:"_getRequireWildcardCache",decl:{start:{line:14,column:9},end:{line:14,column:33}},loc:{start:{line:14,column:47},end:{line:14,column:311}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:209},end:{line:14,column:210}},loc:{start:{line:14,column:232},end:{line:14,column:294}},line:14},"2":{name:"_interopRequireWildcard",decl:{start:{line:16,column:9},end:{line:16,column:32}},loc:{start:{line:16,column:51},end:{line:16,column:804}},line:16},"3":{name:"_interopRequireDefault",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:37},end:{line:18,column:95}},line:18},"4":{name:"(anonymous_4)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:16},end:{line:29,column:3}},line:21},"5":{name:"(anonymous_5)",decl:{start:{line:22,column:112},end:{line:22,column:113}},loc:{start:{line:22,column:125},end:{line:28,column:5}},line:22},"6":{name:"(anonymous_6)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:42},end:{line:40,column:3}},line:31}},branchMap:{"0":{loc:{start:{line:14,column:49},end:{line:14,column:96}},type:"if",locations:[{start:{line:14,column:49},end:{line:14,column:96}},{start:{line:14,column:49},end:{line:14,column:96}}],line:14},"1":{loc:{start:{line:14,column:241},end:{line:14,column:291}},type:"cond-expr",locations:[{start:{line:14,column:255},end:{line:14,column:271}},{start:{line:14,column:274},end:{line:14,column:291}}],line:14},"2":{loc:{start:{line:16,column:53},end:{line:16,column:111}},type:"if",locations:[{start:{line:16,column:53},end:{line:16,column:111}},{start:{line:16,column:53},end:{line:16,column:111}}],line:16},"3":{loc:{start:{line:16,column:57},end:{line:16,column:94}},type:"binary-expr",locations:[{start:{line:16,column:57},end:{line:16,column:69}},{start:{line:16,column:73},end:{line:16,column:76}},{start:{line:16,column:80},end:{line:16,column:94}}],line:16},"4":{loc:{start:{line:16,column:112},end:{line:16,column:214}},type:"if",locations:[{start:{line:16,column:112},end:{line:16,column:214}},{start:{line:16,column:112},end:{line:16,column:214}}],line:16},"5":{loc:{start:{line:16,column:116},end:{line:16,column:184}},type:"binary-expr",locations:[{start:{line:16,column:116},end:{line:16,column:128}},{start:{line:16,column:132},end:{line:16,column:155}},{start:{line:16,column:159},end:{line:16,column:184}}],line:16},"6":{loc:{start:{line:16,column:266},end:{line:16,column:321}},type:"if",locations:[{start:{line:16,column:266},end:{line:16,column:321}},{start:{line:16,column:266},end:{line:16,column:321}}],line:16},"7":{loc:{start:{line:16,column:270},end:{line:16,column:293}},type:"binary-expr",locations:[{start:{line:16,column:270},end:{line:16,column:275}},{start:{line:16,column:279},end:{line:16,column:293}}],line:16},"8":{loc:{start:{line:16,column:367},end:{line:16,column:423}},type:"binary-expr",locations:[{start:{line:16,column:367},end:{line:16,column:388}},{start:{line:16,column:392},end:{line:16,column:423}}],line:16},"9":{loc:{start:{line:16,column:448},end:{line:16,column:724}},type:"if",locations:[{start:{line:16,column:448},end:{line:16,column:724}},{start:{line:16,column:448},end:{line:16,column:724}}],line:16},"10":{loc:{start:{line:16,column:452},end:{line:16,column:519}},type:"binary-expr",locations:[{start:{line:16,column:452},end:{line:16,column:469}},{start:{line:16,column:473},end:{line:16,column:519}}],line:16},"11":{loc:{start:{line:16,column:534},end:{line:16,column:606}},type:"cond-expr",locations:[{start:{line:16,column:558},end:{line:16,column:599}},{start:{line:16,column:602},end:{line:16,column:606}}],line:16},"12":{loc:{start:{line:16,column:608},end:{line:16,column:722}},type:"if",locations:[{start:{line:16,column:608},end:{line:16,column:722}},{start:{line:16,column:608},end:{line:16,column:722}}],line:16},"13":{loc:{start:{line:16,column:612},end:{line:16,column:642}},type:"binary-expr",locations:[{start:{line:16,column:612},end:{line:16,column:616}},{start:{line:16,column:621},end:{line:16,column:629}},{start:{line:16,column:633},end:{line:16,column:641}}],line:16},"14":{loc:{start:{line:16,column:749},end:{line:16,column:787}},type:"if",locations:[{start:{line:16,column:749},end:{line:16,column:787}},{start:{line:16,column:749},end:{line:16,column:787}}],line:16},"15":{loc:{start:{line:18,column:46},end:{line:18,column:92}},type:"cond-expr",locations:[{start:{line:18,column:70},end:{line:18,column:73}},{start:{line:18,column:76},end:{line:18,column:92}}],line:18},"16":{loc:{start:{line:18,column:46},end:{line:18,column:67}},type:"binary-expr",locations:[{start:{line:18,column:46},end:{line:18,column:49}},{start:{line:18,column:53},end:{line:18,column:67}}],line:18},"17":{loc:{start:{line:34,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:39,column:5}},{start:{line:34,column:4},end:{line:39,column:5}}],line:34},"18":{loc:{start:{line:34,column:8},end:{line:34,column:56}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:24}},{start:{line:34,column:28},end:{line:34,column:56}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},inputSourceMap:{version:3,sources:["../../src/Routers/SecurityRouter.js"],names:["SecurityRouter","PromiseRouter","mountRoutes","route","middleware","promiseEnforceMasterKeyAccess","_enforceSecurityCheckEnabled","req","report","CheckRunner","config","security","run","status","response","enableCheck","error","Error","message"],mappings:";;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEO,MAAMA,cAAN,SAA6BC,sBAA7B,CAA2C;AAChDC,EAAAA,WAAW,GAAG;AACZ,SAAKC,KAAL,CACE,KADF,EAEE,WAFF,EAGEC,UAAU,CAACC,6BAHb,EAIE,KAAKC,4BAJP,EAKE,MAAMC,GAAN,IAAa;AACX,YAAMC,MAAM,GAAG,MAAM,IAAIC,oBAAJ,CAAgBF,GAAG,CAACG,MAAJ,CAAWC,QAA3B,EAAqCC,GAArC,EAArB;AACA,aAAO;AACLC,QAAAA,MAAM,EAAE,GADH;AAELC,QAAAA,QAAQ,EAAEN;AAFL,OAAP;AAID,KAXH;AAaD;;AAEiC,QAA5BF,4BAA4B,CAACC,GAAD,EAAM;AACtC,UAAMG,MAAM,GAAGH,GAAG,CAACG,MAAnB;;AACA,QAAI,CAACA,MAAM,CAACC,QAAR,IAAoB,CAACD,MAAM,CAACC,QAAP,CAAgBI,WAAzC,EAAsD;AACpD,YAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;AACAD,MAAAA,KAAK,CAACH,MAAN,GAAe,GAAf;AACAG,MAAAA,KAAK,CAACE,OAAN,GAAgB,0EAAhB;AACA,YAAMF,KAAN;AACD;AACF;;AAzB+C;;;eA4BnChB,c",sourcesContent:["import PromiseRouter from '../PromiseRouter';\nimport * as middleware from '../middlewares';\nimport CheckRunner from '../Security/CheckRunner';\n\nexport class SecurityRouter extends PromiseRouter {\n  mountRoutes() {\n    this.route(\n      'GET',\n      '/security',\n      middleware.promiseEnforceMasterKeyAccess,\n      this._enforceSecurityCheckEnabled,\n      async req => {\n        const report = await new CheckRunner(req.config.security).run();\n        return {\n          status: 200,\n          response: report,\n        };\n      }\n    );\n  }\n\n  async _enforceSecurityCheckEnabled(req) {\n    const config = req.config;\n    if (!config.security || !config.security.enableCheck) {\n      const error = new Error();\n      error.status = 409;\n      error.message = 'Enable Parse Server option `security.enableCheck` to run security check.';\n      throw error;\n    }\n  }\n}\n\nexport default SecurityRouter;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6a859b99f6deb3f1b6cda7c3da83472108748edb"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2qhlydcytj=function(){return actualCoverage;};}return actualCoverage;}cov_2qhlydcytj();cov_2qhlydcytj().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2qhlydcytj().s[1]++;exports.default=exports.SecurityRouter=void 0;var _PromiseRouter=(cov_2qhlydcytj().s[2]++,_interopRequireDefault(require("../PromiseRouter")));var middleware=(cov_2qhlydcytj().s[3]++,_interopRequireWildcard(require("../middlewares")));var _CheckRunner=(cov_2qhlydcytj().s[4]++,_interopRequireDefault(require("../Security/CheckRunner")));function _getRequireWildcardCache(nodeInterop){cov_2qhlydcytj().f[0]++;cov_2qhlydcytj().s[5]++;if(typeof WeakMap!=="function"){cov_2qhlydcytj().b[0][0]++;cov_2qhlydcytj().s[6]++;return null;}else{cov_2qhlydcytj().b[0][1]++;}var cacheBabelInterop=(cov_2qhlydcytj().s[7]++,new WeakMap());var cacheNodeInterop=(cov_2qhlydcytj().s[8]++,new WeakMap());cov_2qhlydcytj().s[9]++;return(_getRequireWildcardCache=function(nodeInterop){cov_2qhlydcytj().f[1]++;cov_2qhlydcytj().s[10]++;return nodeInterop?(cov_2qhlydcytj().b[1][0]++,cacheNodeInterop):(cov_2qhlydcytj().b[1][1]++,cacheBabelInterop);})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){cov_2qhlydcytj().f[2]++;cov_2qhlydcytj().s[11]++;if((cov_2qhlydcytj().b[3][0]++,!nodeInterop)&&(cov_2qhlydcytj().b[3][1]++,obj)&&(cov_2qhlydcytj().b[3][2]++,obj.__esModule)){cov_2qhlydcytj().b[2][0]++;cov_2qhlydcytj().s[12]++;return obj;}else{cov_2qhlydcytj().b[2][1]++;}cov_2qhlydcytj().s[13]++;if((cov_2qhlydcytj().b[5][0]++,obj===null)||(cov_2qhlydcytj().b[5][1]++,typeof obj!=="object")&&(cov_2qhlydcytj().b[5][2]++,typeof obj!=="function")){cov_2qhlydcytj().b[4][0]++;cov_2qhlydcytj().s[14]++;return{default:obj};}else{cov_2qhlydcytj().b[4][1]++;}var cache=(cov_2qhlydcytj().s[15]++,_getRequireWildcardCache(nodeInterop));cov_2qhlydcytj().s[16]++;if((cov_2qhlydcytj().b[7][0]++,cache)&&(cov_2qhlydcytj().b[7][1]++,cache.has(obj))){cov_2qhlydcytj().b[6][0]++;cov_2qhlydcytj().s[17]++;return cache.get(obj);}else{cov_2qhlydcytj().b[6][1]++;}var newObj=(cov_2qhlydcytj().s[18]++,{});var hasPropertyDescriptor=(cov_2qhlydcytj().s[19]++,(cov_2qhlydcytj().b[8][0]++,Object.defineProperty)&&(cov_2qhlydcytj().b[8][1]++,Object.getOwnPropertyDescriptor));cov_2qhlydcytj().s[20]++;for(var key in obj){cov_2qhlydcytj().s[21]++;if((cov_2qhlydcytj().b[10][0]++,key!=="default")&&(cov_2qhlydcytj().b[10][1]++,Object.prototype.hasOwnProperty.call(obj,key))){cov_2qhlydcytj().b[9][0]++;var desc=(cov_2qhlydcytj().s[22]++,hasPropertyDescriptor?(cov_2qhlydcytj().b[11][0]++,Object.getOwnPropertyDescriptor(obj,key)):(cov_2qhlydcytj().b[11][1]++,null));cov_2qhlydcytj().s[23]++;if((cov_2qhlydcytj().b[13][0]++,desc)&&((cov_2qhlydcytj().b[13][1]++,desc.get)||(cov_2qhlydcytj().b[13][2]++,desc.set))){cov_2qhlydcytj().b[12][0]++;cov_2qhlydcytj().s[24]++;Object.defineProperty(newObj,key,desc);}else{cov_2qhlydcytj().b[12][1]++;cov_2qhlydcytj().s[25]++;newObj[key]=obj[key];}}else{cov_2qhlydcytj().b[9][1]++;}}cov_2qhlydcytj().s[26]++;newObj.default=obj;cov_2qhlydcytj().s[27]++;if(cache){cov_2qhlydcytj().b[14][0]++;cov_2qhlydcytj().s[28]++;cache.set(obj,newObj);}else{cov_2qhlydcytj().b[14][1]++;}cov_2qhlydcytj().s[29]++;return newObj;}function _interopRequireDefault(obj){cov_2qhlydcytj().f[3]++;cov_2qhlydcytj().s[30]++;return(cov_2qhlydcytj().b[16][0]++,obj)&&(cov_2qhlydcytj().b[16][1]++,obj.__esModule)?(cov_2qhlydcytj().b[15][0]++,obj):(cov_2qhlydcytj().b[15][1]++,{default:obj});}class SecurityRouter extends(_PromiseRouter.default){mountRoutes(){cov_2qhlydcytj().f[4]++;cov_2qhlydcytj().s[31]++;this.route('GET','/security',middleware.promiseEnforceMasterKeyAccess,this._enforceSecurityCheckEnabled,async req=>{cov_2qhlydcytj().f[5]++;const report=(cov_2qhlydcytj().s[32]++,await new _CheckRunner.default(req.config.security).run());cov_2qhlydcytj().s[33]++;return{status:200,response:report};});}async _enforceSecurityCheckEnabled(req){cov_2qhlydcytj().f[6]++;const config=(cov_2qhlydcytj().s[34]++,req.config);cov_2qhlydcytj().s[35]++;if((cov_2qhlydcytj().b[18][0]++,!config.security)||(cov_2qhlydcytj().b[18][1]++,!config.security.enableCheck)){cov_2qhlydcytj().b[17][0]++;const error=(cov_2qhlydcytj().s[36]++,new Error());cov_2qhlydcytj().s[37]++;error.status=409;cov_2qhlydcytj().s[38]++;error.message='Enable Parse Server option `security.enableCheck` to run security check.';cov_2qhlydcytj().s[39]++;throw error;}else{cov_2qhlydcytj().b[17][1]++;}}}cov_2qhlydcytj().s[40]++;exports.SecurityRouter=SecurityRouter;var _default=(cov_2qhlydcytj().s[41]++,SecurityRouter);cov_2qhlydcytj().s[42]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Sb3V0ZXJzL1NlY3VyaXR5Um91dGVyLmpzIl0sIm5hbWVzIjpbIlNlY3VyaXR5Um91dGVyIiwiUHJvbWlzZVJvdXRlciIsIm1vdW50Um91dGVzIiwicm91dGUiLCJtaWRkbGV3YXJlIiwicHJvbWlzZUVuZm9yY2VNYXN0ZXJLZXlBY2Nlc3MiLCJfZW5mb3JjZVNlY3VyaXR5Q2hlY2tFbmFibGVkIiwicmVxIiwicmVwb3J0IiwiQ2hlY2tSdW5uZXIiLCJjb25maWciLCJzZWN1cml0eSIsInJ1biIsInN0YXR1cyIsInJlc3BvbnNlIiwiZW5hYmxlQ2hlY2siLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVPLE1BQU1BLGNBQU4sU0FBNkJDLHNCQUE3QixDQUEyQztBQUNoREMsRUFBQUEsV0FBVyxHQUFHO0FBQ1osU0FBS0MsS0FBTCxDQUNFLEtBREYsRUFFRSxXQUZGLEVBR0VDLFVBQVUsQ0FBQ0MsNkJBSGIsRUFJRSxLQUFLQyw0QkFKUCxFQUtFLE1BQU1DLEdBQU4sSUFBYTtBQUNYLFlBQU1DLE1BQU0sR0FBRyxNQUFNLElBQUlDLG9CQUFKLENBQWdCRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsUUFBM0IsRUFBcUNDLEdBQXJDLEVBQXJCO0FBQ0EsYUFBTztBQUNMQyxRQUFBQSxNQUFNLEVBQUUsR0FESDtBQUVMQyxRQUFBQSxRQUFRLEVBQUVOO0FBRkwsT0FBUDtBQUlELEtBWEg7QUFhRDs7QUFFaUMsUUFBNUJGLDRCQUE0QixDQUFDQyxHQUFELEVBQU07QUFDdEMsVUFBTUcsTUFBTSxHQUFHSCxHQUFHLENBQUNHLE1BQW5COztBQUNBLFFBQUksQ0FBQ0EsTUFBTSxDQUFDQyxRQUFSLElBQW9CLENBQUNELE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkksV0FBekMsRUFBc0Q7QUFDcEQsWUFBTUMsS0FBSyxHQUFHLElBQUlDLEtBQUosRUFBZDtBQUNBRCxNQUFBQSxLQUFLLENBQUNILE1BQU4sR0FBZSxHQUFmO0FBQ0FHLE1BQUFBLEtBQUssQ0FBQ0UsT0FBTixHQUFnQiwwRUFBaEI7QUFDQSxZQUFNRixLQUFOO0FBQ0Q7QUFDRjs7QUF6QitDOzs7ZUE0Qm5DaEIsYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9taXNlUm91dGVyIGZyb20gJy4uL1Byb21pc2VSb3V0ZXInO1xuaW1wb3J0ICogYXMgbWlkZGxld2FyZSBmcm9tICcuLi9taWRkbGV3YXJlcyc7XG5pbXBvcnQgQ2hlY2tSdW5uZXIgZnJvbSAnLi4vU2VjdXJpdHkvQ2hlY2tSdW5uZXInO1xuXG5leHBvcnQgY2xhc3MgU2VjdXJpdHlSb3V0ZXIgZXh0ZW5kcyBQcm9taXNlUm91dGVyIHtcbiAgbW91bnRSb3V0ZXMoKSB7XG4gICAgdGhpcy5yb3V0ZShcbiAgICAgICdHRVQnLFxuICAgICAgJy9zZWN1cml0eScsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5fZW5mb3JjZVNlY3VyaXR5Q2hlY2tFbmFibGVkLFxuICAgICAgYXN5bmMgcmVxID0+IHtcbiAgICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgbmV3IENoZWNrUnVubmVyKHJlcS5jb25maWcuc2VjdXJpdHkpLnJ1bigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgIHJlc3BvbnNlOiByZXBvcnQsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIF9lbmZvcmNlU2VjdXJpdHlDaGVja0VuYWJsZWQocmVxKSB7XG4gICAgY29uc3QgY29uZmlnID0gcmVxLmNvbmZpZztcbiAgICBpZiAoIWNvbmZpZy5zZWN1cml0eSB8fCAhY29uZmlnLnNlY3VyaXR5LmVuYWJsZUNoZWNrKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgZXJyb3Iuc3RhdHVzID0gNDA5O1xuICAgICAgZXJyb3IubWVzc2FnZSA9ICdFbmFibGUgUGFyc2UgU2VydmVyIG9wdGlvbiBgc2VjdXJpdHkuZW5hYmxlQ2hlY2tgIHRvIHJ1biBzZWN1cml0eSBjaGVjay4nO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3VyaXR5Um91dGVyO1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Sb3V0ZXJzL1NlY3VyaXR5Um91dGVyLmpzIl0sIm5hbWVzIjpbIlByb21pc2VSb3V0ZXIiLCJtb3VudFJvdXRlcyIsIm1pZGRsZXdhcmUiLCJyZXBvcnQiLCJDaGVja1J1bm5lciIsInJlcSIsInN0YXR1cyIsInJlc3BvbnNlIiwiX2VuZm9yY2VTZWN1cml0eUNoZWNrRW5hYmxlZCIsImNvbmZpZyIsImVycm9yIiwiU2VjdXJpdHlSb3V0ZXIiXSwibWFwcGluZ3MiOiI7a1BBQUEsR0FBQSxDQUFBLGNBQUEsMEJBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLENBQUEsQ0FDQSxHQUFBLENBQUEsVUFBQSwwQkFBQSx1QkFBQSxDQUFBLE9BQUEsQ0FBQSxnQkFBQSxDQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxZQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLHlCQUFBLENBQUEsQ0FBQSxDQUFBLEMsODJGQUVPLEtBQUEsQ0FBQSxjQUFBLFNBQTZCQSxjQUFBQSxDQUE3QixPQUFBLENBQTJDLENBQ2hEQyxXQUFXLEVBQUcsa0RBQ1osS0FBQSxLQUFBLENBQUEsS0FBQSxDQUFBLFdBQUEsQ0FHRUMsVUFBVSxDQUhaLDZCQUFBLENBSUUsS0FKRiw0QkFBQSxDQUtFLEtBQUEsQ0FBQSxHQUFBLEVBQWEseUJBQ1gsS0FBTUMsQ0FBQUEsTUFBTSwyQkFBRyxLQUFNLElBQUlDLENBQUFBLFlBQUFBLENBQUosT0FBQSxDQUFnQkMsR0FBRyxDQUFIQSxNQUFBQSxDQUFoQixRQUFBLEVBQXJCLEdBQXFCLEVBQVQsQ0FBWixDQURXLHlCQUVYLE1BQU8sQ0FDTEMsTUFBTSxDQURELEdBQUEsQ0FFTEMsUUFBUSxDQUFFSixNQUZMLENBQVAsQ0FQSixDQUFBLEVBYUQsQ0FFaUMsS0FBNUJLLENBQUFBLDRCQUE0QixDQUFBLEdBQUEsQ0FBTSx5QkFDdEMsS0FBTUMsQ0FBQUEsTUFBTSwyQkFBR0osR0FBRyxDQUFsQixNQUFZLENBQVosQ0FEc0MseUJBRXRDLEdBQUksOEJBQUNJLE1BQU0sQ0FBUCxRQUFBLGdDQUFvQixDQUFDQSxNQUFNLENBQU5BLFFBQUFBLENBQXpCLFdBQUksQ0FBSixDQUFzRCw2QkFDcEQsS0FBTUMsQ0FBQUEsS0FBSywyQkFBRyxHQUFkLENBQUEsS0FBYyxFQUFILENBQVgsQ0FEb0QseUJBRXBEQSxLQUFLLENBQUxBLE1BQUFBLENBQUFBLEdBQUFBLENBRm9ELHlCQUdwREEsS0FBSyxDQUFMQSxPQUFBQSxDQUFBQSwwRUFBQUEsQ0FIb0QseUJBSXBELEtBQUEsQ0FBQSxLQUFBLENBQ0QsQ0FMRCxrQ0FNRCxDQXpCK0MsQyxzR0E0Qm5DQyxjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb21pc2VSb3V0ZXIgZnJvbSAnLi4vUHJvbWlzZVJvdXRlcic7XG5pbXBvcnQgKiBhcyBtaWRkbGV3YXJlIGZyb20gJy4uL21pZGRsZXdhcmVzJztcbmltcG9ydCBDaGVja1J1bm5lciBmcm9tICcuLi9TZWN1cml0eS9DaGVja1J1bm5lcic7XG5cbmV4cG9ydCBjbGFzcyBTZWN1cml0eVJvdXRlciBleHRlbmRzIFByb21pc2VSb3V0ZXIge1xuICBtb3VudFJvdXRlcygpIHtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ0dFVCcsXG4gICAgICAnL3NlY3VyaXR5JyxcbiAgICAgIG1pZGRsZXdhcmUucHJvbWlzZUVuZm9yY2VNYXN0ZXJLZXlBY2Nlc3MsXG4gICAgICB0aGlzLl9lbmZvcmNlU2VjdXJpdHlDaGVja0VuYWJsZWQsXG4gICAgICBhc3luYyByZXEgPT4ge1xuICAgICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBuZXcgQ2hlY2tSdW5uZXIocmVxLmNvbmZpZy5zZWN1cml0eSkucnVuKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgcmVzcG9uc2U6IHJlcG9ydCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgYXN5bmMgX2VuZm9yY2VTZWN1cml0eUNoZWNrRW5hYmxlZChyZXEpIHtcbiAgICBjb25zdCBjb25maWcgPSByZXEuY29uZmlnO1xuICAgIGlmICghY29uZmlnLnNlY3VyaXR5IHx8ICFjb25maWcuc2VjdXJpdHkuZW5hYmxlQ2hlY2spIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICBlcnJvci5zdGF0dXMgPSA0MDk7XG4gICAgICBlcnJvci5tZXNzYWdlID0gJ0VuYWJsZSBQYXJzZSBTZXJ2ZXIgb3B0aW9uIGBzZWN1cml0eS5lbmFibGVDaGVja2AgdG8gcnVuIHNlY3VyaXR5IGNoZWNrLic7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdXJpdHlSb3V0ZXI7XG4iXX0=