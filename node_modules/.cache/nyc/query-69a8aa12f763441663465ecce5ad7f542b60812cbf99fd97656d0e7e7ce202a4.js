"use strict";function cov_1rf5e04r2f(){var path="/parse-server/lib/GraphQL/transformers/query.js";var hash="f32a532eb24a22bc3958611146b780845f08865a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/GraphQL/transformers/query.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:91}},"2":{start:{line:8,column:20},end:{line:8,column:44}},"3":{start:{line:10,column:54},end:{line:10,column:73}},"4":{start:{line:10,column:75},end:{line:10,column:330}},"5":{start:{line:10,column:125},end:{line:10,column:161}},"6":{start:{line:10,column:163},end:{line:10,column:296}},"7":{start:{line:10,column:185},end:{line:10,column:294}},"8":{start:{line:10,column:227},end:{line:10,column:290}},"9":{start:{line:10,column:297},end:{line:10,column:328}},"10":{start:{line:10,column:331},end:{line:10,column:343}},"11":{start:{line:12,column:33},end:{line:12,column:517}},"12":{start:{line:12,column:46},end:{line:12,column:47}},"13":{start:{line:12,column:91},end:{line:12,column:131}},"14":{start:{line:12,column:133},end:{line:12,column:515}},"15":{start:{line:12,column:146},end:{line:12,column:247}},"16":{start:{line:12,column:201},end:{line:12,column:243}},"17":{start:{line:12,column:255},end:{line:12,column:515}},"18":{start:{line:12,column:295},end:{line:12,column:369}},"19":{start:{line:12,column:379},end:{line:12,column:513}},"20":{start:{line:12,column:428},end:{line:12,column:509}},"21":{start:{line:12,column:518},end:{line:12,column:532}},"22":{start:{line:14,column:44},end:{line:14,column:195}},"23":{start:{line:14,column:62},end:{line:14,column:166}},"24":{start:{line:14,column:176},end:{line:14,column:193}},"25":{start:{line:14,column:196},end:{line:14,column:207}},"26":{start:{line:16,column:22},end:{line:20,column:1}},"27":{start:{line:21,column:27},end:{line:57,column:1}},"28":{start:{line:59,column:45},end:{line:246,column:1}},"29":{start:{line:60,column:17},end:{line:60,column:91}},"30":{start:{line:60,column:49},end:{line:60,column:83}},"31":{start:{line:62,column:2},end:{line:86,column:3}},"32":{start:{line:63,column:4},end:{line:83,column:7}},"33":{start:{line:64,column:30},end:{line:64,column:57}},"34":{start:{line:66,column:6},end:{line:82,column:7}},"35":{start:{line:67,column:31},end:{line:67,column:79}},"36":{start:{line:69,column:8},end:{line:71,column:9}},"37":{start:{line:70,column:10},end:{line:70,column:58}},"38":{start:{line:72,column:13},end:{line:82,column:7}},"39":{start:{line:73,column:8},end:{line:81,column:11}},"40":{start:{line:74,column:33},end:{line:74,column:71}},"41":{start:{line:76,column:10},end:{line:78,column:11}},"42":{start:{line:77,column:12},end:{line:77,column:37}},"43":{start:{line:80,column:10},end:{line:80,column:23}},"44":{start:{line:84,column:4},end:{line:84,column:45}},"45":{start:{line:85,column:4},end:{line:85,column:32}},"46":{start:{line:88,column:2},end:{line:245,column:5}},"47":{start:{line:89,column:21},end:{line:89,column:43}},"48":{start:{line:91,column:4},end:{line:94,column:5}},"49":{start:{line:92,column:6},end:{line:92,column:74}},"50":{start:{line:93,column:6},end:{line:93,column:36}},"51":{start:{line:123,column:4},end:{line:187,column:5}},"52":{start:{line:124,column:6},end:{line:124,column:48}},"53":{start:{line:125,column:6},end:{line:127,column:9}},"54":{start:{line:128,column:11},end:{line:187,column:5}},"55":{start:{line:131,column:10},end:{line:131,column:33}},"56":{start:{line:133,column:6},end:{line:165,column:7}},"57":{start:{line:134,column:8},end:{line:162,column:9}},"58":{start:{line:135,column:30},end:{line:135,column:63}},"59":{start:{line:137,column:10},end:{line:157,column:11}},"60":{start:{line:138,column:12},end:{line:146,column:13}},"61":{start:{line:139,column:14},end:{line:141,column:17}},"62":{start:{line:143,column:14},end:{line:145,column:16}},"63":{start:{line:148,column:37},end:{line:148,column:76}},"64":{start:{line:149,column:12},end:{line:156,column:14}},"65":{start:{line:159,column:10},end:{line:159,column:37}},"66":{start:{line:161,column:10},end:{line:161,column:66}},"67":{start:{line:164,column:8},end:{line:164,column:15}},"68":{start:{line:167,column:6},end:{line:183,column:7}},"69":{start:{line:169,column:10},end:{line:172,column:12}},"70":{start:{line:173,column:10},end:{line:173,column:115}},"71":{start:{line:174,column:10},end:{line:174,column:16}},"72":{start:{line:177,column:10},end:{line:180,column:12}},"73":{start:{line:181,column:10},end:{line:181,column:118}},"74":{start:{line:182,column:10},end:{line:182,column:16}},"75":{start:{line:185,column:6},end:{line:185,column:36}},"76":{start:{line:186,column:6},end:{line:186,column:13}},"77":{start:{line:189,column:4},end:{line:236,column:5}},"78":{start:{line:191,column:8},end:{line:193,column:9}},"79":{start:{line:192,column:10},end:{line:192,column:41}},"80":{start:{line:195,column:8},end:{line:195,column:14}},"81":{start:{line:198,column:8},end:{line:200,column:9}},"82":{start:{line:199,column:10},end:{line:199,column:41}},"83":{start:{line:202,column:8},end:{line:202,column:14}},"84":{start:{line:205,column:8},end:{line:212,column:9}},"85":{start:{line:206,column:10},end:{line:210,column:37}},"86":{start:{line:211,column:10},end:{line:211,column:66}},"87":{start:{line:214,column:8},end:{line:214,column:14}},"88":{start:{line:217,column:8},end:{line:223,column:9}},"89":{start:{line:218,column:10},end:{line:222,column:13}},"90":{start:{line:219,column:12},end:{line:221,column:13}},"91":{start:{line:220,column:14},end:{line:220,column:43}},"92":{start:{line:225,column:8},end:{line:225,column:14}},"93":{start:{line:228,column:8},end:{line:233,column:9}},"94":{start:{line:229,column:10},end:{line:231,column:54}},"95":{start:{line:232,column:10},end:{line:232,column:66}},"96":{start:{line:235,column:8},end:{line:235,column:14}},"97":{start:{line:238,column:4},end:{line:244,column:5}},"98":{start:{line:239,column:6},end:{line:243,column:7}},"99":{start:{line:240,column:8},end:{line:240,column:72}},"100":{start:{line:242,column:8},end:{line:242,column:106}},"101":{start:{line:248,column:0},end:{line:248,column:84}},"102":{start:{line:250,column:35},end:{line:270,column:1}},"103":{start:{line:251,column:2},end:{line:253,column:3}},"104":{start:{line:252,column:4},end:{line:252,column:11}},"105":{start:{line:255,column:2},end:{line:269,column:5}},"106":{start:{line:256,column:23},end:{line:256,column:45}},"107":{start:{line:258,column:4},end:{line:268,column:5}},"108":{start:{line:259,column:6},end:{line:259,column:36}},"109":{start:{line:260,column:6},end:{line:260,column:43}},"110":{start:{line:261,column:6},end:{line:261,column:42}},"111":{start:{line:262,column:6},end:{line:264,column:9}},"112":{start:{line:263,column:8},end:{line:263,column:76}},"113":{start:{line:265,column:6},end:{line:265,column:13}},"114":{start:{line:267,column:6},end:{line:267,column:104}},"115":{start:{line:272,column:0},end:{line:272,column:64}}},fnMap:{"0":{name:"ownKeys",decl:{start:{line:10,column:9},end:{line:10,column:16}},loc:{start:{line:10,column:41},end:{line:10,column:345}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:210},end:{line:10,column:211}},loc:{start:{line:10,column:225},end:{line:10,column:292}},line:10},"2":{name:"_objectSpread",decl:{start:{line:12,column:9},end:{line:12,column:22}},loc:{start:{line:12,column:31},end:{line:12,column:534}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:12,column:184},end:{line:12,column:185}},loc:{start:{line:12,column:199},end:{line:12,column:245}},line:12},"4":{name:"(anonymous_4)",decl:{start:{line:12,column:411},end:{line:12,column:412}},loc:{start:{line:12,column:426},end:{line:12,column:511}},line:12},"5":{name:"_defineProperty",decl:{start:{line:14,column:9},end:{line:14,column:24}},loc:{start:{line:14,column:42},end:{line:14,column:209}},line:14},"6":{name:"(anonymous_6)",decl:{start:{line:59,column:45},end:{line:59,column:46}},loc:{start:{line:59,column:123},end:{line:246,column:1}},line:59},"7":{name:"(anonymous_7)",decl:{start:{line:60,column:35},end:{line:60,column:36}},loc:{start:{line:60,column:49},end:{line:60,column:83}},line:60},"8":{name:"(anonymous_8)",decl:{start:{line:63,column:37},end:{line:63,column:38}},loc:{start:{line:63,column:55},end:{line:83,column:5}},line:63},"9":{name:"(anonymous_9)",decl:{start:{line:73,column:58},end:{line:73,column:59}},loc:{start:{line:73,column:67},end:{line:81,column:9}},line:73},"10":{name:"(anonymous_10)",decl:{start:{line:88,column:35},end:{line:88,column:36}},loc:{start:{line:88,column:48},end:{line:245,column:3}},line:88},"11":{name:"(anonymous_11)",decl:{start:{line:218,column:29},end:{line:218,column:30}},loc:{start:{line:218,column:41},end:{line:222,column:11}},line:218},"12":{name:"(anonymous_12)",decl:{start:{line:250,column:35},end:{line:250,column:36}},loc:{start:{line:250,column:77},end:{line:270,column:1}},line:250},"13":{name:"(anonymous_13)",decl:{start:{line:255,column:35},end:{line:255,column:36}},loc:{start:{line:255,column:48},end:{line:269,column:3}},line:255},"14":{name:"(anonymous_14)",decl:{start:{line:262,column:25},end:{line:262,column:26}},loc:{start:{line:262,column:43},end:{line:264,column:7}},line:262}},branchMap:{"0":{loc:{start:{line:10,column:75},end:{line:10,column:330}},type:"if",locations:[{start:{line:10,column:75},end:{line:10,column:330}},{start:{line:10,column:75},end:{line:10,column:330}}],line:10},"1":{loc:{start:{line:10,column:163},end:{line:10,column:296}},type:"if",locations:[{start:{line:10,column:163},end:{line:10,column:296}},{start:{line:10,column:163},end:{line:10,column:296}}],line:10},"2":{loc:{start:{line:12,column:91},end:{line:12,column:131}},type:"cond-expr",locations:[{start:{line:12,column:114},end:{line:12,column:126}},{start:{line:12,column:129},end:{line:12,column:131}}],line:12},"3":{loc:{start:{line:12,column:133},end:{line:12,column:515}},type:"if",locations:[{start:{line:12,column:133},end:{line:12,column:515}},{start:{line:12,column:133},end:{line:12,column:515}}],line:12},"4":{loc:{start:{line:12,column:255},end:{line:12,column:515}},type:"if",locations:[{start:{line:12,column:255},end:{line:12,column:515}},{start:{line:12,column:255},end:{line:12,column:515}}],line:12},"5":{loc:{start:{line:14,column:44},end:{line:14,column:195}},type:"if",locations:[{start:{line:14,column:44},end:{line:14,column:195}},{start:{line:14,column:44},end:{line:14,column:195}}],line:14},"6":{loc:{start:{line:62,column:2},end:{line:86,column:3}},type:"if",locations:[{start:{line:62,column:2},end:{line:86,column:3}},{start:{line:62,column:2},end:{line:86,column:3}}],line:62},"7":{loc:{start:{line:62,column:6},end:{line:62,column:43}},type:"binary-expr",locations:[{start:{line:62,column:6},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:43}}],line:62},"8":{loc:{start:{line:66,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:66,column:6},end:{line:82,column:7}},{start:{line:66,column:6},end:{line:82,column:7}}],line:66},"9":{loc:{start:{line:69,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:71,column:9}},{start:{line:69,column:8},end:{line:71,column:9}}],line:69},"10":{loc:{start:{line:72,column:13},end:{line:82,column:7}},type:"if",locations:[{start:{line:72,column:13},end:{line:82,column:7}},{start:{line:72,column:13},end:{line:82,column:7}}],line:72},"11":{loc:{start:{line:76,column:10},end:{line:78,column:11}},type:"if",locations:[{start:{line:76,column:10},end:{line:78,column:11}},{start:{line:76,column:10},end:{line:78,column:11}}],line:76},"12":{loc:{start:{line:91,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:91,column:4},end:{line:94,column:5}},{start:{line:91,column:4},end:{line:94,column:5}}],line:91},"13":{loc:{start:{line:123,column:4},end:{line:187,column:5}},type:"if",locations:[{start:{line:123,column:4},end:{line:187,column:5}},{start:{line:123,column:4},end:{line:187,column:5}}],line:123},"14":{loc:{start:{line:123,column:8},end:{line:123,column:82}},type:"binary-expr",locations:[{start:{line:123,column:8},end:{line:123,column:22}},{start:{line:123,column:26},end:{line:123,column:42}},{start:{line:123,column:46},end:{line:123,column:63}},{start:{line:123,column:67},end:{line:123,column:82}}],line:123},"15":{loc:{start:{line:128,column:11},end:{line:187,column:5}},type:"if",locations:[{start:{line:128,column:11},end:{line:187,column:5}},{start:{line:128,column:11},end:{line:187,column:5}}],line:128},"16":{loc:{start:{line:128,column:15},end:{line:128,column:133}},type:"binary-expr",locations:[{start:{line:128,column:15},end:{line:128,column:38}},{start:{line:128,column:43},end:{line:128,column:85}},{start:{line:128,column:89},end:{line:128,column:132}}],line:128},"17":{loc:{start:{line:133,column:6},end:{line:165,column:7}},type:"if",locations:[{start:{line:133,column:6},end:{line:165,column:7}},{start:{line:133,column:6},end:{line:165,column:7}}],line:133},"18":{loc:{start:{line:134,column:8},end:{line:162,column:9}},type:"if",locations:[{start:{line:134,column:8},end:{line:162,column:9}},{start:{line:134,column:8},end:{line:162,column:9}}],line:134},"19":{loc:{start:{line:135,column:30},end:{line:135,column:63}},type:"cond-expr",locations:[{start:{line:135,column:43},end:{line:135,column:50}},{start:{line:135,column:53},end:{line:135,column:63}}],line:135},"20":{loc:{start:{line:137,column:10},end:{line:157,column:11}},type:"if",locations:[{start:{line:137,column:10},end:{line:157,column:11}},{start:{line:137,column:10},end:{line:157,column:11}}],line:137},"21":{loc:{start:{line:138,column:12},end:{line:146,column:13}},type:"if",locations:[{start:{line:138,column:12},end:{line:146,column:13}},{start:{line:138,column:12},end:{line:146,column:13}}],line:138},"22":{loc:{start:{line:148,column:37},end:{line:148,column:76}},type:"cond-expr",locations:[{start:{line:148,column:50},end:{line:148,column:60}},{start:{line:148,column:63},end:{line:148,column:76}}],line:148},"23":{loc:{start:{line:167,column:6},end:{line:183,column:7}},type:"switch",locations:[{start:{line:168,column:8},end:{line:174,column:16}},{start:{line:176,column:8},end:{line:182,column:16}}],line:167},"24":{loc:{start:{line:189,column:4},end:{line:236,column:5}},type:"switch",locations:[{start:{line:190,column:6},end:{line:195,column:14}},{start:{line:197,column:6},end:{line:202,column:14}},{start:{line:204,column:6},end:{line:214,column:14}},{start:{line:216,column:6},end:{line:225,column:14}},{start:{line:227,column:6},end:{line:235,column:14}}],line:189},"25":{loc:{start:{line:191,column:8},end:{line:193,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:193,column:9}},{start:{line:191,column:8},end:{line:193,column:9}}],line:191},"26":{loc:{start:{line:191,column:12},end:{line:191,column:64}},type:"binary-expr",locations:[{start:{line:191,column:12},end:{line:191,column:42}},{start:{line:191,column:46},end:{line:191,column:64}}],line:191},"27":{loc:{start:{line:198,column:8},end:{line:200,column:9}},type:"if",locations:[{start:{line:198,column:8},end:{line:200,column:9}},{start:{line:198,column:8},end:{line:200,column:9}}],line:198},"28":{loc:{start:{line:198,column:12},end:{line:198,column:64}},type:"binary-expr",locations:[{start:{line:198,column:12},end:{line:198,column:42}},{start:{line:198,column:46},end:{line:198,column:64}}],line:198},"29":{loc:{start:{line:205,column:8},end:{line:212,column:9}},type:"if",locations:[{start:{line:205,column:8},end:{line:212,column:9}},{start:{line:205,column:8},end:{line:212,column:9}}],line:205},"30":{loc:{start:{line:205,column:12},end:{line:205,column:92}},type:"binary-expr",locations:[{start:{line:205,column:12},end:{line:205,column:42}},{start:{line:205,column:46},end:{line:205,column:67}},{start:{line:205,column:71},end:{line:205,column:92}}],line:205},"31":{loc:{start:{line:217,column:8},end:{line:223,column:9}},type:"if",locations:[{start:{line:217,column:8},end:{line:223,column:9}},{start:{line:217,column:8},end:{line:223,column:9}}],line:217},"32":{loc:{start:{line:219,column:12},end:{line:221,column:13}},type:"if",locations:[{start:{line:219,column:12},end:{line:221,column:13}},{start:{line:219,column:12},end:{line:221,column:13}}],line:219},"33":{loc:{start:{line:219,column:16},end:{line:219,column:64}},type:"binary-expr",locations:[{start:{line:219,column:16},end:{line:219,column:44}},{start:{line:219,column:48},end:{line:219,column:64}}],line:219},"34":{loc:{start:{line:228,column:8},end:{line:233,column:9}},type:"if",locations:[{start:{line:228,column:8},end:{line:233,column:9}},{start:{line:228,column:8},end:{line:233,column:9}}],line:228},"35":{loc:{start:{line:228,column:12},end:{line:228,column:86}},type:"binary-expr",locations:[{start:{line:228,column:12},end:{line:228,column:42}},{start:{line:228,column:46},end:{line:228,column:63}},{start:{line:228,column:67},end:{line:228,column:86}}],line:228},"36":{loc:{start:{line:238,column:4},end:{line:244,column:5}},type:"if",locations:[{start:{line:238,column:4},end:{line:244,column:5}},{start:{line:238,column:4},end:{line:244,column:5}}],line:238},"37":{loc:{start:{line:239,column:6},end:{line:243,column:7}},type:"if",locations:[{start:{line:239,column:6},end:{line:243,column:7}},{start:{line:239,column:6},end:{line:243,column:7}}],line:239},"38":{loc:{start:{line:251,column:2},end:{line:253,column:3}},type:"if",locations:[{start:{line:251,column:2},end:{line:253,column:3}},{start:{line:251,column:2},end:{line:253,column:3}}],line:251},"39":{loc:{start:{line:251,column:6},end:{line:251,column:53}},type:"binary-expr",locations:[{start:{line:251,column:6},end:{line:251,column:18}},{start:{line:251,column:22},end:{line:251,column:53}}],line:251},"40":{loc:{start:{line:258,column:4},end:{line:268,column:5}},type:"if",locations:[{start:{line:258,column:4},end:{line:268,column:5}},{start:{line:258,column:4},end:{line:268,column:5}}],line:258}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0]},inputSourceMap:{version:3,sources:["../../../src/GraphQL/transformers/query.js"],names:["parseQueryMap","OR","AND","NOR","parseConstraintMap","equalTo","notEqualTo","lessThan","lessThanOrEqualTo","greaterThan","greaterThanOrEqualTo","in","notIn","exists","inQueryKey","notInQueryKey","inQuery","notInQuery","containedBy","contains","matchesRegex","options","text","search","term","language","caseSensitive","diacriticSensitive","nearSphere","maxDistance","maxDistanceInRadians","maxDistanceInMiles","maxDistanceInKilometers","within","box","geoWithin","polygon","centerSphere","geoIntersects","point","transformQueryConstraintInputToParse","constraints","parentFieldName","className","parentConstraints","parseClasses","fields","find","parseClass","Object","keys","forEach","constraintName","constraintValue","globalIdObject","type","id","Array","isArray","map","value","objectId","fieldName","fieldValue","key","targetClass","whereTarget","$exists","parseWhereTarget","where","$inQuery","transformQueryInputToParse","$notInQuery","__type","bottomLeft","upperRight","geoPoint","center","distance","fieldValueItem"],mappings:"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",sourcesContent:["import { fromGlobalId } from 'graphql-relay';\n\nconst parseQueryMap = {\n  OR: '$or',\n  AND: '$and',\n  NOR: '$nor',\n};\n\nconst parseConstraintMap = {\n  equalTo: '$eq',\n  notEqualTo: '$ne',\n  lessThan: '$lt',\n  lessThanOrEqualTo: '$lte',\n  greaterThan: '$gt',\n  greaterThanOrEqualTo: '$gte',\n  in: '$in',\n  notIn: '$nin',\n  exists: '$exists',\n  inQueryKey: '$select',\n  notInQueryKey: '$dontSelect',\n  inQuery: '$inQuery',\n  notInQuery: '$notInQuery',\n  containedBy: '$containedBy',\n  contains: '$all',\n  matchesRegex: '$regex',\n  options: '$options',\n  text: '$text',\n  search: '$search',\n  term: '$term',\n  language: '$language',\n  caseSensitive: '$caseSensitive',\n  diacriticSensitive: '$diacriticSensitive',\n  nearSphere: '$nearSphere',\n  maxDistance: '$maxDistance',\n  maxDistanceInRadians: '$maxDistanceInRadians',\n  maxDistanceInMiles: '$maxDistanceInMiles',\n  maxDistanceInKilometers: '$maxDistanceInKilometers',\n  within: '$within',\n  box: '$box',\n  geoWithin: '$geoWithin',\n  polygon: '$polygon',\n  centerSphere: '$centerSphere',\n  geoIntersects: '$geoIntersects',\n  point: '$point',\n};\n\nconst transformQueryConstraintInputToParse = (\n  constraints,\n  parentFieldName,\n  className,\n  parentConstraints,\n  parseClasses\n) => {\n  const fields = parseClasses.find(parseClass => parseClass.className === className).fields;\n  if (parentFieldName === 'id' && className) {\n    Object.keys(constraints).forEach(constraintName => {\n      const constraintValue = constraints[constraintName];\n      if (typeof constraintValue === 'string') {\n        const globalIdObject = fromGlobalId(constraintValue);\n\n        if (globalIdObject.type === className) {\n          constraints[constraintName] = globalIdObject.id;\n        }\n      } else if (Array.isArray(constraintValue)) {\n        constraints[constraintName] = constraintValue.map(value => {\n          const globalIdObject = fromGlobalId(value);\n\n          if (globalIdObject.type === className) {\n            return globalIdObject.id;\n          }\n\n          return value;\n        });\n      }\n    });\n    parentConstraints.objectId = constraints;\n    delete parentConstraints.id;\n  }\n  Object.keys(constraints).forEach(fieldName => {\n    let fieldValue = constraints[fieldName];\n    if (parseConstraintMap[fieldName]) {\n      constraints[parseConstraintMap[fieldName]] = constraints[fieldName];\n      delete constraints[fieldName];\n    }\n    /**\n     * If we have a key-value pair, we need to change the way the constraint is structured.\n     *\n     * Example:\n     *   From:\n     *   {\n     *     \"someField\": {\n     *       \"lessThan\": {\n     *         \"key\":\"foo.bar\",\n     *         \"value\": 100\n     *       },\n     *       \"greaterThan\": {\n     *         \"key\":\"foo.bar\",\n     *         \"value\": 10\n     *       }\n     *     }\n     *   }\n     *\n     *   To:\n     *   {\n     *     \"someField.foo.bar\": {\n     *       \"$lt\": 100,\n     *       \"$gt\": 10\n     *      }\n     *   }\n     */\n    if (fieldValue.key && fieldValue.value && parentConstraints && parentFieldName) {\n      delete parentConstraints[parentFieldName];\n      parentConstraints[`${parentFieldName}.${fieldValue.key}`] = {\n        ...parentConstraints[`${parentFieldName}.${fieldValue.key}`],\n        [parseConstraintMap[fieldName]]: fieldValue.value,\n      };\n    } else if (\n      fields[parentFieldName] &&\n      (fields[parentFieldName].type === 'Pointer' || fields[parentFieldName].type === 'Relation')\n    ) {\n      const { targetClass } = fields[parentFieldName];\n      if (fieldName === 'exists') {\n        if (fields[parentFieldName].type === 'Relation') {\n          const whereTarget = fieldValue ? 'where' : 'notWhere';\n          if (constraints[whereTarget]) {\n            if (constraints[whereTarget].objectId) {\n              constraints[whereTarget].objectId = {\n                ...constraints[whereTarget].objectId,\n                $exists: fieldValue,\n              };\n            } else {\n              constraints[whereTarget].objectId = {\n                $exists: fieldValue,\n              };\n            }\n          } else {\n            const parseWhereTarget = fieldValue ? '$inQuery' : '$notInQuery';\n            parentConstraints[parentFieldName][parseWhereTarget] = {\n              where: { objectId: { $exists: true } },\n              className: targetClass,\n            };\n          }\n          delete constraints.$exists;\n        } else {\n          parentConstraints[parentFieldName].$exists = fieldValue;\n        }\n        return;\n      }\n      switch (fieldName) {\n        case 'have':\n          parentConstraints[parentFieldName].$inQuery = {\n            where: fieldValue,\n            className: targetClass,\n          };\n          transformQueryInputToParse(\n            parentConstraints[parentFieldName].$inQuery.where,\n            targetClass,\n            parseClasses\n          );\n          break;\n        case 'haveNot':\n          parentConstraints[parentFieldName].$notInQuery = {\n            where: fieldValue,\n            className: targetClass,\n          };\n          transformQueryInputToParse(\n            parentConstraints[parentFieldName].$notInQuery.where,\n            targetClass,\n            parseClasses\n          );\n          break;\n      }\n      delete constraints[fieldName];\n      return;\n    }\n    switch (fieldName) {\n      case 'point':\n        if (typeof fieldValue === 'object' && !fieldValue.__type) {\n          fieldValue.__type = 'GeoPoint';\n        }\n        break;\n      case 'nearSphere':\n        if (typeof fieldValue === 'object' && !fieldValue.__type) {\n          fieldValue.__type = 'GeoPoint';\n        }\n        break;\n      case 'box':\n        if (typeof fieldValue === 'object' && fieldValue.bottomLeft && fieldValue.upperRight) {\n          fieldValue = [\n            {\n              __type: 'GeoPoint',\n              ...fieldValue.bottomLeft,\n            },\n            {\n              __type: 'GeoPoint',\n              ...fieldValue.upperRight,\n            },\n          ];\n          constraints[parseConstraintMap[fieldName]] = fieldValue;\n        }\n        break;\n      case 'polygon':\n        if (fieldValue instanceof Array) {\n          fieldValue.forEach(geoPoint => {\n            if (typeof geoPoint === 'object' && !geoPoint.__type) {\n              geoPoint.__type = 'GeoPoint';\n            }\n          });\n        }\n        break;\n      case 'centerSphere':\n        if (typeof fieldValue === 'object' && fieldValue.center && fieldValue.distance) {\n          fieldValue = [\n            {\n              __type: 'GeoPoint',\n              ...fieldValue.center,\n            },\n            fieldValue.distance,\n          ];\n          constraints[parseConstraintMap[fieldName]] = fieldValue;\n        }\n        break;\n    }\n    if (typeof fieldValue === 'object') {\n      if (fieldName === 'where') {\n        transformQueryInputToParse(fieldValue, className, parseClasses);\n      } else {\n        transformQueryConstraintInputToParse(\n          fieldValue,\n          fieldName,\n          className,\n          constraints,\n          parseClasses\n        );\n      }\n    }\n  });\n};\n\nconst transformQueryInputToParse = (constraints, className, parseClasses) => {\n  if (!constraints || typeof constraints !== 'object') {\n    return;\n  }\n\n  Object.keys(constraints).forEach(fieldName => {\n    const fieldValue = constraints[fieldName];\n\n    if (parseQueryMap[fieldName]) {\n      delete constraints[fieldName];\n      fieldName = parseQueryMap[fieldName];\n      constraints[fieldName] = fieldValue;\n      fieldValue.forEach(fieldValueItem => {\n        transformQueryInputToParse(fieldValueItem, className, parseClasses);\n      });\n      return;\n    } else {\n      transformQueryConstraintInputToParse(\n        fieldValue,\n        fieldName,\n        className,\n        constraints,\n        parseClasses\n      );\n    }\n  });\n};\n\nexport { transformQueryConstraintInputToParse, transformQueryInputToParse };\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f32a532eb24a22bc3958611146b780845f08865a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1rf5e04r2f=function(){return actualCoverage;};}return actualCoverage;}cov_1rf5e04r2f();cov_1rf5e04r2f().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1rf5e04r2f().s[1]++;exports.transformQueryInputToParse=exports.transformQueryConstraintInputToParse=void 0;var _graphqlRelay=(cov_1rf5e04r2f().s[2]++,require("graphql-relay"));function ownKeys(object,enumerableOnly){cov_1rf5e04r2f().f[0]++;var keys=(cov_1rf5e04r2f().s[3]++,Object.keys(object));cov_1rf5e04r2f().s[4]++;if(Object.getOwnPropertySymbols){cov_1rf5e04r2f().b[0][0]++;var symbols=(cov_1rf5e04r2f().s[5]++,Object.getOwnPropertySymbols(object));cov_1rf5e04r2f().s[6]++;if(enumerableOnly){cov_1rf5e04r2f().b[1][0]++;cov_1rf5e04r2f().s[7]++;symbols=symbols.filter(function(sym){cov_1rf5e04r2f().f[1]++;cov_1rf5e04r2f().s[8]++;return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}else{cov_1rf5e04r2f().b[1][1]++;}cov_1rf5e04r2f().s[9]++;keys.push.apply(keys,symbols);}else{cov_1rf5e04r2f().b[0][1]++;}cov_1rf5e04r2f().s[10]++;return keys;}function _objectSpread(target){cov_1rf5e04r2f().f[2]++;cov_1rf5e04r2f().s[11]++;for(var i=(cov_1rf5e04r2f().s[12]++,1);i<arguments.length;i++){var source=(cov_1rf5e04r2f().s[13]++,arguments[i]!=null?(cov_1rf5e04r2f().b[2][0]++,arguments[i]):(cov_1rf5e04r2f().b[2][1]++,{}));cov_1rf5e04r2f().s[14]++;if(i%2){cov_1rf5e04r2f().b[3][0]++;cov_1rf5e04r2f().s[15]++;ownKeys(Object(source),true).forEach(function(key){cov_1rf5e04r2f().f[3]++;cov_1rf5e04r2f().s[16]++;_defineProperty(target,key,source[key]);});}else{cov_1rf5e04r2f().b[3][1]++;cov_1rf5e04r2f().s[17]++;if(Object.getOwnPropertyDescriptors){cov_1rf5e04r2f().b[4][0]++;cov_1rf5e04r2f().s[18]++;Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{cov_1rf5e04r2f().b[4][1]++;cov_1rf5e04r2f().s[19]++;ownKeys(Object(source)).forEach(function(key){cov_1rf5e04r2f().f[4]++;cov_1rf5e04r2f().s[20]++;Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}}cov_1rf5e04r2f().s[21]++;return target;}function _defineProperty(obj,key,value){cov_1rf5e04r2f().f[5]++;cov_1rf5e04r2f().s[22]++;if(key in obj){cov_1rf5e04r2f().b[5][0]++;cov_1rf5e04r2f().s[23]++;Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{cov_1rf5e04r2f().b[5][1]++;cov_1rf5e04r2f().s[24]++;obj[key]=value;}cov_1rf5e04r2f().s[25]++;return obj;}const parseQueryMap=(cov_1rf5e04r2f().s[26]++,{OR:'$or',AND:'$and',NOR:'$nor'});const parseConstraintMap=(cov_1rf5e04r2f().s[27]++,{equalTo:'$eq',notEqualTo:'$ne',lessThan:'$lt',lessThanOrEqualTo:'$lte',greaterThan:'$gt',greaterThanOrEqualTo:'$gte',in:'$in',notIn:'$nin',exists:'$exists',inQueryKey:'$select',notInQueryKey:'$dontSelect',inQuery:'$inQuery',notInQuery:'$notInQuery',containedBy:'$containedBy',contains:'$all',matchesRegex:'$regex',options:'$options',text:'$text',search:'$search',term:'$term',language:'$language',caseSensitive:'$caseSensitive',diacriticSensitive:'$diacriticSensitive',nearSphere:'$nearSphere',maxDistance:'$maxDistance',maxDistanceInRadians:'$maxDistanceInRadians',maxDistanceInMiles:'$maxDistanceInMiles',maxDistanceInKilometers:'$maxDistanceInKilometers',within:'$within',box:'$box',geoWithin:'$geoWithin',polygon:'$polygon',centerSphere:'$centerSphere',geoIntersects:'$geoIntersects',point:'$point'});cov_1rf5e04r2f().s[28]++;const transformQueryConstraintInputToParse=(constraints,parentFieldName,className,parentConstraints,parseClasses)=>{cov_1rf5e04r2f().f[6]++;const fields=(cov_1rf5e04r2f().s[29]++,parseClasses.find(parseClass=>{cov_1rf5e04r2f().f[7]++;cov_1rf5e04r2f().s[30]++;return parseClass.className===className;}).fields);cov_1rf5e04r2f().s[31]++;if((cov_1rf5e04r2f().b[7][0]++,parentFieldName==='id')&&(cov_1rf5e04r2f().b[7][1]++,className)){cov_1rf5e04r2f().b[6][0]++;cov_1rf5e04r2f().s[32]++;Object.keys(constraints).forEach(constraintName=>{cov_1rf5e04r2f().f[8]++;const constraintValue=(cov_1rf5e04r2f().s[33]++,constraints[constraintName]);cov_1rf5e04r2f().s[34]++;if(typeof constraintValue==='string'){cov_1rf5e04r2f().b[8][0]++;const globalIdObject=(cov_1rf5e04r2f().s[35]++,(0,_graphqlRelay.fromGlobalId)(constraintValue));cov_1rf5e04r2f().s[36]++;if(globalIdObject.type===className){cov_1rf5e04r2f().b[9][0]++;cov_1rf5e04r2f().s[37]++;constraints[constraintName]=globalIdObject.id;}else{cov_1rf5e04r2f().b[9][1]++;}}else{cov_1rf5e04r2f().b[8][1]++;cov_1rf5e04r2f().s[38]++;if(Array.isArray(constraintValue)){cov_1rf5e04r2f().b[10][0]++;cov_1rf5e04r2f().s[39]++;constraints[constraintName]=constraintValue.map(value=>{cov_1rf5e04r2f().f[9]++;const globalIdObject=(cov_1rf5e04r2f().s[40]++,(0,_graphqlRelay.fromGlobalId)(value));cov_1rf5e04r2f().s[41]++;if(globalIdObject.type===className){cov_1rf5e04r2f().b[11][0]++;cov_1rf5e04r2f().s[42]++;return globalIdObject.id;}else{cov_1rf5e04r2f().b[11][1]++;}cov_1rf5e04r2f().s[43]++;return value;});}else{cov_1rf5e04r2f().b[10][1]++;}}});cov_1rf5e04r2f().s[44]++;parentConstraints.objectId=constraints;cov_1rf5e04r2f().s[45]++;delete parentConstraints.id;}else{cov_1rf5e04r2f().b[6][1]++;}cov_1rf5e04r2f().s[46]++;Object.keys(constraints).forEach(fieldName=>{cov_1rf5e04r2f().f[10]++;let fieldValue=(cov_1rf5e04r2f().s[47]++,constraints[fieldName]);cov_1rf5e04r2f().s[48]++;if(parseConstraintMap[fieldName]){cov_1rf5e04r2f().b[12][0]++;cov_1rf5e04r2f().s[49]++;constraints[parseConstraintMap[fieldName]]=constraints[fieldName];cov_1rf5e04r2f().s[50]++;delete constraints[fieldName];}else{cov_1rf5e04r2f().b[12][1]++;}/**
     * If we have a key-value pair, we need to change the way the constraint is structured.
     *
     * Example:
     *   From:
     *   {
     *     "someField": {
     *       "lessThan": {
     *         "key":"foo.bar",
     *         "value": 100
     *       },
     *       "greaterThan": {
     *         "key":"foo.bar",
     *         "value": 10
     *       }
     *     }
     *   }
     *
     *   To:
     *   {
     *     "someField.foo.bar": {
     *       "$lt": 100,
     *       "$gt": 10
     *      }
     *   }
     */cov_1rf5e04r2f().s[51]++;if((cov_1rf5e04r2f().b[14][0]++,fieldValue.key)&&(cov_1rf5e04r2f().b[14][1]++,fieldValue.value)&&(cov_1rf5e04r2f().b[14][2]++,parentConstraints)&&(cov_1rf5e04r2f().b[14][3]++,parentFieldName)){cov_1rf5e04r2f().b[13][0]++;cov_1rf5e04r2f().s[52]++;delete parentConstraints[parentFieldName];cov_1rf5e04r2f().s[53]++;parentConstraints[`${parentFieldName}.${fieldValue.key}`]=_objectSpread(_objectSpread({},parentConstraints[`${parentFieldName}.${fieldValue.key}`]),{},{[parseConstraintMap[fieldName]]:fieldValue.value});}else{cov_1rf5e04r2f().b[13][1]++;cov_1rf5e04r2f().s[54]++;if((cov_1rf5e04r2f().b[16][0]++,fields[parentFieldName])&&((cov_1rf5e04r2f().b[16][1]++,fields[parentFieldName].type==='Pointer')||(cov_1rf5e04r2f().b[16][2]++,fields[parentFieldName].type==='Relation'))){cov_1rf5e04r2f().b[15][0]++;const{targetClass}=(cov_1rf5e04r2f().s[55]++,fields[parentFieldName]);cov_1rf5e04r2f().s[56]++;if(fieldName==='exists'){cov_1rf5e04r2f().b[17][0]++;cov_1rf5e04r2f().s[57]++;if(fields[parentFieldName].type==='Relation'){cov_1rf5e04r2f().b[18][0]++;const whereTarget=(cov_1rf5e04r2f().s[58]++,fieldValue?(cov_1rf5e04r2f().b[19][0]++,'where'):(cov_1rf5e04r2f().b[19][1]++,'notWhere'));cov_1rf5e04r2f().s[59]++;if(constraints[whereTarget]){cov_1rf5e04r2f().b[20][0]++;cov_1rf5e04r2f().s[60]++;if(constraints[whereTarget].objectId){cov_1rf5e04r2f().b[21][0]++;cov_1rf5e04r2f().s[61]++;constraints[whereTarget].objectId=_objectSpread(_objectSpread({},constraints[whereTarget].objectId),{},{$exists:fieldValue});}else{cov_1rf5e04r2f().b[21][1]++;cov_1rf5e04r2f().s[62]++;constraints[whereTarget].objectId={$exists:fieldValue};}}else{cov_1rf5e04r2f().b[20][1]++;const parseWhereTarget=(cov_1rf5e04r2f().s[63]++,fieldValue?(cov_1rf5e04r2f().b[22][0]++,'$inQuery'):(cov_1rf5e04r2f().b[22][1]++,'$notInQuery'));cov_1rf5e04r2f().s[64]++;parentConstraints[parentFieldName][parseWhereTarget]={where:{objectId:{$exists:true}},className:targetClass};}cov_1rf5e04r2f().s[65]++;delete constraints.$exists;}else{cov_1rf5e04r2f().b[18][1]++;cov_1rf5e04r2f().s[66]++;parentConstraints[parentFieldName].$exists=fieldValue;}cov_1rf5e04r2f().s[67]++;return;}else{cov_1rf5e04r2f().b[17][1]++;}cov_1rf5e04r2f().s[68]++;switch(fieldName){case'have':cov_1rf5e04r2f().b[23][0]++;cov_1rf5e04r2f().s[69]++;parentConstraints[parentFieldName].$inQuery={where:fieldValue,className:targetClass};cov_1rf5e04r2f().s[70]++;transformQueryInputToParse(parentConstraints[parentFieldName].$inQuery.where,targetClass,parseClasses);cov_1rf5e04r2f().s[71]++;break;case'haveNot':cov_1rf5e04r2f().b[23][1]++;cov_1rf5e04r2f().s[72]++;parentConstraints[parentFieldName].$notInQuery={where:fieldValue,className:targetClass};cov_1rf5e04r2f().s[73]++;transformQueryInputToParse(parentConstraints[parentFieldName].$notInQuery.where,targetClass,parseClasses);cov_1rf5e04r2f().s[74]++;break;}cov_1rf5e04r2f().s[75]++;delete constraints[fieldName];cov_1rf5e04r2f().s[76]++;return;}else{cov_1rf5e04r2f().b[15][1]++;}}cov_1rf5e04r2f().s[77]++;switch(fieldName){case'point':cov_1rf5e04r2f().b[24][0]++;cov_1rf5e04r2f().s[78]++;if((cov_1rf5e04r2f().b[26][0]++,typeof fieldValue==='object')&&(cov_1rf5e04r2f().b[26][1]++,!fieldValue.__type)){cov_1rf5e04r2f().b[25][0]++;cov_1rf5e04r2f().s[79]++;fieldValue.__type='GeoPoint';}else{cov_1rf5e04r2f().b[25][1]++;}cov_1rf5e04r2f().s[80]++;break;case'nearSphere':cov_1rf5e04r2f().b[24][1]++;cov_1rf5e04r2f().s[81]++;if((cov_1rf5e04r2f().b[28][0]++,typeof fieldValue==='object')&&(cov_1rf5e04r2f().b[28][1]++,!fieldValue.__type)){cov_1rf5e04r2f().b[27][0]++;cov_1rf5e04r2f().s[82]++;fieldValue.__type='GeoPoint';}else{cov_1rf5e04r2f().b[27][1]++;}cov_1rf5e04r2f().s[83]++;break;case'box':cov_1rf5e04r2f().b[24][2]++;cov_1rf5e04r2f().s[84]++;if((cov_1rf5e04r2f().b[30][0]++,typeof fieldValue==='object')&&(cov_1rf5e04r2f().b[30][1]++,fieldValue.bottomLeft)&&(cov_1rf5e04r2f().b[30][2]++,fieldValue.upperRight)){cov_1rf5e04r2f().b[29][0]++;cov_1rf5e04r2f().s[85]++;fieldValue=[_objectSpread({__type:'GeoPoint'},fieldValue.bottomLeft),_objectSpread({__type:'GeoPoint'},fieldValue.upperRight)];cov_1rf5e04r2f().s[86]++;constraints[parseConstraintMap[fieldName]]=fieldValue;}else{cov_1rf5e04r2f().b[29][1]++;}cov_1rf5e04r2f().s[87]++;break;case'polygon':cov_1rf5e04r2f().b[24][3]++;cov_1rf5e04r2f().s[88]++;if(fieldValue instanceof Array){cov_1rf5e04r2f().b[31][0]++;cov_1rf5e04r2f().s[89]++;fieldValue.forEach(geoPoint=>{cov_1rf5e04r2f().f[11]++;cov_1rf5e04r2f().s[90]++;if((cov_1rf5e04r2f().b[33][0]++,typeof geoPoint==='object')&&(cov_1rf5e04r2f().b[33][1]++,!geoPoint.__type)){cov_1rf5e04r2f().b[32][0]++;cov_1rf5e04r2f().s[91]++;geoPoint.__type='GeoPoint';}else{cov_1rf5e04r2f().b[32][1]++;}});}else{cov_1rf5e04r2f().b[31][1]++;}cov_1rf5e04r2f().s[92]++;break;case'centerSphere':cov_1rf5e04r2f().b[24][4]++;cov_1rf5e04r2f().s[93]++;if((cov_1rf5e04r2f().b[35][0]++,typeof fieldValue==='object')&&(cov_1rf5e04r2f().b[35][1]++,fieldValue.center)&&(cov_1rf5e04r2f().b[35][2]++,fieldValue.distance)){cov_1rf5e04r2f().b[34][0]++;cov_1rf5e04r2f().s[94]++;fieldValue=[_objectSpread({__type:'GeoPoint'},fieldValue.center),fieldValue.distance];cov_1rf5e04r2f().s[95]++;constraints[parseConstraintMap[fieldName]]=fieldValue;}else{cov_1rf5e04r2f().b[34][1]++;}cov_1rf5e04r2f().s[96]++;break;}cov_1rf5e04r2f().s[97]++;if(typeof fieldValue==='object'){cov_1rf5e04r2f().b[36][0]++;cov_1rf5e04r2f().s[98]++;if(fieldName==='where'){cov_1rf5e04r2f().b[37][0]++;cov_1rf5e04r2f().s[99]++;transformQueryInputToParse(fieldValue,className,parseClasses);}else{cov_1rf5e04r2f().b[37][1]++;cov_1rf5e04r2f().s[100]++;transformQueryConstraintInputToParse(fieldValue,fieldName,className,constraints,parseClasses);}}else{cov_1rf5e04r2f().b[36][1]++;}});};cov_1rf5e04r2f().s[101]++;exports.transformQueryConstraintInputToParse=transformQueryConstraintInputToParse;cov_1rf5e04r2f().s[102]++;const transformQueryInputToParse=(constraints,className,parseClasses)=>{cov_1rf5e04r2f().f[12]++;cov_1rf5e04r2f().s[103]++;if((cov_1rf5e04r2f().b[39][0]++,!constraints)||(cov_1rf5e04r2f().b[39][1]++,typeof constraints!=='object')){cov_1rf5e04r2f().b[38][0]++;cov_1rf5e04r2f().s[104]++;return;}else{cov_1rf5e04r2f().b[38][1]++;}cov_1rf5e04r2f().s[105]++;Object.keys(constraints).forEach(fieldName=>{cov_1rf5e04r2f().f[13]++;const fieldValue=(cov_1rf5e04r2f().s[106]++,constraints[fieldName]);cov_1rf5e04r2f().s[107]++;if(parseQueryMap[fieldName]){cov_1rf5e04r2f().b[40][0]++;cov_1rf5e04r2f().s[108]++;delete constraints[fieldName];cov_1rf5e04r2f().s[109]++;fieldName=parseQueryMap[fieldName];cov_1rf5e04r2f().s[110]++;constraints[fieldName]=fieldValue;cov_1rf5e04r2f().s[111]++;fieldValue.forEach(fieldValueItem=>{cov_1rf5e04r2f().f[14]++;cov_1rf5e04r2f().s[112]++;transformQueryInputToParse(fieldValueItem,className,parseClasses);});cov_1rf5e04r2f().s[113]++;return;}else{cov_1rf5e04r2f().b[40][1]++;cov_1rf5e04r2f().s[114]++;transformQueryConstraintInputToParse(fieldValue,fieldName,className,constraints,parseClasses);}});};cov_1rf5e04r2f().s[115]++;exports.transformQueryInputToParse=transformQueryInputToParse;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9HcmFwaFFML3RyYW5zZm9ybWVycy9xdWVyeS5qcyJdLCJuYW1lcyI6WyJwYXJzZVF1ZXJ5TWFwIiwiT1IiLCJBTkQiLCJOT1IiLCJwYXJzZUNvbnN0cmFpbnRNYXAiLCJlcXVhbFRvIiwibm90RXF1YWxUbyIsImxlc3NUaGFuIiwibGVzc1RoYW5PckVxdWFsVG8iLCJncmVhdGVyVGhhbiIsImdyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiaW4iLCJub3RJbiIsImV4aXN0cyIsImluUXVlcnlLZXkiLCJub3RJblF1ZXJ5S2V5IiwiaW5RdWVyeSIsIm5vdEluUXVlcnkiLCJjb250YWluZWRCeSIsImNvbnRhaW5zIiwibWF0Y2hlc1JlZ2V4Iiwib3B0aW9ucyIsInRleHQiLCJzZWFyY2giLCJ0ZXJtIiwibGFuZ3VhZ2UiLCJjYXNlU2Vuc2l0aXZlIiwiZGlhY3JpdGljU2Vuc2l0aXZlIiwibmVhclNwaGVyZSIsIm1heERpc3RhbmNlIiwibWF4RGlzdGFuY2VJblJhZGlhbnMiLCJtYXhEaXN0YW5jZUluTWlsZXMiLCJtYXhEaXN0YW5jZUluS2lsb21ldGVycyIsIndpdGhpbiIsImJveCIsImdlb1dpdGhpbiIsInBvbHlnb24iLCJjZW50ZXJTcGhlcmUiLCJnZW9JbnRlcnNlY3RzIiwicG9pbnQiLCJ0cmFuc2Zvcm1RdWVyeUNvbnN0cmFpbnRJbnB1dFRvUGFyc2UiLCJjb25zdHJhaW50cyIsInBhcmVudEZpZWxkTmFtZSIsImNsYXNzTmFtZSIsInBhcmVudENvbnN0cmFpbnRzIiwicGFyc2VDbGFzc2VzIiwiZmllbGRzIiwiZmluZCIsInBhcnNlQ2xhc3MiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImNvbnN0cmFpbnROYW1lIiwiY29uc3RyYWludFZhbHVlIiwiZ2xvYmFsSWRPYmplY3QiLCJ0eXBlIiwiaWQiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJ2YWx1ZSIsIm9iamVjdElkIiwiZmllbGROYW1lIiwiZmllbGRWYWx1ZSIsImtleSIsInRhcmdldENsYXNzIiwid2hlcmVUYXJnZXQiLCIkZXhpc3RzIiwicGFyc2VXaGVyZVRhcmdldCIsIndoZXJlIiwiJGluUXVlcnkiLCJ0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZSIsIiRub3RJblF1ZXJ5IiwiX190eXBlIiwiYm90dG9tTGVmdCIsInVwcGVyUmlnaHQiLCJnZW9Qb2ludCIsImNlbnRlciIsImRpc3RhbmNlIiwiZmllbGRWYWx1ZUl0ZW0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUc7QUFDcEJDLEVBQUFBLEVBQUUsRUFBRSxLQURnQjtBQUVwQkMsRUFBQUEsR0FBRyxFQUFFLE1BRmU7QUFHcEJDLEVBQUFBLEdBQUcsRUFBRTtBQUhlLENBQXRCO0FBTUEsTUFBTUMsa0JBQWtCLEdBQUc7QUFDekJDLEVBQUFBLE9BQU8sRUFBRSxLQURnQjtBQUV6QkMsRUFBQUEsVUFBVSxFQUFFLEtBRmE7QUFHekJDLEVBQUFBLFFBQVEsRUFBRSxLQUhlO0FBSXpCQyxFQUFBQSxpQkFBaUIsRUFBRSxNQUpNO0FBS3pCQyxFQUFBQSxXQUFXLEVBQUUsS0FMWTtBQU16QkMsRUFBQUEsb0JBQW9CLEVBQUUsTUFORztBQU96QkMsRUFBQUEsRUFBRSxFQUFFLEtBUHFCO0FBUXpCQyxFQUFBQSxLQUFLLEVBQUUsTUFSa0I7QUFTekJDLEVBQUFBLE1BQU0sRUFBRSxTQVRpQjtBQVV6QkMsRUFBQUEsVUFBVSxFQUFFLFNBVmE7QUFXekJDLEVBQUFBLGFBQWEsRUFBRSxhQVhVO0FBWXpCQyxFQUFBQSxPQUFPLEVBQUUsVUFaZ0I7QUFhekJDLEVBQUFBLFVBQVUsRUFBRSxhQWJhO0FBY3pCQyxFQUFBQSxXQUFXLEVBQUUsY0FkWTtBQWV6QkMsRUFBQUEsUUFBUSxFQUFFLE1BZmU7QUFnQnpCQyxFQUFBQSxZQUFZLEVBQUUsUUFoQlc7QUFpQnpCQyxFQUFBQSxPQUFPLEVBQUUsVUFqQmdCO0FBa0J6QkMsRUFBQUEsSUFBSSxFQUFFLE9BbEJtQjtBQW1CekJD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LEVBQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZVCxXQUFaLEVBQXlCVSxPQUF6QixDQUFpQ1csU0FBUyxJQUFJO0FBQzVDLFVBQU1DLFVBQVUsR0FBR3RCLFdBQVcsQ0FBQ3FCLFNBQUQsQ0FBOUI7O0FBRUEsUUFBSTlELGFBQWEsQ0FBQzhELFNBQUQsQ0FBakIsRUFBOEI7QUFDNUIsYUFBT3JCLFdBQVcsQ0FBQ3FCLFNBQUQsQ0FBbEI7QUFDQUEsTUFBQUEsU0FBUyxHQUFHOUQsYUFBYSxDQUFDOEQsU0FBRCxDQUF6QjtBQUNBckIsTUFBQUEsV0FBVyxDQUFDcUIsU0FBRCxDQUFYLEdBQXlCQyxVQUF6QjtBQUNBQSxNQUFBQSxVQUFVLENBQUNaLE9BQVgsQ0FBbUI0QixjQUFjLElBQUk7QUFDbkNSLFFBQUFBLDBCQUEwQixDQUFDUSxjQUFELEVBQWlCcEMsU0FBakIsRUFBNEJFLFlBQTVCLENBQTFCO0FBQ0QsT0FGRDtBQUdBO0FBQ0QsS0FSRCxNQVFPO0FBQ0xMLE1BQUFBLG9DQUFvQyxDQUNsQ3VCLFVBRGtDLEVBRWxDRCxTQUZrQyxFQUdsQ25CLFNBSGtDLEVBSWxDRixXQUprQyxFQUtsQ0ksWUFMa0MsQ0FBcEM7QUFPRDtBQUNGLEdBcEJEO0FBcUJELENBMUJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUdsb2JhbElkIH0gZnJvbSAnZ3JhcGhxbC1yZWxheSc7XG5cbmNvbnN0IHBhcnNlUXVlcnlNYXAgPSB7XG4gIE9SOiAnJG9yJyxcbiAgQU5EOiAnJGFuZCcsXG4gIE5PUjogJyRub3InLFxufTtcblxuY29uc3QgcGFyc2VDb25zdHJhaW50TWFwID0ge1xuICBlcXVhbFRvOiAnJGVxJyxcbiAgbm90RXF1YWxUbzogJyRuZScsXG4gIGxlc3NUaGFuOiAnJGx0JyxcbiAgbGVzc1RoYW5PckVxdWFsVG86ICckbHRlJyxcbiAgZ3JlYXRlclRoYW46ICckZ3QnLFxuICBncmVhdGVyVGhhbk9yRXF1YWxUbzogJyRndGUnLFxuICBpbjogJyRpbicsXG4gIG5vdEluOiAnJG5pbicsXG4gIGV4aXN0czogJyRleGlzdHMnLFxuICBpblF1ZXJ5S2V5OiAnJHNlbGVjdCcsXG4gIG5vdEluUXVlcnlLZXk6ICckZG9udFNlbGVjdCcsXG4gIGluUXVlcnk6ICckaW5RdWVyeScsXG4gIG5vdEluUXVlcnk6ICckbm90SW5RdWVyeScsXG4gIGNvbnRhaW5lZEJ5OiAnJGNvbnRhaW5lZEJ5JyxcbiAgY29udGFpbnM6ICckYWxsJyxcbiAgbWF0Y2hlc1JlZ2V4OiAnJHJlZ2V4JyxcbiAgb3B0aW9uczogJyRvcHRpb25zJyxcbiAgdGV4dDogJyR0ZXh0JyxcbiAgc2VhcmNoOiAnJHNlYXJjaCcsXG4gIHRlcm06ICckdGVybScsXG4gIGxhbmd1YWdlOiAnJGxhbmd1YWdlJyxcbiAgY2FzZVNlbnNpdGl2ZTogJyRjYXNlU2Vuc2l0aXZlJyxcbiAgZGlhY3JpdGljU2Vuc2l0aXZlOiAnJGRpYWNyaXRpY1NlbnNpdGl2ZScsXG4gIG5lYXJTcGhlcmU6ICckbmVhclNwaGVyZScsXG4gIG1heERpc3RhbmNlOiAnJG1heERpc3RhbmNlJyxcbiAgbWF4RGlzdGFuY2VJblJhZGlhbnM6ICckbWF4RGlzdGFuY2VJblJhZGlhbnMnLFxuICBtYXhEaXN0YW5jZUluTWlsZXM6ICckbWF4RGlzdGFuY2VJbk1pbGVzJyxcbiAgbWF4RGlzdGFuY2VJbktpbG9tZXRlcnM6ICckbWF4RGlzdGFuY2VJbktpbG9tZXRlcnMnLFxuICB3aXRoaW46ICckd2l0aGluJyxcbiAgYm94OiAnJGJveCcsXG4gIGdlb1dpdGhpbjogJyRnZW9XaXRoaW4nLFxuICBwb2x5Z29uOiAnJHBvbHlnb24nLFxuICBjZW50ZXJTcGhlcmU6ICckY2VudGVyU3BoZXJlJyxcbiAgZ2VvSW50ZXJzZWN0czogJyRnZW9JbnRlcnNlY3RzJyxcbiAgcG9pbnQ6ICckcG9pbnQnLFxufTtcblxuY29uc3QgdHJhbnNmb3JtUXVlcnlDb25zdHJhaW50SW5wdXRUb1BhcnNlID0gKFxuICBjb25zdHJhaW50cyxcbiAgcGFyZW50RmllbGROYW1lLFxuICBjbGFzc05hbWUsXG4gIHBhcmVudENvbnN0cmFpbnRzLFxuICBwYXJzZUNsYXNzZXNcbikgPT4ge1xuICBjb25zdCBmaWVsZHMgPSBwYXJzZUNsYXNzZXMuZmluZChwYXJzZUNsYXNzID0+IHBhcnNlQ2xhc3MuY2xhc3NOYW1lID09PSBjbGFzc05hbWUpLmZpZWxkcztcbiAgaWYgKHBhcmVudEZpZWxkTmFtZSA9PT0gJ2lkJyAmJiBjbGFzc05hbWUpIHtcbiAgICBPYmplY3Qua2V5cyhjb25zdHJhaW50cykuZm9yRWFjaChjb25zdHJhaW50TmFtZSA9PiB7XG4gICAgICBjb25zdCBjb25zdHJhaW50VmFsdWUgPSBjb25zdHJhaW50c1tjb25zdHJhaW50TmFtZV07XG4gICAgICBpZiAodHlwZW9mIGNvbnN0cmFpbnRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsSWRPYmplY3QgPSBmcm9tR2xvYmFsSWQoY29uc3RyYWludFZhbHVlKTtcblxuICAgICAgICBpZiAoZ2xvYmFsSWRPYmplY3QudHlwZSA9PT0gY2xhc3NOYW1lKSB7XG4gICAgICAgICAgY29uc3RyYWludHNbY29uc3RyYWludE5hbWVdID0gZ2xvYmFsSWRPYmplY3QuaWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb25zdHJhaW50VmFsdWUpKSB7XG4gICAgICAgIGNvbnN0cmFpbnRzW2NvbnN0cmFpbnROYW1lXSA9IGNvbnN0cmFpbnRWYWx1ZS5tYXAodmFsdWUgPT4ge1xuICAgICAgICAgIGNvbnN0IGdsb2JhbElkT2JqZWN0ID0gZnJvbUdsb2JhbElkKHZhbHVlKTtcblxuICAgICAgICAgIGlmIChnbG9iYWxJZE9iamVjdC50eXBlID09PSBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxJZE9iamVjdC5pZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmVudENvbnN0cmFpbnRzLm9iamVjdElkID0gY29uc3RyYWludHM7XG4gICAgZGVsZXRlIHBhcmVudENvbnN0cmFpbnRzLmlkO1xuICB9XG4gIE9iamVjdC5rZXlzKGNvbnN0cmFpbnRzKS5mb3JFYWNoKGZpZWxkTmFtZSA9PiB7XG4gICAgbGV0IGZpZWxkVmFsdWUgPSBjb25zdHJhaW50c1tmaWVsZE5hbWVdO1xuICAgIGlmIChwYXJzZUNvbnN0cmFpbnRNYXBbZmllbGROYW1lXSkge1xuICAgICAgY29uc3RyYWludHNbcGFyc2VDb25zdHJhaW50TWFwW2ZpZWxkTmFtZV1dID0gY29uc3RyYWludHNbZmllbGROYW1lXTtcbiAgICAgIGRlbGV0ZSBjb25zdHJhaW50c1tmaWVsZE5hbWVdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBoYXZlIGEga2V5LXZhbHVlIHBhaXIsIHdlIG5lZWQgdG8gY2hhbmdlIHRoZSB3YXkgdGhlIGNvbnN0cmFpbnQgaXMgc3RydWN0dXJlZC5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogICBGcm9tOlxuICAgICAqICAge1xuICAgICAqICAgICBcInNvbWVGaWVsZFwiOiB7XG4gICAgICogICAgICAgXCJsZXNzVGhhblwiOiB7XG4gICAgICogICAgICAgICBcImtleVwiOlwiZm9vLmJhclwiLFxuICAgICAqICAgICAgICAgXCJ2YWx1ZVwiOiAxMDBcbiAgICAgKiAgICAgICB9LFxuICAgICAqICAgICAgIFwiZ3JlYXRlclRoYW5cIjoge1xuICAgICAqICAgICAgICAgXCJrZXlcIjpcImZvby5iYXJcIixcbiAgICAgKiAgICAgICAgIFwidmFsdWVcIjogMTBcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKlxuICAgICAqICAgVG86XG4gICAgICogICB7XG4gICAgICogICAgIFwic29tZUZpZWxkLmZvby5iYXJcIjoge1xuICAgICAqICAgICAgIFwiJGx0XCI6IDEwMCxcbiAgICAgKiAgICAgICBcIiRndFwiOiAxMFxuICAgICAqICAgICAgfVxuICAgICAqICAgfVxuICAgICAqL1xuICAgIGlmIChmaWVsZFZhbHVlLmtleSAmJiBmaWVsZFZhbHVlLnZhbHVlICYmIHBhcmVudENvbnN0cmFpbnRzICYmIHBhcmVudEZpZWxkTmFtZSkge1xuICAgICAgZGVsZXRlIHBhcmVudENvbnN0cmFpbnRzW3BhcmVudEZpZWxkTmFtZV07XG4gICAgICBwYXJlbnRDb25zdHJhaW50c1tgJHtwYXJlbnRGaWVsZE5hbWV9LiR7ZmllbGRWYWx1ZS5rZXl9YF0gPSB7XG4gICAgICAgIC4uLnBhcmVudENvbnN0cmFpbnRzW2Ake3BhcmVudEZpZWxkTmFtZX0uJHtmaWVsZFZhbHVlLmtleX1gXSxcbiAgICAgICAgW3BhcnNlQ29uc3RyYWludE1hcFtmaWVsZE5hbWVdXTogZmllbGRWYWx1ZS52YWx1ZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGZpZWxkc1twYXJlbnRGaWVsZE5hbWVdICYmXG4gICAgICAoZmllbGRzW3BhcmVudEZpZWxkTmFtZV0udHlwZSA9PT0gJ1BvaW50ZXInIHx8IGZpZWxkc1twYXJlbnRGaWVsZE5hbWVdLnR5cGUgPT09ICdSZWxhdGlvbicpXG4gICAgKSB7XG4gICAgICBjb25zdCB7IHRhcmdldENsYXNzIH0gPSBmaWVsZHNbcGFyZW50RmllbGROYW1lXTtcbiAgICAgIGlmIChmaWVsZE5hbWUgPT09ICdleGlzdHMnKSB7XG4gICAgICAgIGlmIChmaWVsZHNbcGFyZW50RmllbGROYW1lXS50eXBlID09PSAnUmVsYXRpb24nKSB7XG4gICAgICAgICAgY29uc3Qgd2hlcmVUYXJnZXQgPSBmaWVsZFZhbHVlID8gJ3doZXJlJyA6ICdub3RXaGVyZSc7XG4gICAgICAgICAgaWYgKGNvbnN0cmFpbnRzW3doZXJlVGFyZ2V0XSkge1xuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnRzW3doZXJlVGFyZ2V0XS5vYmplY3RJZCkge1xuICAgICAgICAgICAgICBjb25zdHJhaW50c1t3aGVyZVRhcmdldF0ub2JqZWN0SWQgPSB7XG4gICAgICAgICAgICAgICAgLi4uY29uc3RyYWludHNbd2hlcmVUYXJnZXRdLm9iamVjdElkLFxuICAgICAgICAgICAgICAgICRleGlzdHM6IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdHJhaW50c1t3aGVyZVRhcmdldF0ub2JqZWN0SWQgPSB7XG4gICAgICAgICAgICAgICAgJGV4aXN0czogZmllbGRWYWx1ZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VXaGVyZVRhcmdldCA9IGZpZWxkVmFsdWUgPyAnJGluUXVlcnknIDogJyRub3RJblF1ZXJ5JztcbiAgICAgICAgICAgIHBhcmVudENvbnN0cmFpbnRzW3BhcmVudEZpZWxkTmFtZV1bcGFyc2VXaGVyZVRhcmdldF0gPSB7XG4gICAgICAgICAgICAgIHdoZXJlOiB7IG9iamVjdElkOiB7ICRleGlzdHM6IHRydWUgfSB9LFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IHRhcmdldENsYXNzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzLiRleGlzdHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50Q29uc3RyYWludHNbcGFyZW50RmllbGROYW1lXS4kZXhpc3RzID0gZmllbGRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGZpZWxkTmFtZSkge1xuICAgICAgICBjYXNlICdoYXZlJzpcbiAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRpblF1ZXJ5ID0ge1xuICAgICAgICAgICAgd2hlcmU6IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHRhcmdldENsYXNzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdHJhbnNmb3JtUXVlcnlJbnB1dFRvUGFyc2UoXG4gICAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRpblF1ZXJ5LndoZXJlLFxuICAgICAgICAgICAgdGFyZ2V0Q2xhc3MsXG4gICAgICAgICAgICBwYXJzZUNsYXNzZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoYXZlTm90JzpcbiAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRub3RJblF1ZXJ5ID0ge1xuICAgICAgICAgICAgd2hlcmU6IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHRhcmdldENsYXNzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdHJhbnNmb3JtUXVlcnlJbnB1dFRvUGFyc2UoXG4gICAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRub3RJblF1ZXJ5LndoZXJlLFxuICAgICAgICAgICAgdGFyZ2V0Q2xhc3MsXG4gICAgICAgICAgICBwYXJzZUNsYXNzZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzW2ZpZWxkTmFtZV07XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoZmllbGROYW1lKSB7XG4gICAgICBjYXNlICdwb2ludCc6XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIWZpZWxkVmFsdWUuX190eXBlKSB7XG4gICAgICAgICAgZmllbGRWYWx1ZS5fX3R5cGUgPSAnR2VvUG9pbnQnO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbmVhclNwaGVyZSc6XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIWZpZWxkVmFsdWUuX190eXBlKSB7XG4gICAgICAgICAgZmllbGRWYWx1ZS5fX3R5cGUgPSAnR2VvUG9pbnQnO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm94JzpcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZFZhbHVlID09PSAnb2JqZWN0JyAmJiBmaWVsZFZhbHVlLmJvdHRvbUxlZnQgJiYgZmllbGRWYWx1ZS51cHBlclJpZ2h0KSB7XG4gICAgICAgICAgZmllbGRWYWx1ZSA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgX190eXBlOiAnR2VvUG9pbnQnLFxuICAgICAgICAgICAgICAuLi5maWVsZFZhbHVlLmJvdHRvbUxlZnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBfX3R5cGU6ICdHZW9Qb2ludCcsXG4gICAgICAgICAgICAgIC4uLmZpZWxkVmFsdWUudXBwZXJSaWdodCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXTtcbiAgICAgICAgICBjb25zdHJhaW50c1twYXJzZUNvbnN0cmFpbnRNYXBbZmllbGROYW1lXV0gPSBmaWVsZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncG9seWdvbic6XG4gICAgICAgIGlmIChmaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBmaWVsZFZhbHVlLmZvckVhY2goZ2VvUG9pbnQgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBnZW9Qb2ludCA9PT0gJ29iamVjdCcgJiYgIWdlb1BvaW50Ll9fdHlwZSkge1xuICAgICAgICAgICAgICBnZW9Qb2ludC5fX3R5cGUgPSAnR2VvUG9pbnQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2VudGVyU3BoZXJlJzpcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZFZhbHVlID09PSAnb2JqZWN0JyAmJiBmaWVsZFZhbHVlLmNlbnRlciAmJiBmaWVsZFZhbHVlLmRpc3RhbmNlKSB7XG4gICAgICAgICAgZmllbGRWYWx1ZSA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgX190eXBlOiAnR2VvUG9pbnQnLFxuICAgICAgICAgICAgICAuLi5maWVsZFZhbHVlLmNlbnRlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWVsZFZhbHVlLmRpc3RhbmNlLFxuICAgICAgICAgIF07XG4gICAgICAgICAgY29uc3RyYWludHNbcGFyc2VDb25zdHJhaW50TWFwW2ZpZWxkTmFtZV1dID0gZmllbGRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmaWVsZFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGZpZWxkTmFtZSA9PT0gJ3doZXJlJykge1xuICAgICAgICB0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZShmaWVsZFZhbHVlLCBjbGFzc05hbWUsIHBhcnNlQ2xhc3Nlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm1RdWVyeUNvbnN0cmFpbnRJbnB1dFRvUGFyc2UoXG4gICAgICAgICAgZmllbGRWYWx1ZSxcbiAgICAgICAgICBmaWVsZE5hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgIGNvbnN0cmFpbnRzLFxuICAgICAgICAgIHBhcnNlQ2xhc3Nlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCB0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZSA9IChjb25zdHJhaW50cywgY2xhc3NOYW1lLCBwYXJzZUNsYXNzZXMpID0+IHtcbiAgaWYgKCFjb25zdHJhaW50cyB8fCB0eXBlb2YgY29uc3RyYWludHMgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgT2JqZWN0LmtleXMoY29uc3RyYWludHMpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICBjb25zdCBmaWVsZFZhbHVlID0gY29uc3RyYWludHNbZmllbGROYW1lXTtcblxuICAgIGlmIChwYXJzZVF1ZXJ5TWFwW2ZpZWxkTmFtZV0pIHtcbiAgICAgIGRlbGV0ZSBjb25zdHJhaW50c1tmaWVsZE5hbWVdO1xuICAgICAgZmllbGROYW1lID0gcGFyc2VRdWVyeU1hcFtmaWVsZE5hbWVdO1xuICAgICAgY29uc3RyYWludHNbZmllbGROYW1lXSA9IGZpZWxkVmFsdWU7XG4gICAgICBmaWVsZFZhbHVlLmZvckVhY2goZmllbGRWYWx1ZUl0ZW0gPT4ge1xuICAgICAgICB0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZShmaWVsZFZhbHVlSXRlbSwgY2xhc3NOYW1lLCBwYXJzZUNsYXNzZXMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybVF1ZXJ5Q29uc3RyYWludElucHV0VG9QYXJzZShcbiAgICAgICAgZmllbGRWYWx1ZSxcbiAgICAgICAgZmllbGROYW1lLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIGNvbnN0cmFpbnRzLFxuICAgICAgICBwYXJzZUNsYXNzZXNcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IHRyYW5zZm9ybVF1ZXJ5Q29uc3RyYWludElucHV0VG9QYXJzZSwgdHJhbnNmb3JtUXVlcnlJbnB1dFRvUGFyc2UgfTtcbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9HcmFwaFFML3RyYW5zZm9ybWVycy9xdWVyeS5qcyJdLCJuYW1lcyI6WyJwYXJzZVF1ZXJ5TWFwIiwiT1IiLCJBTkQiLCJOT1IiLCJwYXJzZUNvbnN0cmFpbnRNYXAiLCJlcXVhbFRvIiwibm90RXF1YWxUbyIsImxlc3NUaGFuIiwibGVzc1RoYW5PckVxdWFsVG8iLCJncmVhdGVyVGhhbiIsImdyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiaW4iLCJub3RJbiIsImV4aXN0cyIsImluUXVlcnlLZXkiLCJub3RJblF1ZXJ5S2V5IiwiaW5RdWVyeSIsIm5vdEluUXVlcnkiLCJjb250YWluZWRCeSIsImNvbnRhaW5zIiwibWF0Y2hlc1JlZ2V4Iiwib3B0aW9ucyIsInRleHQiLCJzZWFyY2giLCJ0ZXJtIiwibGFuZ3VhZ2UiLCJjYXNlU2Vuc2l0aXZlIiwiZGlhY3JpdGljU2Vuc2l0aXZlIiwibmVhclNwaGVyZSIsIm1heERpc3RhbmNlIiwibWF4RGlzdGFuY2VJblJhZGlhbnMiLCJtYXhEaXN0YW5jZUluTWlsZXMiLCJtYXhEaXN0YW5jZUluS2lsb21ldGVycyIsIndpdGhpbiIsImJveCIsImdlb1dpdGhpbiIsInBvbHlnb24iLCJjZW50ZXJTcGhlcmUiLCJnZW9JbnRlcnNlY3RzIiwicG9pbnQiLCJ0cmFuc2Zvcm1RdWVyeUNvbnN0cmFpbnRJbnB1dFRvUGFyc2UiLCJmaWVsZHMiLCJwYXJzZUNsYXNzZXMiLCJwYXJzZUNsYXNzIiwiY2xhc3NOYW1lIiwicGFyZW50RmllbGROYW1lIiwiT2JqZWN0IiwiY29uc3RyYWludE5hbWUiLCJjb25zdHJhaW50VmFsdWUiLCJjb25zdHJhaW50cyIsImdsb2JhbElkT2JqZWN0IiwiQXJyYXkiLCJ2YWx1ZSIsInBhcmVudENvbnN0cmFpbnRzIiwiZmllbGROYW1lIiwiZmllbGRWYWx1ZSIsImtleSIsInRhcmdldENsYXNzIiwid2hlcmVUYXJnZXQiLCIkZXhpc3RzIiwicGFyc2VXaGVyZVRhcmdldCIsIndoZXJlIiwib2JqZWN0SWQiLCJ0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZSIsIl9fdHlwZSIsImdlb1BvaW50IiwiZmllbGRWYWx1ZUl0ZW0iXSwibWFwcGluZ3MiOiJ3d2xDQUVNQTsyUkFGTixHQUFBLENBQUEsYUFBQSwwQkFBQSxPQUFBLENBQUEsZUFBQSxDQUFBLENBQUEsQyx5L0RBRUEsS0FBTUEsQ0FBQUEsYUFBYSwyQkFBRyxDQUNwQkMsRUFBRSxDQURrQixLQUFBLENBRXBCQyxHQUFHLENBRmlCLE1BQUEsQ0FHcEJDLEdBQUcsQ0FBRSxNQUhlLENBQUgsQ0FBbkIsQ0FNQSxLQUFNQyxDQUFBQSxrQkFBa0IsMkJBQUcsQ0FDekJDLE9BQU8sQ0FEa0IsS0FBQSxDQUV6QkMsVUFBVSxDQUZlLEtBQUEsQ0FHekJDLFFBQVEsQ0FIaUIsS0FBQSxDQUl6QkMsaUJBQWlCLENBSlEsTUFBQSxDQUt6QkMsV0FBVyxDQUxjLEtBQUEsQ0FNekJDLG9CQUFvQixDQU5LLE1BQUEsQ0FPekJDLEVBQUUsQ0FQdUIsS0FBQSxDQVF6QkMsS0FBSyxDQVJvQixNQUFBLENBU3pCQyxNQUFNLENBVG1CLFNBQUEsQ0FVekJDLFVBQVUsQ0FWZSxTQUFBLENBV3pCQyxhQUFhLENBWFksYUFBQSxDQVl6QkMsT0FBTyxDQVprQixVQUFBLENBYXpCQyxVQUFVLENBYmUsYUFBQSxDQWN6QkMsV0FBVyxDQWRjLGNBQUEsQ0FlekJDLFFBQVEsQ0FmaUIsTUFBQSxDQWdCekJDLFlBQVksQ0FoQmEsUUFBQSxDQWlCekJDLE9BQU8sQ0FqQmtCLFVBQUEsQ0FrQnpCQyxJQUFJLENBbEJxQixPQUFBLENBbUJ6QkMsTUFBTSxDQW5CbUIsU0FBQSxDQW9CekJDLElBQUksQ0FwQnFCLE9BQUEsQ0FxQnpCQyxRQUFRLENBckJpQixXQUFBLENBc0J6QkMsYUFBYSxDQXRCWSxnQkFBQSxDQXVCekJDLGtCQUFrQixDQXZCTyxxQkFBQSxDQXdCekJDLFVBQVUsQ0F4QmUsYUFBQSxDQXlCekJDLFdBQVcsQ0F6QmMsY0FBQSxDQTBCekJDLG9CQUFv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LEVBTEYsQ0FBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUdsb2JhbElkIH0gZnJvbSAnZ3JhcGhxbC1yZWxheSc7XG5cbmNvbnN0IHBhcnNlUXVlcnlNYXAgPSB7XG4gIE9SOiAnJG9yJyxcbiAgQU5EOiAnJGFuZCcsXG4gIE5PUjogJyRub3InLFxufTtcblxuY29uc3QgcGFyc2VDb25zdHJhaW50TWFwID0ge1xuICBlcXVhbFRvOiAnJGVxJyxcbiAgbm90RXF1YWxUbzogJyRuZScsXG4gIGxlc3NUaGFuOiAnJGx0JyxcbiAgbGVzc1RoYW5PckVxdWFsVG86ICckbHRlJyxcbiAgZ3JlYXRlclRoYW46ICckZ3QnLFxuICBncmVhdGVyVGhhbk9yRXF1YWxUbzogJyRndGUnLFxuICBpbjogJyRpbicsXG4gIG5vdEluOiAnJG5pbicsXG4gIGV4aXN0czogJyRleGlzdHMnLFxuICBpblF1ZXJ5S2V5OiAnJHNlbGVjdCcsXG4gIG5vdEluUXVlcnlLZXk6ICckZG9udFNlbGVjdCcsXG4gIGluUXVlcnk6ICckaW5RdWVyeScsXG4gIG5vdEluUXVlcnk6ICckbm90SW5RdWVyeScsXG4gIGNvbnRhaW5lZEJ5OiAnJGNvbnRhaW5lZEJ5JyxcbiAgY29udGFpbnM6ICckYWxsJyxcbiAgbWF0Y2hlc1JlZ2V4OiAnJHJlZ2V4JyxcbiAgb3B0aW9uczogJyRvcHRpb25zJyxcbiAgdGV4dDogJyR0ZXh0JyxcbiAgc2VhcmNoOiAnJHNlYXJjaCcsXG4gIHRlcm06ICckdGVybScsXG4gIGxhbmd1YWdlOiAnJGxhbmd1YWdlJyxcbiAgY2FzZVNlbnNpdGl2ZTogJyRjYXNlU2Vuc2l0aXZlJyxcbiAgZGlhY3JpdGljU2Vuc2l0aXZlOiAnJGRpYWNyaXRpY1NlbnNpdGl2ZScsXG4gIG5lYXJTcGhlcmU6ICckbmVhclNwaGVyZScsXG4gIG1heERpc3RhbmNlOiAnJG1heERpc3RhbmNlJyxcbiAgbWF4RGlzdGFuY2VJblJhZGlhbnM6ICckbWF4RGlzdGFuY2VJblJhZGlhbnMnLFxuICBtYXhEaXN0YW5jZUluTWlsZXM6ICckbWF4RGlzdGFuY2VJbk1pbGVzJyxcbiAgbWF4RGlzdGFuY2VJbktpbG9tZXRlcnM6ICckbWF4RGlzdGFuY2VJbktpbG9tZXRlcnMnLFxuICB3aXRoaW46ICckd2l0aGluJyxcbiAgYm94OiAnJGJveCcsXG4gIGdlb1dpdGhpbjogJyRnZW9XaXRoaW4nLFxuICBwb2x5Z29uOiAnJHBvbHlnb24nLFxuICBjZW50ZXJTcGhlcmU6ICckY2VudGVyU3BoZXJlJyxcbiAgZ2VvSW50ZXJzZWN0czogJyRnZW9JbnRlcnNlY3RzJyxcbiAgcG9pbnQ6ICckcG9pbnQnLFxufTtcblxuY29uc3QgdHJhbnNmb3JtUXVlcnlDb25zdHJhaW50SW5wdXRUb1BhcnNlID0gKFxuICBjb25zdHJhaW50cyxcbiAgcGFyZW50RmllbGROYW1lLFxuICBjbGFzc05hbWUsXG4gIHBhcmVudENvbnN0cmFpbnRzLFxuICBwYXJzZUNsYXNzZXNcbikgPT4ge1xuICBjb25zdCBmaWVsZHMgPSBwYXJzZUNsYXNzZXMuZmluZChwYXJzZUNsYXNzID0+IHBhcnNlQ2xhc3MuY2xhc3NOYW1lID09PSBjbGFzc05hbWUpLmZpZWxkcztcbiAgaWYgKHBhcmVudEZpZWxkTmFtZSA9PT0gJ2lkJyAmJiBjbGFzc05hbWUpIHtcbiAgICBPYmplY3Qua2V5cyhjb25zdHJhaW50cykuZm9yRWFjaChjb25zdHJhaW50TmFtZSA9PiB7XG4gICAgICBjb25zdCBjb25zdHJhaW50VmFsdWUgPSBjb25zdHJhaW50c1tjb25zdHJhaW50TmFtZV07XG4gICAgICBpZiAodHlwZW9mIGNvbnN0cmFpbnRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsSWRPYmplY3QgPSBmcm9tR2xvYmFsSWQoY29uc3RyYWludFZhbHVlKTtcblxuICAgICAgICBpZiAoZ2xvYmFsSWRPYmplY3QudHlwZSA9PT0gY2xhc3NOYW1lKSB7XG4gICAgICAgICAgY29uc3RyYWludHNbY29uc3RyYWludE5hbWVdID0gZ2xvYmFsSWRPYmplY3QuaWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb25zdHJhaW50VmFsdWUpKSB7XG4gICAgICAgIGNvbnN0cmFpbnRzW2NvbnN0cmFpbnROYW1lXSA9IGNvbnN0cmFpbnRWYWx1ZS5tYXAodmFsdWUgPT4ge1xuICAgICAgICAgIGNvbnN0IGdsb2JhbElkT2JqZWN0ID0gZnJvbUdsb2JhbElkKHZhbHVlKTtcblxuICAgICAgICAgIGlmIChnbG9iYWxJZE9iamVjdC50eXBlID09PSBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxJZE9iamVjdC5pZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmVudENvbnN0cmFpbnRzLm9iamVjdElkID0gY29uc3RyYWludHM7XG4gICAgZGVsZXRlIHBhcmVudENvbnN0cmFpbnRzLmlkO1xuICB9XG4gIE9iamVjdC5rZXlzKGNvbnN0cmFpbnRzKS5mb3JFYWNoKGZpZWxkTmFtZSA9PiB7XG4gICAgbGV0IGZpZWxkVmFsdWUgPSBjb25zdHJhaW50c1tmaWVsZE5hbWVdO1xuICAgIGlmIChwYXJzZUNvbnN0cmFpbnRNYXBbZmllbGROYW1lXSkge1xuICAgICAgY29uc3RyYWludHNbcGFyc2VDb25zdHJhaW50TWFwW2ZpZWxkTmFtZV1dID0gY29uc3RyYWludHNbZmllbGROYW1lXTtcbiAgICAgIGRlbGV0ZSBjb25zdHJhaW50c1tmaWVsZE5hbWVdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBoYXZlIGEga2V5LXZhbHVlIHBhaXIsIHdlIG5lZWQgdG8gY2hhbmdlIHRoZSB3YXkgdGhlIGNvbnN0cmFpbnQgaXMgc3RydWN0dXJlZC5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogICBGcm9tOlxuICAgICAqICAge1xuICAgICAqICAgICBcInNvbWVGaWVsZFwiOiB7XG4gICAgICogICAgICAgXCJsZXNzVGhhblwiOiB7XG4gICAgICogICAgICAgICBcImtleVwiOlwiZm9vLmJhclwiLFxuICAgICAqICAgICAgICAgXCJ2YWx1ZVwiOiAxMDBcbiAgICAgKiAgICAgICB9LFxuICAgICAqICAgICAgIFwiZ3JlYXRlclRoYW5cIjoge1xuICAgICAqICAgICAgICAgXCJrZXlcIjpcImZvby5iYXJcIixcbiAgICAgKiAgICAgICAgIFwidmFsdWVcIjogMTBcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKlxuICAgICAqICAgVG86XG4gICAgICogICB7XG4gICAgICogICAgIFwic29tZUZpZWxkLmZvby5iYXJcIjoge1xuICAgICAqICAgICAgIFwiJGx0XCI6IDEwMCxcbiAgICAgKiAgICAgICBcIiRndFwiOiAxMFxuICAgICAqICAgICAgfVxuICAgICAqICAgfVxuICAgICAqL1xuICAgIGlmIChmaWVsZFZhbHVlLmtleSAmJiBmaWVsZFZhbHVlLnZhbHVlICYmIHBhcmVudENvbnN0cmFpbnRzICYmIHBhcmVudEZpZWxkTmFtZSkge1xuICAgICAgZGVsZXRlIHBhcmVudENvbnN0cmFpbnRzW3BhcmVudEZpZWxkTmFtZV07XG4gICAgICBwYXJlbnRDb25zdHJhaW50c1tgJHtwYXJlbnRGaWVsZE5hbWV9LiR7ZmllbGRWYWx1ZS5rZXl9YF0gPSB7XG4gICAgICAgIC4uLnBhcmVudENvbnN0cmFpbnRzW2Ake3BhcmVudEZpZWxkTmFtZX0uJHtmaWVsZFZhbHVlLmtleX1gXSxcbiAgICAgICAgW3BhcnNlQ29uc3RyYWludE1hcFtmaWVsZE5hbWVdXTogZmllbGRWYWx1ZS52YWx1ZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGZpZWxkc1twYXJlbnRGaWVsZE5hbWVdICYmXG4gICAgICAoZmllbGRzW3BhcmVudEZpZWxkTmFtZV0udHlwZSA9PT0gJ1BvaW50ZXInIHx8IGZpZWxkc1twYXJlbnRGaWVsZE5hbWVdLnR5cGUgPT09ICdSZWxhdGlvbicpXG4gICAgKSB7XG4gICAgICBjb25zdCB7IHRhcmdldENsYXNzIH0gPSBmaWVsZHNbcGFyZW50RmllbGROYW1lXTtcbiAgICAgIGlmIChmaWVsZE5hbWUgPT09ICdleGlzdHMnKSB7XG4gICAgICAgIGlmIChmaWVsZHNbcGFyZW50RmllbGROYW1lXS50eXBlID09PSAnUmVsYXRpb24nKSB7XG4gICAgICAgICAgY29uc3Qgd2hlcmVUYXJnZXQgPSBmaWVsZFZhbHVlID8gJ3doZXJlJyA6ICdub3RXaGVyZSc7XG4gICAgICAgICAgaWYgKGNvbnN0cmFpbnRzW3doZXJlVGFyZ2V0XSkge1xuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnRzW3doZXJlVGFyZ2V0XS5vYmplY3RJZCkge1xuICAgICAgICAgICAgICBjb25zdHJhaW50c1t3aGVyZVRhcmdldF0ub2JqZWN0SWQgPSB7XG4gICAgICAgICAgICAgICAgLi4uY29uc3RyYWludHNbd2hlcmVUYXJnZXRdLm9iamVjdElkLFxuICAgICAgICAgICAgICAgICRleGlzdHM6IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdHJhaW50c1t3aGVyZVRhcmdldF0ub2JqZWN0SWQgPSB7XG4gICAgICAgICAgICAgICAgJGV4aXN0czogZmllbGRWYWx1ZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VXaGVyZVRhcmdldCA9IGZpZWxkVmFsdWUgPyAnJGluUXVlcnknIDogJyRub3RJblF1ZXJ5JztcbiAgICAgICAgICAgIHBhcmVudENvbnN0cmFpbnRzW3BhcmVudEZpZWxkTmFtZV1bcGFyc2VXaGVyZVRhcmdldF0gPSB7XG4gICAgICAgICAgICAgIHdoZXJlOiB7IG9iamVjdElkOiB7ICRleGlzdHM6IHRydWUgfSB9LFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IHRhcmdldENsYXNzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzLiRleGlzdHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50Q29uc3RyYWludHNbcGFyZW50RmllbGROYW1lXS4kZXhpc3RzID0gZmllbGRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGZpZWxkTmFtZSkge1xuICAgICAgICBjYXNlICdoYXZlJzpcbiAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRpblF1ZXJ5ID0ge1xuICAgICAgICAgICAgd2hlcmU6IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHRhcmdldENsYXNzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdHJhbnNmb3JtUXVlcnlJbnB1dFRvUGFyc2UoXG4gICAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRpblF1ZXJ5LndoZXJlLFxuICAgICAgICAgICAgdGFyZ2V0Q2xhc3MsXG4gICAgICAgICAgICBwYXJzZUNsYXNzZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoYXZlTm90JzpcbiAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRub3RJblF1ZXJ5ID0ge1xuICAgICAgICAgICAgd2hlcmU6IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHRhcmdldENsYXNzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdHJhbnNmb3JtUXVlcnlJbnB1dFRvUGFyc2UoXG4gICAgICAgICAgICBwYXJlbnRDb25zdHJhaW50c1twYXJlbnRGaWVsZE5hbWVdLiRub3RJblF1ZXJ5LndoZXJlLFxuICAgICAgICAgICAgdGFyZ2V0Q2xhc3MsXG4gICAgICAgICAgICBwYXJzZUNsYXNzZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzW2ZpZWxkTmFtZV07XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoZmllbGROYW1lKSB7XG4gICAgICBjYXNlICdwb2ludCc6XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIWZpZWxkVmFsdWUuX190eXBlKSB7XG4gICAgICAgICAgZmllbGRWYWx1ZS5fX3R5cGUgPSAnR2VvUG9pbnQnO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbmVhclNwaGVyZSc6XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIWZpZWxkVmFsdWUuX190eXBlKSB7XG4gICAgICAgICAgZmllbGRWYWx1ZS5fX3R5cGUgPSAnR2VvUG9pbnQnO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm94JzpcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZFZhbHVlID09PSAnb2JqZWN0JyAmJiBmaWVsZFZhbHVlLmJvdHRvbUxlZnQgJiYgZmllbGRWYWx1ZS51cHBlclJpZ2h0KSB7XG4gICAgICAgICAgZmllbGRWYWx1ZSA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgX190eXBlOiAnR2VvUG9pbnQnLFxuICAgICAgICAgICAgICAuLi5maWVsZFZhbHVlLmJvdHRvbUxlZnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBfX3R5cGU6ICdHZW9Qb2ludCcsXG4gICAgICAgICAgICAgIC4uLmZpZWxkVmFsdWUudXBwZXJSaWdodCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXTtcbiAgICAgICAgICBjb25zdHJhaW50c1twYXJzZUNvbnN0cmFpbnRNYXBbZmllbGROYW1lXV0gPSBmaWVsZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncG9seWdvbic6XG4gICAgICAgIGlmIChmaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBmaWVsZFZhbHVlLmZvckVhY2goZ2VvUG9pbnQgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBnZW9Qb2ludCA9PT0gJ29iamVjdCcgJiYgIWdlb1BvaW50Ll9fdHlwZSkge1xuICAgICAgICAgICAgICBnZW9Qb2ludC5fX3R5cGUgPSAnR2VvUG9pbnQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2VudGVyU3BoZXJlJzpcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZFZhbHVlID09PSAnb2JqZWN0JyAmJiBmaWVsZFZhbHVlLmNlbnRlciAmJiBmaWVsZFZhbHVlLmRpc3RhbmNlKSB7XG4gICAgICAgICAgZmllbGRWYWx1ZSA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgX190eXBlOiAnR2VvUG9pbnQnLFxuICAgICAgICAgICAgICAuLi5maWVsZFZhbHVlLmNlbnRlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWVsZFZhbHVlLmRpc3RhbmNlLFxuICAgICAgICAgIF07XG4gICAgICAgICAgY29uc3RyYWludHNbcGFyc2VDb25zdHJhaW50TWFwW2ZpZWxkTmFtZV1dID0gZmllbGRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmaWVsZFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGZpZWxkTmFtZSA9PT0gJ3doZXJlJykge1xuICAgICAgICB0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZShmaWVsZFZhbHVlLCBjbGFzc05hbWUsIHBhcnNlQ2xhc3Nlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm1RdWVyeUNvbnN0cmFpbnRJbnB1dFRvUGFyc2UoXG4gICAgICAgICAgZmllbGRWYWx1ZSxcbiAgICAgICAgICBmaWVsZE5hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgIGNvbnN0cmFpbnRzLFxuICAgICAgICAgIHBhcnNlQ2xhc3Nlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCB0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZSA9IChjb25zdHJhaW50cywgY2xhc3NOYW1lLCBwYXJzZUNsYXNzZXMpID0+IHtcbiAgaWYgKCFjb25zdHJhaW50cyB8fCB0eXBlb2YgY29uc3RyYWludHMgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgT2JqZWN0LmtleXMoY29uc3RyYWludHMpLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICBjb25zdCBmaWVsZFZhbHVlID0gY29uc3RyYWludHNbZmllbGROYW1lXTtcblxuICAgIGlmIChwYXJzZVF1ZXJ5TWFwW2ZpZWxkTmFtZV0pIHtcbiAgICAgIGRlbGV0ZSBjb25zdHJhaW50c1tmaWVsZE5hbWVdO1xuICAgICAgZmllbGROYW1lID0gcGFyc2VRdWVyeU1hcFtmaWVsZE5hbWVdO1xuICAgICAgY29uc3RyYWludHNbZmllbGROYW1lXSA9IGZpZWxkVmFsdWU7XG4gICAgICBmaWVsZFZhbHVlLmZvckVhY2goZmllbGRWYWx1ZUl0ZW0gPT4ge1xuICAgICAgICB0cmFuc2Zvcm1RdWVyeUlucHV0VG9QYXJzZShmaWVsZFZhbHVlSXRlbSwgY2xhc3NOYW1lLCBwYXJzZUNsYXNzZXMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybVF1ZXJ5Q29uc3RyYWludElucHV0VG9QYXJzZShcbiAgICAgICAgZmllbGRWYWx1ZSxcbiAgICAgICAgZmllbGROYW1lLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIGNvbnN0cmFpbnRzLFxuICAgICAgICBwYXJzZUNsYXNzZXNcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IHRyYW5zZm9ybVF1ZXJ5Q29uc3RyYWludElucHV0VG9QYXJzZSwgdHJhbnNmb3JtUXVlcnlJbnB1dFRvUGFyc2UgfTtcbiJdfQ==