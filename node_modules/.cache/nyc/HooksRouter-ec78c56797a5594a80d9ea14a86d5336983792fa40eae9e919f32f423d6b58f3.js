"use strict";function cov_1rwzid4tza(){var path="/parse-server/lib/Routers/HooksRouter.js";var hash="0c1a68420c157e51152a3c7f6307e65f746d970b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/parse-server/lib/Routers/HooksRouter.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:47}},"2":{start:{line:8,column:12},end:{line:8,column:33}},"3":{start:{line:10,column:21},end:{line:10,column:72}},"4":{start:{line:12,column:17},end:{line:12,column:67}},"5":{start:{line:14,column:49},end:{line:14,column:96}},"6":{start:{line:14,column:84},end:{line:14,column:96}},"7":{start:{line:14,column:121},end:{line:14,column:134}},"8":{start:{line:14,column:159},end:{line:14,column:172}},"9":{start:{line:14,column:174},end:{line:14,column:309}},"10":{start:{line:14,column:234},end:{line:14,column:292}},"11":{start:{line:16,column:53},end:{line:16,column:111}},"12":{start:{line:16,column:98},end:{line:16,column:109}},"13":{start:{line:16,column:112},end:{line:16,column:214}},"14":{start:{line:16,column:188},end:{line:16,column:212}},"15":{start:{line:16,column:227},end:{line:16,column:264}},"16":{start:{line:16,column:266},end:{line:16,column:321}},"17":{start:{line:16,column:297},end:{line:16,column:319}},"18":{start:{line:16,column:335},end:{line:16,column:337}},"19":{start:{line:16,column:367},end:{line:16,column:423}},"20":{start:{line:16,column:425},end:{line:16,column:726}},"21":{start:{line:16,column:448},end:{line:16,column:724}},"22":{start:{line:16,column:534},end:{line:16,column:606}},"23":{start:{line:16,column:608},end:{line:16,column:722}},"24":{start:{line:16,column:646},end:{line:16,column:687}},"25":{start:{line:16,column:697},end:{line:16,column:720}},"26":{start:{line:16,column:727},end:{line:16,column:748}},"27":{start:{line:16,column:749},end:{line:16,column:787}},"28":{start:{line:16,column:762},end:{line:16,column:785}},"29":{start:{line:16,column:788},end:{line:16,column:802}},"30":{start:{line:18,column:39},end:{line:18,column:93}},"31":{start:{line:22,column:4},end:{line:24,column:8}},"32":{start:{line:22,column:66},end:{line:24,column:5}},"33":{start:{line:28,column:4},end:{line:30,column:8}},"34":{start:{line:28,column:66},end:{line:30,column:5}},"35":{start:{line:34,column:4},end:{line:34,column:49}},"36":{start:{line:38,column:26},end:{line:38,column:52}},"37":{start:{line:40,column:4},end:{line:50,column:5}},"38":{start:{line:41,column:6},end:{line:49,column:9}},"39":{start:{line:42,column:8},end:{line:44,column:9}},"40":{start:{line:43,column:10},end:{line:43,column:103}},"41":{start:{line:46,column:8},end:{line:48,column:11}},"42":{start:{line:52,column:4},end:{line:58,column:7}},"43":{start:{line:53,column:6},end:{line:55,column:8}},"44":{start:{line:57,column:6},end:{line:57,column:16}},"45":{start:{line:62,column:26},end:{line:62,column:52}},"46":{start:{line:64,column:4},end:{line:74,column:5}},"47":{start:{line:65,column:6},end:{line:73,column:9}},"48":{start:{line:66,column:8},end:{line:68,column:9}},"49":{start:{line:67,column:10},end:{line:67,column:91}},"50":{start:{line:70,column:8},end:{line:72,column:11}},"51":{start:{line:76,column:4},end:{line:78,column:8}},"52":{start:{line:76,column:59},end:{line:78,column:5}},"53":{start:{line:82,column:26},end:{line:82,column:52}},"54":{start:{line:84,column:4},end:{line:92,column:5}},"55":{start:{line:85,column:6},end:{line:87,column:10}},"56":{start:{line:85,column:81},end:{line:87,column:7}},"57":{start:{line:88,column:11},end:{line:92,column:5}},"58":{start:{line:89,column:6},end:{line:91,column:10}},"59":{start:{line:89,column:101},end:{line:91,column:7}},"60":{start:{line:94,column:4},end:{line:96,column:7}},"61":{start:{line:102,column:4},end:{line:113,column:5}},"62":{start:{line:103,column:6},end:{line:103,column:16}},"63":{start:{line:104,column:6},end:{line:104,column:50}},"64":{start:{line:105,column:6},end:{line:105,column:30}},"65":{start:{line:106,column:11},end:{line:113,column:5}},"66":{start:{line:107,column:6},end:{line:107,column:16}},"67":{start:{line:108,column:6},end:{line:108,column:44}},"68":{start:{line:109,column:6},end:{line:109,column:48}},"69":{start:{line:110,column:6},end:{line:110,column:30}},"70":{start:{line:112,column:6},end:{line:112,column:67}},"71":{start:{line:115,column:4},end:{line:115,column:45}},"72":{start:{line:119,column:15},end:{line:119,column:23}},"73":{start:{line:121,column:4},end:{line:125,column:5}},"74":{start:{line:122,column:6},end:{line:122,column:36}},"75":{start:{line:124,column:6},end:{line:124,column:36}},"76":{start:{line:129,column:4},end:{line:129,column:120}},"77":{start:{line:130,column:4},end:{line:130,column:118}},"78":{start:{line:131,column:4},end:{line:131,column:134}},"79":{start:{line:132,column:4},end:{line:132,column:142}},"80":{start:{line:133,column:4},end:{line:133,column:113}},"81":{start:{line:134,column:4},end:{line:134,column:112}},"82":{start:{line:135,column:4},end:{line:135,column:125}},"83":{start:{line:136,column:4},end:{line:136,column:134}},"84":{start:{line:141,column:0},end:{line:141,column:34}},"85":{start:{line:142,column:15},end:{line:142,column:26}},"86":{start:{line:143,column:0},end:{line:143,column:27}}},fnMap:{"0":{name:"_getRequireWildcardCache",decl:{start:{line:14,column:9},end:{line:14,column:33}},loc:{start:{line:14,column:47},end:{line:14,column:311}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:209},end:{line:14,column:210}},loc:{start:{line:14,column:232},end:{line:14,column:294}},line:14},"2":{name:"_interopRequireWildcard",decl:{start:{line:16,column:9},end:{line:16,column:32}},loc:{start:{line:16,column:51},end:{line:16,column:804}},line:16},"3":{name:"_interopRequireDefault",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:37},end:{line:18,column:95}},line:18},"4":{name:"(anonymous_4)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:28},end:{line:25,column:3}},line:21},"5":{name:"(anonymous_5)",decl:{start:{line:22,column:57},end:{line:22,column:58}},loc:{start:{line:22,column:66},end:{line:24,column:5}},line:22},"6":{name:"(anonymous_6)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:28},end:{line:31,column:3}},line:27},"7":{name:"(anonymous_7)",decl:{start:{line:28,column:57},end:{line:28,column:58}},loc:{start:{line:28,column:66},end:{line:30,column:5}},line:28},"8":{name:"(anonymous_8)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:18},end:{line:35,column:3}},line:33},"9":{name:"(anonymous_9)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:26},end:{line:59,column:3}},line:37},"10":{name:"(anonymous_10)",decl:{start:{line:41,column:71},end:{line:41,column:72}},loc:{start:{line:41,column:88},end:{line:49,column:7}},line:41},"11":{name:"(anonymous_11)",decl:{start:{line:52,column:47},end:{line:52,column:48}},loc:{start:{line:52,column:60},end:{line:56,column:5}},line:52},"12":{name:"(anonymous_12)",decl:{start:{line:56,column:7},end:{line:56,column:8}},loc:{start:{line:56,column:14},end:{line:58,column:5}},line:56},"13":{name:"(anonymous_13)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:25},end:{line:79,column:3}},line:61},"14":{name:"(anonymous_14)",decl:{start:{line:65,column:91},end:{line:65,column:92}},loc:{start:{line:65,column:107},end:{line:73,column:7}},line:65},"15":{name:"(anonymous_15)",decl:{start:{line:76,column:46},end:{line:76,column:47}},loc:{start:{line:76,column:59},end:{line:78,column:5}},line:76},"16":{name:"(anonymous_16)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:20},end:{line:97,column:3}},line:81},"17":{name:"(anonymous_17)",decl:{start:{line:85,column:74},end:{line:85,column:75}},loc:{start:{line:85,column:81},end:{line:87,column:7}},line:85},"18":{name:"(anonymous_18)",decl:{start:{line:89,column:94},end:{line:89,column:95}},loc:{start:{line:89,column:101},end:{line:91,column:7}},line:89},"19":{name:"(anonymous_19)",decl:{start:{line:99,column:2},end:{line:99,column:3}},loc:{start:{line:99,column:20},end:{line:116,column:3}},line:99},"20":{name:"(anonymous_20)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:17},end:{line:126,column:3}},line:118},"21":{name:"(anonymous_21)",decl:{start:{line:128,column:2},end:{line:128,column:3}},loc:{start:{line:128,column:16},end:{line:137,column:3}},line:128}},branchMap:{"0":{loc:{start:{line:14,column:49},end:{line:14,column:96}},type:"if",locations:[{start:{line:14,column:49},end:{line:14,column:96}},{start:{line:14,column:49},end:{line:14,column:96}}],line:14},"1":{loc:{start:{line:14,column:241},end:{line:14,column:291}},type:"cond-expr",locations:[{start:{line:14,column:255},end:{line:14,column:271}},{start:{line:14,column:274},end:{line:14,column:291}}],line:14},"2":{loc:{start:{line:16,column:53},end:{line:16,column:111}},type:"if",locations:[{start:{line:16,column:53},end:{line:16,column:111}},{start:{line:16,column:53},end:{line:16,column:111}}],line:16},"3":{loc:{start:{line:16,column:57},end:{line:16,column:94}},type:"binary-expr",locations:[{start:{line:16,column:57},end:{line:16,column:69}},{start:{line:16,column:73},end:{line:16,column:76}},{start:{line:16,column:80},end:{line:16,column:94}}],line:16},"4":{loc:{start:{line:16,column:112},end:{line:16,column:214}},type:"if",locations:[{start:{line:16,column:112},end:{line:16,column:214}},{start:{line:16,column:112},end:{line:16,column:214}}],line:16},"5":{loc:{start:{line:16,column:116},end:{line:16,column:184}},type:"binary-expr",locations:[{start:{line:16,column:116},end:{line:16,column:128}},{start:{line:16,column:132},end:{line:16,column:155}},{start:{line:16,column:159},end:{line:16,column:184}}],line:16},"6":{loc:{start:{line:16,column:266},end:{line:16,column:321}},type:"if",locations:[{start:{line:16,column:266},end:{line:16,column:321}},{start:{line:16,column:266},end:{line:16,column:321}}],line:16},"7":{loc:{start:{line:16,column:270},end:{line:16,column:293}},type:"binary-expr",locations:[{start:{line:16,column:270},end:{line:16,column:275}},{start:{line:16,column:279},end:{line:16,column:293}}],line:16},"8":{loc:{start:{line:16,column:367},end:{line:16,column:423}},type:"binary-expr",locations:[{start:{line:16,column:367},end:{line:16,column:388}},{start:{line:16,column:392},end:{line:16,column:423}}],line:16},"9":{loc:{start:{line:16,column:448},end:{line:16,column:724}},type:"if",locations:[{start:{line:16,column:448},end:{line:16,column:724}},{start:{line:16,column:448},end:{line:16,column:724}}],line:16},"10":{loc:{start:{line:16,column:452},end:{line:16,column:519}},type:"binary-expr",locations:[{start:{line:16,column:452},end:{line:16,column:469}},{start:{line:16,column:473},end:{line:16,column:519}}],line:16},"11":{loc:{start:{line:16,column:534},end:{line:16,column:606}},type:"cond-expr",locations:[{start:{line:16,column:558},end:{line:16,column:599}},{start:{line:16,column:602},end:{line:16,column:606}}],line:16},"12":{loc:{start:{line:16,column:608},end:{line:16,column:722}},type:"if",locations:[{start:{line:16,column:608},end:{line:16,column:722}},{start:{line:16,column:608},end:{line:16,column:722}}],line:16},"13":{loc:{start:{line:16,column:612},end:{line:16,column:642}},type:"binary-expr",locations:[{start:{line:16,column:612},end:{line:16,column:616}},{start:{line:16,column:621},end:{line:16,column:629}},{start:{line:16,column:633},end:{line:16,column:641}}],line:16},"14":{loc:{start:{line:16,column:749},end:{line:16,column:787}},type:"if",locations:[{start:{line:16,column:749},end:{line:16,column:787}},{start:{line:16,column:749},end:{line:16,column:787}}],line:16},"15":{loc:{start:{line:18,column:46},end:{line:18,column:92}},type:"cond-expr",locations:[{start:{line:18,column:70},end:{line:18,column:73}},{start:{line:18,column:76},end:{line:18,column:92}}],line:18},"16":{loc:{start:{line:18,column:46},end:{line:18,column:67}},type:"binary-expr",locations:[{start:{line:18,column:46},end:{line:18,column:49}},{start:{line:18,column:53},end:{line:18,column:67}}],line:18},"17":{loc:{start:{line:40,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:50,column:5}},{start:{line:40,column:4},end:{line:50,column:5}}],line:40},"18":{loc:{start:{line:42,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:42,column:8},end:{line:44,column:9}},{start:{line:42,column:8},end:{line:44,column:9}}],line:42},"19":{loc:{start:{line:54,column:18},end:{line:54,column:33}},type:"binary-expr",locations:[{start:{line:54,column:18},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:54,column:33}}],line:54},"20":{loc:{start:{line:64,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:64,column:4},end:{line:74,column:5}},{start:{line:64,column:4},end:{line:74,column:5}}],line:64},"21":{loc:{start:{line:64,column:8},end:{line:64,column:54}},type:"binary-expr",locations:[{start:{line:64,column:8},end:{line:64,column:28}},{start:{line:64,column:32},end:{line:64,column:54}}],line:64},"22":{loc:{start:{line:66,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:68,column:9}},{start:{line:66,column:8},end:{line:68,column:9}}],line:66},"23":{loc:{start:{line:77,column:16},end:{line:77,column:30}},type:"binary-expr",locations:[{start:{line:77,column:16},end:{line:77,column:24}},{start:{line:77,column:28},end:{line:77,column:30}}],line:77},"24":{loc:{start:{line:84,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:92,column:5}},{start:{line:84,column:4},end:{line:92,column:5}}],line:84},"25":{loc:{start:{line:88,column:11},end:{line:92,column:5}},type:"if",locations:[{start:{line:88,column:11},end:{line:92,column:5}},{start:{line:88,column:11},end:{line:92,column:5}}],line:88},"26":{loc:{start:{line:88,column:15},end:{line:88,column:61}},type:"binary-expr",locations:[{start:{line:88,column:15},end:{line:88,column:35}},{start:{line:88,column:39},end:{line:88,column:61}}],line:88},"27":{loc:{start:{line:102,column:4},end:{line:113,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:113,column:5}},{start:{line:102,column:4},end:{line:113,column:5}}],line:102},"28":{loc:{start:{line:102,column:8},end:{line:102,column:47}},type:"binary-expr",locations:[{start:{line:102,column:8},end:{line:102,column:31}},{start:{line:102,column:35},end:{line:102,column:47}}],line:102},"29":{loc:{start:{line:106,column:11},end:{line:113,column:5}},type:"if",locations:[{start:{line:106,column:11},end:{line:113,column:5}},{start:{line:106,column:11},end:{line:113,column:5}}],line:106},"30":{loc:{start:{line:106,column:15},end:{line:106,column:77}},type:"binary-expr",locations:[{start:{line:106,column:15},end:{line:106,column:35}},{start:{line:106,column:39},end:{line:106,column:61}},{start:{line:106,column:65},end:{line:106,column:77}}],line:106},"31":{loc:{start:{line:121,column:4},end:{line:125,column:5}},type:"if",locations:[{start:{line:121,column:4},end:{line:125,column:5}},{start:{line:121,column:4},end:{line:125,column:5}}],line:121}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0,0],"31":[0,0]},inputSourceMap:{version:3,sources:["../../src/Routers/HooksRouter.js"],names:["HooksRouter","PromiseRouter","createHook","aHook","config","hooksController","then","hook","response","updateHook","handlePost","req","body","handleGetFunctions","params","functionName","getFunction","foundFunction","Parse","Error","Promise","resolve","getFunctions","functions","err","handleGetTriggers","className","triggerName","getTrigger","foundTrigger","getTriggers","triggers","handleDelete","deleteFunction","deleteTrigger","handleUpdate","url","handlePut","__op","mountRoutes","route","middleware","promiseEnforceMasterKeyAccess","bind"],mappings:"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",sourcesContent:["import { Parse } from 'parse/node';\nimport PromiseRouter from '../PromiseRouter';\nimport * as middleware from '../middlewares';\n\nexport class HooksRouter extends PromiseRouter {\n  createHook(aHook, config) {\n    return config.hooksController.createHook(aHook).then(hook => ({ response: hook }));\n  }\n\n  updateHook(aHook, config) {\n    return config.hooksController.updateHook(aHook).then(hook => ({ response: hook }));\n  }\n\n  handlePost(req) {\n    return this.createHook(req.body, req.config);\n  }\n\n  handleGetFunctions(req) {\n    var hooksController = req.config.hooksController;\n    if (req.params.functionName) {\n      return hooksController.getFunction(req.params.functionName).then(foundFunction => {\n        if (!foundFunction) {\n          throw new Parse.Error(143, `no function named: ${req.params.functionName} is defined`);\n        }\n        return Promise.resolve({ response: foundFunction });\n      });\n    }\n\n    return hooksController.getFunctions().then(\n      functions => {\n        return { response: functions || [] };\n      },\n      err => {\n        throw err;\n      }\n    );\n  }\n\n  handleGetTriggers(req) {\n    var hooksController = req.config.hooksController;\n    if (req.params.className && req.params.triggerName) {\n      return hooksController\n        .getTrigger(req.params.className, req.params.triggerName)\n        .then(foundTrigger => {\n          if (!foundTrigger) {\n            throw new Parse.Error(143, `class ${req.params.className} does not exist`);\n          }\n          return Promise.resolve({ response: foundTrigger });\n        });\n    }\n\n    return hooksController.getTriggers().then(triggers => ({ response: triggers || [] }));\n  }\n\n  handleDelete(req) {\n    var hooksController = req.config.hooksController;\n    if (req.params.functionName) {\n      return hooksController.deleteFunction(req.params.functionName).then(() => ({ response: {} }));\n    } else if (req.params.className && req.params.triggerName) {\n      return hooksController\n        .deleteTrigger(req.params.className, req.params.triggerName)\n        .then(() => ({ response: {} }));\n    }\n    return Promise.resolve({ response: {} });\n  }\n\n  handleUpdate(req) {\n    var hook;\n    if (req.params.functionName && req.body.url) {\n      hook = {};\n      hook.functionName = req.params.functionName;\n      hook.url = req.body.url;\n    } else if (req.params.className && req.params.triggerName && req.body.url) {\n      hook = {};\n      hook.className = req.params.className;\n      hook.triggerName = req.params.triggerName;\n      hook.url = req.body.url;\n    } else {\n      throw new Parse.Error(143, 'invalid hook declaration');\n    }\n    return this.updateHook(hook, req.config);\n  }\n\n  handlePut(req) {\n    var body = req.body;\n    if (body.__op == 'Delete') {\n      return this.handleDelete(req);\n    } else {\n      return this.handleUpdate(req);\n    }\n  }\n\n  mountRoutes() {\n    this.route(\n      'GET',\n      '/hooks/functions',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handleGetFunctions.bind(this)\n    );\n    this.route(\n      'GET',\n      '/hooks/triggers',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handleGetTriggers.bind(this)\n    );\n    this.route(\n      'GET',\n      '/hooks/functions/:functionName',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handleGetFunctions.bind(this)\n    );\n    this.route(\n      'GET',\n      '/hooks/triggers/:className/:triggerName',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handleGetTriggers.bind(this)\n    );\n    this.route(\n      'POST',\n      '/hooks/functions',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handlePost.bind(this)\n    );\n    this.route(\n      'POST',\n      '/hooks/triggers',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handlePost.bind(this)\n    );\n    this.route(\n      'PUT',\n      '/hooks/functions/:functionName',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handlePut.bind(this)\n    );\n    this.route(\n      'PUT',\n      '/hooks/triggers/:className/:triggerName',\n      middleware.promiseEnforceMasterKeyAccess,\n      this.handlePut.bind(this)\n    );\n  }\n}\n\nexport default HooksRouter;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0c1a68420c157e51152a3c7f6307e65f746d970b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1rwzid4tza=function(){return actualCoverage;};}return actualCoverage;}cov_1rwzid4tza();cov_1rwzid4tza().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1rwzid4tza().s[1]++;exports.default=exports.HooksRouter=void 0;var _node=(cov_1rwzid4tza().s[2]++,require("parse/node"));var _PromiseRouter=(cov_1rwzid4tza().s[3]++,_interopRequireDefault(require("../PromiseRouter")));var middleware=(cov_1rwzid4tza().s[4]++,_interopRequireWildcard(require("../middlewares")));function _getRequireWildcardCache(nodeInterop){cov_1rwzid4tza().f[0]++;cov_1rwzid4tza().s[5]++;if(typeof WeakMap!=="function"){cov_1rwzid4tza().b[0][0]++;cov_1rwzid4tza().s[6]++;return null;}else{cov_1rwzid4tza().b[0][1]++;}var cacheBabelInterop=(cov_1rwzid4tza().s[7]++,new WeakMap());var cacheNodeInterop=(cov_1rwzid4tza().s[8]++,new WeakMap());cov_1rwzid4tza().s[9]++;return(_getRequireWildcardCache=function(nodeInterop){cov_1rwzid4tza().f[1]++;cov_1rwzid4tza().s[10]++;return nodeInterop?(cov_1rwzid4tza().b[1][0]++,cacheNodeInterop):(cov_1rwzid4tza().b[1][1]++,cacheBabelInterop);})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){cov_1rwzid4tza().f[2]++;cov_1rwzid4tza().s[11]++;if((cov_1rwzid4tza().b[3][0]++,!nodeInterop)&&(cov_1rwzid4tza().b[3][1]++,obj)&&(cov_1rwzid4tza().b[3][2]++,obj.__esModule)){cov_1rwzid4tza().b[2][0]++;cov_1rwzid4tza().s[12]++;return obj;}else{cov_1rwzid4tza().b[2][1]++;}cov_1rwzid4tza().s[13]++;if((cov_1rwzid4tza().b[5][0]++,obj===null)||(cov_1rwzid4tza().b[5][1]++,typeof obj!=="object")&&(cov_1rwzid4tza().b[5][2]++,typeof obj!=="function")){cov_1rwzid4tza().b[4][0]++;cov_1rwzid4tza().s[14]++;return{default:obj};}else{cov_1rwzid4tza().b[4][1]++;}var cache=(cov_1rwzid4tza().s[15]++,_getRequireWildcardCache(nodeInterop));cov_1rwzid4tza().s[16]++;if((cov_1rwzid4tza().b[7][0]++,cache)&&(cov_1rwzid4tza().b[7][1]++,cache.has(obj))){cov_1rwzid4tza().b[6][0]++;cov_1rwzid4tza().s[17]++;return cache.get(obj);}else{cov_1rwzid4tza().b[6][1]++;}var newObj=(cov_1rwzid4tza().s[18]++,{});var hasPropertyDescriptor=(cov_1rwzid4tza().s[19]++,(cov_1rwzid4tza().b[8][0]++,Object.defineProperty)&&(cov_1rwzid4tza().b[8][1]++,Object.getOwnPropertyDescriptor));cov_1rwzid4tza().s[20]++;for(var key in obj){cov_1rwzid4tza().s[21]++;if((cov_1rwzid4tza().b[10][0]++,key!=="default")&&(cov_1rwzid4tza().b[10][1]++,Object.prototype.hasOwnProperty.call(obj,key))){cov_1rwzid4tza().b[9][0]++;var desc=(cov_1rwzid4tza().s[22]++,hasPropertyDescriptor?(cov_1rwzid4tza().b[11][0]++,Object.getOwnPropertyDescriptor(obj,key)):(cov_1rwzid4tza().b[11][1]++,null));cov_1rwzid4tza().s[23]++;if((cov_1rwzid4tza().b[13][0]++,desc)&&((cov_1rwzid4tza().b[13][1]++,desc.get)||(cov_1rwzid4tza().b[13][2]++,desc.set))){cov_1rwzid4tza().b[12][0]++;cov_1rwzid4tza().s[24]++;Object.defineProperty(newObj,key,desc);}else{cov_1rwzid4tza().b[12][1]++;cov_1rwzid4tza().s[25]++;newObj[key]=obj[key];}}else{cov_1rwzid4tza().b[9][1]++;}}cov_1rwzid4tza().s[26]++;newObj.default=obj;cov_1rwzid4tza().s[27]++;if(cache){cov_1rwzid4tza().b[14][0]++;cov_1rwzid4tza().s[28]++;cache.set(obj,newObj);}else{cov_1rwzid4tza().b[14][1]++;}cov_1rwzid4tza().s[29]++;return newObj;}function _interopRequireDefault(obj){cov_1rwzid4tza().f[3]++;cov_1rwzid4tza().s[30]++;return(cov_1rwzid4tza().b[16][0]++,obj)&&(cov_1rwzid4tza().b[16][1]++,obj.__esModule)?(cov_1rwzid4tza().b[15][0]++,obj):(cov_1rwzid4tza().b[15][1]++,{default:obj});}class HooksRouter extends(_PromiseRouter.default){createHook(aHook,config){cov_1rwzid4tza().f[4]++;cov_1rwzid4tza().s[31]++;return config.hooksController.createHook(aHook).then(hook=>{cov_1rwzid4tza().f[5]++;cov_1rwzid4tza().s[32]++;return{response:hook};});}updateHook(aHook,config){cov_1rwzid4tza().f[6]++;cov_1rwzid4tza().s[33]++;return config.hooksController.updateHook(aHook).then(hook=>{cov_1rwzid4tza().f[7]++;cov_1rwzid4tza().s[34]++;return{response:hook};});}handlePost(req){cov_1rwzid4tza().f[8]++;cov_1rwzid4tza().s[35]++;return this.createHook(req.body,req.config);}handleGetFunctions(req){cov_1rwzid4tza().f[9]++;var hooksController=(cov_1rwzid4tza().s[36]++,req.config.hooksController);cov_1rwzid4tza().s[37]++;if(req.params.functionName){cov_1rwzid4tza().b[17][0]++;cov_1rwzid4tza().s[38]++;return hooksController.getFunction(req.params.functionName).then(foundFunction=>{cov_1rwzid4tza().f[10]++;cov_1rwzid4tza().s[39]++;if(!foundFunction){cov_1rwzid4tza().b[18][0]++;cov_1rwzid4tza().s[40]++;throw new _node.Parse.Error(143,`no function named: ${req.params.functionName} is defined`);}else{cov_1rwzid4tza().b[18][1]++;}cov_1rwzid4tza().s[41]++;return Promise.resolve({response:foundFunction});});}else{cov_1rwzid4tza().b[17][1]++;}cov_1rwzid4tza().s[42]++;return hooksController.getFunctions().then(functions=>{cov_1rwzid4tza().f[11]++;cov_1rwzid4tza().s[43]++;return{response:(cov_1rwzid4tza().b[19][0]++,functions)||(cov_1rwzid4tza().b[19][1]++,[])};},err=>{cov_1rwzid4tza().f[12]++;cov_1rwzid4tza().s[44]++;throw err;});}handleGetTriggers(req){cov_1rwzid4tza().f[13]++;var hooksController=(cov_1rwzid4tza().s[45]++,req.config.hooksController);cov_1rwzid4tza().s[46]++;if((cov_1rwzid4tza().b[21][0]++,req.params.className)&&(cov_1rwzid4tza().b[21][1]++,req.params.triggerName)){cov_1rwzid4tza().b[20][0]++;cov_1rwzid4tza().s[47]++;return hooksController.getTrigger(req.params.className,req.params.triggerName).then(foundTrigger=>{cov_1rwzid4tza().f[14]++;cov_1rwzid4tza().s[48]++;if(!foundTrigger){cov_1rwzid4tza().b[22][0]++;cov_1rwzid4tza().s[49]++;throw new _node.Parse.Error(143,`class ${req.params.className} does not exist`);}else{cov_1rwzid4tza().b[22][1]++;}cov_1rwzid4tza().s[50]++;return Promise.resolve({response:foundTrigger});});}else{cov_1rwzid4tza().b[20][1]++;}cov_1rwzid4tza().s[51]++;return hooksController.getTriggers().then(triggers=>{cov_1rwzid4tza().f[15]++;cov_1rwzid4tza().s[52]++;return{response:(cov_1rwzid4tza().b[23][0]++,triggers)||(cov_1rwzid4tza().b[23][1]++,[])};});}handleDelete(req){cov_1rwzid4tza().f[16]++;var hooksController=(cov_1rwzid4tza().s[53]++,req.config.hooksController);cov_1rwzid4tza().s[54]++;if(req.params.functionName){cov_1rwzid4tza().b[24][0]++;cov_1rwzid4tza().s[55]++;return hooksController.deleteFunction(req.params.functionName).then(()=>{cov_1rwzid4tza().f[17]++;cov_1rwzid4tza().s[56]++;return{response:{}};});}else{cov_1rwzid4tza().b[24][1]++;cov_1rwzid4tza().s[57]++;if((cov_1rwzid4tza().b[26][0]++,req.params.className)&&(cov_1rwzid4tza().b[26][1]++,req.params.triggerName)){cov_1rwzid4tza().b[25][0]++;cov_1rwzid4tza().s[58]++;return hooksController.deleteTrigger(req.params.className,req.params.triggerName).then(()=>{cov_1rwzid4tza().f[18]++;cov_1rwzid4tza().s[59]++;return{response:{}};});}else{cov_1rwzid4tza().b[25][1]++;}}cov_1rwzid4tza().s[60]++;return Promise.resolve({response:{}});}handleUpdate(req){cov_1rwzid4tza().f[19]++;var hook;cov_1rwzid4tza().s[61]++;if((cov_1rwzid4tza().b[28][0]++,req.params.functionName)&&(cov_1rwzid4tza().b[28][1]++,req.body.url)){cov_1rwzid4tza().b[27][0]++;cov_1rwzid4tza().s[62]++;hook={};cov_1rwzid4tza().s[63]++;hook.functionName=req.params.functionName;cov_1rwzid4tza().s[64]++;hook.url=req.body.url;}else{cov_1rwzid4tza().b[27][1]++;cov_1rwzid4tza().s[65]++;if((cov_1rwzid4tza().b[30][0]++,req.params.className)&&(cov_1rwzid4tza().b[30][1]++,req.params.triggerName)&&(cov_1rwzid4tza().b[30][2]++,req.body.url)){cov_1rwzid4tza().b[29][0]++;cov_1rwzid4tza().s[66]++;hook={};cov_1rwzid4tza().s[67]++;hook.className=req.params.className;cov_1rwzid4tza().s[68]++;hook.triggerName=req.params.triggerName;cov_1rwzid4tza().s[69]++;hook.url=req.body.url;}else{cov_1rwzid4tza().b[29][1]++;cov_1rwzid4tza().s[70]++;throw new _node.Parse.Error(143,'invalid hook declaration');}}cov_1rwzid4tza().s[71]++;return this.updateHook(hook,req.config);}handlePut(req){cov_1rwzid4tza().f[20]++;var body=(cov_1rwzid4tza().s[72]++,req.body);cov_1rwzid4tza().s[73]++;if(body.__op=='Delete'){cov_1rwzid4tza().b[31][0]++;cov_1rwzid4tza().s[74]++;return this.handleDelete(req);}else{cov_1rwzid4tza().b[31][1]++;cov_1rwzid4tza().s[75]++;return this.handleUpdate(req);}}mountRoutes(){cov_1rwzid4tza().f[21]++;cov_1rwzid4tza().s[76]++;this.route('GET','/hooks/functions',middleware.promiseEnforceMasterKeyAccess,this.handleGetFunctions.bind(this));cov_1rwzid4tza().s[77]++;this.route('GET','/hooks/triggers',middleware.promiseEnforceMasterKeyAccess,this.handleGetTriggers.bind(this));cov_1rwzid4tza().s[78]++;this.route('GET','/hooks/functions/:functionName',middleware.promiseEnforceMasterKeyAccess,this.handleGetFunctions.bind(this));cov_1rwzid4tza().s[79]++;this.route('GET','/hooks/triggers/:className/:triggerName',middleware.promiseEnforceMasterKeyAccess,this.handleGetTriggers.bind(this));cov_1rwzid4tza().s[80]++;this.route('POST','/hooks/functions',middleware.promiseEnforceMasterKeyAccess,this.handlePost.bind(this));cov_1rwzid4tza().s[81]++;this.route('POST','/hooks/triggers',middleware.promiseEnforceMasterKeyAccess,this.handlePost.bind(this));cov_1rwzid4tza().s[82]++;this.route('PUT','/hooks/functions/:functionName',middleware.promiseEnforceMasterKeyAccess,this.handlePut.bind(this));cov_1rwzid4tza().s[83]++;this.route('PUT','/hooks/triggers/:className/:triggerName',middleware.promiseEnforceMasterKeyAccess,this.handlePut.bind(this));}}cov_1rwzid4tza().s[84]++;exports.HooksRouter=HooksRouter;var _default=(cov_1rwzid4tza().s[85]++,HooksRouter);cov_1rwzid4tza().s[86]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Sb3V0ZXJzL0hvb2tzUm91dGVyLmpzIl0sIm5hbWVzIjpbIkhvb2tzUm91dGVyIiwiUHJvbWlzZVJvdXRlciIsImNyZWF0ZUhvb2siLCJhSG9vayIsImNvbmZpZyIsImhvb2tzQ29udHJvbGxlciIsInRoZW4iLCJob29rIiwicmVzcG9uc2UiLCJ1cGRhdGVIb29rIiwiaGFuZGxlUG9zdCIsInJlcSIsImJvZHkiLCJoYW5kbGVHZXRGdW5jdGlvbnMiLCJwYXJhbXMiLCJmdW5jdGlvbk5hbWUiLCJnZXRGdW5jdGlvbiIsImZvdW5kRnVuY3Rpb24iLCJQYXJzZSIsIkVycm9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRGdW5jdGlvbnMiLCJmdW5jdGlvbnMiLCJlcnIiLCJoYW5kbGVHZXRUcmlnZ2VycyIsImNsYXNzTmFtZSIsInRyaWdnZXJOYW1lIiwiZ2V0VHJpZ2dlciIsImZvdW5kVHJpZ2dlciIsImdldFRyaWdnZXJzIiwidHJpZ2dlcnMiLCJoYW5kbGVEZWxldGUiLCJkZWxldGVGdW5jdGlvbiIsImRlbGV0ZVRyaWdnZXIiLCJoYW5kbGVVcGRhdGUiLCJ1cmwiLCJoYW5kbGVQdXQiLCJfX29wIiwibW91bnRSb3V0ZXMiLCJyb3V0ZSIsIm1pZGRsZXdhcmUiLCJwcm9taXNlRW5mb3JjZU1hc3RlcktleUFjY2VzcyIsImJpbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFTyxNQUFNQSxXQUFOLFNBQTBCQyxzQkFBMUIsQ0FBd0M7QUFDN0NDLEVBQUFBLFVBQVUsQ0FBQ0MsS0FBRCxFQUFRQyxNQUFSLEVBQWdCO0FBQ3hCLFdBQU9BLE1BQU0sQ0FBQ0MsZUFBUCxDQUF1QkgsVUFBdkIsQ0FBa0NDLEtBQWxDLEVBQXlDRyxJQUF6QyxDQUE4Q0MsSUFBSSxLQUFLO0FBQUVDLE1BQUFBLFFBQVEsRUFBRUQ7QUFBWixLQUFMLENBQWxELENBQVA7QUFDRDs7QUFFREUsRUFBQUEsVUFBVSxDQUFDTixL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QixDQUpGO0FBTUEsU0FBS0gsS0FBTCxDQUNFLE1BREYsRUFFRSxrQkFGRixFQUdFQyxVQUFVLENBQUNDLDZCQUhiLEVBSUUsS0FBS2hDLFVBQUwsQ0FBZ0JpQyxJQUFoQixDQUFxQixJQUFyQixDQUpGO0FBTUEsU0FBS0gsS0FBTCxDQUNFLE1BREYsRUFFRSxpQkFGRixFQUdFQyxVQUFVLENBQUNDLDZCQUhiLEVBSUUsS0FBS2hDLFVBQUwsQ0FBZ0JpQyxJQUFoQixDQUFxQixJQUFyQixDQUpGO0FBTUEsU0FBS0gsS0FBTCxDQUNFLEtBREYsRUFFRSxnQ0FGRixFQUdFQyxVQUFVLENBQUNDLDZCQUhiLEVBSUUsS0FBS0wsU0FBTCxDQUFlTSxJQUFmLENBQW9CLElBQXBCLENBSkY7QUFNQSxTQUFLSCxLQUFMLENBQ0UsS0FERixFQUVFLHlDQUZGLEVBR0VDLFVBQVUsQ0FBQ0MsNkJBSGIsRUFJRSxLQUFLTCxTQUFMLENBQWVNLElBQWYsQ0FBb0IsSUFBcEIsQ0FKRjtBQU1EOztBQXpJNEM7OztlQTRJaEMzQyxXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFyc2UgfSBmcm9tICdwYXJzZS9ub2RlJztcbmltcG9ydCBQcm9taXNlUm91dGVyIGZyb20gJy4uL1Byb21pc2VSb3V0ZXInO1xuaW1wb3J0ICogYXMgbWlkZGxld2FyZSBmcm9tICcuLi9taWRkbGV3YXJlcyc7XG5cbmV4cG9ydCBjbGFzcyBIb29rc1JvdXRlciBleHRlbmRzIFByb21pc2VSb3V0ZXIge1xuICBjcmVhdGVIb29rKGFIb29rLCBjb25maWcpIHtcbiAgICByZXR1cm4gY29uZmlnLmhvb2tzQ29udHJvbGxlci5jcmVhdGVIb29rKGFIb29rKS50aGVuKGhvb2sgPT4gKHsgcmVzcG9uc2U6IGhvb2sgfSkpO1xuICB9XG5cbiAgdXBkYXRlSG9vayhhSG9vaywgY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbmZpZy5ob29rc0NvbnRyb2xsZXIudXBkYXRlSG9vayhhSG9vaykudGhlbihob29rID0+ICh7IHJlc3BvbnNlOiBob29rIH0pKTtcbiAgfVxuXG4gIGhhbmRsZVBvc3QocmVxKSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlSG9vayhyZXEuYm9keSwgcmVxLmNvbmZpZyk7XG4gIH1cblxuICBoYW5kbGVHZXRGdW5jdGlvbnMocmVxKSB7XG4gICAgdmFyIGhvb2tzQ29udHJvbGxlciA9IHJlcS5jb25maWcuaG9va3NDb250cm9sbGVyO1xuICAgIGlmIChyZXEucGFyYW1zLmZ1bmN0aW9uTmFtZSkge1xuICAgICAgcmV0dXJuIGhvb2tzQ29udHJvbGxlci5nZXRGdW5jdGlvbihyZXEucGFyYW1zLmZ1bmN0aW9uTmFtZSkudGhlbihmb3VuZEZ1bmN0aW9uID0+IHtcbiAgICAgICAgaWYgKCFmb3VuZEZ1bmN0aW9uKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKDE0MywgYG5vIGZ1bmN0aW9uIG5hbWVkOiAke3JlcS5wYXJhbXMuZnVuY3Rpb25OYW1lfSBpcyBkZWZpbmVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHJlc3BvbnNlOiBmb3VuZEZ1bmN0aW9uIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhvb2tzQ29udHJvbGxlci5nZXRGdW5jdGlvbnMoKS50aGVuKFxuICAgICAgZnVuY3Rpb25zID0+IHtcbiAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2U6IGZ1bmN0aW9ucyB8fCBbXSB9O1xuICAgICAgfSxcbiAgICAgIGVyciA9PiB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgaGFuZGxlR2V0VHJpZ2dlcnMocmVxKSB7XG4gICAgdmFyIGhvb2tzQ29udHJvbGxlciA9IHJlcS5jb25maWcuaG9va3NDb250cm9sbGVyO1xuICAgIGlmIChyZXEucGFyYW1zLmNsYXNzTmFtZSAmJiByZXEucGFyYW1zLnRyaWdnZXJOYW1lKSB7XG4gICAgICByZXR1cm4gaG9va3NDb250cm9sbGVyXG4gICAgICAgIC5nZXRUcmlnZ2VyKHJlcS5wYXJhbXMuY2xhc3NOYW1lLCByZXEucGFyYW1zLnRyaWdnZXJOYW1lKVxuICAgICAgICAudGhlbihmb3VuZFRyaWdnZXIgPT4ge1xuICAgICAgICAgIGlmICghZm91bmRUcmlnZ2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTQzLCBgY2xhc3MgJHtyZXEucGFyYW1zLmNsYXNzTmFtZX0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHJlc3BvbnNlOiBmb3VuZFRyaWdnZXIgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBob29rc0NvbnRyb2xsZXIuZ2V0VHJpZ2dlcnMoKS50aGVuKHRyaWdnZXJzID0+ICh7IHJlc3BvbnNlOiB0cmlnZ2VycyB8fCBbXSB9KSk7XG4gIH1cblxuICBoYW5kbGVEZWxldGUocmVxKSB7XG4gICAgdmFyIGhvb2tzQ29udHJvbGxlciA9IHJlcS5jb25maWcuaG9va3NDb250cm9sbGVyO1xuICAgIGlmIChyZXEucGFyYW1zLmZ1bmN0aW9uTmFtZSkge1xuICAgICAgcmV0dXJuIGhvb2tzQ29udHJvbGxlci5kZWxldGVGdW5jdGlvbihyZXEucGFyYW1zLmZ1bmN0aW9uTmFtZSkudGhlbigoKSA9PiAoeyByZXNwb25zZToge30gfSkpO1xuICAgIH0gZWxzZSBpZiAocmVxLnBhcmFtcy5jbGFzc05hbWUgJiYgcmVxLnBhcmFtcy50cmlnZ2VyTmFtZSkge1xuICAgICAgcmV0dXJuIGhvb2tzQ29udHJvbGxlclxuICAgICAgICAuZGVsZXRlVHJpZ2dlcihyZXEucGFyYW1zLmNsYXNzTmFtZSwgcmVxLnBhcmFtcy50cmlnZ2VyTmFtZSlcbiAgICAgICAgLnRoZW4oKCkgPT4gKHsgcmVzcG9uc2U6IHt9IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHJlc3BvbnNlOiB7fSB9KTtcbiAgfVxuXG4gIGhhbmRsZVVwZGF0ZShyZXEpIHtcbiAgICB2YXIgaG9vaztcbiAgICBpZiAocmVxLnBhcmFtcy5mdW5jdGlvbk5hbWUgJiYgcmVxLmJvZHkudXJsKSB7XG4gICAgICBob29rID0ge307XG4gICAgICBob29rLmZ1bmN0aW9uTmFtZSA9IHJlcS5wYXJhbXMuZnVuY3Rpb25OYW1lO1xuICAgICAgaG9vay51cmwgPSByZXEuYm9keS51cmw7XG4gICAgfSBlbHNlIGlmIChyZXEucGFyYW1zLmNsYXNzTmFtZSAmJiByZXEucGFyYW1zLnRyaWdnZXJOYW1lICYmIHJlcS5ib2R5LnVybCkge1xuICAgICAgaG9vayA9IHt9O1xuICAgICAgaG9vay5jbGFzc05hbWUgPSByZXEucGFyYW1zLmNsYXNzTmFtZTtcbiAgICAgIGhvb2sudHJpZ2dlck5hbWUgPSByZXEucGFyYW1zLnRyaWdnZXJOYW1lO1xuICAgICAgaG9vay51cmwgPSByZXEuYm9keS51cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcigxNDMsICdpbnZhbGlkIGhvb2sgZGVjbGFyYXRpb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlSG9vayhob29rLCByZXEuY29uZmlnKTtcbiAgfVxuXG4gIGhhbmRsZVB1dChyZXEpIHtcbiAgICB2YXIgYm9keSA9IHJlcS5ib2R5O1xuICAgIGlmIChib2R5Ll9fb3AgPT0gJ0RlbGV0ZScpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZURlbGV0ZShyZXEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVVcGRhdGUocmVxKTtcbiAgICB9XG4gIH1cblxuICBtb3VudFJvdXRlcygpIHtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ0dFVCcsXG4gICAgICAnL2hvb2tzL2Z1bmN0aW9ucycsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVHZXRGdW5jdGlvbnMuYmluZCh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5yb3V0ZShcbiAgICAgICdHRVQnLFxuICAgICAgJy9ob29rcy90cmlnZ2VycycsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVHZXRUcmlnZ2Vycy5iaW5kKHRoaXMpXG4gICAgKTtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ0dFVCcsXG4gICAgICAnL2hvb2tzL2Z1bmN0aW9ucy86ZnVuY3Rpb25OYW1lJyxcbiAgICAgIG1pZGRsZXdhcmUucHJvbWlzZUVuZm9yY2VNYXN0ZXJLZXlBY2Nlc3MsXG4gICAgICB0aGlzLmhhbmRsZUdldEZ1bmN0aW9ucy5iaW5kKHRoaXMpXG4gICAgKTtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ0dFVCcsXG4gICAgICAnL2hvb2tzL3RyaWdnZXJzLzpjbGFzc05hbWUvOnRyaWdnZXJOYW1lJyxcbiAgICAgIG1pZGRsZXdhcmUucHJvbWlzZUVuZm9yY2VNYXN0ZXJLZXlBY2Nlc3MsXG4gICAgICB0aGlzLmhhbmRsZUdldFRyaWdnZXJzLmJpbmQodGhpcylcbiAgICApO1xuICAgIHRoaXMucm91dGUoXG4gICAgICAnUE9TVCcsXG4gICAgICAnL2hvb2tzL2Z1bmN0aW9ucycsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVQb3N0LmJpbmQodGhpcylcbiAgICApO1xuICAgIHRoaXMucm91dGUoXG4gICAgICAnUE9TVCcsXG4gICAgICAnL2hvb2tzL3RyaWdnZXJzJyxcbiAgICAgIG1pZGRsZXdhcmUucHJvbWlzZUVuZm9yY2VNYXN0ZXJLZXlBY2Nlc3MsXG4gICAgICB0aGlzLmhhbmRsZVBvc3QuYmluZCh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5yb3V0ZShcbiAgICAgICdQVVQnLFxuICAgICAgJy9ob29rcy9mdW5jdGlvbnMvOmZ1bmN0aW9uTmFtZScsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVQdXQuYmluZCh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5yb3V0ZShcbiAgICAgICdQVVQnLFxuICAgICAgJy9ob29rcy90cmlnZ2Vycy86Y2xhc3NOYW1lLzp0cmlnZ2VyTmFtZScsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVQdXQuYmluZCh0aGlzKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9va3NSb3V0ZXI7XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Sb3V0ZXJzL0hvb2tzUm91dGVyLmpzIl0sIm5hbWVzIjpbIlByb21pc2VSb3V0ZXIiLCJjcmVhdGVIb29rIiwiaG9vayIsInJlc3BvbnNlIiwidXBkYXRlSG9vayIsImhhbmRsZVBvc3QiLCJyZXEiLCJoYW5kbGVHZXRGdW5jdGlvbnMiLCJob29rc0NvbnRyb2xsZXIiLCJmb3VuZEZ1bmN0aW9uIiwiUGFyc2UiLCJmdW5jdGlvbk5hbWUiLCJmdW5jdGlvbnMiLCJlcnIiLCJoYW5kbGVHZXRUcmlnZ2VycyIsImZvdW5kVHJpZ2dlciIsImNsYXNzTmFtZSIsInRyaWdnZXJzIiwiaGFuZGxlRGVsZXRlIiwiaGFuZGxlVXBkYXRlIiwiaGFuZGxlUHV0IiwiYm9keSIsIm1vdW50Um91dGVzIiwibWlkZGxld2FyZSIsIkhvb2tzUm91dGVyIl0sIm1hcHBpbmdzIjoiOytPQUFBLEdBQUEsQ0FBQSxLQUFBLDBCQUFBLE9BQUEsQ0FBQSxZQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxjQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQSxDQUFBLFVBQUEsMEJBQUEsdUJBQUEsQ0FBQSxPQUFBLENBQUEsZ0JBQUEsQ0FBQSxDQUFBLENBQUEsQyw4MkZBRU8sS0FBQSxDQUFBLFdBQUEsU0FBMEJBLGNBQUFBLENBQTFCLE9BQUEsQ0FBd0MsQ0FDN0NDLFVBQVUsQ0FBQSxLQUFBLENBQUEsTUFBQSxDQUFnQixrREFDeEIsTUFBTyxDQUFBLE1BQU0sQ0FBTixlQUFBLENBQUEsVUFBQSxDQUFBLEtBQUEsRUFBQSxJQUFBLENBQThDQyxJQUFJLEVBQUsseURBQUVDLFFBQVEsQ0FBRUQsSUFBWixFQUE5RCxDQUFPLENBQVAsQ0FDRCxDQUVERSxVQUFVLENBQUEsS0FBQSxDQUFBLE1BQUEsQ0FBZ0Isa0RBQ3hCLE1BQU8sQ0FBQSxNQUFNLENBQU4sZUFBQSxDQUFBLFVBQUEsQ0FBQSxLQUFBLEVB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RixFQWJZLHlCQW1CWixLQUFBLEtBQUEsQ0FBQSxLQUFBLENBQUEseUNBQUEsQ0FHRUEsVUFBVSxDQUhaLDZCQUFBLENBSUUsS0FBQSxpQkFBQSxDQUFBLElBQUEsQ0FKRixJQUlFLENBSkYsRUFuQlkseUJBeUJaLEtBQUEsS0FBQSxDQUFBLE1BQUEsQ0FBQSxrQkFBQSxDQUdFQSxVQUFVLENBSFosNkJBQUEsQ0FJRSxLQUFBLFVBQUEsQ0FBQSxJQUFBLENBSkYsSUFJRSxDQUpGLEVBekJZLHlCQStCWixLQUFBLEtBQUEsQ0FBQSxNQUFBLENBQUEsaUJBQUEsQ0FHRUEsVUFBVSxDQUhaLDZCQUFBLENBSUUsS0FBQSxVQUFBLENBQUEsSUFBQSxDQUpGLElBSUUsQ0FKRixFQS9CWSx5QkFxQ1osS0FBQSxLQUFBLENBQUEsS0FBQSxDQUFBLGdDQUFBLENBR0VBLFVBQVUsQ0FIWiw2QkFBQSxDQUlFLEtBQUEsU0FBQSxDQUFBLElBQUEsQ0FKRixJQUlFLENBSkYsRUFyQ1kseUJBMkNaLEtBQUEsS0FBQSxDQUFBLEtBQUEsQ0FBQSx5Q0FBQSxDQUdFQSxVQUFVLENBSFosNkJBQUEsQ0FJRSxLQUFBLFNBQUEsQ0FBQSxJQUFBLENBSkYsSUFJRSxDQUpGLEVBTUQsQ0F6STRDLEMsZ0dBNEloQ0MsVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhcnNlIH0gZnJvbSAncGFyc2Uvbm9kZSc7XG5pbXBvcnQgUHJvbWlzZVJvdXRlciBmcm9tICcuLi9Qcm9taXNlUm91dGVyJztcbmltcG9ydCAqIGFzIG1pZGRsZXdhcmUgZnJvbSAnLi4vbWlkZGxld2FyZXMnO1xuXG5leHBvcnQgY2xhc3MgSG9va3NSb3V0ZXIgZXh0ZW5kcyBQcm9taXNlUm91dGVyIHtcbiAgY3JlYXRlSG9vayhhSG9vaywgY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbmZpZy5ob29rc0NvbnRyb2xsZXIuY3JlYXRlSG9vayhhSG9vaykudGhlbihob29rID0+ICh7IHJlc3BvbnNlOiBob29rIH0pKTtcbiAgfVxuXG4gIHVwZGF0ZUhvb2soYUhvb2ssIGNvbmZpZykge1xuICAgIHJldHVybiBjb25maWcuaG9va3NDb250cm9sbGVyLnVwZGF0ZUhvb2soYUhvb2spLnRoZW4oaG9vayA9PiAoeyByZXNwb25zZTogaG9vayB9KSk7XG4gIH1cblxuICBoYW5kbGVQb3N0KHJlcSkge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZUhvb2socmVxLmJvZHksIHJlcS5jb25maWcpO1xuICB9XG5cbiAgaGFuZGxlR2V0RnVuY3Rpb25zKHJlcSkge1xuICAgIHZhciBob29rc0NvbnRyb2xsZXIgPSByZXEuY29uZmlnLmhvb2tzQ29udHJvbGxlcjtcbiAgICBpZiAocmVxLnBhcmFtcy5mdW5jdGlvbk5hbWUpIHtcbiAgICAgIHJldHVybiBob29rc0NvbnRyb2xsZXIuZ2V0RnVuY3Rpb24ocmVxLnBhcmFtcy5mdW5jdGlvbk5hbWUpLnRoZW4oZm91bmRGdW5jdGlvbiA9PiB7XG4gICAgICAgIGlmICghZm91bmRGdW5jdGlvbikge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZS5FcnJvcigxNDMsIGBubyBmdW5jdGlvbiBuYW1lZDogJHtyZXEucGFyYW1zLmZ1bmN0aW9uTmFtZX0gaXMgZGVmaW5lZGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyByZXNwb25zZTogZm91bmRGdW5jdGlvbiB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBob29rc0NvbnRyb2xsZXIuZ2V0RnVuY3Rpb25zKCkudGhlbihcbiAgICAgIGZ1bmN0aW9ucyA9PiB7XG4gICAgICAgIHJldHVybiB7IHJlc3BvbnNlOiBmdW5jdGlvbnMgfHwgW10gfTtcbiAgICAgIH0sXG4gICAgICBlcnIgPT4ge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGhhbmRsZUdldFRyaWdnZXJzKHJlcSkge1xuICAgIHZhciBob29rc0NvbnRyb2xsZXIgPSByZXEuY29uZmlnLmhvb2tzQ29udHJvbGxlcjtcbiAgICBpZiAocmVxLnBhcmFtcy5jbGFzc05hbWUgJiYgcmVxLnBhcmFtcy50cmlnZ2VyTmFtZSkge1xuICAgICAgcmV0dXJuIGhvb2tzQ29udHJvbGxlclxuICAgICAgICAuZ2V0VHJpZ2dlcihyZXEucGFyYW1zLmNsYXNzTmFtZSwgcmVxLnBhcmFtcy50cmlnZ2VyTmFtZSlcbiAgICAgICAgLnRoZW4oZm91bmRUcmlnZ2VyID0+IHtcbiAgICAgICAgICBpZiAoIWZvdW5kVHJpZ2dlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlLkVycm9yKDE0MywgYGNsYXNzICR7cmVxLnBhcmFtcy5jbGFzc05hbWV9IGRvZXMgbm90IGV4aXN0YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyByZXNwb25zZTogZm91bmRUcmlnZ2VyIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaG9va3NDb250cm9sbGVyLmdldFRyaWdnZXJzKCkudGhlbih0cmlnZ2VycyA9PiAoeyByZXNwb25zZTogdHJpZ2dlcnMgfHwgW10gfSkpO1xuICB9XG5cbiAgaGFuZGxlRGVsZXRlKHJlcSkge1xuICAgIHZhciBob29rc0NvbnRyb2xsZXIgPSByZXEuY29uZmlnLmhvb2tzQ29udHJvbGxlcjtcbiAgICBpZiAocmVxLnBhcmFtcy5mdW5jdGlvbk5hbWUpIHtcbiAgICAgIHJldHVybiBob29rc0NvbnRyb2xsZXIuZGVsZXRlRnVuY3Rpb24ocmVxLnBhcmFtcy5mdW5jdGlvbk5hbWUpLnRoZW4oKCkgPT4gKHsgcmVzcG9uc2U6IHt9IH0pKTtcbiAgICB9IGVsc2UgaWYgKHJlcS5wYXJhbXMuY2xhc3NOYW1lICYmIHJlcS5wYXJhbXMudHJpZ2dlck5hbWUpIHtcbiAgICAgIHJldHVybiBob29rc0NvbnRyb2xsZXJcbiAgICAgICAgLmRlbGV0ZVRyaWdnZXIocmVxLnBhcmFtcy5jbGFzc05hbWUsIHJlcS5wYXJhbXMudHJpZ2dlck5hbWUpXG4gICAgICAgIC50aGVuKCgpID0+ICh7IHJlc3BvbnNlOiB7fSB9KSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyByZXNwb25zZToge30gfSk7XG4gIH1cblxuICBoYW5kbGVVcGRhdGUocmVxKSB7XG4gICAgdmFyIGhvb2s7XG4gICAgaWYgKHJlcS5wYXJhbXMuZnVuY3Rpb25OYW1lICYmIHJlcS5ib2R5LnVybCkge1xuICAgICAgaG9vayA9IHt9O1xuICAgICAgaG9vay5mdW5jdGlvbk5hbWUgPSByZXEucGFyYW1zLmZ1bmN0aW9uTmFtZTtcbiAgICAgIGhvb2sudXJsID0gcmVxLmJvZHkudXJsO1xuICAgIH0gZWxzZSBpZiAocmVxLnBhcmFtcy5jbGFzc05hbWUgJiYgcmVxLnBhcmFtcy50cmlnZ2VyTmFtZSAmJiByZXEuYm9keS51cmwpIHtcbiAgICAgIGhvb2sgPSB7fTtcbiAgICAgIGhvb2suY2xhc3NOYW1lID0gcmVxLnBhcmFtcy5jbGFzc05hbWU7XG4gICAgICBob29rLnRyaWdnZXJOYW1lID0gcmVxLnBhcmFtcy50cmlnZ2VyTmFtZTtcbiAgICAgIGhvb2sudXJsID0gcmVxLmJvZHkudXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgUGFyc2UuRXJyb3IoMTQzLCAnaW52YWxpZCBob29rIGRlY2xhcmF0aW9uJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVwZGF0ZUhvb2soaG9vaywgcmVxLmNvbmZpZyk7XG4gIH1cblxuICBoYW5kbGVQdXQocmVxKSB7XG4gICAgdmFyIGJvZHkgPSByZXEuYm9keTtcbiAgICBpZiAoYm9keS5fX29wID09ICdEZWxldGUnKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVEZWxldGUocmVxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlVXBkYXRlKHJlcSk7XG4gICAgfVxuICB9XG5cbiAgbW91bnRSb3V0ZXMoKSB7XG4gICAgdGhpcy5yb3V0ZShcbiAgICAgICdHRVQnLFxuICAgICAgJy9ob29rcy9mdW5jdGlvbnMnLFxuICAgICAgbWlkZGxld2FyZS5wcm9taXNlRW5mb3JjZU1hc3RlcktleUFjY2VzcyxcbiAgICAgIHRoaXMuaGFuZGxlR2V0RnVuY3Rpb25zLmJpbmQodGhpcylcbiAgICApO1xuICAgIHRoaXMucm91dGUoXG4gICAgICAnR0VUJyxcbiAgICAgICcvaG9va3MvdHJpZ2dlcnMnLFxuICAgICAgbWlkZGxld2FyZS5wcm9taXNlRW5mb3JjZU1hc3RlcktleUFjY2VzcyxcbiAgICAgIHRoaXMuaGFuZGxlR2V0VHJpZ2dlcnMuYmluZCh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5yb3V0ZShcbiAgICAgICdHRVQnLFxuICAgICAgJy9ob29rcy9mdW5jdGlvbnMvOmZ1bmN0aW9uTmFtZScsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVHZXRGdW5jdGlvbnMuYmluZCh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5yb3V0ZShcbiAgICAgICdHRVQnLFxuICAgICAgJy9ob29rcy90cmlnZ2Vycy86Y2xhc3NOYW1lLzp0cmlnZ2VyTmFtZScsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVHZXRUcmlnZ2Vycy5iaW5kKHRoaXMpXG4gICAgKTtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ1BPU1QnLFxuICAgICAgJy9ob29rcy9mdW5jdGlvbnMnLFxuICAgICAgbWlkZGxld2FyZS5wcm9taXNlRW5mb3JjZU1hc3RlcktleUFjY2VzcyxcbiAgICAgIHRoaXMuaGFuZGxlUG9zdC5iaW5kKHRoaXMpXG4gICAgKTtcbiAgICB0aGlzLnJvdXRlKFxuICAgICAgJ1BPU1QnLFxuICAgICAgJy9ob29rcy90cmlnZ2VycycsXG4gICAgICBtaWRkbGV3YXJlLnByb21pc2VFbmZvcmNlTWFzdGVyS2V5QWNjZXNzLFxuICAgICAgdGhpcy5oYW5kbGVQb3N0LmJpbmQodGhpcylcbiAgICApO1xuICAgIHRoaXMucm91dGUoXG4gICAgICAnUFVUJyxcbiAgICAgICcvaG9va3MvZnVuY3Rpb25zLzpmdW5jdGlvbk5hbWUnLFxuICAgICAgbWlkZGxld2FyZS5wcm9taXNlRW5mb3JjZU1hc3RlcktleUFjY2VzcyxcbiAgICAgIHRoaXMuaGFuZGxlUHV0LmJpbmQodGhpcylcbiAgICApO1xuICAgIHRoaXMucm91dGUoXG4gICAgICAnUFVUJyxcbiAgICAgICcvaG9va3MvdHJpZ2dlcnMvOmNsYXNzTmFtZS86dHJpZ2dlck5hbWUnLFxuICAgICAgbWlkZGxld2FyZS5wcm9taXNlRW5mb3JjZU1hc3RlcktleUFjY2VzcyxcbiAgICAgIHRoaXMuaGFuZGxlUHV0LmJpbmQodGhpcylcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhvb2tzUm91dGVyO1xuIl19